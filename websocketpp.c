

int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_handshake(int a1, int a2, int a3))(_DWORD)
{
  int v3; // r4@1
  const void **v4; // r5@1
  char v5; // r0@2
  signed int v6; // r2@5
  unsigned int v7; // r1@5
  int (__fastcall **v8)(_DWORD); // r0@5
  char v9; // r0@7
  int v10; // r0@11
  const void **v11; // r2@11
  int v12; // r5@13
  void *v13; // r0@13
  int (__fastcall *result)(_DWORD); // r0@15
  char v15; // r0@16
  unsigned int *v16; // r1@22
  signed int v17; // r2@23
  int v18; // [sp+4h] [bp-1Ch]@11

  v3 = a1;
  v4 = (const void **)a3;
  if ( sub_21E7D6C((const void **)(a3 + 56), "GET") )
  {
    v5 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v6 = 18;
    v7 = 0x3FFFFD21u;
    v8 = &GLOBAL_OFFSET_TABLE_;
LABEL_20:
    result = v8[v7];
    *(_DWORD *)v3 = v6;
    goto LABEL_21;
  }
  if ( sub_21E7D6C(v4, "HTTP/1.1") )
    v9 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v9 & 1)
    v6 = 19;
    goto LABEL_20;
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Key");
  v10 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          (int)(v4 + 1),
          &v18);
  v11 = (const void **)(v10 + 20);
  if ( (const void **)v10 == v4 + 2 )
    v11 = (const void **)&dword_2880E54;
  v12 = sub_21E7D6C(v11, (const char *)&unk_257BC67);
  v13 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v18 - 4);
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  if ( !v12 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v6 = 21;
  *(_DWORD *)v3 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
LABEL_21:
  *(_DWORD *)(v3 + 4) = result;
  return result;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_uri(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r9@1
  int v5; // r5@1
  int v6; // r0@1
  int *v7; // r1@1
  void *v8; // r0@3
  unsigned int v9; // r7@4
  unsigned int v10; // r0@4
  bool v11; // cf@5
  bool v12; // zf@5
  int v13; // r0@9
  int v14; // r0@10
  void *v15; // r0@13
  unsigned int *v16; // r1@15
  signed int v17; // r2@16
  unsigned int *v18; // r1@19
  signed int v19; // r2@20
  int v20; // r2@23
  unsigned int v21; // r3@23
  void **v22; // r0@25
  int v23; // r0@25
  int v24; // r0@26
  int v25; // r1@28
  void *v26; // r0@28
  void *v27; // r0@29
  unsigned int *v28; // r1@30
  signed int v29; // r2@31
  unsigned int *v30; // r1@34
  signed int v31; // r2@35
  int v32; // [sp+10h] [bp-40h]@25
  int v33; // [sp+14h] [bp-3Ch]@8
  int v34; // [sp+1Ch] [bp-34h]@1
  int v35; // [sp+20h] [bp-30h]@3
  char v36; // [sp+24h] [bp-2Ch]@9
  char v37; // [sp+28h] [bp-28h]@25

  v3 = a1;
  v4 = a2;
  v5 = a3;
  sub_21E94B4((void **)&v34, "Host");
  v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v5 + 4,
         &v34);
  v7 = (int *)(v6 + 20);
  if ( v6 == v5 + 8 )
    v7 = &dword_2880E54;
  sub_21E8AF4(&v35, v7);
  v8 = (void *)(v34 - 12);
  if ( (int *)(v34 - 12) != &dword_28898C0 )
  {
    v16 = (unsigned int *)(v34 - 4);
    __dmb();
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  }
  v9 = sub_21E7848(&v35, ":", 0xFFFFFFFF, 1u);
  v10 = sub_21E7848(&v35, "]", 0xFFFFFFFF, 1u);
  if ( v9 == -1 )
    goto LABEL_40;
  v11 = v10 >= 0xFFFFFFFF;
  v12 = v10 == -1;
  if ( v10 != -1 )
    v11 = v10 >= v9;
    v12 = v10 == v9;
  if ( !v12 && v11 )
LABEL_40:
    *(_DWORD *)v3 = 0;
    v13 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKbRSsRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
             (_DWORD *)(v3 + 4),
             0,
             (int)&v36,
             (_BYTE *)(v4 + 4),
             &v35,
             (const void **)(v5 + 60));
    if ( v13 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 16))();
    else
      v14 = 0;
    *(_DWORD *)v3 = v14;
  else
    sub_21E9040((void **)&v33, &v35, 0, v9);
    v20 = v9 + 1;
    v21 = *(_DWORD *)(v35 - 12);
    if ( v21 < v9 + 1 )
      sub_21E5B04("%s: __pos (which is %zu) > this->size() (which is %zu)", (int)"basic_string::substr", v20, v21);
    v22 = sub_21E9040((void **)&v32, &v35, v20, 0xFFFFFFFF);
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKbSsSsRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      (_DWORD *)(v3 + 4),
      0,
      (int)&v37,
      (_BYTE *)(v4 + 4),
      &v33,
      (const char **)v22,
      (int *)(v5 + 60));
    v23 = *(_DWORD *)(v3 + 4);
    if ( v23 )
      v24 = (*(int (**)(void))(*(_DWORD *)v23 + 16))();
      v24 = 0;
    v25 = v32;
    *(_DWORD *)v3 = v24;
    v26 = (void *)(v25 - 12);
    if ( (int *)(v25 - 12) != &dword_28898C0 )
    {
      v30 = (unsigned int *)(v25 - 4);
      __dmb();
      do
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v26);
    }
    v27 = (void *)(v33 - 12);
    if ( (int *)(v33 - 12) != &dword_28898C0 )
      v28 = (unsigned int *)(v33 - 4);
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
  v15 = (void *)(v35 - 12);
  if ( (int *)(v35 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v35 - 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_handshake(int a1, int a2, int a3))(_DWORD)
{
  int v3; // r4@1
  const void **v4; // r5@1
  char v5; // r0@2
  signed int v6; // r2@5
  unsigned int v7; // r1@5
  int (__fastcall **v8)(_DWORD); // r0@5
  char v9; // r0@7
  int v10; // r0@11
  const void **v11; // r2@11
  int v12; // r5@13
  void *v13; // r0@13
  int (__fastcall *result)(_DWORD); // r0@15
  char v15; // r0@16
  unsigned int *v16; // r1@22
  signed int v17; // r2@23
  int v18; // [sp+4h] [bp-1Ch]@11

  v3 = a1;
  v4 = (const void **)a3;
  if ( sub_21E7D6C((const void **)(a3 + 56), "GET") )
  {
    v5 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v6 = 18;
    v7 = 0x3FFFFD21u;
    v8 = &GLOBAL_OFFSET_TABLE_;
LABEL_20:
    result = v8[v7];
    *(_DWORD *)v3 = v6;
    goto LABEL_21;
  }
  if ( sub_21E7D6C(v4, "HTTP/1.1") )
    v9 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v9 & 1)
    v6 = 19;
    goto LABEL_20;
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Key");
  v10 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          (int)(v4 + 1),
          &v18);
  v11 = (const void **)(v10 + 20);
  if ( (const void **)v10 == v4 + 2 )
    v11 = (const void **)&dword_2880E54;
  v12 = sub_21E7D6C(v11, (const char *)&unk_257BC67);
  v13 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v18 - 4);
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  if ( !v12 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v6 = 21;
  *(_DWORD *)v3 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
LABEL_21:
  *(_DWORD *)(v3 + 4) = result;
  return result;
}


void __fastcall websocketpp::utility::to_hex(const void **a1, int *a2)
{
  websocketpp::utility::to_hex(a1, a2);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 19200);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send(int a1, int a2, int a3)
{
  int v3; // r9@1
  int v4; // r6@1
  int v5; // r7@1
  pthread_mutex_t *v6; // r0@1
  int v7; // r0@3
  int v8; // r5@5
  __int64 v9; // r10@6
  unsigned int *v10; // r0@7
  unsigned int v11; // r1@8
  char v12; // r0@10
  unsigned int *result; // r0@13
  int v14; // r0@16
  void (__cdecl *v15)(MinecraftUnitTest::TestClassBase *); // r5@18
  int v16; // r0@18
  unsigned int *v17; // r0@19
  unsigned int v18; // r2@20
  unsigned int *v19; // r0@23
  unsigned int v20; // r2@24
  unsigned int *v21; // r0@27
  unsigned int v22; // r1@28
  unsigned int *v23; // r4@30
  unsigned int v24; // r0@31
  unsigned int *v25; // r0@35
  unsigned int v26; // r1@36
  unsigned int *v27; // r4@38
  unsigned int v28; // r0@39
  signed int v29; // r7@43
  signed int v30; // r5@43
  int v31; // r0@45
  unsigned int *v32; // r0@48
  unsigned int v33; // r1@49
  int v34; // r4@51
  unsigned int *v35; // r0@52
  unsigned int v36; // r1@53
  unsigned int *v37; // r5@55
  unsigned int v38; // r0@56
  int v39; // r8@64
  unsigned int v40; // r0@65
  unsigned int *v41; // r7@65
  unsigned int v42; // r1@66
  char v43; // r0@71
  unsigned int *v44; // r0@77
  unsigned int v45; // r1@78
  int v46; // r5@80
  unsigned int *v47; // r0@81
  unsigned int v48; // r1@82
  unsigned int *v49; // r4@84
  unsigned int v50; // r0@85
  int v51; // r10@69
  unsigned int v52; // r0@94
  unsigned int v53; // r0@96
  unsigned int *v54; // r4@98
  unsigned int v55; // r0@99
  unsigned int v56; // r0@103
  unsigned int v57; // r0@105
  unsigned int *v58; // r4@107
  unsigned int v59; // r0@108
  _DWORD *v60; // r0@111
  __int64 v61; // r0@111
  unsigned int v62; // r1@116
  unsigned int *v63; // r4@118
  int v64; // [sp+0h] [bp-70h]@111
  _DWORD *v65; // [sp+8h] [bp-68h]@111
  void (*v66)(void); // [sp+10h] [bp-60h]@111
  int (__fastcall *v67)(int *); // [sp+14h] [bp-5Ch]@111
  __int64 v68; // [sp+18h] [bp-58h]@76
  __int64 v69; // [sp+20h] [bp-50h]@22
  int v70; // [sp+28h] [bp-48h]@18
  int v71; // [sp+2Ch] [bp-44h]@18
  int v72; // [sp+30h] [bp-40h]@26
  char v73; // [sp+3Ch] [bp-34h]@15
  int v74; // [sp+40h] [bp-30h]@15
  int v75; // [sp+44h] [bp-2Ch]@47
  int v76; // [sp+48h] [bp-28h]@47

  v3 = a1;
  v4 = a2;
  v5 = a3;
  v6 = *(pthread_mutex_t **)(a2 + 19236);
  if ( *((_BYTE *)&v6->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v6,
      1024,
      "connection send");
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v7 )
    sub_21E5E14(v7);
  if ( *(_DWORD *)(v4 + 2540) == 1 )
  {
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
    v8 = *(_DWORD *)v5;
    if ( *(_BYTE *)(*(_DWORD *)v5 + 24) )
    {
      HIDWORD(v9) = *(_DWORD *)(v5 + 4);
      if ( HIDWORD(v9) )
      {
        v10 = (unsigned int *)(HIDWORD(v9) + 4);
        __dmb();
        do
          v11 = __ldrex(v10);
        while ( __strex(v11 + 1, v10) );
      }
      else
        HIDWORD(v9) = 0;
      v31 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2552));
      if ( v31 )
        sub_21E5E14(v31);
      v75 = v8;
      v76 = HIDWORD(v9);
        v32 = (unsigned int *)(HIDWORD(v9) + 4);
          v33 = __ldrex(v32);
        while ( __strex(v33 + 1, v32) );
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_push(v4, &v75);
      v34 = v76;
      if ( v76 )
        v35 = (unsigned int *)(v76 + 4);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 == 1 )
        {
          v37 = (unsigned int *)(v34 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
          __dmb();
          do
            v38 = __ldrex(v37);
          while ( __strex(v38 - 1, v37) );
          if ( v38 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
        }
      v30 = 0;
      if ( !*(_BYTE *)(v4 + 19064) && *(_DWORD *)(v4 + 19020) != *(_DWORD *)(v4 + 19004) )
        v30 = 1;
      j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2552));
    }
    else
      j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
        (int)&v73,
        *(_DWORD *)(v4 + 18960));
      v9 = *(_QWORD *)&v73;
      *(_DWORD *)&v73 = 0;
      v74 = 0;
      if ( !(_DWORD)v9 )
        v43 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v43 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
          websocketpp::error::get_category(void)::instance = &off_276CE14;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
        *(_DWORD *)v3 = 7;
        result = (unsigned int *)&websocketpp::error::get_category(void)::instance;
        *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
        goto LABEL_114;
      v14 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2552));
      if ( v14 )
        sub_21E5E14(v14);
      v15 = *(void (__cdecl **)(MinecraftUnitTest::TestClassBase *))(**(_DWORD **)(v4 + 18988) + 72);
      v70 = *(_DWORD *)v5;
      v16 = *(_DWORD *)(v5 + 4);
      v71 = v16;
      if ( v16 )
        v17 = (unsigned int *)(v16 + 4);
          v18 = __ldrex(v17);
        while ( __strex(v18 + 1, v17) );
      v69 = v9;
        v19 = (unsigned int *)(HIDWORD(v9) + 4);
          v20 = __ldrex(v19);
        while ( __strex(v20 + 1, v19) );
      v15((MinecraftUnitTest::TestClassBase *)&v72);
      if ( HIDWORD(v69) )
        v21 = (unsigned int *)(HIDWORD(v69) + 4);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          v23 = (unsigned int *)(HIDWORD(v69) + 8);
          (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v69) + 8))(HIDWORD(v69));
            v24 = __ldrex(v23);
          while ( __strex(v24 - 1, v23) );
          if ( v24 == 1 )
            (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v69) + 12))(HIDWORD(v69));
      if ( v71 )
        v25 = (unsigned int *)(v71 + 4);
          v26 = __ldrex(v25);
        while ( __strex(v26 - 1, v25) );
        if ( v26 == 1 )
          v27 = (unsigned int *)(v71 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 8))(v71);
            v28 = __ldrex(v27);
          while ( __strex(v28 - 1, v27) );
          if ( v28 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 12))(v71);
      if ( v72 )
        v29 = 0;
        *(_QWORD *)v3 = *(_QWORD *)&v72;
        v30 = 0;
        v68 = v9;
        if ( HIDWORD(v9) )
          v44 = (unsigned int *)(HIDWORD(v9) + 4);
            v45 = __ldrex(v44);
          while ( __strex(v45 + 1, v44) );
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_push(v4, &v68);
        v46 = HIDWORD(v68);
        if ( HIDWORD(v68) )
          v47 = (unsigned int *)(HIDWORD(v68) + 4);
            v48 = __ldrex(v47);
          while ( __strex(v48 - 1, v47) );
          if ( v48 == 1 )
          {
            v49 = (unsigned int *)(v46 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 8))(v46);
            __dmb();
            do
              v50 = __ldrex(v49);
            while ( __strex(v50 - 1, v49) );
            if ( v50 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 12))(v46);
          }
        if ( !*(_BYTE *)(v4 + 19064) && *(_DWORD *)(v4 + 19020) != *(_DWORD *)(v4 + 19004) )
          v30 = 1;
        v29 = 1;
      result = (unsigned int *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2552));
      if ( !v29 )
LABEL_114:
          result = (unsigned int *)(HIDWORD(v9) + 4);
            v62 = __ldrex(result);
          while ( __strex(v62 - 1, result) );
          if ( v62 == 1 )
            v63 = (unsigned int *)(HIDWORD(v9) + 8);
            (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v9) + 8))(HIDWORD(v9));
              result = (unsigned int *)__ldrex(v63);
            while ( __strex((unsigned int)result - 1, v63) );
            if ( result == (unsigned int *)1 )
              result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v9) + 12))(HIDWORD(v9));
        return result;
    if ( v30 == 1 )
      v39 = *(_DWORD *)(v4 + 4);
      if ( !v39 )
        j_std::__throw_bad_weak_ptr();
      v40 = *(_DWORD *)(v39 + 4);
      v41 = (unsigned int *)(v39 + 4);
      do
        v42 = v40;
        if ( !v40 )
          j_std::__throw_bad_weak_ptr();
        v40 = __ldrex(v41);
      while ( v40 != v42 || __strex(v42 + 1, v41) );
      __dmb();
      v51 = *(_DWORD *)v4;
        v52 = __ldrex(v41);
      while ( __strex(v52 + 1, v41) );
        v53 = __ldrex(v41);
      while ( __strex(v53 - 1, v41) );
      if ( v53 == 1 )
        v54 = (unsigned int *)(v39 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 8))(v39);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 12))(v39);
        v56 = __ldrex(v41);
      while ( __strex(v56 + 1, v41) );
        v57 = __ldrex(v41);
      while ( __strex(v57 - 1, v41) );
      if ( v57 == 1 )
        v58 = (unsigned int *)(v39 + 8);
          v59 = __ldrex(v58);
        while ( __strex(v59 - 1, v58) );
        if ( v59 == 1 )
      v60 = j_operator new(0x10u);
      *v60 = websocketpp::connection<websocketpp::config::asio_tls_client>::write_frame;
      v60[1] = 0;
      v60[2] = v51;
      v60[3] = v39;
      v65 = v60;
      v66 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_manager;
      v67 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_invoke;
      LODWORD(v61) = &v64;
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(
        v61,
        (int)&v65);
      if ( v66 )
        v66();
    *(_DWORD *)v3 = 0;
    result = (unsigned int *)((int (*)(void))byte_21E9640)();
    *(_DWORD *)(v3 + 4) = result;
    goto LABEL_114;
  }
  v12 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v12 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  *(_DWORD *)v3 = 9;
  *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
  return (unsigned int *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::~connection(int a1)
{
  int v1; // r4@1
  void (*v2)(void); // r3@1
  void (*v3)(void); // r3@3
  void (*v4)(void); // r3@5
  void (*v5)(void); // r3@7
  void (*v6)(void); // r3@9
  void (*v7)(void); // r3@11
  void (*v8)(void); // r3@13
  void *v9; // r0@15
  int v10; // r0@17
  unsigned int *v11; // r1@18
  unsigned int v12; // r2@19
  int v13; // r5@22
  unsigned int *v14; // r0@23
  unsigned int v15; // r1@24
  unsigned int *v16; // r6@26
  unsigned int v17; // r0@27
  int v18; // r5@30
  unsigned int *v19; // r0@31
  unsigned int v20; // r1@32
  unsigned int *v21; // r6@34
  unsigned int v22; // r0@35
  int v23; // r1@38
  void *v24; // r0@38
  unsigned int *v26; // r1@40
  signed int v27; // r2@41

  v1 = a1;
  v2 = *(void (**)(void))(a1 + 2312);
  if ( v2 )
    v2();
  v3 = *(void (**)(void))(v1 + 2296);
  if ( v3 )
    v3();
  v4 = *(void (**)(void))(v1 + 2280);
  if ( v4 )
    v4();
  v5 = *(void (**)(void))(v1 + 2264);
  if ( v5 )
    v5();
  v6 = *(void (**)(void))(v1 + 2248);
  if ( v6 )
    v6();
  v7 = *(void (**)(void))(v1 + 168);
  if ( v7 )
    v7();
  v8 = *(void (**)(void))(v1 + 152);
  if ( v8 )
    v8();
  v9 = *(void **)(v1 + 132);
  if ( v9 )
    j_operator delete(v9);
  v10 = *(_DWORD *)(v1 + 128);
  if ( v10 )
  {
    v11 = (unsigned int *)(v10 + 8);
    __dmb();
    do
      v12 = __ldrex(v11);
    while ( __strex(v12 - 1, v11) );
    if ( v12 == 1 )
      (*(void (**)(void))(*(_DWORD *)v10 + 12))();
  }
  v13 = *(_DWORD *)(v1 + 120);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
    {
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
    }
  v18 = *(_DWORD *)(v1 + 108);
  if ( v18 )
    v19 = (unsigned int *)(v18 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 == 1 )
      v21 = (unsigned int *)(v18 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      if ( v22 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
  v23 = *(_DWORD *)(v1 + 100);
  v24 = (void *)(v23 - 12);
  if ( (int *)(v23 - 12) != &dword_28898C0 )
    v26 = (unsigned int *)(v23 - 4);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  j_websocketpp::transport::asio::tls_socket::connection::~connection((websocketpp::transport::asio::tls_socket::connection *)v1);
  return v1;
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_data_frame(int a1, int a2, int *a3, _DWORD *a4)
{
  int v4; // r9@0
  int v5; // r8@1
  unsigned int v6; // r11@1
  _DWORD *v7; // r10@1
  int v8; // r2@1
  bool v9; // zf@1
  char v10; // r0@5
  signed int v11; // r2@8
  unsigned int v12; // r1@8
  int (__fastcall **v13)(_DWORD); // r0@8
  signed int v14; // r12@9
  char v15; // r0@10
  int v16; // r3@14
  unsigned int v17; // r0@14
  int v18; // r7@15
  int v19; // r5@16
  char v20; // r0@20
  int v21; // r0@24
  int result; // r0@25
  int v23; // r3@29
  char v24; // r2@29
  int v25; // r6@29
  char v26; // r2@31
  int v27; // r1@36
  signed int v28; // r2@36
  signed int v29; // r7@38
  unsigned int v30; // r0@44
  const void **v31; // r5@46
  int v32; // r7@48
  int v33; // r4@48
  void *v34; // r0@48
  unsigned int *v35; // r1@49
  signed int v36; // r2@50
  int v37; // r2@53
  signed int v38; // r0@53
  unsigned int v39; // r1@53
  signed int v40; // r6@55
  int v41; // r11@59
  unsigned int v42; // r1@61
  int v43; // r4@65
  void *v44; // r0@65
  const void **v45; // r6@67
  const void *v46; // r7@68
  char *v47; // r1@70
  int *v48; // r5@71
  int *v49; // r6@71
  unsigned int v50; // r1@71
  unsigned int v51; // r12@71
  int *v52; // r0@72
  int *v53; // r2@72
  unsigned int v54; // r3@72
  int v55; // t1@73
  int v56; // r3@74
  signed int v57; // r3@76
  const void *v58; // r0@79
  int v59; // r5@79
  unsigned int *v60; // r1@84
  signed int v61; // r2@85
  int v62; // [sp+0h] [bp-68h]@48
  signed int v63; // [sp+4h] [bp-64h]@36
  const void **v64; // [sp+8h] [bp-60h]@15
  int v65; // [sp+Ch] [bp-5Ch]@48
  int v66; // [sp+10h] [bp-58h]@65
  __int16 v67; // [sp+14h] [bp-54h]@29
  int v68; // [sp+18h] [bp-50h]@44
  unsigned int v69; // [sp+1Ch] [bp-4Ch]@46
  int v70; // [sp+20h] [bp-48h]@36
  int v71; // [sp+24h] [bp-44h]@36
  int v72; // [sp+28h] [bp-40h]@36
  int v73; // [sp+30h] [bp-38h]@53
  int v74; // [sp+34h] [bp-34h]@53
  int v75; // [sp+38h] [bp-30h]@53
  RakNet *v76; // [sp+40h] [bp-28h]@1

  v5 = a1;
  v6 = 0xFFFF46E4;
  v7 = a4;
  v76 = _stack_chk_guard;
  v8 = *a3;
  v9 = v8 == 0;
  if ( v8 )
  {
    v4 = *a4;
    v9 = *a4 == 0;
  }
  if ( v9 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 6;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_24;
  v14 = *(_DWORD *)(v8 + 20);
  if ( v14 >= 8 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v11 = 7;
LABEL_24:
    v21 = (int)v13[v12];
    *(_DWORD *)v5 = v11;
    goto LABEL_25;
  v16 = *(_DWORD *)(v8 + 16);
  v17 = *(_DWORD *)(v16 - 12);
  if ( v14 == 1 )
    v64 = (const void **)(v8 + 16);
    v18 = 0;
    if ( v17 )
      v19 = 0;
      while ( 1 )
      {
        v19 = *(&byte_26A8C54[16 * v19] + (byte_26A8C54[*(_BYTE *)(v16 + v18)] | 0x100));
        if ( v19 == 1 )
          break;
        if ( v17 == ++v18 )
        {
          if ( !v19 )
            goto LABEL_29;
        }
      }
      v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v20 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      v11 = 5;
      v12 = 0x3FFFFD21u;
      v13 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_24;
    v17 = 0;
  else
LABEL_29:
  v23 = *(_BYTE *)(v8 + 25);
  v24 = 0;
  v25 = *(_BYTE *)(a2 + 5);
  v67 = 0;
  if ( v23 )
    v24 = -128;
    LOBYTE(v67) = -128;
  LOBYTE(v67) = v24 | v14 & 0xF;
  v26 = 127;
  if ( v17 < 0x10000 )
    v26 = 126;
  if ( v17 < 0x7E )
    v26 = v17;
  if ( v25 )
    v27 = 0;
    HIBYTE(v67) = v26;
    v28 = 0;
    v63 = v14;
    v72 = 0;
    v70 = 0;
    v71 = 0;
    if ( v17 < 0x10000 )
      v28 = 6;
    v29 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v17 < 0x7E )
      v28 = 8;
    if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
      v29 = 1;
      websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
    if ( v29 == 2 )
      v27 = v17;
    v30 = __rev(v17);
    v68 = v27;
      v30 = 0;
    v31 = v64;
    v69 = v30;
    if ( v28 != 8 )
      j___aeabi_memcpy_1((int)&v70, (int)&v68 + v28, 8 - v28);
    v32 = (int)&v65;
    v33 = *v7;
    j_websocketpp::frame::prepare_header((const void **)&v65, &v67, (char *)&v70);
    EntityInteraction::setInteractText((int *)(v33 + 8), &v65);
    v62 = v25;
    v34 = (void *)(v65 - 12);
    if ( (int *)(v65 - 12) != &dword_28898C0 )
      v35 = (unsigned int *)(v65 - 4);
      do
        v36 = __ldrex(v35);
        v32 = __strex(v36 - 1, v35);
      while ( v32 );
      if ( v36 <= 0 )
        j_j_j_j__ZdlPv_9(v34);
    v62 = 0;
    HIBYTE(v67) = v26 | 0x80;
    v32 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(a2 + 88));
    v37 = 0;
    v38 = 0;
    v39 = *((_DWORD *)*v64 - 3);
    v75 = 0;
    v73 = 0;
    v74 = 0;
    if ( v39 < 0x10000 )
      v38 = 6;
    v40 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v39 < 0x7E )
      v38 = 8;
      v40 = 1;
    v41 = 8 - v38;
    if ( v40 == 2 )
      v37 = v39;
    v42 = __rev(v39);
    v68 = v37;
      v42 = 0;
    v69 = v42;
    if ( v38 != 8 )
      j___aeabi_memcpy_1((int)&v73, (int)&v68 + v38, 8 - v38);
    *(int *)((char *)&v73 + v41) = v32;
    v43 = *v7;
    j_websocketpp::frame::prepare_header((const void **)&v66, &v67, (char *)&v73);
    EntityInteraction::setInteractText((int *)(v43 + 8), &v66);
    v6 = 0xFFFF46E4;
    v44 = (void *)(v66 - 12);
    if ( (int *)(v66 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v66 - 4);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v44);
  v45 = (const void **)(v4 + 16);
  sub_21E849C((char *)(v4 + 16), *((_DWORD *)*v31 - 3), 0);
  if ( v62 )
    v46 = *v31;
    if ( *((_DWORD *)*v31 - 1) <= -1 )
      v47 = (char *)*v31;
    else
      sub_21E8010(v31);
      v46 = *v31;
      if ( *((_DWORD *)*v31 - 1) < 0 )
        v47 = (char *)*v31;
      else
        sub_21E8010(v31);
    v58 = *v45;
    v59 = (int)&v47[*((_DWORD *)v47 - 3)];
    if ( *((_DWORD *)*v45 - 1) > -1 )
      sub_21E8010(v45);
      v58 = *v45;
    v57 = v63;
    if ( (const void *)v59 != v46 )
      j___aeabi_memmove_1((int)v58, (int)v46);
      v57 = v63;
    v68 = v32;
    v48 = (int *)*v31;
    v49 = (int *)*v45;
    v50 = *(v48 - 3);
    v51 = v50 >> 2;
    if ( 0 != v50 >> 2 )
      v52 = v48;
      v53 = v49;
      v54 = v50 >> 2;
        v55 = *v52;
        ++v52;
        --v54;
        *v53 = v55 ^ v32;
        ++v53;
      while ( v54 );
    v56 = 4 * v51;
    if ( 4 * v51 < v50 )
        *((_BYTE *)v49 + v56) = *((_BYTE *)v48 + v56) ^ *(_BYTE *)(v56 & 3 | (unsigned int)&v68);
        ++v56;
      while ( v50 != v56 );
  *(_BYTE *)(*v7 + 24) = 1;
  *(_DWORD *)(*v7 + 20) = v57;
  *(_DWORD *)v5 = 0;
  v21 = ((int (*)(void))byte_21E9640)();
LABEL_25:
  *(_DWORD *)(v5 + 4) = v21;
  result = **(_DWORD **)((char *)&GLOBAL_OFFSET_TABLE_ + v6) - (_DWORD)v76;
  if ( **(RakNet ***)((char *)&GLOBAL_OFFSET_TABLE_ + v6) != v76 )
    j___stack_chk_fail_1(result);
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::process_handshake_request(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r8@1
  pthread_mutex_t **v4; // r11@1
  pthread_mutex_t *v5; // r6@3
  const void **v6; // r0@3
  int v7; // r4@3
  void *v8; // r0@4
  void *v9; // r0@5
  __int64 v10; // r0@7
  int v11; // r6@7
  unsigned int *v12; // r0@8
  unsigned int v13; // r1@9
  unsigned int *v14; // r7@11
  unsigned int v15; // r0@12
  int v16; // r6@15
  unsigned int *v17; // r0@16
  unsigned int v18; // r1@17
  unsigned int *v19; // r7@19
  unsigned int v20; // r0@20
  void *v21; // r0@23
  int v22; // r6@26
  int v23; // r1@26
  unsigned int *v24; // r0@27
  unsigned int v25; // r2@28
  unsigned int v26; // r9@31
  int v27; // r0@31
  void *v28; // r0@31
  pthread_mutex_t *v29; // r6@33
  const void **v30; // r0@33
  int v31; // r4@33
  void *v32; // r0@34
  void *v33; // r0@35
  void *v34; // r0@37
  char v35; // r0@38
  signed int v36; // r2@41
  unsigned int v37; // r1@41
  int (__fastcall **v38)(_DWORD); // r0@41
  char v39; // r0@42
  void (__fastcall *v40)(int, int *); // r2@46
  unsigned int v41; // r1@47
  int v42; // r0@50
  unsigned int *v43; // r1@51
  unsigned int v44; // r2@52
  unsigned int *v45; // r0@56
  unsigned int v46; // r1@57
  char v47; // r0@61
  int v48; // r0@65
  int *v49; // r0@69
  void *v50; // r0@69
  __int64 v51; // r0@70
  int v52; // r9@70
  unsigned int *v53; // r0@71
  unsigned int v54; // r1@72
  unsigned int *v55; // r7@74
  unsigned int v56; // r0@75
  int v57; // r4@78
  unsigned int *v58; // r0@79
  unsigned int v59; // r1@80
  unsigned int *v60; // r7@82
  unsigned int v61; // r0@83
  int v62; // r7@88
  int v63; // r1@88
  unsigned int *v64; // r0@89
  unsigned int v65; // r2@90
  unsigned int *v66; // r1@93
  signed int v67; // r2@94
  void *v68; // r0@97
  char v69; // r0@98
  signed int v70; // r2@101
  unsigned int v71; // r1@101
  int (__fastcall **v72)(_DWORD); // r0@101
  unsigned int *v73; // r1@102
  signed int v74; // r2@103
  unsigned int *v75; // r1@106
  signed int v76; // r2@107
  unsigned int *v77; // r1@110
  signed int v78; // r2@111
  unsigned int *v79; // r1@114
  signed int v80; // r2@115
  unsigned int *v81; // r1@118
  signed int v82; // r2@119
  int (__fastcall *v83)(int, int *); // r2@122
  unsigned int v84; // r1@123
  int v85; // r8@126
  int v86; // r0@126
  unsigned int *v87; // r1@127
  unsigned int v88; // r2@128
  unsigned int *v89; // r0@132
  unsigned int v90; // r1@133
  void *v91; // r0@138
  char *v92; // r0@140
  pthread_mutex_t *v93; // r4@140
  void *v94; // r0@140
  void *v95; // r0@141
  int v96; // r7@142
  void *v97; // r0@142
  void *v98; // r0@145
  char v99; // r0@146
  int (__fastcall *v100)(_DWORD); // r0@150
  char *v101; // r0@153
  unsigned int *v102; // r1@155
  signed int v103; // r2@156
  unsigned int *v104; // r1@159
  signed int v105; // r2@160
  unsigned int *v106; // r1@163
  signed int v107; // r2@164
  unsigned int *v108; // r1@167
  signed int v109; // r2@168
  unsigned int *v110; // r1@171
  signed int v111; // r2@172
  unsigned int *v112; // r1@175
  signed int v113; // r2@176
  unsigned int *v114; // r1@179
  signed int v115; // r2@180
  unsigned int *v116; // r1@183
  signed int v117; // r2@184
  unsigned int *v118; // r1@187
  signed int v119; // r2@188
  unsigned int *v120; // r1@191
  signed int v121; // r2@192
  unsigned int *v122; // r1@195
  signed int v123; // r2@196
  int v124; // [sp+4h] [bp-19Ch]@70
  int v125; // [sp+8h] [bp-198h]@31
  const Vec3 **v126; // [sp+Ch] [bp-194h]@31
  int v127; // [sp+10h] [bp-190h]@140
  void **v128; // [sp+14h] [bp-18Ch]@140
  int v129; // [sp+18h] [bp-188h]@143
  void **v130; // [sp+1Ch] [bp-184h]@140
  void **v131; // [sp+20h] [bp-180h]@140
  int v132; // [sp+3Ch] [bp-164h]@143
  int v133; // [sp+44h] [bp-15Ch]@142
  void **v134; // [sp+48h] [bp-158h]@142
  int ptr; // [sp+D0h] [bp-D0h]@139
  char v136; // [sp+D8h] [bp-C8h]@87
  char v137; // [sp+E0h] [bp-C0h]@70
  int v138; // [sp+E4h] [bp-BCh]@70
  int v139; // [sp+ECh] [bp-B4h]@69
  int v140; // [sp+F0h] [bp-B0h]@33
  const void *v141; // [sp+F4h] [bp-ACh]@33
  char v142; // [sp+F8h] [bp-A8h]@31
  int v143; // [sp+100h] [bp-A0h]@31
  int v144; // [sp+108h] [bp-98h]@31
  int v145; // [sp+10Ch] [bp-94h]@31
  _DWORD *v146; // [sp+110h] [bp-90h]@31
  int v147; // [sp+118h] [bp-88h]@3
  const void *v148; // [sp+11Ch] [bp-84h]@3
  int v149; // [sp+120h] [bp-80h]@2
  int v150; // [sp+124h] [bp-7Ch]@3
  int v151; // [sp+12Ch] [bp-74h]@7
  char v152; // [sp+130h] [bp-70h]@7
  int v153; // [sp+134h] [bp-6Ch]@7
  int v154; // [sp+138h] [bp-68h]@37
  int v155; // [sp+13Ch] [bp-64h]@46
  int v156; // [sp+140h] [bp-60h]@46
  int v157; // [sp+144h] [bp-5Ch]@5
  int v158; // [sp+148h] [bp-58h]@35
  int v159; // [sp+150h] [bp-50h]@97
  int v160; // [sp+154h] [bp-4Ch]@122
  int v161; // [sp+158h] [bp-48h]@122
  int v162; // [sp+15Ch] [bp-44h]@138
  int v163; // [sp+164h] [bp-3Ch]@141
  int v164; // [sp+168h] [bp-38h]@145

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4AFC),
    1024,
    "process handshake request");
  v4 = (pthread_mutex_t **)(v2 + 0x4AFC);
  if ( !j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 0x4A54) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "HTTP REQUEST");
    sub_21E94B4((void **)&v151, "http");
    j_websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request>((int)&v152, v2 + 0x4A54, &v151);
    v10 = *(_QWORD *)&v152;
    *(_DWORD *)&v152 = 0;
    v153 = 0;
    *(_DWORD *)(v2 + 0x4AE0) = v10;
    v11 = *(_DWORD *)(v2 + 19172);
    *(_DWORD *)(v2 + 19172) = HIDWORD(v10);
    if ( v11 )
    {
      v12 = (unsigned int *)(v11 + 4);
      __dmb();
      do
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
      {
        v14 = (unsigned int *)(v11 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
      }
    }
    v16 = v153;
    if ( v153 )
      v17 = (unsigned int *)(v153 + 4);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
        v19 = (unsigned int *)(v16 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
          v20 = __ldrex(v19);
        while ( __strex(v20 - 1, v19) );
        if ( v20 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
    v21 = (void *)(v151 - 12);
    if ( (int *)(v151 - 12) != &dword_28898C0 )
      v66 = (unsigned int *)(v151 - 4);
        v67 = __ldrex(v66);
      while ( __strex(v67 - 1, v66) );
      if ( v67 <= 0 )
        j_j_j_j__ZdlPv_9(v21);
    if ( *(_BYTE *)(*(_DWORD *)(v2 + 0x4AE0) + 15) )
      if ( *(_DWORD *)(v2 + 2444) )
        *(_BYTE *)(v2 + 19232) = 1;
        v22 = *(_DWORD *)(v2 + 2320);
        v23 = *(_DWORD *)(v2 + 2316);
        if ( v22 )
        {
          v24 = (unsigned int *)(v22 + 8);
          __dmb();
          do
            v25 = __ldrex(v24);
          while ( __strex(v25 + 1, v24) );
          if ( !*(_DWORD *)(v2 + 2444) )
            sub_21E5F48();
          v40 = *(void (__fastcall **)(int, int *))(v2 + 2448);
          v155 = v23;
          v156 = v22;
            v41 = __ldrex(v24);
          while ( __strex(v41 + 1, v24) );
        }
        else
          v155 = *(_DWORD *)(v2 + 2316);
          v156 = 0;
        v40(v2 + 2436, &v155);
        v42 = v156;
        if ( v156 )
          v43 = (unsigned int *)(v156 + 8);
            v44 = __ldrex(v43);
          while ( __strex(v44 - 1, v43) );
          if ( v44 == 1 )
            (*(void (**)(void))(*(_DWORD *)v42 + 12))();
          v45 = (unsigned int *)(v22 + 8);
            v46 = __ldrex(v45);
          while ( __strex(v46 - 1, v45) );
          if ( v46 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
        if ( *(_DWORD *)(v2 + 2500) != 3 )
          *(_DWORD *)v3 = 0;
          v48 = ((int (*)(void))byte_21E9640)();
          goto LABEL_66;
        v47 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v47 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
          websocketpp::error::get_category(void)::instance = &off_276CE14;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
        v36 = 21;
        v37 = 0x3FFFFD01u;
        v38 = &GLOBAL_OFFSET_TABLE_;
      else
        j_websocketpp::connection<websocketpp::config::asio_client>::set_status(v2, 426);
        v39 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v39 & 1)
        v36 = 28;
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *v4,
        1024,
        "Bad request: failed to parse uri");
      *(_DWORD *)(v2 + 19160) = 400;
      sub_21E94B4((void **)&v154, "Bad Request");
      xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
        (int *)(0x4AC8 + v2),
        &v154);
      v34 = (void *)(v154 - 12);
      if ( (int *)(v154 - 12) != &dword_28898C0 )
        v81 = (unsigned int *)(v154 - 4);
          v82 = __ldrex(v81);
        while ( __strex(v82 - 1, v81) );
        if ( v82 <= 0 )
          j_j_j_j__ZdlPv_9(v34);
      v35 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v35 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v36 = 6;
      v37 = 0x3FFFFD01u;
      v38 = &GLOBAL_OFFSET_TABLE_;
    v48 = (int)v38[v37];
    *(_DWORD *)v3 = v36;
LABEL_66:
    *(_DWORD *)(v3 + 4) = v48;
    return;
  }
  (*(void (__fastcall **)(int *))(**(_DWORD **)(v2 + 0x4A04) + 20))(&v149);
  if ( v149 )
    v5 = *v4;
    (*(void (__fastcall **)(int *))(*(_DWORD *)v150 + 12))(&v147);
    v6 = sub_21E82D8((const void **)&v147, 0, (unsigned int)"Bad request ", (_BYTE *)0xC);
    v148 = *v6;
    v7 = (int)v148;
    *v6 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v5, 1024, (int *)&v148);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
      v73 = (unsigned int *)(v7 - 4);
        v74 = __ldrex(v73);
      while ( __strex(v74 - 1, v73) );
      if ( v74 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v7 - 12));
    v8 = (void *)(v147 - 12);
    if ( (int *)(v147 - 12) != &dword_28898C0 )
      v75 = (unsigned int *)(v147 - 4);
        v76 = __ldrex(v75);
      while ( __strex(v76 - 1, v75) );
      if ( v76 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    *(_DWORD *)(v2 + 19160) = 400;
    sub_21E94B4((void **)&v157, "Bad Request");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19144),
      &v157);
    v9 = (void *)(v157 - 12);
    if ( (int *)(v157 - 12) != &dword_28898C0 )
      v77 = (unsigned int *)(v157 - 4);
        v78 = __ldrex(v77);
      while ( __strex(v78 - 1, v77) );
      if ( v78 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    *(_QWORD *)v3 = *(_QWORD *)&v149;
  v26 = 0xFFFF4420;
  v126 = (const Vec3 **)(v2 + 0x4A04);
  v144 = 0;
  v27 = ((int (*)(void))byte_21E9640)();
  v125 = v27;
  v145 = v27;
  v146 = &unk_28898CC;
  (*(void (__fastcall **)(char *))(**(_DWORD **)(v2 + 0x4A04) + 16))(&v142);
  *(_QWORD *)&v144 = *(_QWORD *)&v142;
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)&v146,
    &v143);
  v28 = (void *)(v143 - 12);
  if ( (int *)(v143 - 12) != &dword_28898C0 )
    v79 = (unsigned int *)(v143 - 4);
    __dmb();
    do
      v80 = __ldrex(v79);
    while ( __strex(v80 - 1, v79) );
    if ( v80 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  if ( v144 )
    v29 = *v4;
    (*(void (__fastcall **)(int *))(*(_DWORD *)v145 + 12))(&v140);
    v30 = sub_21E82D8((const void **)&v140, 0, (unsigned int)"Bad request: ", (_BYTE *)0xD);
    v141 = *v30;
    v31 = (int)v141;
    *v30 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v29, 1024, (int *)&v141);
    if ( (int *)(v31 - 12) != &dword_28898C0 )
      v104 = (unsigned int *)(v31 - 4);
        v105 = __ldrex(v104);
      while ( __strex(v105 - 1, v104) );
      if ( v105 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v31 - 12));
    v32 = (void *)(v140 - 12);
    if ( (int *)(v140 - 12) != &dword_28898C0 )
      v106 = (unsigned int *)(v140 - 4);
        v107 = __ldrex(v106);
      while ( __strex(v107 - 1, v106) );
      if ( v107 <= 0 )
        j_j_j_j__ZdlPv_9(v32);
    sub_21E94B4((void **)&v158, "Bad Request");
      &v158);
    v33 = (void *)(v158 - 12);
    if ( (int *)(v158 - 12) != &dword_28898C0 )
      v108 = (unsigned int *)(v158 - 4);
        v109 = __ldrex(v108);
      while ( __strex(v109 - 1, v108) );
      if ( v109 <= 0 )
        j_j_j_j__ZdlPv_9(v33);
    *(_QWORD *)v3 = *(_QWORD *)&v144;
    goto LABEL_153;
  if ( *(v146 - 3) )
    sub_21E94B4((void **)&v139, "Sec-WebSocket-Extensions");
    v49 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v2 + 19100,
                   &v139);
    EntityInteraction::setInteractText(v49, (int *)&v146);
    v50 = (void *)(v139 - 12);
    if ( (int *)(v139 - 12) != &dword_28898C0 )
      v110 = (unsigned int *)(v139 - 4);
        v111 = __ldrex(v110);
      while ( __strex(v111 - 1, v110) );
      if ( v111 <= 0 )
        j_j_j_j__ZdlPv_9(v50);
  (*(void (__fastcall **)(int, const Vec3 *))(*(_DWORD *)*v126 + 48))((int)&v137, *v126);
  v124 = v3;
  v51 = *(_QWORD *)&v137;
  *(_DWORD *)&v137 = 0;
  v138 = 0;
  *(_DWORD *)(v2 + 19168) = v51;
  v52 = *(_DWORD *)(v2 + 19172);
  *(_DWORD *)(v2 + 19172) = HIDWORD(v51);
  if ( v52 )
    v53 = (unsigned int *)(v52 + 4);
      v54 = __ldrex(v53);
    while ( __strex(v54 - 1, v53) );
    if ( v54 == 1 )
      v55 = (unsigned int *)(v52 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 8))(v52);
        v56 = __ldrex(v55);
      while ( __strex(v56 - 1, v55) );
      if ( v56 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 12))(v52);
  v57 = v138;
  if ( v138 )
    v58 = (unsigned int *)(v138 + 4);
      v59 = __ldrex(v58);
    while ( __strex(v59 - 1, v58) );
    if ( v59 == 1 )
      v60 = (unsigned int *)(v57 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v57 + 8))(v57);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v57 + 12))(v57);
  if ( !*(_BYTE *)(*(_DWORD *)(v2 + 19168) + 15) )
      "Bad request: failed to parse uri");
    sub_21E94B4((void **)&v159, "Bad Request");
      &v159);
    v68 = (void *)(v159 - 12);
    if ( (int *)(v159 - 12) != &dword_28898C0 )
      v114 = (unsigned int *)(v159 - 4);
        v115 = __ldrex(v114);
      while ( __strex(v115 - 1, v114) );
      if ( v115 <= 0 )
        j_j_j_j__ZdlPv_9(v68);
    v69 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v69 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    v70 = 6;
    v71 = 0x3FFFFD01u;
    v72 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_150;
  (*(void (__fastcall **)(MinecraftUnitTest::Assert *, int, const wchar_t *, void *))(*(_DWORD *)*v126 + 44))(
    (MinecraftUnitTest::Assert *)&v136,
    (int)*v126,
    (const wchar_t *)(v2 + 0x4A54),
    (void *)(v2 + 19180));
  if ( !*(_DWORD *)(v2 + 2460) )
    goto LABEL_138;
  v62 = *(_DWORD *)(v2 + 2320);
  v63 = *(_DWORD *)(v2 + 2316);
  if ( v62 )
    v64 = (unsigned int *)(v62 + 8);
      v65 = __ldrex(v64);
    while ( __strex(v65 + 1, v64) );
    if ( !*(_DWORD *)(v2 + 2460) )
      sub_21E5F48();
    v83 = *(int (__fastcall **)(int, int *))(v2 + 2464);
    v160 = v63;
    v161 = v62;
      v84 = __ldrex(v64);
    while ( __strex(v84 + 1, v64) );
  else
    v160 = *(_DWORD *)(v2 + 2316);
    v161 = 0;
  v85 = v83(v2 + 2452, &v160);
  v86 = v161;
  if ( v161 )
    v87 = (unsigned int *)(v161 + 8);
      v88 = __ldrex(v87);
    while ( __strex(v88 - 1, v87) );
    if ( v88 == 1 )
      (*(void (**)(void))(*(_DWORD *)v86 + 12))();
  if ( !v62 )
    goto LABEL_201;
  v89 = (unsigned int *)(v62 + 8);
  __dmb();
  do
    v90 = __ldrex(v89);
  while ( __strex(v90 - 1, v89) );
  if ( v90 != 1 )
LABEL_201:
    if ( v85 != 1 )
      goto LABEL_144;
LABEL_138:
    *(_DWORD *)(v2 + 19160) = 101;
    sub_21E94B4((void **)&v162, "Switching Protocols");
      &v162);
    v91 = (void *)(v162 - 12);
    if ( (int *)(v162 - 12) != &dword_28898C0 )
      v112 = (unsigned int *)(v162 - 4);
        v113 = __ldrex(v112);
      while ( __strex(v113 - 1, v112) );
      if ( v113 <= 0 )
        j_j_j_j__ZdlPv_9(v91);
    (*(void (__cdecl **)(void *))(*(_DWORD *)*v126 + 24))(&ptr);
    *(_QWORD *)&v149 = *(_QWORD *)&ptr;
    if ( ptr )
      sub_21D103C((int)&v128, 24);
      sub_21CBF38((char *)&v130, (int)"Processing error: ", 18);
      v92 = (char *)sub_21CC43C(&v130, v149);
      sub_21CBF38(v92, (int)" ([message removed because boost causes crashes here])", 54);
      v93 = *v4;
      sub_21CFED8(&v127, (int)&v131);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v93, 1024, &v127);
      v94 = (void *)(v127 - 12);
      if ( (int *)(v127 - 12) != &dword_28898C0 )
        v116 = (unsigned int *)(v127 - 4);
          v117 = __ldrex(v116);
        while ( __strex(v117 - 1, v116) );
        if ( v117 <= 0 )
          j_j_j_j__ZdlPv_9(v94);
      *(_DWORD *)(v2 + 19160) = 500;
      sub_21E94B4((void **)&v163, "Internal Server Error");
        (int *)(v2 + 19144),
        &v163);
      v95 = (void *)(v163 - 12);
      if ( (int *)(v163 - 12) != &dword_28898C0 )
        v118 = (unsigned int *)(v163 - 4);
          v119 = __ldrex(v118);
        while ( __strex(v119 - 1, v118) );
        if ( v119 <= 0 )
          j_j_j_j__ZdlPv_9(v95);
      v96 = v150;
      *(_DWORD *)v124 = v149;
      *(_DWORD *)(v124 + 4) = v96;
      v128 = &off_26D3F94;
      v134 = &off_26D3FBC;
      v130 = &off_26D3FA8;
      v131 = &off_27734E8;
      v97 = (void *)(v133 - 12);
      if ( (int *)(v133 - 12) != &dword_28898C0 )
        v120 = (unsigned int *)(v133 - 4);
          v121 = __ldrex(v120);
        while ( __strex(v121 - 1, v120) );
        if ( v121 <= 0 )
          j_j_j_j__ZdlPv_9(v97);
      v131 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v132);
      v128 = &off_276D0DC;
      v134 = &off_276D0F0;
      v129 = 0;
      sub_21B6560(&v134);
      goto LABEL_153;
    *(_DWORD *)v124 = 0;
    v100 = (int (__fastcall *)(_DWORD))v125;
    goto LABEL_152;
  (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 12))(v62);
  if ( v85 )
LABEL_144:
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(*v4, 1024, "USER REJECT");
  if ( !*(_DWORD *)(v2 + 19160) )
    sub_21E94B4((void **)&v164, "Bad Request");
      &v164);
    v98 = (void *)(v164 - 12);
    if ( (int *)(v164 - 12) != &dword_28898C0 )
      v122 = (unsigned int *)(v164 - 4);
        v123 = __ldrex(v122);
      while ( __strex(v123 - 1, v122) );
      if ( v123 <= 0 )
        j_j_j_j__ZdlPv_9(v98);
  v99 = `guard variable for'websocketpp::error::get_category(void)::instance;
  if ( !(v99 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  v70 = 27;
  v71 = 0x3FFFFD01u;
  v72 = &GLOBAL_OFFSET_TABLE_;
LABEL_150:
  v100 = v72[v71];
  *(_DWORD *)v124 = v70;
LABEL_152:
  *(_DWORD *)(v124 + 4) = v100;
LABEL_153:
  v101 = (char *)(v146 - 3);
  if ( (char *)(v146 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v26) )
    v102 = v146 - 1;
      v103 = __ldrex(v102);
    while ( __strex(v103 - 1, v102) );
    if ( v103 <= 0 )
      j_j_j_j__ZdlPv_9(v101);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_extended_header(int a1, int a2, unsigned int a3, unsigned int a4, unsigned int a5))(_DWORD)
{
  int v5; // r4@1
  unsigned int v6; // r0@1
  char v7; // r0@4
  int (__fastcall **v8)(_DWORD); // r0@7
  signed int v9; // r2@8
  unsigned int v10; // r2@10
  bool v11; // zf@12
  char v12; // r0@16
  unsigned int v13; // r1@20
  signed int v14; // r2@20
  int (__fastcall *result)(_DWORD); // r0@21
  char v16; // r0@23

  v5 = a1;
  v6 = (a3 >> 8) & 0x7F;
  if ( v6 >= 0x7E )
  {
    v6 = (unsigned __int8)v6;
    if ( (unsigned __int8)v6 == 126 )
    {
      if ( __rev(a4) >> 16 <= 0x7D )
      {
        v7 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v7 & 1) )
        {
          if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          {
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          }
        }
        v8 = &GLOBAL_OFFSET_TABLE_;
LABEL_20:
        v13 = 0x3FFFFD21u;
        v14 = 14;
LABEL_21:
        result = v8[v13];
        *(_DWORD *)v5 = v14;
        *(_DWORD *)(v5 + 4) = result;
        return result;
      }
    }
    else
      v9 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
      if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
        v9 = 1;
        websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
      v11 = v9 == 2;
      v10 = a5;
      if ( !v11 )
        v10 = __rev(a4);
        a4 = __rev(a5);
      v11 = v6 == 127;
      if ( v6 == 127 )
        v11 = ((a4 >> 16) | (v10 << 16) | (v10 >> 16)) == 0;
      if ( v11 )
        v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v12 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        goto LABEL_20;
      if ( v10 )
        v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v16 & 1)
        v14 = 15;
        goto LABEL_21;
  }
  *(_DWORD *)v5 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v5 + 4) = result;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(int a1, unsigned int a2, __int64 a3, int a4)
{
  int v4; // r5@1
  int v5; // r9@1
  int v6; // r10@1
  unsigned int v7; // r11@1
  pthread_mutex_t *v8; // r6@2
  void *v9; // r0@2
  void *v10; // r0@3
  int v11; // r0@7
  char v12; // r0@8
  int result; // r0@12
  void (*v14)(void); // r3@14
  int v15; // r6@18
  void (__fastcall *v16)(int *, int, signed int); // r3@18
  unsigned int *v17; // r1@25
  signed int v18; // r2@26
  unsigned int *v19; // r1@29
  signed int v20; // r2@30
  int v21; // [sp+0h] [bp-130h]@19
  int (*v22)(void); // [sp+8h] [bp-128h]@18
  int v23; // [sp+Ch] [bp-124h]@19
  char v24; // [sp+10h] [bp-120h]@20
  int (*v25)(void); // [sp+1Ch] [bp-114h]@20
  int v26; // [sp+24h] [bp-10Ch]@18
  int v27; // [sp+28h] [bp-108h]@18
  int v28; // [sp+2Ch] [bp-104h]@11
  void *v29; // [sp+30h] [bp-100h]@11
  int v30; // [sp+34h] [bp-FCh]@2
  void **v31; // [sp+38h] [bp-F8h]@2
  int v32; // [sp+3Ch] [bp-F4h]@4
  void **v33; // [sp+40h] [bp-F0h]@2
  void **v34; // [sp+44h] [bp-ECh]@2
  int v35; // [sp+60h] [bp-D0h]@4
  int v36; // [sp+68h] [bp-C8h]@3
  void **v37; // [sp+6Ch] [bp-C4h]@3
  __int64 v38; // [sp+F8h] [bp-38h]@7
  void (*v39)(void); // [sp+100h] [bp-30h]@6
  int v40; // [sp+104h] [bp-2Ch]@7

  v4 = a1;
  v5 = HIDWORD(a3);
  v6 = a3;
  v7 = a2;
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 48) + 5) & 4 )
  {
    sub_21D103C((int)&v31, 24);
    sub_21CBF38((char *)&v33, (int)"asio async_read_at_least: ", 26);
    sub_21CC440((char *)&v33);
    v8 = *(pthread_mutex_t **)(v4 + 48);
    sub_21CFED8(&v30, (int)&v34);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v8, 1024, &v30);
    v9 = (void *)(v30 - 12);
    if ( (int *)(v30 - 12) != &dword_28898C0 )
    {
      v17 = (unsigned int *)(v30 - 4);
      __dmb();
      do
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    }
    v31 = &off_26D3F94;
    v37 = &off_26D3FBC;
    v33 = &off_26D3FA8;
    v34 = &off_27734E8;
    v10 = (void *)(v36 - 12);
    if ( (int *)(v36 - 12) != &dword_28898C0 )
      v19 = (unsigned int *)(v36 - 4);
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 <= 0 )
        j_j_j_j__ZdlPv_9(v10);
    v34 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v35);
    v31 = &off_276D0DC;
    v37 = &off_276D0F0;
    v32 = 0;
    sub_21B6560(&v37);
  }
  if ( *(_DWORD *)(v4 + 2256) )
    v39 = 0;
    HIDWORD(a3) = *(_DWORD *)(a4 + 8);
    if ( HIDWORD(a3) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v38, a4, 2);
      a2 = *(_DWORD *)(a4 + 12);
      v40 = *(_DWORD *)(a4 + 12);
      v11 = *(_DWORD *)(a4 + 8);
      v39 = *(void (**)(void))(a4 + 8);
      a3 = v38;
    else
      v11 = 0;
    v38 = *(_QWORD *)(v4 + 2200);
    *(_QWORD *)(v4 + 2200) = a3;
    v39 = *(void (**)(void))(v4 + 2208);
    v14 = v39;
    *(_DWORD *)(v4 + 2208) = v11;
    v40 = *(_DWORD *)(v4 + 2212);
    *(_DWORD *)(v4 + 2212) = a2;
    if ( v14 )
      v14();
      v11 = *(_DWORD *)(v4 + 2208);
    if ( !v11 )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v4 + 48),
        1024,
        "asio con async_read_at_least called with bad handler");
    v15 = *(_DWORD *)(v4 + 8);
    v26 = v6;
    v27 = v5;
    v22 = 0;
    v16 = *(void (__fastcall **)(int *, int, signed int))(v4 + 2256);
    if ( v16 )
      v16(&v21, v4 + 2248, 2);
      v23 = *(_DWORD *)(v4 + 2260);
      v22 = *(int (**)(void))(v4 + 2256);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v24,
      v4 + 136,
      (int)&v21);
    result = j_boost::asio::async_read<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,boost::asio::mutable_buffers_1,boost::asio::detail::transfer_at_least_t,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
               v15,
               &v26,
               v7,
               (int)&v24);
    if ( v25 )
      result = v25();
    if ( v22 )
      result = v22();
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v4 + 48),
      1024,
      "async_read_at_least called after async_shutdown");
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v28 = 10;
    v29 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(a4 + 8) )
      sub_21E5F48();
    result = (*(int (__fastcall **)(int, int *, _DWORD))(a4 + 12))(a4, &v28, 0);
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(__int64 a1, int a2)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(
           a1,
           a2);
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_transport_init(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r9@1
  __int64 v4; // r6@1
  char v5; // r0@5
  void *v6; // r0@9
  pthread_mutex_t *v7; // r5@10
  void *v8; // r0@10
  void *v9; // r0@11
  __int64 v10; // r0@13
  int v11; // r5@13
  unsigned int *v12; // r0@14
  unsigned int v13; // r1@15
  unsigned int *v14; // r4@17
  unsigned int v15; // r0@18
  int v16; // r5@21
  unsigned int *v17; // r0@22
  unsigned int v18; // r1@23
  unsigned int *v19; // r4@25
  unsigned int v20; // r0@26
  unsigned int *v21; // r1@30
  signed int v22; // r2@31
  unsigned int *v23; // r1@34
  signed int v24; // r2@35
  unsigned int *v25; // r1@38
  signed int v26; // r2@39
  char v27; // [sp+4h] [bp-F4h]@13
  int v28; // [sp+8h] [bp-F0h]@13
  int v29; // [sp+Ch] [bp-ECh]@10
  int v30; // [sp+10h] [bp-E8h]@9
  void **v31; // [sp+14h] [bp-E4h]@9
  int v32; // [sp+18h] [bp-E0h]@12
  void **v33; // [sp+1Ch] [bp-DCh]@9
  void **v34; // [sp+20h] [bp-D8h]@10
  int v35; // [sp+3Ch] [bp-BCh]@12
  int v36; // [sp+44h] [bp-B4h]@11
  void **v37; // [sp+48h] [bp-B0h]@11
  __int64 v38; // [sp+D0h] [bp-28h]@1

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection handle_transport_init");
  v4 = *v2;
  v38 = *v2;
  if ( *(_DWORD *)(v3 + 2544) == 1 )
  {
    if ( !(_DWORD)v4 )
    {
      if ( *(_BYTE *)(v3 + 19232) )
      {
        *(_DWORD *)(v3 + 2544) = 2;
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::read_handshake(v3, 1u);
      }
      else
        *(_DWORD *)(v3 + 2544) = 3;
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::get_processor((int)&v27, v3, 13);
        v10 = *(_QWORD *)&v27;
        *(_DWORD *)&v27 = 0;
        v28 = 0;
        *(_DWORD *)(v3 + 18988) = v10;
        v11 = *(_DWORD *)(v3 + 18992);
        *(_DWORD *)(v3 + 18992) = HIDWORD(v10);
        if ( v11 )
        {
          v12 = (unsigned int *)(v11 + 4);
          __dmb();
          do
            v13 = __ldrex(v12);
          while ( __strex(v13 - 1, v12) );
          if ( v13 == 1 )
          {
            v14 = (unsigned int *)(v11 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
            __dmb();
            do
              v15 = __ldrex(v14);
            while ( __strex(v15 - 1, v14) );
            if ( v15 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
          }
        }
        v16 = v28;
        if ( v28 )
          v17 = (unsigned int *)(v28 + 4);
            v18 = __ldrex(v17);
          while ( __strex(v18 - 1, v17) );
          if ( v18 == 1 )
            v19 = (unsigned int *)(v16 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
              v20 = __ldrex(v19);
            while ( __strex(v20 - 1, v19) );
            if ( v20 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_request(v3);
      return;
    }
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v3 + 19236),
      1024,
      "handle_transport_init must be called from transport init state");
    v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    LODWORD(v4) = 9;
    HIDWORD(v4) = &websocketpp::error::get_category(void)::instance;
    v38 = v4;
  sub_21D103C((int)&v31, 24);
  sub_21CBF38((char *)&v33, (int)"handle_transport_init received error: ", 38);
  (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v4) + 12))(&v30);
  sub_21CBF38((char *)&v33, v30, *(_DWORD *)(v30 - 12));
  v6 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v21 = (unsigned int *)(v30 - 4);
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  v7 = *(pthread_mutex_t **)(v3 + 19240);
  sub_21CFED8(&v29, (int)&v34);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v7, 16, &v29);
  v8 = (void *)(v29 - 12);
  if ( (int *)(v29 - 12) != &dword_28898C0 )
    v23 = (unsigned int *)(v29 - 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v3, (unsigned __int64 *)&v38);
  v31 = &off_26D3F94;
  v37 = &off_26D3FBC;
  v33 = &off_26D3FA8;
  v34 = &off_27734E8;
  v9 = (void *)(v36 - 12);
  if ( (int *)(v36 - 12) != &dword_28898C0 )
    v25 = (unsigned int *)(v36 - 4);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v34 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v35);
  v31 = &off_276D0DC;
  v37 = &off_276D0F0;
  v32 = 0;
  sub_21B6560(&v37);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_timeout(int a1, int a2, _DWORD *a3)
{
  _DWORD *v3; // r6@1
  int v4; // r5@1
  int v5; // r4@1
  int v6; // r5@2
  char v7; // r0@3
  RakNet *result; // r0@7
  signed int v9; // [sp+0h] [bp-20h]@6
  void *v10; // [sp+4h] [bp-1Ch]@6
  int v11; // [sp+8h] [bp-18h]@2
  void *v12; // [sp+Ch] [bp-14h]@2

  v3 = a3;
  v4 = a1;
  v5 = a2;
  if ( *a3 )
  {
    if ( *a3 == 5 )
    {
      result = j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                 *(pthread_mutex_t **)(a1 + 48),
                 1024,
                 "asio handle_proxy_write timer cancelled");
    }
    else
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
        a1,
        1,
        "asio handle_proxy_write",
        a3);
      if ( !*(_DWORD *)(v5 + 8) )
        sub_21E5F48();
      result = (RakNet *)(*(int (__fastcall **)(int, _DWORD *))(v5 + 12))(v5, v3);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 48),
      1024,
      "asio handle_proxy_write timer expired");
    v6 = *(_DWORD *)(v4 + 8);
    v11 = 0;
    v12 = sub_21B09F0();
    if ( *(_DWORD *)v6 == -1 )
      v11 = 9;
      v12 = sub_21B09F0();
      j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v11, "cancel");
    j_boost::asio::detail::epoll_reactor::cancel_ops(
      *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v6 + 16) + 20),
      *(_DWORD *)v6,
      (boost::asio::detail::epoll_reactor::descriptor_state **)(v6 + 8));
    sub_21B09F0();
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v9 = 9;
    v10 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v5 + 8) )
      sub_21E5F48();
    result = (RakNet *)(*(int (__fastcall **)(int, signed int *))(v5 + 12))(v5, &v9);
  return result;
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_pong(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_message(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r1@1
  unsigned int *v4; // r0@2
  unsigned int v5; // r1@3
  int v6; // r5@4
  unsigned int *v7; // r0@5
  unsigned int v8; // r1@6
  unsigned int *v9; // r6@8
  unsigned int v10; // r0@9
  int result; // r0@13

  v2 = a2;
  *(_DWORD *)a1 = *(_DWORD *)(a2 + 28);
  v3 = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(a1 + 4) = v3;
  if ( v3 )
  {
    v4 = (unsigned int *)(v3 + 4);
    __dmb();
    do
      v5 = __ldrex(v4);
    while ( __strex(v5 + 1, v4) );
    v6 = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(v2 + 28) = 0;
    *(_DWORD *)(v2 + 32) = 0;
    if ( v6 )
    {
      v7 = (unsigned int *)(v6 + 4);
      __dmb();
      do
        v8 = __ldrex(v7);
      while ( __strex(v8 - 1, v7) );
      if ( v8 == 1 )
      {
        v9 = (unsigned int *)(v6 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 8))(v6);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 12))(v6);
      }
    }
  }
  else
  result = 0;
  *(_DWORD *)(v2 + 16) = 0;
  return result;
}


int __fastcall websocketpp::uri::get_port_from_string(int a1, const char **a2, int a3)
{
  int v3; // r8@1
  const char **v4; // r5@1
  int v5; // r6@1
  int v6; // r0@1
  unsigned int v7; // r5@2
  char v8; // r0@3
  char v9; // r0@8

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = v6;
  if ( sub_21E7D6C((const void **)v4, (const char *)&unk_257BC67) )
  {
    v7 = j_atoi_0(*v4);
    if ( v7 >= 0x10000 )
    {
      v8 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v8 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
      *(_DWORD *)v3 = 24;
      *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
    }
    if ( !v7 )
      v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  }
  else
    LOWORD(v7) = 80;
    if ( *(_BYTE *)(v5 + 14) )
      LOWORD(v7) = 443;
  return (unsigned __int16)v7;
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::log_open_result(int a1)
{
  int v1; // r6@1
  signed int v2; // r7@2
  const char *v3; // r1@4
  int v4; // r2@6
  char *v5; // r0@8
  void *v6; // r0@8
  char *v7; // r0@10
  int v8; // r0@11
  int *v9; // r1@11
  void *v10; // r0@13
  unsigned int i; // r2@15
  unsigned int v12; // r7@16
  int v13; // r4@19
  _DWORD *v14; // r7@19
  char *v15; // r7@19
  int v16; // t1@19
  char *v17; // r0@19
  char *v18; // r0@20
  _BYTE *v19; // r0@21
  char *v20; // r0@22
  int v21; // r0@23
  char *v22; // r0@26
  void *v23; // r0@26
  pthread_mutex_t *v24; // r4@27
  void *v25; // r0@27
  void *v26; // r0@28
  void *v27; // r0@29
  unsigned int *v29; // r1@31
  signed int v30; // r2@32
  unsigned int *v31; // r1@35
  signed int v32; // r2@36
  unsigned int *v33; // r1@39
  signed int v34; // r2@40
  unsigned int *v35; // r1@43
  signed int v36; // r2@44
  unsigned int *v37; // r1@47
  signed int v38; // r2@48
  unsigned int *v39; // r1@51
  signed int v40; // r2@52
  unsigned int *v41; // r0@55
  signed int v42; // r1@56
  unsigned int *v43; // r1@59
  signed int v44; // r2@60
  unsigned int *v45; // r1@63
  signed int v46; // r2@64
  unsigned int *v47; // r1@67
  signed int v48; // r2@68
  int v49; // [sp+8h] [bp-110h]@27
  int v50; // [sp+10h] [bp-108h]@24
  char *v51; // [sp+18h] [bp-100h]@15
  _BYTE *v52; // [sp+20h] [bp-F8h]@15
  _DWORD *v53; // [sp+24h] [bp-F4h]@15
  int v54; // [sp+2Ch] [bp-ECh]@11
  int v55; // [sp+30h] [bp-E8h]@13
  int v56; // [sp+34h] [bp-E4h]@8
  void **v57; // [sp+38h] [bp-E0h]@1
  int v58; // [sp+3Ch] [bp-DCh]@30
  void **v59; // [sp+40h] [bp-D8h]@8
  void **v60; // [sp+44h] [bp-D4h]@27
  int v61; // [sp+60h] [bp-B8h]@30
  int v62; // [sp+68h] [bp-B0h]@29
  void **v63; // [sp+6Ch] [bp-ACh]@29

  v1 = a1;
  sub_21D103C((int)&v57, 24);
  if ( j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v1 + 19028) )
    v2 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v1 + 19028);
  else
    v2 = -1;
  v3 = "WebSocket";
  if ( v2 == -1 )
    v3 = "HTTP";
  v4 = 9;
    v4 = 4;
  sub_21CBF38((char *)&v59, (int)v3, v4);
  sub_21CBF38((char *)&v59, (int)" Connection ", 12);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(
    (void **)&v56,
    v1);
  v5 = sub_21CBF38((char *)&v59, v56, *(_DWORD *)(v56 - 12));
  sub_21CBF38(v5, (int)" ", 1);
  v6 = (void *)(v56 - 12);
  if ( (int *)(v56 - 12) != &dword_28898C0 )
  {
    v29 = (unsigned int *)(v56 - 4);
    __dmb();
    do
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  if ( v2 != -1 )
    sub_21CBF38((char *)&v59, (int)"v", 1);
    v7 = (char *)sub_21CC43C(&v59, v2);
    sub_21CBF38(v7, (int)" ", 1);
  sub_21E94B4((void **)&v54, "User-Agent");
  v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v1 + 19032,
         &v54);
  v9 = (int *)(v8 + 20);
  if ( v8 == v1 + 0x4A5C )
    v9 = &dword_2880E54;
  sub_21E8AF4(&v55, v9);
  v10 = (void *)(v54 - 12);
  if ( (int *)(v54 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v54 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  if ( sub_21E7D6C((const void **)&v55, (const char *)&unk_257BC67) )
    sub_21CBF38((char *)&v59, (int)"\"", 1);
    sub_21E8AF4((int *)&v53, &v55);
    sub_21E94B4((void **)&v52, "\"");
    sub_21E94B4((void **)&v51, (const char *)&unk_25DA29F);
    for ( i = 0; ; i = *((_DWORD *)v51 - 3) + v12 )
    {
      v12 = sub_21E76A0((int *)&v53, v52, i, *((_DWORD *)v52 - 3));
      if ( v12 == -1 )
        break;
      sub_21E91FC((const void **)&v53, v12, *((_DWORD *)v52 - 3), v51, *((_BYTE **)v51 - 3));
    }
    v13 = (int)v53;
    v14 = v53;
    v53 = &unk_28898CC;
    v16 = *(v14 - 3);
    v15 = (char *)(v14 - 3);
    v17 = sub_21CBF38((char *)&v59, v13, v16);
    sub_21CBF38(v17, (int)"\" ", 2);
    if ( (int *)v15 != &dword_28898C0 )
      v41 = (unsigned int *)(v13 - 4);
      __dmb();
      do
        v42 = __ldrex(v41);
      while ( __strex(v42 - 1, v41) );
      if ( v42 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v18 = v51 - 12;
    if ( (int *)(v51 - 12) != &dword_28898C0 )
      v43 = (unsigned int *)(v51 - 4);
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    v19 = v52 - 12;
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v45 = (unsigned int *)(v52 - 4);
        v46 = __ldrex(v45);
      while ( __strex(v46 - 1, v45) );
      if ( v46 <= 0 )
        j_j_j_j__ZdlPv_9(v19);
    v20 = (char *)(v53 - 3);
    if ( v53 - 3 != &dword_28898C0 )
      v47 = v53 - 1;
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    sub_21CBF38((char *)&v59, (int)"\"\" ", 3);
  v21 = *(_DWORD *)(v1 + 19168);
  if ( v21 )
    sub_21E8AF4(&v50, (int *)(v21 + 8));
    sub_21E94B4((void **)&v50, "NULL");
  v22 = sub_21CBF38((char *)&v59, v50, *(_DWORD *)(v50 - 12));
  sub_21CBF38(v22, (int)" ", 1);
  v23 = (void *)(v50 - 12);
  if ( (int *)(v50 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v50 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v23);
  sub_21CC43C(&v59, *(_DWORD *)(v1 + 19160));
  v24 = *(pthread_mutex_t **)(v1 + 19196);
  sub_21CFED8(&v49, (int)&v60);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v24, 1, &v49);
  v25 = (void *)(v49 - 12);
  if ( (int *)(v49 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v49 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = (void *)(v55 - 12);
  if ( (int *)(v55 - 12) != &dword_28898C0 )
    v37 = (unsigned int *)(v55 - 4);
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  v57 = &off_26D3F94;
  v63 = &off_26D3FBC;
  v59 = &off_26D3FA8;
  v60 = &off_27734E8;
  v27 = (void *)(v62 - 12);
  if ( (int *)(v62 - 12) != &dword_28898C0 )
    v39 = (unsigned int *)(v62 - 4);
      v40 = __ldrex(v39);
    while ( __strex(v40 - 1, v39) );
    if ( v40 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v60 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v61);
  v57 = &off_276D0DC;
  v63 = &off_276D0F0;
  v58 = 0;
  return sub_21B6560(&v63);
}


char *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake_key(int a1, int a2, const void **a3)
{
  int v3; // r4@1
  websocketpp::sha1 **v4; // r5@1
  unsigned __int8 *v5; // r3@1
  void *v6; // r0@1
  char *result; // r0@2
  unsigned int *v8; // r1@4
  signed int v9; // r2@5
  int v10; // [sp+0h] [bp-38h]@1
  char v11; // [sp+8h] [bp-30h]@1
  RakNet *v12; // [sp+1Ch] [bp-1Ch]@1

  v3 = a1;
  v4 = (websocketpp::sha1 **)a3;
  v12 = _stack_chk_guard;
  sub_21E7408(a3, "258EAFA5-E914-47DA-95CA-C5AB0DC85B11", 0x24u);
  j_websocketpp::sha1::calc(*v4, *((const void **)*v4 - 3), (unsigned int)&v11, v5);
  j_websocketpp::base64_encode((websocketpp *)&v10, (const unsigned __int8 *)&v11, 0x14u);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id((int *)v4, &v10);
  v6 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v12);
  if ( _stack_chk_guard != v12 )
    j___stack_chk_fail_1((int)result);
  return result;
}


void __fastcall websocketpp::transport::asio::socket::socket_category::~socket_category(websocketpp::transport::asio::socket::socket_category *this)
{
  void *v1; // r0@1

  v1 = (void *)nullsub_3(this);
  j_j_j__ZdlPv_8(v1);
}


int *__fastcall websocketpp::processor::hybi08<websocketpp::config::asio_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Sec-WebSocket-Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake(a1, a2, a3, a4, a5);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_uri(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r9@1
  int v5; // r5@1
  int v6; // r0@1
  int *v7; // r1@1
  void *v8; // r0@3
  unsigned int v9; // r7@4
  unsigned int v10; // r0@4
  bool v11; // cf@5
  bool v12; // zf@5
  int v13; // r0@9
  int v14; // r0@10
  void *v15; // r0@13
  unsigned int *v16; // r1@15
  signed int v17; // r2@16
  unsigned int *v18; // r1@19
  signed int v19; // r2@20
  int v20; // r2@23
  unsigned int v21; // r3@23
  void **v22; // r0@25
  int v23; // r0@25
  int v24; // r0@26
  int v25; // r1@28
  void *v26; // r0@28
  void *v27; // r0@29
  unsigned int *v28; // r1@30
  signed int v29; // r2@31
  unsigned int *v30; // r1@34
  signed int v31; // r2@35
  int v32; // [sp+10h] [bp-40h]@25
  int v33; // [sp+14h] [bp-3Ch]@8
  int v34; // [sp+1Ch] [bp-34h]@1
  int v35; // [sp+20h] [bp-30h]@3
  char v36; // [sp+24h] [bp-2Ch]@9
  char v37; // [sp+28h] [bp-28h]@25

  v3 = a1;
  v4 = a2;
  v5 = a3;
  sub_21E94B4((void **)&v34, "Host");
  v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v5 + 4,
         &v34);
  v7 = (int *)(v6 + 20);
  if ( v6 == v5 + 8 )
    v7 = &dword_2880E54;
  sub_21E8AF4(&v35, v7);
  v8 = (void *)(v34 - 12);
  if ( (int *)(v34 - 12) != &dword_28898C0 )
  {
    v16 = (unsigned int *)(v34 - 4);
    __dmb();
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  }
  v9 = sub_21E7848(&v35, ":", 0xFFFFFFFF, 1u);
  v10 = sub_21E7848(&v35, "]", 0xFFFFFFFF, 1u);
  if ( v9 == -1 )
    goto LABEL_40;
  v11 = v10 >= 0xFFFFFFFF;
  v12 = v10 == -1;
  if ( v10 != -1 )
    v11 = v10 >= v9;
    v12 = v10 == v9;
  if ( !v12 && v11 )
LABEL_40:
    *(_DWORD *)v3 = 0;
    v13 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKbRSsRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
             (_DWORD *)(v3 + 4),
             0,
             (int)&v36,
             (_BYTE *)(v4 + 4),
             &v35,
             (const void **)(v5 + 60));
    if ( v13 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 16))();
    else
      v14 = 0;
    *(_DWORD *)v3 = v14;
  else
    sub_21E9040((void **)&v33, &v35, 0, v9);
    v20 = v9 + 1;
    v21 = *(_DWORD *)(v35 - 12);
    if ( v21 < v9 + 1 )
      sub_21E5B04("%s: __pos (which is %zu) > this->size() (which is %zu)", (int)"basic_string::substr", v20, v21);
    v22 = sub_21E9040((void **)&v32, &v35, v20, 0xFFFFFFFF);
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKbSsSsRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      (_DWORD *)(v3 + 4),
      0,
      (int)&v37,
      (_BYTE *)(v4 + 4),
      &v33,
      (const char **)v22,
      (int *)(v5 + 60));
    v23 = *(_DWORD *)(v3 + 4);
    if ( v23 )
      v24 = (*(int (**)(void))(*(_DWORD *)v23 + 16))();
      v24 = 0;
    v25 = v32;
    *(_DWORD *)v3 = v24;
    v26 = (void *)(v25 - 12);
    if ( (int *)(v25 - 12) != &dword_28898C0 )
    {
      v30 = (unsigned int *)(v25 - 4);
      __dmb();
      do
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v26);
    }
    v27 = (void *)(v33 - 12);
    if ( (int *)(v33 - 12) != &dword_28898C0 )
      v28 = (unsigned int *)(v33 - 4);
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
  v15 = (void *)(v35 - 12);
  if ( (int *)(v35 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v35 - 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_response_error(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_client>::send_http_response_error(a1, a2);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init(int a1, int a2, __int64 a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init(
           a1,
           a2,
           a3);
}


void __fastcall websocketpp::http::parser::request::process(int a1, _BYTE *a2, _BYTE *a3)
{
  websocketpp::http::parser::request::process(a1, a2, a3);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::decode_client_key(int a1, int *a2, _DWORD *a3)
{
  int *v3; // r5@1
  _DWORD *v4; // r8@1
  int v5; // r0@1
  unsigned int v6; // r6@1
  unsigned int v7; // r10@2
  int v8; // r11@3
  char *v9; // r0@6
  int v10; // r1@6 OVERLAPPED
  int v11; // r4@6
  unsigned int v12; // r2@6
  char *v13; // r0@9
  unsigned __int32 v14; // r0@12
  bool v15; // zf@12
  char *v16; // r0@16
  unsigned int *v17; // r1@18
  signed int v18; // r2@19
  char *nptr; // [sp+8h] [bp-30h]@1

  v3 = a2;
  v4 = a3;
  sub_21E94B4((void **)&nptr, (const char *)&unk_257BC67);
  v5 = *v3;
  v6 = 0;
  if ( *(_DWORD *)(*v3 - 12) )
  {
    v7 = 0;
    v6 = 0;
    do
    {
      v8 = *(_BYTE *)(v5 + v7);
      if ( v8 == 32 )
      {
        ++v6;
      }
      else if ( (unsigned __int8)(v8 - 48) <= 9u )
        v9 = nptr;
        *(_QWORD *)&v10 = *(_QWORD *)(nptr - 12);
        v11 = v10 + 1;
        if ( v10 + 1 > v12 || *((_DWORD *)nptr - 1) >= 1 )
        {
          sub_21E6FCC((const void **)&nptr, v10 + 1);
          v9 = nptr;
          v10 = *((_DWORD *)nptr - 3);
        }
        v9[v10] = v8;
        v13 = nptr;
        if ( (int *)(nptr - 12) != &dword_28898C0 )
          *((_DWORD *)nptr - 1) = 0;
          *((_DWORD *)v13 - 3) = v11;
          v13[v11] = byte_26C67B8[0];
      v5 = *v3;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(*v3 - 12) );
  }
  v14 = j_strtoul_0(nptr, 0, 10);
  v15 = v6 == 0;
  if ( v6 )
    v15 = v14 == 0;
  if ( v15 )
    *v4 = 0;
  else
    *v4 = __rev(v14 / v6);
  v16 = nptr - 12;
  if ( (int *)(nptr - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(nptr - 4);
    __dmb();
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
}


void *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::init_asio(int a1, int a2, int a3)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::init_asio(
           a1,
           a2,
           a3);
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_send_http_request(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r4@1
  pthread_mutex_t **v4; // r10@1
  int v5; // r0@2
  int v6; // r0@3
  void *result; // r0@4
  signed int v8; // r6@7
  char v9; // r0@8
  int (__fastcall **v10)(_DWORD); // r0@11
  char v11; // r0@12
  char v12; // r0@18
  bool v13; // zf@22
  int v14; // r5@28
  unsigned int v15; // r0@29
  unsigned int *v16; // r7@29
  unsigned int v17; // r1@30
  int v18; // r9@33
  unsigned int v19; // r0@34
  unsigned int v20; // r0@36
  unsigned int *v21; // r6@38
  unsigned int v22; // r0@39
  unsigned int v23; // r0@43
  unsigned int v24; // r0@45
  unsigned int *v25; // r6@47
  unsigned int v26; // r0@48
  _DWORD *v27; // r0@51
  __int64 v28; // r2@51
  _DWORD *v29; // [sp+8h] [bp-38h]@51
  int (*v30)(void); // [sp+10h] [bp-30h]@51
  int (__fastcall *v31)(int *); // [sp+14h] [bp-2Ch]@51
  __int64 v32; // [sp+18h] [bp-28h]@1

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "handle_send_http_request");
  v4 = (pthread_mutex_t **)(v3 + 19196);
  v32 = *v2;
  if ( (_DWORD)v32 )
    goto LABEL_18;
  v5 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2508));
  if ( v5 )
    sub_21E5E14(v5);
  v6 = *(_DWORD *)(v3 + 2500);
  if ( v6 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "handle_send_http_request invoked after connection was closed");
    return (void *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2508));
  }
  if ( v6 )
    v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v10 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v3 + 2504) == 3 )
      v8 = 0;
      *(_DWORD *)(v3 + 2504) = 4;
      goto LABEL_17;
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v8 = 9;
  LODWORD(v32) = 9;
  HIDWORD(v32) = *(int (__fastcall **)(_DWORD))((char *)v10 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2508));
  if ( v8 )
LABEL_18:
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v32) != &websocketpp::transport::error::get_category(void)::instance )
      goto LABEL_58;
    v13 = (_DWORD)v32 == 7;
    if ( (_DWORD)v32 == 7 )
      v13 = *(_DWORD *)(v3 + 2500) == 3;
    if ( v13 )
      result = (void *)j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                         *v4,
                         1024,
                         "got (expected) eof/state error from closed con");
    else
LABEL_58:
      j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
        v3,
        16,
        "handle_send_http_request",
        &v32);
      result = j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v3, (unsigned __int64 *)&v32);
    return result;
  v14 = *(_DWORD *)(v3 + 4);
  if ( !v14 )
LABEL_54:
    j_std::__throw_bad_weak_ptr();
  v15 = *(_DWORD *)(v14 + 4);
  v16 = (unsigned int *)(v14 + 4);
  do
    v17 = v15;
    if ( !v15 )
      goto LABEL_54;
    v15 = __ldrex(v16);
  while ( v15 != v17 || __strex(v17 + 1, v16) );
  __dmb();
  v18 = *(_DWORD *)v3;
    v19 = __ldrex(v16);
  while ( __strex(v19 + 1, v16) );
    v20 = __ldrex(v16);
  while ( __strex(v20 - 1, v16) );
  if ( v20 == 1 )
    v21 = (unsigned int *)(v14 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 8))(v14);
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 12))(v14);
    v23 = __ldrex(v16);
  while ( __strex(v23 + 1, v16) );
    v24 = __ldrex(v16);
  while ( __strex(v24 - 1, v16) );
  if ( v24 == 1 )
    v25 = (unsigned int *)(v14 + 8);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 == 1 )
  v27 = j_operator new(0x10u);
  *v27 = websocketpp::connection<websocketpp::config::asio_client>::handle_read_http_response;
  v27[1] = 0;
  v27[2] = v18;
  v27[3] = v14;
  v29 = v27;
  v30 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  v31 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  LODWORD(v28) = v3 + 2516;
  HIDWORD(v28) = 0x4000;
  result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
                     v3,
                     1u,
                     v28,
                     (int)&v29);
  if ( v30 )
    result = (void *)v30();
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_shutdown(int a1, int *a2, int a3, _DWORD *a4)
{
  _DWORD *v4; // r10@1
  int v5; // r9@1
  int v6; // r8@1
  int *v7; // r11@1
  unsigned int v8; // r4@2
  unsigned int v9; // r6@2
  signed int v10; // r1@2
  signed __int64 v11; // r0@7
  bool v12; // zf@7
  bool v13; // zf@10
  signed int v14; // r1@15
  unsigned __int64 v15; // kr28_8@22
  signed int v16; // r6@22
  unsigned int v17; // r3@22
  bool v18; // zf@31
  unsigned __int64 v19; // r0@36
  int v21; // r4@52
  pthread_mutex_t *v22; // r0@55
  char v23; // r0@58
  __int64 v24; // [sp+0h] [bp-30h]@2

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *a4 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 48),
             1024,
             "async_shutdown cancelled");
  v9 = *(_QWORD *)(*a2 + 8) >> 32;
  v8 = *(_QWORD *)(*a2 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v24,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v10 = 0;
  if ( v8 + 2 < 3 )
    v10 = 1;
  if ( (__PAIR__(v9, v8) - 9223372036854775806LL) >> 32 )
    v10 = 0;
  if ( v10 )
  {
    v11 = -6442450945LL;
    v12 = (v9 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE) == 0;
    if ( v9 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE )
      v12 = __PAIR__(v24, HIDWORD(v24)) == -6442450945LL;
    if ( v12 )
      goto LABEL_50;
    LODWORD(v11) = 0x7FFFFFFF;
    HIDWORD(v11) = v9 ^ 0x7FFFFFFF | ~v8;
    v13 = HIDWORD(v11) == 0;
    if ( !HIDWORD(v11) )
      v13 = (HIDWORD(v24) ^ 0x7FFFFFFF | ~(_DWORD)v24) == 0;
    if ( v13 )
    {
      HIDWORD(v11) = -2;
    }
    v18 = (v9 ^ 0x80000000 | v8) == 0;
    if ( !(v9 ^ 0x80000000 | v8) )
      v18 = __PAIR__(v24, HIDWORD(v24)) == 0x80000000LL;
    if ( v18 )
      v11 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v24 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v24 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      LODWORD(v11) = (__PAIR__(v9, v8) - v24) >> 32;
      HIDWORD(v11) = v8 - v24;
      v15 = __PAIR__(v9, v8) - v24 + 2;
      v16 = 0;
      v17 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v17 = 1;
      if ( (unsigned int)v15 > 2 )
        v16 = 1;
        v16 = v17;
      if ( v16 )
      {
        if ( (signed int)v11 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v5 + 48),
                   1024,
                   "async_shutdown cancelled");
        goto LABEL_52;
      }
    if ( __PAIR__(v24, HIDWORD(v24)) == -6442450945LL )
  v19 = __PAIR__(v9, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v19) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v19) = 1;
  if ( HIDWORD(v19) )
    LODWORD(v19) = 0;
  if ( (_DWORD)v19 )
    goto LABEL_67;
  if ( __PAIR__(v24, HIDWORD(v24)) == 0x80000000LL )
    v11 = -2147483649LL;
    goto LABEL_50;
  LODWORD(v11) = 0x7FFFFFFF;
  if ( !(HIDWORD(v24) ^ 0x7FFFFFFF | ~(_DWORD)v24) )
    v11 = 0x80000000LL;
  HIDWORD(v11) = -2;
  v9 = (__PAIR__(v9, v8) - v24) >> 32;
  v8 -= v24;
  if ( __PAIR__(v9, v8) != 9223372036854775806LL )
LABEL_67:
    if ( !(v9 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v11) = -1;
    if ( !(v8 | v9 ^ 0x80000000) )
      HIDWORD(v11) = v8 | v9 ^ 0x80000000;
      LODWORD(v11) = 2147483648;
LABEL_50:
  if ( v11 == 0x80000000LL )
LABEL_52:
  v21 = *v7;
  sub_21B09F0();
  if ( *(_BYTE *)(v21 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v21 + 52),
      *(_DWORD *)v21 + 20,
      v21 + 20,
      -1);
    *(_BYTE *)(v21 + 16) = 0;
  LODWORD(v24) = 0;
  HIDWORD(v24) = ((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v4 )
    if ( *v4 != 107 )
      v23 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v23 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      LODWORD(v24) = 2;
      HIDWORD(v24) = &websocketpp::transport::error::get_category(void)::instance;
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
        v5,
        4,
        "asio async_shutdown",
        v4);
    v22 = *(pthread_mutex_t **)(v5 + 48);
    if ( *((_BYTE *)&v22->__align + 5) & 4 )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        v22,
        1024,
        "asio con handle_async_shutdown");
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, __int64 *))(v6 + 12))(v6, &v24);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_basic_header(int a1, int a2, int a3, int a4, int a5))(_DWORD)
{
  int v5; // r1@1
  int v6; // r4@1
  unsigned int v7; // r0@1
  char v8; // r0@3
  signed int v9; // r2@6
  unsigned int v10; // r1@6
  int (__fastcall **v11)(_DWORD); // r0@6
  char v12; // r0@9
  char v13; // r0@13
  int (__fastcall *result)(_DWORD); // r0@18
  char v15; // r0@21
  char v16; // r0@27
  bool v17; // zf@31
  char v18; // r0@35
  signed int v19; // r1@41
  char v20; // r0@45
  signed int v21; // r0@49
  char v22; // r0@51
  char v23; // r0@57

  v5 = *(_BYTE *)a3;
  v6 = a1;
  v7 = v5 & 0xF;
  if ( v7 >= 8 && (*(_BYTE *)(a3 + 1) & 0x7Eu) >= 0x7E )
  {
    v8 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v8 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
    }
    v9 = 8;
    v10 = 0x3FFFFD21u;
    v11 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_18;
  }
  if ( v5 & 0x40 )
    v13 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v13 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    goto LABEL_17;
  if ( v5 & 0x30 )
    v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v12 & 1)
LABEL_17:
    v9 = 9;
LABEL_18:
    result = v11[v10];
    *(_DWORD *)v6 = v9;
    *(_DWORD *)(v6 + 4) = result;
    return result;
  if ( v7 <= 0xF && (1 << v7) & 0xF8F8 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v9 = 7;
  if ( v7 < 8 )
    v17 = v7 == 0;
    if ( !(v5 & 0xF) )
      v17 = a5 == 1;
    if ( v17 )
      v18 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v18 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      v11 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_39;
  else if ( v5 >= 0 )
    v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v16 & 1)
    v9 = 10;
  if ( !a5 )
    v19 = 0;
    if ( v7 < 8 )
      v19 = 1;
    if ( v7 && v19 == 1 )
      v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v20 & 1)
LABEL_39:
      v10 = 0x3FFFFD21u;
      v9 = 11;
      goto LABEL_18;
  v21 = *(_BYTE *)(a3 + 1);
  if ( a4 == 1 )
    if ( v21 >= 0 )
      v22 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v22 & 1)
      v9 = 12;
  else if ( v21 <= -1 )
    v23 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v23 & 1)
    v9 = 13;
  *(_DWORD *)v6 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v6 + 4) = result;
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed])", 20);
  v10 = *(pthread_mutex_t **)(v5 + 88);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


void __fastcall websocketpp::processor::hybi07<websocketpp::config::asio_client>::~hybi07(void *ptr)
{
  websocketpp::processor::hybi07<websocketpp::config::asio_client>::~hybi07(ptr);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_uri(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  int v5; // r3@1
  const char *v6; // r1@1
  void *v7; // r0@3
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+4h] [bp-1Ch]@3

  v3 = a1;
  v4 = a3;
  v5 = *(_BYTE *)(a2 + 4);
  v6 = "ws";
  if ( v5 )
    v6 = "wss";
  sub_21E94B4((void **)&v10, v6);
  j_websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request const>(v3, v4, &v10);
  v7 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  }
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_ping(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_client>::send(int a1, int a2, int a3)
{
  int v3; // r9@1
  int v4; // r6@1
  int v5; // r7@1
  pthread_mutex_t *v6; // r0@1
  int v7; // r0@3
  int v8; // r5@5
  __int64 v9; // r10@6
  unsigned int *v10; // r0@7
  unsigned int v11; // r1@8
  char v12; // r0@10
  unsigned int *result; // r0@13
  int v14; // r0@16
  void (__cdecl *v15)(MinecraftUnitTest::TestClassBase *); // r5@18
  int v16; // r0@18
  unsigned int *v17; // r0@19
  unsigned int v18; // r2@20
  unsigned int *v19; // r0@23
  unsigned int v20; // r2@24
  unsigned int *v21; // r0@27
  unsigned int v22; // r1@28
  unsigned int *v23; // r4@30
  unsigned int v24; // r0@31
  unsigned int *v25; // r0@35
  unsigned int v26; // r1@36
  unsigned int *v27; // r4@38
  unsigned int v28; // r0@39
  signed int v29; // r7@43
  signed int v30; // r5@43
  int v31; // r0@45
  unsigned int *v32; // r0@48
  unsigned int v33; // r1@49
  int v34; // r4@51
  unsigned int *v35; // r0@52
  unsigned int v36; // r1@53
  unsigned int *v37; // r5@55
  unsigned int v38; // r0@56
  int v39; // r8@64
  unsigned int v40; // r0@65
  unsigned int *v41; // r7@65
  unsigned int v42; // r1@66
  char v43; // r0@71
  unsigned int *v44; // r0@77
  unsigned int v45; // r1@78
  int v46; // r5@80
  unsigned int *v47; // r0@81
  unsigned int v48; // r1@82
  unsigned int *v49; // r4@84
  unsigned int v50; // r0@85
  int v51; // r10@69
  unsigned int v52; // r0@94
  unsigned int v53; // r0@96
  unsigned int *v54; // r4@98
  unsigned int v55; // r0@99
  unsigned int v56; // r0@103
  unsigned int v57; // r0@105
  unsigned int *v58; // r4@107
  unsigned int v59; // r0@108
  _DWORD *v60; // r0@111
  __int64 v61; // r0@111
  unsigned int v62; // r1@116
  unsigned int *v63; // r4@118
  int v64; // [sp+0h] [bp-70h]@111
  _DWORD *v65; // [sp+8h] [bp-68h]@111
  void (*v66)(void); // [sp+10h] [bp-60h]@111
  int (__fastcall *v67)(int *); // [sp+14h] [bp-5Ch]@111
  __int64 v68; // [sp+18h] [bp-58h]@76
  __int64 v69; // [sp+20h] [bp-50h]@22
  int v70; // [sp+28h] [bp-48h]@18
  int v71; // [sp+2Ch] [bp-44h]@18
  int v72; // [sp+30h] [bp-40h]@26
  char v73; // [sp+3Ch] [bp-34h]@15
  int v74; // [sp+40h] [bp-30h]@15
  int v75; // [sp+44h] [bp-2Ch]@47
  int v76; // [sp+48h] [bp-28h]@47

  v3 = a1;
  v4 = a2;
  v5 = a3;
  v6 = *(pthread_mutex_t **)(a2 + 19196);
  if ( *((_BYTE *)&v6->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v6,
      1024,
      "connection send");
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v7 )
    sub_21E5E14(v7);
  if ( *(_DWORD *)(v4 + 2500) == 1 )
  {
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
    v8 = *(_DWORD *)v5;
    if ( *(_BYTE *)(*(_DWORD *)v5 + 24) )
    {
      HIDWORD(v9) = *(_DWORD *)(v5 + 4);
      if ( HIDWORD(v9) )
      {
        v10 = (unsigned int *)(HIDWORD(v9) + 4);
        __dmb();
        do
          v11 = __ldrex(v10);
        while ( __strex(v11 + 1, v10) );
      }
      else
        HIDWORD(v9) = 0;
      v31 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2512));
      if ( v31 )
        sub_21E5E14(v31);
      v75 = v8;
      v76 = HIDWORD(v9);
        v32 = (unsigned int *)(HIDWORD(v9) + 4);
          v33 = __ldrex(v32);
        while ( __strex(v33 + 1, v32) );
      j_websocketpp::connection<websocketpp::config::asio_client>::write_push(v4, &v75);
      v34 = v76;
      if ( v76 )
        v35 = (unsigned int *)(v76 + 4);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 == 1 )
        {
          v37 = (unsigned int *)(v34 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
          __dmb();
          do
            v38 = __ldrex(v37);
          while ( __strex(v38 - 1, v37) );
          if ( v38 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
        }
      v30 = 0;
      if ( !*(_BYTE *)(v4 + 19024) && *(_DWORD *)(v4 + 18980) != *(_DWORD *)(v4 + 18964) )
        v30 = 1;
      j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2512));
    }
    else
      j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
        (int)&v73,
        *(_DWORD *)(v4 + 18920));
      v9 = *(_QWORD *)&v73;
      *(_DWORD *)&v73 = 0;
      v74 = 0;
      if ( !(_DWORD)v9 )
        v43 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v43 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
          websocketpp::error::get_category(void)::instance = &off_276CE14;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
        *(_DWORD *)v3 = 7;
        result = (unsigned int *)&websocketpp::error::get_category(void)::instance;
        *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
        goto LABEL_114;
      v14 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2512));
      if ( v14 )
        sub_21E5E14(v14);
      v15 = *(void (__cdecl **)(MinecraftUnitTest::TestClassBase *))(**(_DWORD **)(v4 + 18948) + 72);
      v70 = *(_DWORD *)v5;
      v16 = *(_DWORD *)(v5 + 4);
      v71 = v16;
      if ( v16 )
        v17 = (unsigned int *)(v16 + 4);
          v18 = __ldrex(v17);
        while ( __strex(v18 + 1, v17) );
      v69 = v9;
        v19 = (unsigned int *)(HIDWORD(v9) + 4);
          v20 = __ldrex(v19);
        while ( __strex(v20 + 1, v19) );
      v15((MinecraftUnitTest::TestClassBase *)&v72);
      if ( HIDWORD(v69) )
        v21 = (unsigned int *)(HIDWORD(v69) + 4);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          v23 = (unsigned int *)(HIDWORD(v69) + 8);
          (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v69) + 8))(HIDWORD(v69));
            v24 = __ldrex(v23);
          while ( __strex(v24 - 1, v23) );
          if ( v24 == 1 )
            (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v69) + 12))(HIDWORD(v69));
      if ( v71 )
        v25 = (unsigned int *)(v71 + 4);
          v26 = __ldrex(v25);
        while ( __strex(v26 - 1, v25) );
        if ( v26 == 1 )
          v27 = (unsigned int *)(v71 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 8))(v71);
            v28 = __ldrex(v27);
          while ( __strex(v28 - 1, v27) );
          if ( v28 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 12))(v71);
      if ( v72 )
        v29 = 0;
        *(_QWORD *)v3 = *(_QWORD *)&v72;
        v30 = 0;
        v68 = v9;
        if ( HIDWORD(v9) )
          v44 = (unsigned int *)(HIDWORD(v9) + 4);
            v45 = __ldrex(v44);
          while ( __strex(v45 + 1, v44) );
        j_websocketpp::connection<websocketpp::config::asio_client>::write_push(v4, &v68);
        v46 = HIDWORD(v68);
        if ( HIDWORD(v68) )
          v47 = (unsigned int *)(HIDWORD(v68) + 4);
            v48 = __ldrex(v47);
          while ( __strex(v48 - 1, v47) );
          if ( v48 == 1 )
          {
            v49 = (unsigned int *)(v46 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 8))(v46);
            __dmb();
            do
              v50 = __ldrex(v49);
            while ( __strex(v50 - 1, v49) );
            if ( v50 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 12))(v46);
          }
        if ( !*(_BYTE *)(v4 + 19024) && *(_DWORD *)(v4 + 18980) != *(_DWORD *)(v4 + 18964) )
          v30 = 1;
        v29 = 1;
      result = (unsigned int *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2512));
      if ( !v29 )
LABEL_114:
          result = (unsigned int *)(HIDWORD(v9) + 4);
            v62 = __ldrex(result);
          while ( __strex(v62 - 1, result) );
          if ( v62 == 1 )
            v63 = (unsigned int *)(HIDWORD(v9) + 8);
            (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v9) + 8))(HIDWORD(v9));
              result = (unsigned int *)__ldrex(v63);
            while ( __strex((unsigned int)result - 1, v63) );
            if ( result == (unsigned int *)1 )
              result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v9) + 12))(HIDWORD(v9));
        return result;
    if ( v30 == 1 )
      v39 = *(_DWORD *)(v4 + 4);
      if ( !v39 )
        j_std::__throw_bad_weak_ptr();
      v40 = *(_DWORD *)(v39 + 4);
      v41 = (unsigned int *)(v39 + 4);
      do
        v42 = v40;
        if ( !v40 )
          j_std::__throw_bad_weak_ptr();
        v40 = __ldrex(v41);
      while ( v40 != v42 || __strex(v42 + 1, v41) );
      __dmb();
      v51 = *(_DWORD *)v4;
        v52 = __ldrex(v41);
      while ( __strex(v52 + 1, v41) );
        v53 = __ldrex(v41);
      while ( __strex(v53 - 1, v41) );
      if ( v53 == 1 )
        v54 = (unsigned int *)(v39 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 8))(v39);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 12))(v39);
        v56 = __ldrex(v41);
      while ( __strex(v56 + 1, v41) );
        v57 = __ldrex(v41);
      while ( __strex(v57 - 1, v41) );
      if ( v57 == 1 )
        v58 = (unsigned int *)(v39 + 8);
          v59 = __ldrex(v58);
        while ( __strex(v59 - 1, v58) );
        if ( v59 == 1 )
      v60 = j_operator new(0x10u);
      *v60 = websocketpp::connection<websocketpp::config::asio_client>::write_frame;
      v60[1] = 0;
      v60[2] = v51;
      v60[3] = v39;
      v65 = v60;
      v66 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_manager;
      v67 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_invoke;
      LODWORD(v61) = &v64;
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::dispatch(
        v61,
        (int)&v65);
      if ( v66 )
        v66();
    *(_DWORD *)v3 = 0;
    result = (unsigned int *)((int (*)(void))byte_21E9640)();
    *(_DWORD *)(v3 + 4) = result;
    goto LABEL_114;
  }
  v12 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v12 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  *(_DWORD *)v3 = 9;
  *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
  return (unsigned int *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::decode_client_key(int a1, int *a2, _DWORD *a3)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_client>::decode_client_key(a1, a2, a3);
}


unsigned int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_pong(int a1, int a2, int *a3, int a4)
{
  int *v4; // r5@1
  int v5; // r2@1
  unsigned int *v6; // r2@2
  unsigned int v7; // r3@3
  unsigned int *result; // r0@5
  int v9; // r4@5
  unsigned int v10; // r1@7
  unsigned int *v11; // r5@9
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1

  v4 = a3;
  v12 = *(_DWORD *)a4;
  v5 = *(_DWORD *)(a4 + 4);
  v13 = v5;
  if ( v5 )
  {
    v6 = (unsigned int *)(v5 + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
  }
  result = (unsigned int *)j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_control(
                             a1,
                             a2,
                             10,
                             v4,
                             &v12);
  v9 = v13;
  if ( v13 )
    result = (unsigned int *)(v13 + 4);
      v10 = __ldrex(result);
    while ( __strex(v10 - 1, result) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v11);
      while ( __strex((unsigned int)result - 1, v11) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    }
  return result;
}


int __fastcall websocketpp::exception::~exception(int a1)
{
  int v1; // r5@1
  int v2; // r1@1
  void *v3; // r0@1
  unsigned int *v5; // r1@3
  signed int v6; // r2@4

  v1 = a1;
  *(_DWORD *)a1 = &off_276CEA4;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v5 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 - 1, v5) );
    if ( v6 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  j_std::exception::~exception();
  return v1;
}


_DWORD *__fastcall websocketpp::transport::asio::tls_socket::connection::get_remote_endpoint(int *a1, int a2, int a3)
{
  int v3; // r4@1
  int *v4; // r9@1
  int v5; // r6@1
  char v6; // r0@2
  int *v7; // r6@5
  __int64 v8; // kr00_8@5
  const char *v9; // r0@5
  int v10; // r5@5
  int v11; // r0@6
  int v12; // r0@7
  char *v13; // r0@9
  char *v14; // r0@9
  void *v15; // r0@9
  void *v16; // r0@11
  unsigned int *v18; // r1@13
  signed int v19; // r2@14
  unsigned int *v20; // r1@17
  signed int v21; // r2@18
  int v22; // [sp+0h] [bp-108h]@9
  char v23; // [sp+4h] [bp-104h]@1
  int v24; // [sp+20h] [bp-E8h]@1
  void *v25; // [sp+24h] [bp-E4h]@1
  void **v26; // [sp+28h] [bp-E0h]@1
  int v27; // [sp+2Ch] [bp-DCh]@12
  int v28; // [sp+30h] [bp-D8h]@5
  void **v29; // [sp+34h] [bp-D4h]@7
  int v30; // [sp+50h] [bp-B8h]@12
  int v31; // [sp+58h] [bp-B0h]@11
  void **v32; // [sp+5Ch] [bp-ACh]@11
  char v33; // [sp+E7h] [bp-21h]@9

  v3 = a2;
  v4 = a1;
  v5 = a3;
  sub_21D103C((int)&v26, 24);
  v24 = 0;
  v25 = sub_21B09F0();
  j_boost::asio::basic_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>::remote_endpoint(
    (int)&v23,
    *(int **)(v3 + 28),
    (int)&v24);
  if ( v24 )
  {
    v6 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v6 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
    {
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    }
    *(_DWORD *)v5 = 3;
    *(_DWORD *)(v5 + 4) = &websocketpp::transport::asio::error::get_category(void)::instance;
    v7 = &v28;
    sub_21CBF38((char *)&v28, (int)"Error getting remote endpoint: ", 31);
    v8 = *(_QWORD *)&v24;
    v9 = (const char *)(*(int (__fastcall **)(void *))(*(_DWORD *)v25 + 8))(v25);
    v10 = (int)v9;
    if ( v9 )
      v11 = j_strlen_1(v9);
      sub_21CBF38((char *)&v28, v10, v11);
    else
      sub_21B583C((int)&v28 + *(_DWORD *)(v28 - 12), *(int *)((char *)&v28 + *(_DWORD *)(v28 - 12) + 20) | 1);
    v33 = 58;
    v13 = sub_21CBF38((char *)&v28, (int)&v33, 1);
    sub_21CC43C(v13, v8);
    sub_21CBF38((char *)&v28, (int)" (", 2);
    (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v8) + 12))(&v22);
    v14 = sub_21CBF38((char *)&v28, v22, *(_DWORD *)(v22 - 12));
    sub_21CBF38(v14, (int)")", 1);
    v15 = (void *)(v22 - 12);
    if ( (int *)(v22 - 12) != &dword_28898C0 )
      v20 = (unsigned int *)(v22 - 4);
      __dmb();
      do
        v21 = __ldrex(v20);
      while ( __strex(v21 - 1, v20) );
      if ( v21 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    sub_21CFED8(v4, (int)&v29);
  }
  else
    v12 = ((int (*)(void))byte_21E9640)();
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = v12;
    j_boost::asio::ip::operator<<<char,std::char_traits<char>,boost::asio::ip::tcp>();
  v26 = &off_26D3F94;
  v32 = &off_26D3FBC;
  *v7 = (int)&off_26D3FA8;
  v29 = &off_27734E8;
  v16 = (void *)(v31 - 12);
  if ( (int *)(v31 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v31 - 4);
    do
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
  v29 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v30);
  v26 = &off_276D0DC;
  v32 = &off_276D0F0;
  v27 = 0;
  return sub_21B6560(&v32);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_server_handshake_response(int a1, int a2, int a3, int a4)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_server_handshake_response(a1, a2, a3, a4);
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 96);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::connection(int a1, char a2, __int64 a3)
{
  int v3; // r4@1

  v3 = a1;
  *(_DWORD *)(a1 + 36) = 0;
  *(_DWORD *)(a1 + 24) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 12) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  *(_BYTE *)(a1 + 44) = a2;
  *(_QWORD *)(a1 + 48) = a3;
  *(_DWORD *)(a1 + 56) = &unk_28898CC;
  *(_DWORD *)(a1 + 60) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_BYTE *)(a1 + 1160) = 0;
  *(_BYTE *)(a1 + 2192) = 0;
  *(_DWORD *)(a1 + 2208) = 0;
  *(_DWORD *)(a1 + 2224) = 0;
  *(_DWORD *)(a1 + 2240) = 0;
  *(_DWORD *)(a1 + 2256) = 0;
  *(_DWORD *)(a1 + 2272) = 0;
  *(_DWORD *)(a1 + 96) = 0;
  *(_DWORD *)(a1 + 88) = 0;
  *(_DWORD *)(a1 + 92) = 0;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    (pthread_mutex_t *)a3,
    1024,
    "asio con transport constructor");
  return v3;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_write(int a1, int a2, _DWORD *a3)
{
  int v3; // r5@1
  int v4; // r8@1
  pthread_mutex_t *v5; // r0@1
  _DWORD *v6; // r9@1
  unsigned int v7; // r4@4
  unsigned int v8; // r7@4
  signed int v9; // r1@4
  signed __int64 v10; // r0@9
  bool v11; // zf@9
  bool v12; // zf@12
  signed int v13; // r1@17
  signed int v14; // r6@24
  unsigned __int64 v15; // kr20_8@24
  unsigned int v16; // r3@24
  bool v17; // zf@33
  unsigned __int64 v18; // r0@38
  int v19; // r4@55
  char v20; // r0@57
  void (__fastcall *v21)(int *, int, signed int); // r3@62
  int v22; // [sp+0h] [bp-40h]@63
  void (*v23)(void); // [sp+8h] [bp-38h]@62
  int v24; // [sp+Ch] [bp-34h]@63
  int v25; // [sp+10h] [bp-30h]@60
  void *v26; // [sp+14h] [bp-2Ch]@60
  __int64 v27; // [sp+18h] [bp-28h]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 92);
  v6 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection handle_proxy_write");
  *(_DWORD *)(v3 + 136) = *(_DWORD *)(v3 + 132);
  if ( *v6 == 125 )
    goto LABEL_53;
  v7 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 104) + 196) + 8) >> 32;
  v8 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 104) + 196) + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v27,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v9 = 0;
  if ( v8 + 2 < 3 )
    v9 = 1;
  if ( (__PAIR__(v7, v8) - 9223372036854775806LL) >> 32 )
    v9 = 0;
  if ( v9 )
  {
    v10 = -6442450945LL;
    v11 = (v7 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE) == 0;
    if ( v7 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE )
      v11 = -6442450945LL == __PAIR__(v27, HIDWORD(v27));
    if ( v11 )
      goto LABEL_52;
    LODWORD(v10) = 0x7FFFFFFF;
    HIDWORD(v10) = v7 ^ 0x7FFFFFFF | ~v8;
    v12 = HIDWORD(v10) == 0;
    if ( !HIDWORD(v10) )
      v12 = (HIDWORD(v27) ^ 0x7FFFFFFF | ~(_DWORD)v27) == 0;
    if ( v12 )
    {
      HIDWORD(v10) = -2;
    }
    v17 = (v7 ^ 0x80000000 | v8) == 0;
    if ( !(v7 ^ 0x80000000 | v8) )
      v17 = (HIDWORD(v27) ^ 0x80000000 | (unsigned int)v27) == 0;
    if ( v17 )
      v10 = -6442450945LL;
  }
  else
    v13 = 0;
    if ( (unsigned int)(v27 + 2) < 3 )
      v13 = 1;
    if ( (unsigned __int64)(v27 - 9223372036854775806LL) >> 32 )
      v13 = 0;
    if ( !v13 )
      v14 = 0;
      LODWORD(v10) = (__PAIR__(v7, v8) - v27) >> 32;
      HIDWORD(v10) = v8 - v27;
      v15 = __PAIR__(v7, v8) - v27 + 2;
      v16 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v16 = 1;
      if ( (unsigned int)v15 > 2 )
        v14 = 1;
        v14 = v16;
      if ( v14 )
      {
        if ( (signed int)v10 <= -1 )
          goto LABEL_53;
        goto LABEL_54;
      }
    if ( v27 == 9223372036854775806LL )
  v18 = __PAIR__(v7, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_70;
  if ( !(HIDWORD(v27) ^ 0x80000000 | (unsigned int)v27) )
    v10 = -2147483649LL;
    goto LABEL_52;
  LODWORD(v10) = 0x7FFFFFFF;
  if ( !(HIDWORD(v27) ^ 0x7FFFFFFF | ~(_DWORD)v27) )
    v10 = 0x80000000LL;
  HIDWORD(v10) = -2;
  v7 = (__PAIR__(v7, v8) - v27) >> 32;
  v8 -= v27;
  if ( __PAIR__(v7, v8) != 9223372036854775806LL )
LABEL_70:
    if ( !(v7 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v10) = -1;
    if ( !(v8 | v7 ^ 0x80000000) )
      HIDWORD(v10) = v8 | v7 ^ 0x80000000;
      LODWORD(v10) = 2147483648;
LABEL_52:
  if ( v10 == 0x80000000LL )
LABEL_53:
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v3 + 96),
      1,
      "write operation aborted");
    return;
LABEL_54:
  if ( *v6 )
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
      v3,
      4,
      "asio handle_proxy_write",
      v6);
    v19 = *(_DWORD *)(*(_DWORD *)(v3 + 104) + 196);
    sub_21B09F0();
    if ( *(_BYTE *)(v19 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v19 + 52),
        *(_DWORD *)v19 + 20,
        v19 + 20,
        -1);
      *(_BYTE *)(v19 + 16) = 0;
    v20 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v20 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v25 = 3;
    v26 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v25);
    v23 = 0;
    v21 = *(void (__fastcall **)(int *, int, signed int))(v4 + 8);
    if ( v21 )
      v21(&v22, v4, 2);
      v24 = *(_DWORD *)(v4 + 12);
      v23 = *(void (**)(void))(v4 + 8);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_read(
      (int)&v22);
    if ( v23 )
      v23();
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::negotiate_extensions(int a1, int a2, int a3)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::negotiate_extensions(a1, a2, a3);
}


void __fastcall websocketpp::http::parser::parser::append_header(int a1, _DWORD *a2, const void **a3)
{
  _DWORD *v3; // r5@1
  const void **v4; // r8@1
  int v5; // r1@1
  int v6; // r6@1
  signed int v7; // r2@1
  int v8; // r0@1
  signed int v9; // r2@1
  int v10; // r3@2
  bool v11; // zf@3
  _BYTE *v12; // r2@3
  bool v13; // zf@6
  int v14; // r2@10
  char *v15; // r4@21
  int *v16; // r0@21
  int v17; // r3@21
  int v18; // r7@23
  int v19; // r0@23
  const void **v20; // r2@23
  int v21; // r6@25
  int *v22; // r0@25
  const void **v23; // r5@25
  char *v24; // r0@26
  unsigned int *v25; // r1@29
  signed int v26; // r2@30
  char *v27; // [sp+8h] [bp-38h]@26
  int v28; // [sp+10h] [bp-30h]@21
  int v29; // [sp+18h] [bp-28h]@21
  int v30; // [sp+20h] [bp-20h]@21

  v3 = a2;
  v4 = a3;
  v5 = *a2;
  v6 = a1;
  v7 = *(_DWORD *)(v5 - 12);
  v8 = v5 + v7;
  v9 = v7 >> 2;
  if ( v9 >= 1 )
  {
    v10 = v9 + 1;
    do
    {
      v11 = byte_26A94BF[*(_BYTE *)v5] == 0;
      v12 = (_BYTE *)v5;
      if ( byte_26A94BF[*(_BYTE *)v5] )
      {
        v12 = (_BYTE *)(v5 + 1);
        v11 = byte_26A94BF[*(_BYTE *)(v5 + 1)] == 0;
      }
      if ( v11 )
        goto LABEL_20;
      v12 = (_BYTE *)(v5 + 2);
      v13 = byte_26A94BF[*(_BYTE *)(v5 + 2)] == 0;
      if ( byte_26A94BF[*(_BYTE *)(v5 + 2)] )
        v12 = (_BYTE *)(v5 + 3);
        v13 = byte_26A94BF[*(_BYTE *)(v5 + 3)] == 0;
      if ( v13 )
      --v10;
      v5 += 4;
    }
    while ( v10 > 1 );
  }
  v14 = v8 - v5;
  if ( v8 - v5 == 1 )
    v12 = (_BYTE *)v5;
    goto LABEL_19;
  if ( v14 == 2 )
  else
    if ( v14 != 3 )
      goto LABEL_23;
    if ( !byte_26A94BF[*(_BYTE *)v5] )
      goto LABEL_20;
    v12 = (_BYTE *)(v5 + 1);
  if ( byte_26A94BF[*v12] )
    ++v12;
LABEL_19:
    if ( byte_26A94BF[*v12] )
LABEL_20:
  if ( v12 != (_BYTE *)v8 )
    v15 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v30, "Invalid header name");
    sub_21E94B4((void **)&v29, (const char *)&unk_257BC67);
    v16 = (int *)sub_21E94B4((void **)&v28, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v15, &v30, 400, &v29, v16);
    j_j___cxa_throw_0(
      (int)v15,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v17);
LABEL_23:
  v18 = v6 + 4;
  v19 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v6 + 4,
          v3);
  v20 = (const void **)(v19 + 20);
  if ( v19 == v6 + 8 )
    v20 = (const void **)&dword_2880E54;
  v21 = sub_21E7D6C(v20, (const char *)&unk_257BC67);
  v22 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 v18,
                 v3);
  v23 = (const void **)v22;
  if ( v21 )
    v27 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v27, *((_DWORD *)*v4 - 3) + 2);
    sub_21E7408((const void **)&v27, ", ", 2u);
    sub_21E72F0((const void **)&v27, v4);
    sub_21E72F0(v23, (const void **)&v27);
    v24 = v27 - 12;
    if ( (int *)(v27 - 12) != &dword_28898C0 )
      v25 = (unsigned int *)(v27 - 4);
      __dmb();
      do
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    EntityInteraction::setInteractText(v22, (int *)v4);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(int a1, int a2, int a3, int a4)
{
  int v4; // r5@1
  int v5; // r6@1
  __int64 *v6; // r8@2
  __int64 v7; // r0@2
  __int64 v8; // r2@3
  char v9; // r0@4
  __int64 v10; // r0@9
  int v11; // r0@10
  int v12; // r1@11
  void (*v13)(void); // r3@13
  int v14; // r6@15
  void (__fastcall *v15)(char *, int, signed int); // r3@15
  char v16; // [sp+4h] [bp-5Ch]@16
  void (*v17)(void); // [sp+Ch] [bp-54h]@15
  int v18; // [sp+10h] [bp-50h]@16
  char v19; // [sp+14h] [bp-4Ch]@17
  void (*v20)(void); // [sp+20h] [bp-40h]@17
  __int64 v21; // [sp+28h] [bp-38h]@2
  int v22; // [sp+30h] [bp-30h]@7
  void *v23; // [sp+34h] [bp-2Ch]@7
  __int64 v24; // [sp+38h] [bp-28h]@11
  void (*v25)(void); // [sp+40h] [bp-20h]@10
  int v26; // [sp+44h] [bp-1Ch]@11

  v4 = a1;
  v5 = a4;
  if ( *(_DWORD *)(a1 + 2272) )
  {
    v21 = *(_QWORD *)&a2;
    v6 = (__int64 *)(a1 + 88);
    v7 = *(_QWORD *)(a1 + 92);
    if ( (_DWORD)v7 == HIDWORD(v7) )
    {
      HIDWORD(v10) = &v21;
      LODWORD(v10) = v4 + 88;
      j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v10);
    }
    else
      LODWORD(v8) = HIDWORD(v21);
      *(_QWORD *)v7 = v21;
      *(_DWORD *)(v4 + 92) += 8;
    v11 = 0;
    v25 = 0;
    HIDWORD(v8) = *(_DWORD *)(v5 + 8);
    if ( HIDWORD(v8) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(v8))(&v24, v5, 2);
      v11 = *(_DWORD *)(v5 + 12);
      v26 = *(_DWORD *)(v5 + 12);
      v12 = *(_DWORD *)(v5 + 8);
      v25 = *(void (**)(void))(v5 + 8);
      v8 = v24;
      v12 = 0;
    v24 = *(_QWORD *)(v4 + 2216);
    *(_QWORD *)(v4 + 2216) = v8;
    v25 = *(void (**)(void))(v4 + 2224);
    v13 = v25;
    *(_DWORD *)(v4 + 2224) = v12;
    v26 = *(_DWORD *)(v4 + 2228);
    *(_DWORD *)(v4 + 2228) = v11;
    if ( v13 )
      v13();
    v14 = *(_DWORD *)(v4 + 8);
    v17 = 0;
    v15 = *(void (__fastcall **)(char *, int, signed int))(v4 + 2272);
    if ( v15 )
      v15(&v16, v4 + 2264, 2);
      v18 = *(_DWORD *)(v4 + 2276);
      v17 = *(void (**)(void))(v4 + 2272);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v19,
      v4 + 1168,
      (int)&v16);
    j_boost::asio::async_write<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
      v14,
      v6,
      (int)&v19);
    if ( v20 )
      v20();
    if ( v17 )
      v17();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 48),
      1024,
      "async_write (single) called after async_shutdown");
    v9 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v22 = 10;
    v23 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v5 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v5 + 12))(v5, &v22);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::initialize_processor(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r11@1
  pthread_mutex_t **v4; // r8@2
  signed int v5; // r2@2
  __int64 v6; // r0@3
  int v7; // r7@3
  unsigned int *v8; // r0@4
  unsigned int v9; // r1@5
  unsigned int *v10; // r5@7
  unsigned int v11; // r0@8
  int v12; // r5@11
  unsigned int *v13; // r0@12
  unsigned int v14; // r1@13
  unsigned int *v15; // r7@15
  unsigned int v16; // r0@16
  _DWORD *result; // r0@20
  void *v18; // r0@21
  char v19; // r0@22
  void *v20; // r0@27
  _DWORD *i; // r4@28
  char *v22; // r0@29
  int *v23; // r0@30
  void *v24; // r0@30
  void *v25; // r0@31
  char v26; // r0@32
  void *v27; // r0@35
  void *v28; // r0@36
  unsigned int *v29; // r1@38
  signed int v30; // r2@39
  unsigned int *v31; // r1@42
  signed int v32; // r2@43
  unsigned int *v33; // r1@46
  signed int v34; // r2@47
  unsigned int *v35; // r1@50
  signed int v36; // r2@51
  unsigned int *v37; // r1@54
  signed int v38; // r2@55
  unsigned int *v39; // r1@58
  signed int v40; // r2@59
  int v41; // [sp+0h] [bp-108h]@30
  int v42; // [sp+8h] [bp-100h]@30
  int v43; // [sp+10h] [bp-F8h]@28
  void **v44; // [sp+14h] [bp-F4h]@28
  int v45; // [sp+18h] [bp-F0h]@37
  void **v46; // [sp+1Ch] [bp-ECh]@29
  void **v47; // [sp+20h] [bp-E8h]@30
  int v48; // [sp+3Ch] [bp-CCh]@37
  int v49; // [sp+44h] [bp-C4h]@36
  void **v50; // [sp+48h] [bp-C0h]@36
  char v51; // [sp+D0h] [bp-38h]@3
  int v52; // [sp+D4h] [bp-34h]@3
  int v53; // [sp+D8h] [bp-30h]@21
  int v54; // [sp+DCh] [bp-2Ch]@27

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4AFC),
    1024,
    "initialize_processor");
  if ( !j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 0x4A54) )
    goto LABEL_64;
  v4 = (pthread_mutex_t **)(v2 + 0x4AFC);
  v5 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v2 + 0x4A54);
  if ( v5 <= -1 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "BAD REQUEST: can't determine version");
    *(_DWORD *)(v2 + 19160) = 400;
    sub_21E94B4((void **)&v53, "Bad Request");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(0x4AC8 + v2),
      &v53);
    v18 = (void *)(v53 - 12);
    if ( (int *)(v53 - 12) != &dword_28898C0 )
    {
      v29 = (unsigned int *)(v53 - 4);
      __dmb();
      do
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    }
    v19 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v19 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v3 = 29;
    result = &websocketpp::error::get_category(void)::instance;
    goto LABEL_26;
  }
  j_websocketpp::connection<websocketpp::config::asio_client>::get_processor((int)&v51, v2, v5);
  v6 = *(_QWORD *)&v51;
  *(_DWORD *)&v51 = 0;
  v52 = 0;
  *(_DWORD *)(v2 + 0x4A04) = v6;
  v7 = *(_DWORD *)(v2 + 18952);
  *(_DWORD *)(v2 + 18952) = HIDWORD(v6);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v52;
  if ( v52 )
    v13 = (unsigned int *)(v52 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  if ( *(_DWORD *)(v2 + 0x4A04) )
LABEL_64:
    *(_DWORD *)v3 = 0;
    result = (_DWORD *)((int (*)(void))byte_21E9640)();
LABEL_26:
    *(_DWORD *)(v3 + 4) = result;
    return result;
    *v4,
    "BAD REQUEST: no processor for version");
  *(_DWORD *)(v2 + 19160) = 400;
  sub_21E94B4((void **)&v54, "Bad Request");
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(0x4AC8 + v2),
    &v54);
  v20 = (void *)(v54 - 12);
  if ( (int *)(v54 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v54 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  sub_21D103C((int)&v44, 24);
  sub_21E94B4((void **)&v43, (const char *)&unk_257BC67);
  for ( i = (_DWORD *)dword_2880E60; i != (_DWORD *)dword_2880E64; ++i )
    v22 = sub_21CBF38((char *)&v46, v43, *(_DWORD *)(v43 - 12));
    sub_21CC43C(v22, *i);
    sub_21E8190((void **)&v43, ",", (_BYTE *)1);
  sub_21E94B4((void **)&v42, "Sec-WebSocket-Version");
  sub_21CFED8(&v41, (int)&v47);
  v23 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 v2 + 19100,
                 &v42);
  EntityInteraction::setInteractText(v23, &v41);
  v24 = (void *)(v41 - 12);
  if ( (int *)(v41 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v41 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  v25 = (void *)(v42 - 12);
  if ( (int *)(v42 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v42 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v26 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  *(_DWORD *)v3 = 30;
  *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
  v27 = (void *)(v43 - 12);
  if ( (int *)(v43 - 12) != &dword_28898C0 )
    v37 = (unsigned int *)(v43 - 4);
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v44 = &off_26D3F94;
  v50 = &off_26D3FBC;
  v46 = &off_26D3FA8;
  v47 = &off_27734E8;
  v28 = (void *)(v49 - 12);
  if ( (int *)(v49 - 12) != &dword_28898C0 )
    v39 = (unsigned int *)(v49 - 4);
      v40 = __ldrex(v39);
    while ( __strex(v40 - 1, v39) );
    if ( v40 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  v47 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v48);
  v44 = &off_276D0DC;
  v50 = &off_276D0F0;
  v45 = 0;
  return sub_21B6560(&v50);
}


char *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r8@1
  int v6; // r6@1
  int v7; // r10@1
  int *v8; // r5@1
  int v9; // r0@1
  int *v10; // r1@1
  unsigned int v11; // r4@3
  void *v12; // r0@3
  int v13; // r0@4
  int *v14; // r1@4
  void *v15; // r0@6
  int v16; // r0@7
  int v17; // r6@7
  int *v18; // r5@7
  void *v19; // r0@7
  unsigned int v20; // r2@10
  _DWORD *v21; // r0@14
  int v22; // r2@14
  int v23; // r3@14
  int v24; // r7@14
  _DWORD *v25; // r1@14
  void *v26; // r0@16
  _DWORD *v27; // r0@17
  void *v28; // r0@18
  void *v29; // r0@19
  void *v30; // r0@20
  void *v31; // r0@21
  void *v32; // r0@22
  int v33; // r10@23
  int v34; // r0@23
  const void **v35; // r2@23
  int v36; // r7@25
  void *v37; // r0@25
  int v38; // r0@27
  const void **v39; // r2@27
  void *v40; // r0@29
  void *v41; // r0@30
  int v42; // r0@31
  const void **v43; // r2@31
  int v44; // r5@33
  int v45; // r6@33
  void *v46; // r0@33
  void *v47; // r0@35
  unsigned int v48; // r8@36
  void *v49; // r0@36
  int v50; // r4@37
  unsigned int *v51; // r0@38
  unsigned int v52; // r1@39
  unsigned int *v53; // r5@41
  unsigned int v54; // r0@42
  int *v55; // r0@47
  void *v56; // r0@47
  char *result; // r0@48
  unsigned int *v58; // r1@50
  signed int v59; // r2@51
  unsigned int *v60; // r1@54
  signed int v61; // r2@55
  unsigned int *v62; // r1@58
  signed int v63; // r2@59
  unsigned int *v64; // r1@62
  signed int v65; // r2@63
  unsigned int *v66; // r1@66
  signed int v67; // r2@67
  unsigned int *v68; // r1@70
  signed int v69; // r2@71
  unsigned int *v70; // r1@74
  signed int v71; // r2@75
  unsigned int *v72; // r1@78
  signed int v73; // r2@79
  unsigned int *v74; // r1@82
  signed int v75; // r2@83
  unsigned int *v76; // r1@86
  signed int v77; // r2@87
  unsigned int *v78; // r1@90
  signed int v79; // r2@91
  unsigned int *v80; // r1@94
  signed int v81; // r2@95
  unsigned int *v82; // r1@98
  signed int v83; // r2@99
  unsigned int *v84; // r1@102
  signed int v85; // r2@103
  unsigned int *v86; // r1@106
  signed int v87; // r2@107
  unsigned int *v88; // r1@110
  signed int v89; // r2@111
  unsigned int *v90; // r1@114
  signed int v91; // r2@115
  Vec3 *v92; // [sp+4h] [bp-D4h]@7
  int *v93; // [sp+8h] [bp-D0h]@7
  int v94; // [sp+Ch] [bp-CCh]@1
  int v95; // [sp+10h] [bp-C8h]@1
  int v96; // [sp+18h] [bp-C0h]@47
  int v97; // [sp+1Ch] [bp-BCh]@35
  int v98; // [sp+24h] [bp-B4h]@35
  int v99; // [sp+28h] [bp-B0h]@35
  int v100; // [sp+2Ch] [bp-ACh]@37
  int v101; // [sp+34h] [bp-A4h]@31
  int v102; // [sp+3Ch] [bp-9Ch]@27
  int v103; // [sp+44h] [bp-94h]@27
  int v104; // [sp+4Ch] [bp-8Ch]@23
  int v105; // [sp+54h] [bp-84h]@21
  int v106; // [sp+5Ch] [bp-7Ch]@21
  int v107; // [sp+64h] [bp-74h]@19
  int v108; // [sp+6Ch] [bp-6Ch]@19
  _DWORD *v109; // [sp+74h] [bp-64h]@16
  int v110; // [sp+78h] [bp-60h]@16
  int v111; // [sp+80h] [bp-58h]@14
  int v112; // [sp+88h] [bp-50h]@7
  int v113; // [sp+90h] [bp-48h]@4
  int v114; // [sp+98h] [bp-40h]@1
  char v115; // [sp+A0h] [bp-38h]@3
  int v116; // [sp+A4h] [bp-34h]@14
  int v117; // [sp+A8h] [bp-30h]@13
  int v118; // [sp+ACh] [bp-2Ch]@14
  RakNet *v119; // [sp+B0h] [bp-28h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  v119 = _stack_chk_guard;
  sub_21E94B4((void **)&v114, "Sec-WebSocket-Key1");
  v95 = v7 + 4;
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v7 + 4,
         &v114);
  v10 = (int *)(v9 + 20);
  v94 = v7 + 8;
  if ( v9 == v7 + 8 )
    v10 = &dword_2880E54;
  j_websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::decode_client_key(v6, v10, &v115);
  v11 = 0xFFFF4420;
  v12 = (void *)(v114 - 12);
  if ( (int *)(v114 - 12) != &dword_28898C0 )
  {
    v58 = (unsigned int *)(v114 - 4);
    __dmb();
    do
      v59 = __ldrex(v58);
    while ( __strex(v59 - 1, v58) );
    if ( v59 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  }
  sub_21E94B4((void **)&v113, "Sec-WebSocket-Key2");
  v13 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v95,
          &v113);
  v14 = (int *)(v13 + 20);
  if ( v13 == v94 )
    v14 = &dword_2880E54;
  j_websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::decode_client_key(
    v6,
    v14,
    (_DWORD *)((unsigned int)&v115 | 4));
  v15 = (void *)(v113 - 12);
  if ( (int *)(v113 - 12) != &dword_28898C0 )
    v60 = (unsigned int *)(v113 - 4);
      v61 = __ldrex(v60);
    while ( __strex(v61 - 1, v60) );
    if ( v61 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
  v92 = (Vec3 *)v6;
  v93 = v8;
  sub_21E94B4((void **)&v112, "Sec-WebSocket-Key3");
  v16 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          &v112);
  v17 = v16;
  v18 = (int *)(v16 + 20);
  v19 = (void *)(v112 - 12);
  if ( (int *)(v112 - 12) != &dword_28898C0 )
    v62 = (unsigned int *)(v112 - 4);
      v63 = __ldrex(v62);
    while ( __strex(v63 - 1, v62) );
    v11 = 0xFFFF4420;
    if ( v63 <= 0 )
      j_j_j_j__ZdlPv_9(v19);
  if ( v17 == v94 )
    v18 = &dword_2880E54;
  v20 = *(_DWORD *)(*v18 - 12);
  if ( v20 >= 8 )
    v20 = 8;
  if ( v20 )
    j___aeabi_memmove_1((int)&v117, *v18);
  sub_21E94B4((void **)&v111, "Sec-WebSocket-Key3");
  v21 = sub_21E7E80(0x10u, 0);
  v22 = *(_DWORD *)&v115;
  v23 = v116;
  v24 = v117;
  v21[6] = v118;
  v25 = *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11);
  v21[5] = v24;
  v21[4] = v23;
  v21[3] = v22;
  if ( v21 != v25 )
    v21[2] = 0;
    *v21 = 16;
    *((_BYTE *)v21 + 28) = byte_26C67B8[0];
  v109 = v21 + 3;
  j_websocketpp::md5::md5_hash_string((char *)&v110, (int *)&v109);
  j_websocketpp::http::parser::parser::append_header(a5, &v111, (const void **)&v110);
  v26 = (void *)(v110 - 12);
  if ( (int (__fastcall *)(_DWORD))(v110 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v64 = (unsigned int *)(v110 - 4);
      v65 = __ldrex(v64);
    while ( __strex(v65 - 1, v64) );
    if ( v65 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  v27 = v109 - 3;
  if ( (char *)(v109 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v66 = v109 - 1;
      v67 = __ldrex(v66);
    while ( __strex(v67 - 1, v66) );
    if ( v67 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v28 = (void *)(v111 - 12);
  if ( (int (__fastcall *)(_DWORD))(v111 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v68 = (unsigned int *)(v111 - 4);
      v69 = __ldrex(v68);
    while ( __strex(v69 - 1, v68) );
    if ( v69 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  sub_21E94B4((void **)&v108, "Upgrade");
  sub_21E94B4((void **)&v107, "WebSocket");
  j_websocketpp::http::parser::parser::append_header(a5, &v108, (const void **)&v107);
  v29 = (void *)(v107 - 12);
  if ( (int (__fastcall *)(_DWORD))(v107 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v70 = (unsigned int *)(v107 - 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 <= 0 )
      j_j_j_j__ZdlPv_9(v29);
  v30 = (void *)(v108 - 12);
  if ( (int (__fastcall *)(_DWORD))(v108 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v72 = (unsigned int *)(v108 - 4);
      v73 = __ldrex(v72);
    while ( __strex(v73 - 1, v72) );
    if ( v73 <= 0 )
      j_j_j_j__ZdlPv_9(v30);
  sub_21E94B4((void **)&v106, "Connection");
  sub_21E94B4((void **)&v105, "Upgrade");
  j_websocketpp::http::parser::parser::append_header(a5, &v106, (const void **)&v105);
  v31 = (void *)(v105 - 12);
  if ( (int (__fastcall *)(_DWORD))(v105 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v74 = (unsigned int *)(v105 - 4);
      v75 = __ldrex(v74);
    while ( __strex(v75 - 1, v74) );
    if ( v75 <= 0 )
      j_j_j_j__ZdlPv_9(v31);
  v32 = (void *)(v106 - 12);
  if ( (int (__fastcall *)(_DWORD))(v106 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v76 = (unsigned int *)(v106 - 4);
      v77 = __ldrex(v76);
    while ( __strex(v77 - 1, v76) );
    if ( v77 <= 0 )
      j_j_j_j__ZdlPv_9(v32);
  sub_21E94B4((void **)&v104, "Sec-WebSocket-Origin");
  v33 = a5 + 4;
  v34 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          a5 + 4,
          &v104);
  v35 = (const void **)(v34 + 20);
  if ( v34 == a5 + 8 )
    v35 = (const void **)&dword_2880E54;
  v36 = sub_21E7D6C(v35, (const char *)&unk_257BC67);
  v37 = (void *)(v104 - 12);
  if ( (int (__fastcall *)(_DWORD))(v104 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v78 = (unsigned int *)(v104 - 4);
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
  if ( !v36 )
    sub_21E94B4((void **)&v103, "Sec-WebSocket-Origin");
    sub_21E94B4((void **)&v102, "Origin");
    v38 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v95,
            &v102);
    v39 = (const void **)(v38 + 20);
    if ( v38 == v94 )
      v39 = (const void **)&dword_2880E54;
    j_websocketpp::http::parser::parser::append_header(a5, &v103, v39);
    v40 = (void *)(v102 - 12);
    if ( (int (__fastcall *)(_DWORD))(v102 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    {
      v84 = (unsigned int *)(v102 - 4);
      __dmb();
      do
        v85 = __ldrex(v84);
      while ( __strex(v85 - 1, v84) );
      if ( v85 <= 0 )
        j_j_j_j__ZdlPv_9(v40);
    }
    v41 = (void *)(v103 - 12);
    if ( (int (__fastcall *)(_DWORD))(v103 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v86 = (unsigned int *)(v103 - 4);
        v87 = __ldrex(v86);
      while ( __strex(v87 - 1, v86) );
      if ( v87 <= 0 )
        j_j_j_j__ZdlPv_9(v41);
  sub_21E94B4((void **)&v101, "Sec-WebSocket-Location");
  v42 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v33,
          &v101);
  v43 = (const void **)(v42 + 20);
  if ( v42 == a5 + 8 )
    v43 = (const void **)&dword_2880E54;
  v44 = sub_21E7D6C(v43, (const char *)&unk_257BC67);
  v45 = v5;
  v46 = (void *)(v101 - 12);
  if ( (int (__fastcall *)(_DWORD))(v101 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v80 = (unsigned int *)(v101 - 4);
      v81 = __ldrex(v80);
    while ( __strex(v81 - 1, v80) );
    if ( v81 <= 0 )
      j_j_j_j__ZdlPv_9(v46);
  if ( !v44 )
    (*(void (__fastcall **)(int, const Vec3 *))(*(_DWORD *)v92 + 48))((int)&v99, v92);
    sub_21E94B4((void **)&v98, "Sec-WebSocket-Location");
    j_websocketpp::uri::str((websocketpp::uri *)&v97, v99);
    j_websocketpp::http::parser::parser::append_header(a5, &v98, (const void **)&v97);
    v47 = (void *)(v97 - 12);
    if ( (int (__fastcall *)(_DWORD))(v97 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v88 = (unsigned int *)(v97 - 4);
        v89 = __ldrex(v88);
      while ( __strex(v89 - 1, v88) );
      if ( v89 <= 0 )
        j_j_j_j__ZdlPv_9(v47);
    v48 = v11;
    v49 = (void *)(v98 - 12);
    if ( (int (__fastcall *)(_DWORD))(v98 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v90 = (unsigned int *)(v98 - 4);
        v91 = __ldrex(v90);
      while ( __strex(v91 - 1, v90) );
      if ( v91 <= 0 )
        j_j_j_j__ZdlPv_9(v49);
    v50 = v100;
    if ( v100 )
      v51 = (unsigned int *)(v100 + 4);
        v52 = __ldrex(v51);
      while ( __strex(v52 - 1, v51) );
      if ( v52 == 1 )
      {
        v53 = (unsigned int *)(v50 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v50 + 8))(v50);
        __dmb();
        do
          v54 = __ldrex(v53);
        while ( __strex(v54 - 1, v53) );
        if ( v54 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v50 + 12))(v50);
      }
    v11 = v48;
  if ( sub_21E7D6C((const void **)v93, (const char *)&unk_257BC67) )
    sub_21E94B4((void **)&v96, "Sec-WebSocket-Protocol");
    v55 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v33,
                   &v96);
    EntityInteraction::setInteractText(v55, v93);
    v56 = (void *)(v96 - 12);
    if ( (int (__fastcall *)(_DWORD))(v96 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v82 = (unsigned int *)(v96 - 4);
        v83 = __ldrex(v82);
      while ( __strex(v83 - 1, v82) );
      if ( v83 <= 0 )
        j_j_j_j__ZdlPv_9(v56);
  *(_DWORD *)v45 = 0;
  *(_DWORD *)(v45 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v119);
  if ( _stack_chk_guard != v119 )
    j___stack_chk_fail_1((int)result);
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init_asio(int *a1, int a2, int a3)
{
  int v3; // r10@1
  int v4; // r4@1
  int *v5; // r8@1
  int v6; // r0@1
  int v7; // r1@2
  int v8; // r5@4
  unsigned int *v9; // r0@5
  unsigned int v10; // r1@6
  unsigned int *v11; // r6@8
  unsigned int v12; // r0@9
  int v13; // r5@12
  unsigned int *v14; // r0@13
  unsigned int v15; // r1@14
  unsigned int *v16; // r6@16
  unsigned int v17; // r0@17
  int v18; // r6@20
  __int64 *v19; // r7@21
  unsigned int v20; // r1@21
  unsigned int *v21; // r0@21
  unsigned int v22; // r2@22
  int v23; // r11@25
  unsigned int v24; // r1@26
  unsigned int v25; // r1@28
  unsigned int *v26; // r5@30
  unsigned int v27; // r0@31
  int v28; // r5@34
  int *v29; // r9@34
  unsigned int *v30; // r0@35
  unsigned int v31; // r1@36
  unsigned int *v32; // r6@38
  unsigned int v33; // r0@39
  int v34; // r8@42
  __int64 *v35; // r6@43
  unsigned int v36; // r1@43
  unsigned int *v37; // r0@43
  unsigned int v38; // r2@44
  int v39; // r5@47
  unsigned int v40; // r1@48
  unsigned int v41; // r1@50
  unsigned int *v42; // r7@52
  unsigned int v43; // r0@53
  int v44; // r7@56
  unsigned int *v45; // r0@57
  unsigned int v46; // r1@58
  unsigned int *v47; // r5@60
  unsigned int v48; // r0@61
  int v49; // ST08_4@64
  int v50; // r0@64
  unsigned int *v51; // r0@65
  unsigned int v52; // r1@66
  int v53; // ST00_4@68
  unsigned int *v54; // r0@69
  unsigned int v55; // r1@70
  unsigned int *v56; // r5@72
  unsigned int v57; // r0@73
  int result; // r0@76
  void (__fastcall *v59)(int, int, signed int); // r3@77
  void (__fastcall *v60)(int, int, signed int); // r3@79
  int v68; // [sp+Ch] [bp-6Ch]@64
  __int64 v69; // [sp+10h] [bp-68h]@56
  RakNet *(__fastcall *v70)(int, _DWORD *); // [sp+18h] [bp-60h]@56
  int v71; // [sp+1Ch] [bp-5Ch]@56
  int v72; // [sp+20h] [bp-58h]@56
  int v73; // [sp+24h] [bp-54h]@56
  __int64 v74; // [sp+28h] [bp-50h]@34
  RakNet *(__fastcall *v75)(int, _DWORD *, int); // [sp+30h] [bp-48h]@34
  int v76; // [sp+34h] [bp-44h]@34
  int v77; // [sp+38h] [bp-40h]@34
  int v78; // [sp+3Ch] [bp-3Ch]@34
  int v79; // [sp+44h] [bp-34h]@1
  int v80; // [sp+48h] [bp-30h]@1
  int v81; // [sp+4Ch] [bp-2Ch]@1
  char v82; // [sp+50h] [bp-28h]@1

  v3 = a3;
  v4 = a2;
  v5 = a1;
  *(_DWORD *)(a2 + 68) = a3;
  v80 = 0;
  v79 = a3;
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio10io_service6strandESaIS7_EJSt17reference_wrapperIS6_EEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
    &v81,
    0,
    (int)&v82,
    (unsigned int)&v79);
  v6 = v81;
  if ( v81 )
  {
    v7 = (*(int (**)(void))(*(_DWORD *)v81 + 16))();
    v6 = v81;
  }
  else
    v7 = 0;
  v81 = 0;
  *(_DWORD *)(v4 + 72) = v7;
  v8 = *(_DWORD *)(v4 + 76);
  *(_DWORD *)(v4 + 76) = v6;
  if ( v8 )
    v9 = (unsigned int *)(v8 + 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v8 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
    }
  v13 = v81;
    v14 = (unsigned int *)(v81 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
  v18 = *(_DWORD *)(v4 + 4);
  if ( !v18 )
    goto LABEL_82;
  v19 = *(__int64 **)(v4 + 72);
  v20 = *(_DWORD *)(v18 + 4);
  v21 = (unsigned int *)(v18 + 4);
  do
    v22 = v20;
    if ( !v20 )
      goto LABEL_82;
    v20 = __ldrex(v21);
  while ( v20 != v22 || __strex(v22 + 1, v21) );
  __dmb();
  v23 = *(_DWORD *)v4;
    v24 = __ldrex(v21);
  while ( __strex(v24 + 1, v21) );
    v25 = __ldrex(v21);
  while ( __strex(v25 - 1, v21) );
  if ( v25 == 1 )
    v26 = (unsigned int *)(v18 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
  v74 = *v19;
  v75 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_read;
  v76 = 0;
  v77 = v23;
  v78 = v18;
  j_std::function<void ()(boost::system::error_code const&,unsigned int)>::operator=<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(boost::system::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
    v4 + 2248,
    (int)&v74);
  v28 = v78;
  v29 = v5;
  if ( v78 )
    v30 = (unsigned int *)(v78 + 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 == 1 )
      v32 = (unsigned int *)(v28 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 8))(v28);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 12))(v28);
  v34 = *(_DWORD *)(v4 + 4);
  if ( !v34 )
LABEL_82:
    j_std::__throw_bad_weak_ptr();
  v35 = *(__int64 **)(v4 + 72);
  v36 = *(_DWORD *)(v34 + 4);
  v37 = (unsigned int *)(v34 + 4);
    v38 = v36;
    if ( !v36 )
    v36 = __ldrex(v37);
  while ( v36 != v38 || __strex(v38 + 1, v37) );
  v39 = *(_DWORD *)v4;
    v40 = __ldrex(v37);
  while ( __strex(v40 + 1, v37) );
    v41 = __ldrex(v37);
  while ( __strex(v41 - 1, v37) );
  if ( v41 == 1 )
    v42 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v69 = *v35;
  v70 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_write;
  v71 = 0;
  v72 = v39;
  v73 = v34;
    v4 + 2264,
    (int)&v69);
  v44 = v73;
  if ( v73 )
    v45 = (unsigned int *)(v73 + 4);
      v46 = __ldrex(v45);
    while ( __strex(v46 - 1, v45) );
    if ( v46 == 1 )
      v47 = (unsigned int *)(v44 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
  v49 = *(_DWORD *)(v4 + 72);
  v50 = *(_DWORD *)(v4 + 76);
  v68 = v50;
  if ( v50 )
    v51 = (unsigned int *)(v50 + 4);
      v52 = __ldrex(v51);
    while ( __strex(v52 + 1, v51) );
  v53 = *(_BYTE *)(v4 + 44);
  j_websocketpp::transport::asio::basic_socket::connection::init_asio((int)v29, v4, v3);
  if ( v68 )
    v54 = (unsigned int *)(v68 + 4);
      v55 = __ldrex(v54);
    while ( __strex(v55 - 1, v54) );
    if ( v55 == 1 )
      v56 = (unsigned int *)(v68 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v68 + 8))(v68);
        v57 = __ldrex(v56);
      while ( __strex(v57 - 1, v56) );
      if ( v57 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v68 + 12))(v68);
  result = *v29;
  if ( *v29 )
    v59 = *(void (__fastcall **)(int, int, signed int))(v4 + 2256);
    if ( v59 )
      v59(v4 + 2248, v4 + 2248, 3);
      result = 0;
      *(_DWORD *)(v4 + 2256) = 0;
      *(_DWORD *)(v4 + 2260) = 0;
    v60 = *(void (__fastcall **)(int, int, signed int))(v4 + 2272);
    if ( v60 )
      v60(v4 + 2264, v4 + 2264, 3);
      *(_DWORD *)(v4 + 2272) = 0;
      *(_DWORD *)(v4 + 2276) = 0;
  return result;
}


unsigned int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_ping(int a1, int a2, int *a3, int a4)
{
  int *v4; // r5@1
  int v5; // r2@1
  unsigned int *v6; // r2@2
  unsigned int v7; // r3@3
  unsigned int *result; // r0@5
  int v9; // r4@5
  unsigned int v10; // r1@7
  unsigned int *v11; // r5@9
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1

  v4 = a3;
  v12 = *(_DWORD *)a4;
  v5 = *(_DWORD *)(a4 + 4);
  v13 = v5;
  if ( v5 )
  {
    v6 = (unsigned int *)(v5 + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
  }
  result = (unsigned int *)j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_control(
                             a1,
                             a2,
                             9,
                             v4,
                             &v12);
  v9 = v13;
  if ( v13 )
    result = (unsigned int *)(v13 + 4);
      v10 = __ldrex(result);
    while ( __strex(v10 - 1, result) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v11);
      while ( __strex((unsigned int)result - 1, v11) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    }
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_open_handshake_timeout(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  unsigned __int64 *v3; // r5@1
  char v4; // r0@1
  unsigned __int64 v5; // kr00_8@4
  bool v6; // zf@4
  pthread_mutex_t *v7; // r5@7
  const void **v8; // r0@8
  int v9; // r7@8
  void *v10; // r0@9
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  char v13; // r0@15
  unsigned int *v14; // r1@20
  signed int v15; // r2@21
  signed int v16; // [sp+0h] [bp-28h]@18
  void *v17; // [sp+4h] [bp-24h]@18
  int v18; // [sp+8h] [bp-20h]@8
  const void *v19; // [sp+Ch] [bp-1Ch]@8

  v2 = a1;
  v3 = a2;
  v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
  __dmb();
  if ( !(v4 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
  {
    websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
  }
  v5 = *v3;
  v6 = *v3 >> 32 == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
  if ( (_UNKNOWN *)(*v3 >> 32) == &websocketpp::transport::error::get_category(void)::instance )
    v6 = (_DWORD)v5 == 5;
  if ( v6 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v2 + 19236),
      1024,
      "open handshake timer cancelled");
  else
    v7 = *(pthread_mutex_t **)(v2 + 19236);
    if ( (_DWORD)v5 )
    {
      (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v5) + 12))(&v18);
      v8 = sub_21E82D8(
             (const void **)&v18,
             0,
             (unsigned int)"open handle_open_handshake_timeout error: ",
             (_BYTE *)0x2A);
      v19 = *v8;
      v9 = (int)v19;
      *v8 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, (int *)&v19);
      if ( (int *)(v9 - 12) != &dword_28898C0 )
      {
        v14 = (unsigned int *)(v9 - 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v9 - 12));
      }
      v10 = (void *)(v18 - 12);
      if ( (int *)(v18 - 12) != &dword_28898C0 )
        v11 = (unsigned int *)(v18 - 4);
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
    }
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v2 + 19236),
        1024,
        "open handshake timer expired");
      v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v13 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v16 = 22;
      v17 = &websocketpp::error::get_category(void)::instance;
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v2, (unsigned __int64 *)&v16);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_close(int a1, int a2, int a3, int a4, int a5)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_close(a1, a2, a3, a4, a5);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init_asio(int *a1, int a2, int a3)
{
  int *v3; // r10@1
  int v4; // r4@1
  int *v5; // r8@1
  int v6; // r0@1
  int v7; // r1@2
  int v8; // r5@4
  unsigned int *v9; // r0@5
  unsigned int v10; // r1@6
  unsigned int *v11; // r6@8
  unsigned int v12; // r0@9
  int v13; // r5@12
  unsigned int *v14; // r0@13
  unsigned int v15; // r1@14
  unsigned int *v16; // r6@16
  unsigned int v17; // r0@17
  int v18; // r6@20
  __int64 *v19; // r7@21
  unsigned int v20; // r1@21
  unsigned int *v21; // r0@21
  unsigned int v22; // r2@22
  int v23; // r11@25
  unsigned int v24; // r1@26
  unsigned int v25; // r1@28
  unsigned int *v26; // r5@30
  unsigned int v27; // r0@31
  int v28; // r5@34
  int *v29; // r9@34
  unsigned int *v30; // r0@35
  unsigned int v31; // r1@36
  unsigned int *v32; // r6@38
  unsigned int v33; // r0@39
  int v34; // r8@42
  __int64 *v35; // r6@43
  unsigned int v36; // r1@43
  unsigned int *v37; // r0@43
  unsigned int v38; // r2@44
  int v39; // r5@47
  unsigned int v40; // r1@48
  unsigned int v41; // r1@50
  unsigned int *v42; // r7@52
  unsigned int v43; // r0@53
  int v44; // r7@56
  unsigned int *v45; // r0@57
  unsigned int v46; // r1@58
  unsigned int *v47; // r5@60
  unsigned int v48; // r0@61
  int v49; // r0@64
  unsigned int *v50; // r0@65
  unsigned int v51; // r1@66
  int v52; // r6@68
  unsigned int *v53; // r0@69
  unsigned int v54; // r1@70
  unsigned int *v55; // r5@72
  unsigned int v56; // r0@73
  int result; // r0@76
  void (__fastcall *v58)(int, int, signed int); // r3@77
  void (__fastcall *v59)(int, int, signed int); // r3@79
  int v67; // [sp+8h] [bp-70h]@64
  int v68; // [sp+Ch] [bp-6Ch]@64
  __int64 v69; // [sp+10h] [bp-68h]@56
  RakNet *(__fastcall *v70)(int, _DWORD *); // [sp+18h] [bp-60h]@56
  int v71; // [sp+1Ch] [bp-5Ch]@56
  int v72; // [sp+20h] [bp-58h]@56
  int v73; // [sp+24h] [bp-54h]@56
  __int64 v74; // [sp+28h] [bp-50h]@34
  RakNet *(__fastcall *v75)(int, int, int); // [sp+30h] [bp-48h]@34
  int v76; // [sp+34h] [bp-44h]@34
  int v77; // [sp+38h] [bp-40h]@34
  int v78; // [sp+3Ch] [bp-3Ch]@34
  int v79; // [sp+44h] [bp-34h]@1
  int v80; // [sp+48h] [bp-30h]@1
  int v81; // [sp+4Ch] [bp-2Ch]@1
  char v82; // [sp+50h] [bp-28h]@1

  v3 = (int *)a3;
  v4 = a2;
  v5 = a1;
  *(_DWORD *)(a2 + 112) = a3;
  v80 = 0;
  v79 = a3;
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio10io_service6strandESaIS7_EJSt17reference_wrapperIS6_EEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
    &v81,
    0,
    (int)&v82,
    (unsigned int)&v79);
  v6 = v81;
  if ( v81 )
  {
    v7 = (*(int (**)(void))(*(_DWORD *)v81 + 16))();
    v6 = v81;
  }
  else
    v7 = 0;
  v81 = 0;
  *(_DWORD *)(v4 + 116) = v7;
  v8 = *(_DWORD *)(v4 + 120);
  *(_DWORD *)(v4 + 120) = v6;
  if ( v8 )
    v9 = (unsigned int *)(v8 + 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v8 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
    }
  v13 = v81;
    v14 = (unsigned int *)(v81 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
  v18 = *(_DWORD *)(v4 + 4);
  if ( !v18 )
    goto LABEL_82;
  v19 = *(__int64 **)(v4 + 116);
  v20 = *(_DWORD *)(v18 + 4);
  v21 = (unsigned int *)(v18 + 4);
  do
    v22 = v20;
    if ( !v20 )
      goto LABEL_82;
    v20 = __ldrex(v21);
  while ( v20 != v22 || __strex(v22 + 1, v21) );
  __dmb();
  v23 = *(_DWORD *)v4;
    v24 = __ldrex(v21);
  while ( __strex(v24 + 1, v21) );
    v25 = __ldrex(v21);
  while ( __strex(v25 - 1, v21) );
  if ( v25 == 1 )
    v26 = (unsigned int *)(v18 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
  v74 = *v19;
  v75 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_read;
  v76 = 0;
  v77 = v23;
  v78 = v18;
  j_std::function<void ()(boost::system::error_code const&,unsigned int)>::operator=<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(boost::system::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
    v4 + 2288,
    (int)&v74);
  v28 = v78;
  v29 = v5;
  if ( v78 )
    v30 = (unsigned int *)(v78 + 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 == 1 )
      v32 = (unsigned int *)(v28 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 8))(v28);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 12))(v28);
  v34 = *(_DWORD *)(v4 + 4);
  if ( !v34 )
LABEL_82:
    j_std::__throw_bad_weak_ptr();
  v35 = *(__int64 **)(v4 + 116);
  v36 = *(_DWORD *)(v34 + 4);
  v37 = (unsigned int *)(v34 + 4);
    v38 = v36;
    if ( !v36 )
    v36 = __ldrex(v37);
  while ( v36 != v38 || __strex(v38 + 1, v37) );
  v39 = *(_DWORD *)v4;
    v40 = __ldrex(v37);
  while ( __strex(v40 + 1, v37) );
    v41 = __ldrex(v37);
  while ( __strex(v41 - 1, v37) );
  if ( v41 == 1 )
    v42 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v69 = *v35;
  v70 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_write;
  v71 = 0;
  v72 = v39;
  v73 = v34;
    v4 + 2304,
    (int)&v69);
  v44 = v73;
  if ( v73 )
    v45 = (unsigned int *)(v73 + 4);
      v46 = __ldrex(v45);
    while ( __strex(v46 - 1, v45) );
    if ( v46 == 1 )
      v47 = (unsigned int *)(v44 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
  v67 = *(_DWORD *)(v4 + 116);
  v49 = *(_DWORD *)(v4 + 120);
  v68 = v49;
  if ( v49 )
    v50 = (unsigned int *)(v49 + 4);
      v51 = __ldrex(v50);
    while ( __strex(v51 + 1, v50) );
  j_websocketpp::transport::asio::tls_socket::connection::init_asio((int)v29, v4, v3, (int)&v67, *(_BYTE *)(v4 + 88));
  v52 = v68;
  if ( v68 )
    v53 = (unsigned int *)(v68 + 4);
      v54 = __ldrex(v53);
    while ( __strex(v54 - 1, v53) );
    if ( v54 == 1 )
      v55 = (unsigned int *)(v52 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 8))(v52);
        v56 = __ldrex(v55);
      while ( __strex(v56 - 1, v55) );
      if ( v56 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 12))(v52);
  result = *v29;
  if ( *v29 )
    v58 = *(void (__fastcall **)(int, int, signed int))(v4 + 2296);
    if ( v58 )
      v58(v4 + 2288, v4 + 2288, 3);
      result = 0;
      *(_DWORD *)(v4 + 2296) = 0;
      *(_DWORD *)(v4 + 2300) = 0;
    v59 = *(void (__fastcall **)(int, int, signed int))(v4 + 2312);
    if ( v59 )
      v59(v4 + 2304, v4 + 2304, 3);
      *(_DWORD *)(v4 + 2312) = 0;
      *(_DWORD *)(v4 + 2316) = 0;
  return result;
}


void *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init_asio(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  int v5; // r6@1
  char v6; // r0@2
  void *result; // r0@5
  int v8; // r0@6
  int v9; // r1@7
  int v10; // r6@9
  unsigned int *v11; // r0@10
  unsigned int v12; // r1@11
  unsigned int *v13; // r7@13
  unsigned int v14; // r0@14
  int v15; // r6@17
  unsigned int *v16; // r0@18
  unsigned int v17; // r1@19
  unsigned int *v18; // r7@21
  unsigned int v19; // r0@22
  int v20; // [sp+4h] [bp-24h]@6
  int v21; // [sp+8h] [bp-20h]@6
  int v22; // [sp+Ch] [bp-1Ch]@6
  char v23; // [sp+10h] [bp-18h]@6

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( *(_DWORD *)(a1 + 112) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(a1 + 104),
      2,
      "asio::init_asio called from the wrong state");
    v6 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v6 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v4 = 9;
    result = &websocketpp::error::get_category(void)::instance;
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 108),
      1024,
      "asio::init_asio");
    *(_DWORD *)(v3 + 64) = v5;
    *(_BYTE *)(v3 + 68) = 1;
    v21 = 0;
    v20 = v5;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio21basic_socket_acceptorINS5_2ip3tcpENS5_23socket_acceptor_serviceIS8_EEEESaISB_EJSt17reference_wrapperINS5_10io_serviceEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v22,
      0,
      (int)&v23,
      (int **)&v20);
    v8 = v22;
    if ( v22 )
      v9 = (*(int (**)(void))(*(_DWORD *)v22 + 16))();
      v8 = v22;
    else
      v9 = 0;
    v22 = 0;
    *(_DWORD *)(v3 + 72) = v9;
    v10 = *(_DWORD *)(v3 + 76);
    *(_DWORD *)(v3 + 76) = v8;
    if ( v10 )
      v11 = (unsigned int *)(v10 + 4);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v10 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      }
    v15 = v22;
      v16 = (unsigned int *)(v22 + 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        v18 = (unsigned int *)(v15 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
          v19 = __ldrex(v18);
        while ( __strex(v19 - 1, v18) );
        if ( v19 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
    *(_DWORD *)(v3 + 112) = 1;
    result = (void *)((int (*)(void))byte_21E9640)();
    *(_DWORD *)v4 = 0;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_client>::send(int a1, int a2, char *a3, int a4, int a5)
{
  int v5; // r9@1
  int v6; // r4@1
  char *v7; // r6@1
  unsigned int v8; // r7@1
  const void **v9; // r5@1
  unsigned int *v10; // r0@2
  unsigned int v11; // r1@3
  unsigned int *result; // r0@5
  int v13; // r4@5
  unsigned int v14; // r1@7
  unsigned int *v15; // r5@9
  int v16; // r4@13
  unsigned int v17; // r1@15
  unsigned int *v18; // r5@17
  int v19; // [sp+4h] [bp-2Ch]@1
  int v20; // [sp+8h] [bp-28h]@1
  int v21; // [sp+Ch] [bp-24h]@1
  int v22; // [sp+10h] [bp-20h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
    (int)&v21,
    *(_DWORD *)(a2 + 18920),
    a5,
    a4);
  v9 = (const void **)(v21 + 16);
  sub_21E6FCC((const void **)(v21 + 16), *(_DWORD *)(*(_DWORD *)(v21 + 16) - 12) + v8);
  sub_21E7408(v9, v7, v8);
  v19 = v21;
  v20 = v22;
  if ( v22 )
  {
    v10 = (unsigned int *)(v22 + 4);
    __dmb();
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 + 1, v10) );
  }
  result = j_websocketpp::connection<websocketpp::config::asio_client>::send(v5, v6, (int)&v19);
  v13 = v20;
  if ( v20 )
    result = (unsigned int *)(v20 + 4);
      v14 = __ldrex(result);
    while ( __strex(v14 - 1, result) );
    if ( v14 == 1 )
    {
      v15 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v15);
      while ( __strex((unsigned int)result - 1, v15) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
    }
  v16 = v22;
    result = (unsigned int *)(v22 + 4);
      v17 = __ldrex(result);
    while ( __strex(v17 - 1, result) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v16 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
        result = (unsigned int *)__ldrex(v18);
      while ( __strex((unsigned int)result - 1, v18) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
  return result;
}


void __fastcall websocketpp::error::category::~category(websocketpp::error::category *this)
{
  websocketpp::error::category::~category(this);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(int a1, unsigned __int64 *a2, __int64 a3)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(
    a1,
    a2,
    a3);
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_read_frame(int a1, __int64 *a2, int a3)
{
  int v3; // r8@1
  int v4; // r4@1
  pthread_mutex_t **v5; // r5@3
  char *v6; // r7@4
  pthread_mutex_t *v7; // r7@4
  void *v8; // r0@4
  void *v9; // r0@5
  int v10; // r7@8
  unsigned int v11; // r9@8
  pthread_mutex_t *v12; // r6@11
  int *v13; // r2@11
  void *v14; // r0@11
  void *v15; // r0@12
  int v16; // r0@14
  unsigned int *v17; // r0@17
  unsigned int v18; // r1@18
  int v19; // r6@20
  unsigned int *v20; // r0@21
  unsigned int v21; // r1@22
  unsigned int *v22; // r7@24
  unsigned int v23; // r0@25
  int v24; // r1@31
  unsigned int *v25; // r0@32
  unsigned int v26; // r1@33
  unsigned int *v27; // r0@36
  unsigned int v28; // r1@37
  int v29; // r6@39
  unsigned int *v30; // r0@40
  unsigned int v31; // r1@41
  unsigned int *v32; // r7@43
  unsigned int v33; // r0@44
  int v34; // r0@47
  unsigned int *v35; // r1@48
  unsigned int v36; // r2@49
  int v37; // r6@53
  unsigned int *v38; // r0@54
  unsigned int v39; // r1@55
  int v40; // r4@57
  unsigned int *v41; // r7@57
  unsigned int v42; // r0@58
  unsigned int *v43; // r1@63
  signed int v44; // r2@64
  bool v45; // nf@65
  int *v46; // r2@65
  unsigned int *v47; // r1@68
  signed int v48; // r2@69
  unsigned int *v49; // r1@72
  signed int v50; // r2@73
  int *v51; // r2@74
  unsigned int *v52; // r1@77
  signed int v53; // r2@78
  unsigned int *v54; // r1@81
  signed int v55; // r2@82
  unsigned int *v56; // r1@86
  signed int v57; // r2@87
  _DWORD *v58; // r0@90
  char *v59; // r0@92
  pthread_mutex_t *v60; // r6@92
  void *v61; // r0@92
  void *v62; // r0@93
  int v63; // r11@95
  int v64; // r4@95
  pthread_mutex_t *v65; // r7@96
  void *v66; // r0@96
  void *v67; // r0@97
  unsigned int v68; // r5@100 OVERLAPPED
  void *v69; // r6@100 OVERLAPPED
  char v70; // r0@100
  signed __int16 v71; // r6@104
  char v72; // r0@105
  char v73; // r0@109
  bool v74; // zf@112
  int v75; // r0@116
  int v76; // r1@118
  signed int v77; // r2@120
  const char *v78; // r1@120
  RakNet *result; // r0@121
  __int64 *v80; // r5@123
  const char *v81; // r2@123
  int v82; // r0@123
  int v83; // r0@124
  int *v84; // r1@124
  int v85; // r0@125
  char v86; // r0@130
  bool v87; // zf@133
  unsigned int *v88; // r1@142
  signed int v89; // r2@143
  unsigned int *v90; // r1@146
  signed int v91; // r2@147
  void *v92; // r0@156
  unsigned int *v93; // r1@159
  signed int v94; // r2@160
  char v95; // r0@163
  bool v96; // zf@166
  char v97; // r0@173
  unsigned int v98; // [sp+64h] [bp-37Ch]@91
  int *v99; // [sp+68h] [bp-378h]@8
  int v100; // [sp+6Ch] [bp-374h]@16
  int v101; // [sp+70h] [bp-370h]@16
  int v102; // [sp+74h] [bp-36Ch]@35
  int v103; // [sp+78h] [bp-368h]@35
  int v104; // [sp+7Ch] [bp-364h]@31
  int v105; // [sp+80h] [bp-360h]@31
  int v106; // [sp+84h] [bp-35Ch]@14
  int v107; // [sp+88h] [bp-358h]@16
  int v108; // [sp+8Ch] [bp-354h]@11
  void **v109; // [sp+90h] [bp-350h]@11
  int v110; // [sp+94h] [bp-34Ch]@13
  void **v111; // [sp+98h] [bp-348h]@11
  void **v112; // [sp+9Ch] [bp-344h]@11
  int v113; // [sp+B8h] [bp-328h]@13
  int v114; // [sp+C0h] [bp-320h]@12
  void **v115; // [sp+C4h] [bp-31Ch]@12
  int v116; // [sp+14Ch] [bp-294h]@156
  RakNet *v117; // [sp+150h] [bp-290h]@100
  int v118; // [sp+154h] [bp-28Ch]@100
  int v119; // [sp+158h] [bp-288h]@72
  void **v120; // [sp+15Ch] [bp-284h]@96
  int v121; // [sp+160h] [bp-280h]@98
  void **v122; // [sp+164h] [bp-27Ch]@96
  void **v123; // [sp+168h] [bp-278h]@96
  int v124; // [sp+184h] [bp-25Ch]@98
  int v125; // [sp+18Ch] [bp-254h]@77
  void **v126; // [sp+190h] [bp-250h]@97
  int v127; // [sp+218h] [bp-1C8h]@95
  int v128; // [sp+21Ch] [bp-1C4h]@95
  int v129; // [sp+220h] [bp-1C0h]@63
  void **v130; // [sp+224h] [bp-1BCh]@92
  int v131; // [sp+228h] [bp-1B8h]@94
  void **v132; // [sp+22Ch] [bp-1B4h]@92
  void **v133; // [sp+230h] [bp-1B0h]@92
  int v134; // [sp+24Ch] [bp-194h]@94
  int v135; // [sp+254h] [bp-18Ch]@68
  void **v136; // [sp+258h] [bp-188h]@93
  int v137; // [sp+2E0h] [bp-100h]@4
  void **v138; // [sp+2E4h] [bp-FCh]@4
  int v139; // [sp+2E8h] [bp-F8h]@6
  void **v140; // [sp+2ECh] [bp-F4h]@4
  void **v141; // [sp+2F0h] [bp-F0h]@4
  int v142; // [sp+30Ch] [bp-D4h]@6
  int v143; // [sp+314h] [bp-CCh]@5
  void **v144; // [sp+318h] [bp-C8h]@5
  int v145; // [sp+3A0h] [bp-40h]@171
  int v146; // [sp+3A4h] [bp-3Ch]@171
  int v147; // [sp+3A8h] [bp-38h]@125
  int v148; // [sp+3ACh] [bp-34h]@125
  __int64 v149; // [sp+3B0h] [bp-30h]@1

  v3 = a1;
  v4 = a3;
  v149 = *a2;
  if ( (_DWORD)v149 )
    goto LABEL_109;
  if ( *(_DWORD *)(a1 + 2504) != 7 )
  {
    v72 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v72 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    LODWORD(v149) = 9;
    HIDWORD(v149) = &websocketpp::error::get_category(void)::instance;
LABEL_109:
    v73 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v73 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v74 = HIDWORD(v149) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
    if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::transport::error::get_category(void)::instance )
      v74 = (_DWORD)v149 == 7;
    if ( v74 )
      v75 = *(_DWORD *)(v3 + 2500);
      if ( v75 == 2 )
      {
        if ( !*(_BYTE *)(v3 + 19192) )
        {
          v147 = 0;
          v85 = ((int (*)(void))byte_21E9640)();
          v84 = &v147;
          v148 = v85;
LABEL_126:
          v83 = v3;
          return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::terminate(
                             v83,
                             (unsigned __int64 *)v84);
        }
        v76 = 16;
LABEL_123:
        v80 = &v149;
        v81 = "handle_read_frame";
        v82 = v3;
LABEL_124:
        j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(v82, v76, v81, v80);
        v83 = v3;
        v84 = (int *)v80;
        return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::terminate(
                           v83,
                           (unsigned __int64 *)v84);
      }
      if ( v75 != 3 )
        goto LABEL_123;
      v77 = 0xFFE645E7;
      v78 = (const char *)&GLOBAL_OFFSET_TABLE_;
    else
      v86 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v86 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v87 = HIDWORD(v149) == (_DWORD)&websocketpp::error::get_category(void)::instance;
      if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::error::get_category(void)::instance )
        v87 = (_DWORD)v149 == 9;
      if ( !v87 )
        v95 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
        __dmb();
        if ( !(v95 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
          websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
        v96 = HIDWORD(v149) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
        if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::transport::error::get_category(void)::instance )
          v96 = (_DWORD)v149 == 8;
        if ( !v96 )
          v97 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
          __dmb();
          if ( !(v97 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
          {
            websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
          }
          v76 = 16;
          if ( (_DWORD)v149 == 10 )
            v76 = 4;
          if ( (_UNKNOWN *)HIDWORD(v149) != &websocketpp::transport::error::get_category(void)::instance )
            v76 = 16;
          goto LABEL_123;
        if ( *(_DWORD *)(v3 + 2500) == 3 )
          v145 = 0;
          v146 = ((int (*)(void))byte_21E9640)();
          v84 = &v145;
          goto LABEL_126;
      if ( *(_DWORD *)(v3 + 2500) != 3 )
      v77 = -1686017;
    return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
             *(pthread_mutex_t **)(v3 + 19196),
             1024,
             &v78[v77]);
  }
  v5 = (pthread_mutex_t **)(a1 + 19196);
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 19196) + 5) & 4 )
    sub_21D103C((int)&v138, 24);
    sub_21CBF38((char *)&v140, (int)"p = ", 4);
    v6 = sub_21CC440((char *)&v140);
    sub_21CBF38(v6, (int)" bytes transferred = ", 21);
    sub_21CC440(v6);
    v7 = *v5;
    sub_21CFED8(&v137, (int)&v141);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, &v137);
    v8 = (void *)(v137 - 12);
    if ( (int *)(v137 - 12) != &dword_28898C0 )
      v88 = (unsigned int *)(v137 - 4);
      do
        v89 = __ldrex(v88);
      while ( __strex(v89 - 1, v88) );
      if ( v89 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    v138 = &off_26D3F94;
    v144 = &off_26D3FBC;
    v140 = &off_26D3FA8;
    v141 = &off_27734E8;
    v9 = (void *)(v143 - 12);
    if ( (int *)(v143 - 12) != &dword_28898C0 )
      v90 = (unsigned int *)(v143 - 4);
        v91 = __ldrex(v90);
      while ( __strex(v91 - 1, v90) );
      if ( v91 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    v141 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v142);
    v138 = &off_276D0DC;
    v144 = &off_276D0F0;
    v139 = 0;
    sub_21B6560(&v144);
  if ( !v4 )
    return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::read_frame(v3);
  v10 = v3 + 18948;
  v11 = 0;
  v99 = &dword_28898C0;
  while ( 1 )
    v58 = (_DWORD *)*((_BYTE *)&(*v5)->__align + 5);
    if ( (unsigned __int8)v58 & 4 )
      sub_21D103C((int)&v130, 24);
      sub_21CBF38((char *)&v132, (int)"calling consume with ", 21);
      v59 = sub_21CC440((char *)&v132);
      sub_21CBF38(v59, (int)" bytes", 6);
      v60 = *v5;
      sub_21CFED8(&v129, (int)&v133);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v60, 1024, &v129);
      v46 = v99;
      v61 = (void *)(v129 - 12);
      v98 = v4;
      if ( (int *)(v129 - 12) != v99 )
        v43 = (unsigned int *)(v129 - 4);
        do
          v44 = __ldrex(v43);
        while ( __strex(v44 - 1, v43) );
        v74 = v44 == 0;
        v45 = v44 < 0;
        v46 = v99;
        if ( v45 || v74 )
          j_j_j_j__ZdlPv_9(v61);
          v46 = v99;
      v99 = v46;
      v130 = &off_26D3F94;
      v136 = &off_26D3FBC;
      v132 = &off_26D3FA8;
      v133 = &off_27734E8;
      v62 = (void *)(v135 - 12);
      if ( (int *)(v135 - 12) != v46 )
        v47 = (unsigned int *)(v135 - 4);
          v48 = __ldrex(v47);
        while ( __strex(v48 - 1, v47) );
        if ( v48 <= 0 )
          j_j_j_j__ZdlPv_9(v62);
      v133 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v134);
      v130 = &off_276D0DC;
      v136 = &off_276D0F0;
      v131 = 0;
      v58 = sub_21B6560(&v136);
    v127 = 0;
    v63 = ((int (__fastcall *)(_DWORD *))byte_21E9640)(v58);
    v64 = v10;
    v128 = v63;
    v11 += (*(int (**)(void))(**(_DWORD **)v10 + 52))();
    if ( *((_BYTE *)&(*v5)->__align + 5) & 4 )
      sub_21D103C((int)&v120, 24);
      sub_21CBF38((char *)&v122, (int)"bytes left after consume: ", 26);
      sub_21CC440((char *)&v122);
      v65 = *v5;
      sub_21CFED8(&v119, (int)&v123);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v65, 1024, &v119);
      v51 = v99;
      v66 = (void *)(v119 - 12);
      if ( (int *)(v119 - 12) != v99 )
        v49 = (unsigned int *)(v119 - 4);
          v50 = __ldrex(v49);
        while ( __strex(v50 - 1, v49) );
        v74 = v50 == 0;
        v45 = v50 < 0;
        v51 = v99;
          j_j_j_j__ZdlPv_9(v66);
          v51 = v99;
      v99 = v51;
      v120 = &off_26D3F94;
      v126 = &off_26D3FBC;
      v122 = &off_26D3FA8;
      v123 = &off_27734E8;
      v67 = (void *)(v125 - 12);
      if ( (int *)(v125 - 12) != v51 )
        v52 = (unsigned int *)(v125 - 4);
          v53 = __ldrex(v52);
        while ( __strex(v53 - 1, v52) );
        if ( v53 <= 0 )
          j_j_j_j__ZdlPv_9(v67);
      v123 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v124);
      v120 = &off_276D0DC;
      v126 = &off_276D0F0;
      v121 = 0;
      sub_21B6560(&v126);
    if ( v127 )
      break;
    v10 = v64;
    if ( (*(int (**)(void))(**(_DWORD **)v64 + 56))() == 1 )
      if ( *((_BYTE *)&(*v5)->__align + 5) & 4 )
        sub_21D103C((int)&v109, 24);
        sub_21CBF38((char *)&v111, (int)"Complete message received. Dispatching", 38);
        v12 = *v5;
        sub_21CFED8(&v108, (int)&v112);
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v12, 1024, &v108);
        v13 = v99;
        v14 = (void *)(v108 - 12);
        if ( (int *)(v108 - 12) != v99 )
          v54 = (unsigned int *)(v108 - 4);
          do
            v55 = __ldrex(v54);
          while ( __strex(v55 - 1, v54) );
          v74 = v55 == 0;
          v45 = v55 < 0;
          v13 = v99;
          if ( v45 || v74 )
            j_j_j_j__ZdlPv_9(v14);
            v13 = v99;
        v99 = v13;
        v109 = &off_26D3F94;
        v115 = &off_26D3FBC;
        v111 = &off_26D3FA8;
        v112 = &off_27734E8;
        v15 = (void *)(v114 - 12);
        if ( (int *)(v114 - 12) != v13 )
          v56 = (unsigned int *)(v114 - 4);
            v57 = __ldrex(v56);
          while ( __strex(v57 - 1, v56) );
          if ( v57 <= 0 )
            j_j_j_j__ZdlPv_9(v15);
        v112 = &off_26D40A8;
        sub_21C802C((unsigned int **)&v113);
        v109 = &off_276D0DC;
        v115 = &off_276D0F0;
        v110 = 0;
        sub_21B6560(&v115);
      (*(void (__fastcall **)(MinecraftUnitTest::TestClassBase *))(**(_DWORD **)v64 + 60))((MinecraftUnitTest::TestClassBase *)&v106);
      v16 = v106;
      if ( v106 )
        if ( *(_DWORD *)(v106 + 20) <= 7 )
          if ( *(_DWORD *)(v3 + 2500) == 1 )
            if ( *(_DWORD *)(v3 + 2476) )
            {
              v104 = *(_DWORD *)(v3 + 2316);
              v24 = *(_DWORD *)(v3 + 2320);
              v105 = v24;
              if ( v24 )
              {
                v25 = (unsigned int *)(v24 + 8);
                __dmb();
                do
                  v26 = __ldrex(v25);
                while ( __strex(v26 + 1, v25) );
                v16 = v106;
              }
              v102 = v16;
              v103 = v107;
              if ( v107 )
                v27 = (unsigned int *)(v107 + 4);
                  v28 = __ldrex(v27);
                while ( __strex(v28 + 1, v27) );
              j_std::function<void ()(std::weak_ptr<void>,std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>)>::operator()(
                v3 + 2468,
                (int)&v104,
                (int)&v102);
              v29 = v103;
              if ( v103 )
                v30 = (unsigned int *)(v103 + 4);
                  v31 = __ldrex(v30);
                while ( __strex(v31 - 1, v30) );
                if ( v31 == 1 )
                {
                  v32 = (unsigned int *)(v29 + 8);
                  (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
                  __dmb();
                  do
                    v33 = __ldrex(v32);
                  while ( __strex(v33 - 1, v32) );
                  v10 = v64;
                  if ( v33 == 1 )
                    (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
                }
              v34 = v105;
              if ( v105 )
                v35 = (unsigned int *)(v105 + 8);
                  v36 = __ldrex(v35);
                while ( __strex(v36 - 1, v35) );
                if ( v36 == 1 )
                  (*(void (**)(void))(*(_DWORD *)v34 + 12))();
            }
          else
            j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
              *(pthread_mutex_t **)(v3 + 19200),
              8,
              "got non-close frame while closing");
        else
          v100 = v106;
          v101 = v107;
          if ( v107 )
            v17 = (unsigned int *)(v107 + 4);
            __dmb();
            do
              v18 = __ldrex(v17);
            while ( __strex(v18 + 1, v17) );
          j_websocketpp::connection<websocketpp::config::asio_client>::process_control_frame(v3, (int)&v100);
          v19 = v101;
          if ( v101 )
            v20 = (unsigned int *)(v101 + 4);
              v21 = __ldrex(v20);
            while ( __strex(v21 - 1, v20) );
            if ( v21 == 1 )
              v22 = (unsigned int *)(v19 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 8))(v19);
              __dmb();
              do
                v23 = __ldrex(v22);
              while ( __strex(v23 - 1, v22) );
              v10 = v64;
              if ( v23 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 12))(v19);
      else
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          *v5,
          1024,
          "null message from m_processor");
      v37 = v107;
      if ( v107 )
        v38 = (unsigned int *)(v107 + 4);
          v39 = __ldrex(v38);
        while ( __strex(v39 - 1, v38) );
        if ( v39 == 1 )
          v40 = v10;
          v41 = (unsigned int *)(v37 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 8))(v37);
            v42 = __ldrex(v41);
          while ( __strex(v42 - 1, v41) );
          v10 = v40;
          if ( v42 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 12))(v37);
    v4 = v98;
    if ( v11 >= v98 )
      return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::read_frame(v3);
  j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(v3, 16, "consume", &v127);
  v117 = 0;
  v118 = v63;
  *(_QWORD *)&v68 = *(_QWORD *)&v127;
  v70 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v70 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  if ( v69 != &websocketpp::processor::error::get_processor_category(void)::instance )
    v71 = 0;
    goto LABEL_156;
  if ( v68 > 0x19 )
    goto LABEL_183;
  if ( (1 << v68) & 0x3003F88 )
    v71 = 1002;
  if ( (1 << v68) & 0x10020 )
    v71 = 1007;
  if ( v68 != 4 )
LABEL_183:
    v71 = 1011;
  else
    v71 = 1009;
LABEL_156:
  (*(void (__fastcall **)(int *))(*(_DWORD *)v128 + 12))(&v116);
  j_websocketpp::connection<websocketpp::config::asio_client>::close(v3, (unsigned __int16)v71, &v116, (int)&v117);
  v92 = (void *)(v116 - 12);
  if ( (int *)(v116 - 12) != &dword_28898C0 )
    v93 = (unsigned int *)(v116 - 4);
    do
      v94 = __ldrex(v93);
    while ( __strex(v94 - 1, v93) );
    if ( v94 <= 0 )
      j_j_j_j__ZdlPv_9(v92);
  result = v117;
  if ( v117 )
    v80 = (__int64 *)&v117;
    v81 = "Protocol error close frame ";
    v82 = v3;
    v76 = 32;
    goto LABEL_124;
  return result;
}


websocketpp::http::parser::response *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_raw(const void **a1, int a2, const websocketpp::http::parser::response *a3)
{
  const websocketpp::http::parser::response *v3; // r5@1
  const void **v4; // r4@1
  void *v5; // r0@1
  int v6; // r0@2
  const void **v7; // r1@2
  const void **v8; // r0@4
  void *v9; // r0@4
  void *v10; // r0@5
  unsigned int *v12; // r1@7
  signed int v13; // r2@8
  unsigned int *v14; // r1@11
  signed int v15; // r2@12
  unsigned int *v16; // r1@15
  signed int v17; // r2@16
  int v18; // [sp+8h] [bp-78h]@2
  int v19; // [sp+Ch] [bp-74h]@2
  int v20; // [sp+14h] [bp-6Ch]@1
  char v21; // [sp+18h] [bp-68h]@1
  int v22; // [sp+1Ch] [bp-64h]@1
  int v23; // [sp+60h] [bp-20h]@1
  int v24; // [sp+64h] [bp-1Ch]@1

  v3 = a3;
  v4 = a1;
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::response *)&v21, a3);
  sub_21E94B4((void **)&v20, "Sec-WebSocket-Key3");
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
    (int)&v23,
    (int)&v22,
    &v20);
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
    v23,
    v24);
  v5 = (void *)(v20 - 12);
  if ( (int *)(v20 - 12) != &dword_28898C0 )
  {
    v12 = (unsigned int *)(v20 - 4);
    __dmb();
    do
      v13 = __ldrex(v12);
    while ( __strex(v13 - 1, v12) );
    if ( v13 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  }
  j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v19, (int)&v21);
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Key3");
  v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         (int)v3 + 4,
         &v18);
  v7 = (const void **)(v6 + 20);
  if ( (const websocketpp::http::parser::response *)v6 == (const websocketpp::http::parser::response *)((char *)v3 + 8) )
    v7 = (const void **)&dword_2880E54;
  v8 = sub_21E72F0((const void **)&v19, v7);
  *v4 = *v8;
  *v8 = &unk_28898CC;
  v9 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v10 = (void *)(v19 - 12);
  if ( (int *)(v19 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v19 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  return j_websocketpp::http::parser::response::~response((websocketpp::http::parser::response *)&v21);
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
           a1,
           a2,
           a3,
           a4);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::log_fail_result(int a1)
{
  int v1; // r6@1
  signed int v2; // r7@1
  void *v3; // r0@1
  int v4; // r0@5
  int *v5; // r1@5
  void *v6; // r0@7
  unsigned int i; // r2@9
  unsigned int v8; // r7@10
  int v9; // r4@13
  _DWORD *v10; // r7@13
  char *v11; // r7@13
  int v12; // t1@13
  char *v13; // r0@13
  char *v14; // r0@14
  _BYTE *v15; // r0@15
  char *v16; // r0@16
  int v17; // r0@17
  void *v18; // r0@20
  char *v19; // r0@21
  pthread_mutex_t *v20; // r4@21
  void *v21; // r0@21
  void *v22; // r0@22
  void *v23; // r0@23
  unsigned int *v25; // r1@25
  signed int v26; // r2@26
  unsigned int *v27; // r1@29
  signed int v28; // r2@30
  unsigned int *v29; // r1@33
  signed int v30; // r2@34
  unsigned int *v31; // r1@37
  signed int v32; // r2@38
  unsigned int *v33; // r1@41
  signed int v34; // r2@42
  unsigned int *v35; // r1@45
  signed int v36; // r2@46
  unsigned int *v37; // r0@49
  signed int v38; // r1@50
  unsigned int *v39; // r1@53
  signed int v40; // r2@54
  unsigned int *v41; // r1@57
  signed int v42; // r2@58
  unsigned int *v43; // r1@61
  signed int v44; // r2@62
  int v45; // [sp+4h] [bp-10Ch]@21
  int v46; // [sp+Ch] [bp-104h]@18
  char *v47; // [sp+14h] [bp-FCh]@9
  _BYTE *v48; // [sp+1Ch] [bp-F4h]@9
  _DWORD *v49; // [sp+20h] [bp-F0h]@9
  int v50; // [sp+28h] [bp-E8h]@5
  int v51; // [sp+2Ch] [bp-E4h]@7
  int v52; // [sp+30h] [bp-E0h]@1
  void **v53; // [sp+34h] [bp-DCh]@1
  int v54; // [sp+38h] [bp-D8h]@24
  void **v55; // [sp+3Ch] [bp-D4h]@1
  void **v56; // [sp+40h] [bp-D0h]@21
  int v57; // [sp+5Ch] [bp-B4h]@24
  int v58; // [sp+64h] [bp-ACh]@23
  void **v59; // [sp+68h] [bp-A8h]@23

  v1 = a1;
  sub_21D103C((int)&v53, 24);
  v2 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v1 + 19068);
  sub_21CBF38((char *)&v55, (int)"WebSocket Connection ", 21);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(
    (void **)&v52,
    v1);
  sub_21CBF38((char *)&v55, v52, *(_DWORD *)(v52 - 12));
  v3 = (void *)(v52 - 12);
  if ( (int *)(v52 - 12) != &dword_28898C0 )
  {
    v25 = (unsigned int *)(v52 - 4);
    __dmb();
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  if ( v2 <= -1 )
    sub_21CBF38((char *)&v55, (int)" -", 2);
  else
    sub_21CBF38((char *)&v55, (int)" v", 2);
    sub_21CC43C(&v55, v2);
  sub_21E94B4((void **)&v50, "User-Agent");
  v4 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v1 + 19072,
         &v50);
  v5 = (int *)(v4 + 20);
  if ( v4 == v1 + 0x4A84 )
    v5 = &dword_2880E54;
  sub_21E8AF4(&v51, v5);
  v6 = (void *)(v50 - 12);
  if ( (int *)(v50 - 12) != &dword_28898C0 )
    v27 = (unsigned int *)(v50 - 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 - 1, v27) );
    if ( v28 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  if ( sub_21E7D6C((const void **)&v51, (const char *)&unk_257BC67) )
    sub_21CBF38((char *)&v55, (int)" \"", 2);
    sub_21E8AF4((int *)&v49, &v51);
    sub_21E94B4((void **)&v48, "\"");
    sub_21E94B4((void **)&v47, (const char *)&unk_25DA29F);
    for ( i = 0; ; i = *((_DWORD *)v47 - 3) + v8 )
    {
      v8 = sub_21E76A0((int *)&v49, v48, i, *((_DWORD *)v48 - 3));
      if ( v8 == -1 )
        break;
      sub_21E91FC((const void **)&v49, v8, *((_DWORD *)v48 - 3), v47, *((_BYTE **)v47 - 3));
    }
    v9 = (int)v49;
    v10 = v49;
    v49 = &unk_28898CC;
    v12 = *(v10 - 3);
    v11 = (char *)(v10 - 3);
    v13 = sub_21CBF38((char *)&v55, v9, v12);
    sub_21CBF38(v13, (int)"\" ", 2);
    if ( (int *)v11 != &dword_28898C0 )
      v37 = (unsigned int *)(v9 - 4);
      __dmb();
      do
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    v14 = v47 - 12;
    if ( (int *)(v47 - 12) != &dword_28898C0 )
      v39 = (unsigned int *)(v47 - 4);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    v15 = v48 - 12;
    if ( (int *)(v48 - 12) != &dword_28898C0 )
      v41 = (unsigned int *)(v48 - 4);
        v42 = __ldrex(v41);
      while ( __strex(v42 - 1, v41) );
      if ( v42 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v16 = (char *)(v49 - 3);
    if ( v49 - 3 != &dword_28898C0 )
      v43 = v49 - 1;
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 <= 0 )
        j_j_j_j__ZdlPv_9(v16);
    sub_21CBF38((char *)&v55, (int)" \"\" ", 4);
  v17 = *(_DWORD *)(v1 + 19208);
  if ( v17 )
    sub_21E8AF4(&v46, (int *)(v17 + 8));
    sub_21E94B4((void **)&v46, "-");
  sub_21CBF38((char *)&v55, v46, *(_DWORD *)(v46 - 12));
  v18 = (void *)(v46 - 12);
  if ( (int *)(v46 - 12) != &dword_28898C0 )
    v29 = (unsigned int *)(v46 - 4);
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 <= 0 )
      j_j_j_j__ZdlPv_9(v18);
  sub_21CBF38((char *)&v55, (int)" ", 1);
  sub_21CC43C(&v55, *(_DWORD *)(v1 + 19200));
  v19 = (char *)sub_21CC43C(&v55, *(_DWORD *)(v1 + 19264));
  sub_21CBF38(v19, (int)" ([message removed because boost causes crashes here])", 54);
  v20 = *(pthread_mutex_t **)(v1 + 19236);
  sub_21CFED8(&v45, (int)&v56);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v20, 0x2000, &v45);
  v21 = (void *)(v45 - 12);
  if ( (int *)(v45 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v45 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v21);
  v22 = (void *)(v51 - 12);
  if ( (int *)(v51 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v51 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v53 = &off_26D3F94;
  v59 = &off_26D3FBC;
  v55 = &off_26D3FA8;
  v56 = &off_27734E8;
  v23 = (void *)(v58 - 12);
  if ( (int *)(v58 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v58 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v23);
  v56 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v57);
  v53 = &off_276D0DC;
  v59 = &off_276D0F0;
  v54 = 0;
  return sub_21B6560(&v59);
}


int *__fastcall websocketpp::uri::uri(int *a1, int *a2, int *a3, int *a4)
{
  int *v4; // r5@1
  int *v5; // r7@1
  int *v6; // r6@1
  int *v7; // r4@1
  int v8; // r0@5
  signed __int16 v9; // r1@5
  int v10; // r0@9
  char v11; // r1@9
  int v12; // r0@10
  int *result; // r0@12

  v4 = a4;
  v5 = a3;
  v6 = a2;
  v7 = a1;
  sub_21E8AF4(a1, a2);
  sub_21E8AF4(v7 + 1, v5);
  if ( sub_21E7D6C((const void **)v4, (const char *)&unk_257BC67) )
    sub_21E8AF4(v7 + 2, v4);
  else
    sub_21E94B4((void **)v7 + 2, "/");
  if ( sub_21E7D6C((const void **)v6, "wss") )
  {
    v8 = sub_21E7D6C((const void **)v6, "https");
    v9 = 80;
    if ( !v8 )
      v9 = 443;
  }
    v9 = 443;
  *((_WORD *)v7 + 6) = v9;
  v10 = sub_21E7D6C((const void **)v6, "wss");
  v11 = 1;
  if ( v10 )
    v12 = sub_21E7D6C((const void **)v6, "https");
    v11 = 0;
    if ( !v12 )
      v11 = 1;
  *((_BYTE *)v7 + 14) = v11;
  result = v7;
  *((_BYTE *)v7 + 15) = 1;
  return result;
}


int *__fastcall websocketpp::uri::get_host_port(websocketpp::uri *this, int a2)
{
  int v2; // r6@1
  int *v3; // r5@1
  int v4; // r0@1
  signed int v5; // r2@1
  int v6; // r1@1
  int *result; // r0@4
  char *v8; // r7@5
  int v9; // r1@5
  void *v10; // r0@5
  unsigned int *v11; // r1@7
  signed int v12; // r2@8
  void **v13; // [sp+4h] [bp-D4h]@5
  int v14; // [sp+8h] [bp-D0h]@6
  void **v15; // [sp+Ch] [bp-CCh]@5
  void **v16; // [sp+10h] [bp-C8h]@5
  int v17; // [sp+2Ch] [bp-ACh]@6
  int v18; // [sp+34h] [bp-A4h]@5
  void **v19; // [sp+38h] [bp-A0h]@5

  v2 = a2;
  v3 = (int *)this;
  v4 = *(_BYTE *)(a2 + 14);
  v5 = 80;
  v6 = *(_WORD *)(a2 + 12);
  if ( v4 )
    v5 = 443;
  if ( v6 == v5 )
  {
    result = sub_21E8AF4(v3, (int *)(v2 + 4));
  }
  else
    sub_21D103C((int)&v13, 24);
    v8 = sub_21CBF38((char *)&v15, *(_DWORD *)(v2 + 4), *(_DWORD *)(*(_DWORD *)(v2 + 4) - 12));
    sub_21CBF38(v8, (int)":", 1);
    v9 = *(_WORD *)(v2 + 12);
    sub_21CC440(v8);
    sub_21CFED8(v3, (int)&v16);
    v13 = &off_26D3F94;
    v19 = &off_26D3FBC;
    v15 = &off_26D3FA8;
    v16 = &off_27734E8;
    v10 = (void *)(v18 - 12);
    if ( (int *)(v18 - 12) != &dword_28898C0 )
    {
      v11 = (unsigned int *)(v18 - 4);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 <= 0 )
        j_j_j_j__ZdlPv_9(v10);
    }
    v16 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v17);
    v13 = &off_276D0DC;
    v19 = &off_276D0F0;
    v14 = 0;
    result = sub_21B6560(&v19);
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_read(int a1, int a2)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_read(a1, a2);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_write(int a1)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_write(a1);
}


unsigned int *__fastcall websocketpp::client<websocketpp::config::asio_client>::get_connection(int a1, int a2, const void **a3, int a4)
{
  int v4; // r6@1
  int v5; // r5@1
  int v6; // r7@1
  int v7; // r4@1
  unsigned int *v8; // r0@5
  unsigned int v9; // r1@6
  unsigned int *result; // r0@8
  int v11; // r5@8
  unsigned int v12; // r1@10
  unsigned int *v13; // r4@12
  char v14; // r0@16
  int v15; // r4@20
  unsigned int v16; // r1@22
  unsigned int *v17; // r5@24
  int v18; // [sp+4h] [bp-2Ch]@4
  int v19; // [sp+8h] [bp-28h]@4
  int v20; // [sp+Ch] [bp-24h]@1
  int v21; // [sp+10h] [bp-20h]@1
  char v22; // [sp+14h] [bp-1Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a2;
  v7 = 0;
  v20 = 0;
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
    &v21,
    0,
    (int)&v22,
    a3);
  if ( v21 )
    v7 = (*(int (**)(void))(*(_DWORD *)v21 + 16))();
  v20 = v7;
  if ( *(_BYTE *)(v7 + 15) )
  {
    v18 = v7;
    v19 = v21;
    if ( v21 )
    {
      v8 = (unsigned int *)(v21 + 4);
      __dmb();
      do
        v9 = __ldrex(v8);
      while ( __strex(v9 + 1, v8) );
    }
    result = (unsigned int *)j_websocketpp::client<websocketpp::config::asio_client>::get_connection(
                               v4,
                               v6,
                               (unsigned __int64 *)&v18,
                               v5);
    v11 = v19;
    if ( v19 )
      result = (unsigned int *)(v19 + 4);
        v12 = __ldrex(result);
      while ( __strex(v12 - 1, result) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v11 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
        __dmb();
        do
          result = (unsigned int *)__ldrex(v13);
        while ( __strex((unsigned int)result - 1, v13) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
      }
  }
  else
    v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v14 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 6;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    result = 0;
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = 0;
  v15 = v21;
    result = (unsigned int *)(v21 + 4);
    do
      v16 = __ldrex(result);
    while ( __strex(v16 - 1, result) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v15 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
        result = (unsigned int *)__ldrex(v17);
      while ( __strex((unsigned int)result - 1, v17) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
  return result;
}


int *__fastcall websocketpp::uri::uri(int *a1, int *a2, int *a3, const char **a4, int *a5)
{
  const char **v5; // r9@1
  int *v6; // r6@1
  int *v7; // r5@1
  int *v8; // r4@1
  int v9; // r0@5
  char v10; // r1@5
  char v11; // r5@9
  int *result; // r0@9
  int v13; // [sp+4h] [bp-34h]@9
  int v14; // [sp+8h] [bp-30h]@9

  v5 = a4;
  v6 = a3;
  v7 = a2;
  v8 = a1;
  sub_21E8AF4(a1, a2);
  sub_21E8AF4(v8 + 1, v6);
  if ( sub_21E7D6C((const void **)a5, (const char *)&unk_257BC67) )
    sub_21E8AF4(v8 + 2, a5);
  else
    sub_21E94B4((void **)v8 + 2, "/");
  if ( sub_21E7D6C((const void **)v7, "wss") )
  {
    v9 = sub_21E7D6C((const void **)v7, "https");
    v10 = 0;
    if ( !v9 )
      v10 = 1;
  }
    v10 = 1;
  v11 = 0;
  *((_BYTE *)v8 + 14) = v10;
  v13 = 0;
  v14 = ((int (*)(void))byte_21E9640)();
  *((_WORD *)v8 + 6) = j_websocketpp::uri::get_port_from_string((int)v8, v5, (int)&v13);
  result = v8;
  if ( !v13 )
    v11 = 1;
  *((_BYTE *)v8 + 15) = v11;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(int a1, unsigned int a2, __int64 a3, int a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
           a1,
           a2,
           a3,
           a4);
}


void **__fastcall websocketpp::http::status_code::get_string(void **a1, signed int a2)
{
  void **result; // r0@3

  if ( a2 < 400 )
  {
    if ( a2 > 199 )
    {
      switch ( a2 )
      {
        case 300:
          result = sub_21E94B4(a1, "Multiple Choices");
          break;
        default:
          goto def_204D668;
        case 301:
          result = sub_21E94B4(a1, "Moved Permanently");
        case 302:
          result = sub_21E94B4(a1, "Found");
        case 303:
          result = sub_21E94B4(a1, "See Other");
        case 304:
          result = sub_21E94B4(a1, "Not Modified");
        case 305:
          result = sub_21E94B4(a1, "Use Proxy");
        case 307:
          result = sub_21E94B4(a1, "Temporary Redirect");
      }
    }
    else if ( a2 )
      if ( a2 == 100 )
        result = sub_21E94B4(a1, "Continue");
      else if ( a2 == 101 )
        result = sub_21E94B4(a1, "Switching Protocols");
      else
def_204D668:
        result = sub_21E94B4(a1, "Unknown");
    else
      result = sub_21E94B4(a1, "Uninitialized");
  }
  else
    switch ( a2 )
      case 500:
        result = sub_21E94B4(a1, "Internal Server Error");
        break;
      default:
        goto def_204D668;
      case 501:
        result = sub_21E94B4(a1, "Not Implemented");
      case 502:
        result = sub_21E94B4(a1, "Bad Gateway");
      case 503:
        result = sub_21E94B4(a1, "Service Unavailable");
      case 504:
        result = sub_21E94B4(a1, "Gateway Timeout");
      case 505:
        result = sub_21E94B4(a1, "HTTP Version Not Supported");
      case 510:
        result = sub_21E94B4(a1, "Not Extended");
      case 511:
        result = sub_21E94B4(a1, "Network Authentication Required");
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::read_frame(int a1)
{
  int v1; // r4@1
  int result; // r0@1
  void (__fastcall *v3)(char *, int, signed int); // r3@2
  __int64 v4; // r2@4
  char v5; // [sp+8h] [bp-18h]@3
  int (*v6)(void); // [sp+10h] [bp-10h]@2
  int v7; // [sp+14h] [bp-Ch]@3

  v1 = a1;
  result = *(_BYTE *)(a1 + 19065);
  if ( result )
  {
    v6 = 0;
    v3 = *(void (__fastcall **)(char *, int, signed int))(v1 + 2328);
    if ( v3 )
    {
      v3(&v5, v1 + 2320, 2);
      v7 = *(_DWORD *)(v1 + 2332);
      v6 = *(int (**)(void))(v1 + 2328);
    }
    LODWORD(v4) = v1 + 2556;
    HIDWORD(v4) = 0x4000;
    result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
               v1,
               1u,
               v4,
               (int)&v5);
    if ( v6 )
      result = v6();
  }
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::read_handshake(int a1, unsigned int a2)
{
  unsigned int v2; // r11@1
  int v3; // r5@1
  int v4; // r7@1
  int v5; // r9@2
  int *v6; // r10@2
  unsigned int v7; // r0@3
  unsigned int *v8; // r4@3
  unsigned int v9; // r1@4
  int v10; // r11@7
  unsigned int v11; // r0@8
  unsigned int v12; // r0@10
  unsigned int *v13; // r6@12
  unsigned int v14; // r0@13
  unsigned int v15; // r0@17
  unsigned int v16; // r0@19
  unsigned int *v17; // r6@21
  unsigned int v18; // r0@22
  _DWORD *v19; // r0@25
  __int64 v20; // r0@25
  int v21; // r6@25
  unsigned int *v22; // r0@26
  unsigned int v23; // r1@27
  unsigned int *v24; // r4@29
  unsigned int v25; // r0@30
  int v26; // r6@33
  unsigned int *v27; // r0@34
  unsigned int v28; // r1@35
  unsigned int *v29; // r4@37
  unsigned int v30; // r0@38
  int v31; // r6@44
  unsigned int v32; // r0@45
  unsigned int *v33; // r4@45
  unsigned int v34; // r1@46
  int v35; // r8@49
  unsigned int v36; // r0@50
  unsigned int v37; // r0@52
  unsigned int *v38; // r7@54
  unsigned int v39; // r0@55
  unsigned int v40; // r0@59
  unsigned int v41; // r0@61
  unsigned int *v42; // r7@63
  unsigned int v43; // r0@64
  _DWORD *v44; // r0@67
  __int64 v45; // r2@67
  int result; // r0@67
  unsigned int v54; // [sp+8h] [bp-50h]@3
  _DWORD *v55; // [sp+Ch] [bp-4Ch]@67
  int (*v56)(void); // [sp+14h] [bp-44h]@67
  int (__fastcall *v57)(int *); // [sp+18h] [bp-40h]@67
  _DWORD *v58; // [sp+1Ch] [bp-3Ch]@25
  void (*v59)(void); // [sp+24h] [bp-34h]@25
  int (__fastcall *v60)(int *); // [sp+28h] [bp-30h]@25
  char v61; // [sp+2Ch] [bp-2Ch]@25
  int v62; // [sp+30h] [bp-28h]@25

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection read");
  v4 = *(_DWORD *)(v3 + 2524);
  if ( v4 <= 0 )
  {
    v6 = (int *)(v3 + 4);
  }
  else
    v5 = *(_DWORD *)(v3 + 4);
    if ( !v5 )
      goto LABEL_70;
    v54 = v2;
    v7 = *(_DWORD *)(v5 + 4);
    v8 = (unsigned int *)(v5 + 4);
    do
    {
      v9 = v7;
      if ( !v7 )
        goto LABEL_70;
      __dmb();
      v7 = __ldrex(v8);
    }
    while ( v7 != v9 || __strex(v9 + 1, v8) );
    __dmb();
    v10 = *(_DWORD *)v3;
      v11 = __ldrex(v8);
    while ( __strex(v11 + 1, v8) );
      v12 = __ldrex(v8);
    while ( __strex(v12 - 1, v8) );
    if ( v12 == 1 )
      v13 = (unsigned int *)(v5 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v5 + 8))(v5);
      do
        v14 = __ldrex(v13);
      while ( __strex(v14 - 1, v13) );
      if ( v14 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v5 + 12))(v5);
      v15 = __ldrex(v8);
    while ( __strex(v15 + 1, v8) );
      v16 = __ldrex(v8);
    while ( __strex(v16 - 1, v8) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v5 + 8);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
    v19 = j_operator new(0x10u);
    *v19 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_open_handshake_timeout;
    v19[1] = 0;
    v19[2] = v10;
    v19[3] = v5;
    v58 = v19;
    v59 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
    v60 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
      (int)&v61,
      v3,
      v4,
      (int)&v58);
    v20 = *(_QWORD *)&v61;
    *(_DWORD *)&v61 = 0;
    v62 = 0;
    v2 = v54;
    *(_DWORD *)(v3 + 18968) = v20;
    v21 = *(_DWORD *)(v3 + 18972);
    *(_DWORD *)(v3 + 18972) = HIDWORD(v20);
    if ( v21 )
      v22 = (unsigned int *)(v21 + 4);
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 == 1 )
      {
        v24 = (unsigned int *)(v21 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 8))(v21);
        __dmb();
        do
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 12))(v21);
      }
    v26 = v62;
    if ( v62 )
      v27 = (unsigned int *)(v62 + 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        v29 = (unsigned int *)(v26 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
    if ( v59 )
      v59();
  v31 = *v6;
  if ( !*v6 )
LABEL_70:
    j_std::__throw_bad_weak_ptr();
  v32 = *(_DWORD *)(v31 + 4);
  v33 = (unsigned int *)(v31 + 4);
  do
    v34 = v32;
    if ( !v32 )
    v32 = __ldrex(v33);
  while ( v32 != v34 || __strex(v34 + 1, v33) );
  __dmb();
  v35 = *(_DWORD *)v3;
    v36 = __ldrex(v33);
  while ( __strex(v36 + 1, v33) );
    v37 = __ldrex(v33);
  while ( __strex(v37 - 1, v33) );
  if ( v37 == 1 )
    v38 = (unsigned int *)(v31 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 8))(v31);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 12))(v31);
    v40 = __ldrex(v33);
  while ( __strex(v40 + 1, v33) );
    v41 = __ldrex(v33);
  while ( __strex(v41 - 1, v33) );
  if ( v41 == 1 )
    v42 = (unsigned int *)(v31 + 8);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 == 1 )
  v44 = j_operator new(0x10u);
  *v44 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_handshake;
  v44[1] = 0;
  v44[2] = v35;
  v44[3] = v31;
  v55 = v44;
  v56 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  v57 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  LODWORD(v45) = v3 + 2556;
  HIDWORD(v45) = 0x4000;
  result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
             v3,
             v2,
             v45,
             (int)&v55);
  if ( v56 )
    result = v56();
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_read(int a1, int a2, int a3)
{
  int v3; // r8@1
  int v4; // r11@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r9@1
  unsigned int v7; // r4@4
  unsigned int v8; // r7@4
  signed int v9; // r1@4
  signed __int64 v10; // r0@9
  bool v11; // zf@9
  bool v12; // zf@12
  signed int v13; // r1@17
  signed int v14; // r6@24
  unsigned __int64 v15; // kr28_8@24
  unsigned int v16; // r3@24
  bool v17; // zf@33
  unsigned __int64 v18; // r0@38
  int v20; // r4@54
  pthread_mutex_t *v21; // r5@57
  const void **v22; // r0@57
  int v23; // r7@57
  void *v24; // r0@58
  char v25; // r0@59
  int (__fastcall *v26)(int, int *); // r2@63
  int *v27; // r1@63
  int v28; // r4@64
  unsigned int v29; // r6@65
  int v30; // r0@65
  pthread_mutex_t *v31; // r7@66
  void *v32; // r0@66
  int v33; // r4@68
  unsigned int *v34; // r0@69
  unsigned int v35; // r1@70
  unsigned int *v36; // r7@72
  unsigned int v37; // r0@73
  char v38; // r0@77
  char v39; // r0@83
  int *v40; // r5@88
  char *v41; // r7@88
  char *v42; // r0@88
  pthread_mutex_t *v43; // r6@88
  void *v44; // r0@88
  char v45; // r0@89
  unsigned int *v46; // r1@94
  signed int v47; // r2@95
  unsigned int *v48; // r1@98
  signed int v49; // r2@99
  void *v50; // r0@102
  int v51; // r0@104
  unsigned int *v52; // r1@105
  signed int v53; // r2@106
  unsigned int *v54; // r1@109
  signed int v55; // r2@110
  unsigned int *v56; // r1@113
  signed int v57; // r2@114
  int v58; // [sp+4h] [bp-1ACh]@92
  void *v59; // [sp+8h] [bp-1A8h]@92
  int v60; // [sp+Ch] [bp-1A4h]@88
  void **v61; // [sp+10h] [bp-1A0h]@88
  int v62; // [sp+14h] [bp-19Ch]@103
  void **v63; // [sp+18h] [bp-198h]@88
  void **v64; // [sp+1Ch] [bp-194h]@88
  int v65; // [sp+40h] [bp-170h]@102
  void **v66; // [sp+44h] [bp-16Ch]@102
  int v67; // [sp+CCh] [bp-E4h]@66
  int v68; // [sp+D0h] [bp-E0h]@86
  void *v69; // [sp+D4h] [bp-DCh]@86
  void **v70; // [sp+D8h] [bp-D8h]@65
  int v71; // [sp+DCh] [bp-D4h]@65
  void **v72; // [sp+E0h] [bp-D0h]@65
  int v73; // [sp+150h] [bp-60h]@65
  __int16 v74; // [sp+154h] [bp-5Ch]@65
  int v75; // [sp+158h] [bp-58h]@65
  int v76; // [sp+15Ch] [bp-54h]@65
  int v77; // [sp+160h] [bp-50h]@65
  int v78; // [sp+164h] [bp-4Ch]@65
  int v79; // [sp+168h] [bp-48h]@80
  void *v80; // [sp+16Ch] [bp-44h]@80
  int v81; // [sp+170h] [bp-40h]@62
  void *v82; // [sp+174h] [bp-3Ch]@62
  int v83; // [sp+178h] [bp-38h]@57
  const void *v84; // [sp+17Ch] [bp-34h]@57
  __int64 v85; // [sp+180h] [bp-30h]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 92);
  v6 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection handle_proxy_read");
  if ( *(_DWORD *)v6 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v3 + 96),
             1,
             "read operation aborted");
  v7 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 104) + 196) + 8) >> 32;
  v8 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 104) + 196) + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v85,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v9 = 0;
  if ( v8 + 2 < 3 )
    v9 = 1;
  if ( (__PAIR__(v7, v8) - 9223372036854775806LL) >> 32 )
    v9 = 0;
  if ( v9 )
  {
    v10 = -6442450945LL;
    v11 = (v8 ^ 0xFFFFFFFE | v7 ^ 0x7FFFFFFF) == 0;
    if ( v8 ^ 0xFFFFFFFE | v7 ^ 0x7FFFFFFF )
      v11 = __PAIR__(v85, HIDWORD(v85)) == -6442450945LL;
    if ( v11 )
      goto LABEL_52;
    LODWORD(v10) = 0x7FFFFFFF;
    HIDWORD(v10) = v7 ^ 0x7FFFFFFF | ~v8;
    v12 = HIDWORD(v10) == 0;
    if ( !HIDWORD(v10) )
      v12 = (HIDWORD(v85) ^ 0x7FFFFFFF | ~(_DWORD)v85) == 0;
    if ( v12 )
    {
      HIDWORD(v10) = -2;
    }
    v17 = (v7 ^ 0x80000000 | v8) == 0;
    if ( !(v7 ^ 0x80000000 | v8) )
      v17 = __PAIR__(v85, HIDWORD(v85)) == 0x80000000LL;
    if ( v17 )
      v10 = -6442450945LL;
  }
  else
    v13 = 0;
    if ( (unsigned int)(v85 + 2) < 3 )
      v13 = 1;
    if ( (unsigned __int64)(v85 - 9223372036854775806LL) >> 32 )
      v13 = 0;
    if ( !v13 )
      v14 = 0;
      LODWORD(v10) = (__PAIR__(v7, v8) - v85) >> 32;
      HIDWORD(v10) = v8 - v85;
      v15 = __PAIR__(v7, v8) - v85 + 2;
      v16 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v16 = 1;
      if ( (unsigned int)v15 > 2 )
        v14 = 1;
        v14 = v16;
      if ( v14 )
      {
        if ( (signed int)v10 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v3 + 96),
                   1,
                   "read operation aborted");
        goto LABEL_54;
      }
    if ( __PAIR__(v85, HIDWORD(v85)) == -6442450945LL )
  v18 = __PAIR__(v7, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_121;
  if ( __PAIR__(v85, HIDWORD(v85)) == 0x80000000LL )
    v10 = -2147483649LL;
    goto LABEL_52;
  LODWORD(v10) = 0x7FFFFFFF;
  if ( !(HIDWORD(v85) ^ 0x7FFFFFFF | ~(_DWORD)v85) )
    v10 = 0x80000000LL;
  HIDWORD(v10) = -2;
  v7 = (__PAIR__(v7, v8) - v85) >> 32;
  v8 -= v85;
  if ( __PAIR__(v7, v8) != 9223372036854775806LL )
LABEL_121:
    if ( !(v7 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v10) = -1;
    if ( !(v8 | v7 ^ 0x80000000) )
      HIDWORD(v10) = v8 | v7 ^ 0x80000000;
      LODWORD(v10) = 2147483648;
LABEL_52:
  if ( v10 == 0x80000000LL )
LABEL_54:
  v20 = *(_DWORD *)(*(_DWORD *)(v3 + 104) + 196);
  sub_21B09F0();
  if ( *(_BYTE *)(v20 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v20 + 52),
      *(_DWORD *)v20 + 20,
      v20 + 20,
      -1);
    *(_BYTE *)(v20 + 16) = 0;
  if ( *(_DWORD *)v6 )
    v21 = *(pthread_mutex_t **)(v3 + 96);
    (*(void (__fastcall **)(int *))(**(_DWORD **)(v6 + 4) + 12))(&v83);
    v22 = sub_21E82D8((const void **)&v83, 0, (unsigned int)"asio handle_proxy_read error: ", (_BYTE *)0x1E);
    v84 = *v22;
    v23 = (int)v84;
    *v22 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v21, 4, (int *)&v84);
    if ( (int *)(v23 - 12) != &dword_28898C0 )
      v46 = (unsigned int *)(v23 - 4);
      __dmb();
      do
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v23 - 12));
    v24 = (void *)(v83 - 12);
    if ( (int *)(v83 - 12) != &dword_28898C0 )
      v48 = (unsigned int *)(v83 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    v25 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v25 & 1) )
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v81 = 3;
    v82 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( *(_DWORD *)(v4 + 8) )
      v26 = *(int (__fastcall **)(int, int *))(v4 + 12);
      v27 = &v81;
      return (RakNet *)v26(v4, v27);
    goto LABEL_117;
  v28 = *(_DWORD *)(v3 + 104);
  if ( !v28 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 96),
      2,
      "assertion failed: !m_proxy_data in asio::connection::handle_proxy_read");
    v38 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v38 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v79 = 1;
    v80 = &websocketpp::transport::asio::error::get_category(void)::instance;
      v27 = &v79;
LABEL_117:
    sub_21E5F48();
  sub_21B6308((int)&v72);
  v29 = 0xFFFFF1D0;
  v73 = 0;
  v74 = 0;
  v77 = 0;
  v78 = 0;
  v75 = 0;
  v76 = 0;
  v70 = &off_26D3BDC;
  v71 = 0;
  v72 = &off_26D3BF0;
  sub_21B5AD4((int)&v72, v28 + 144);
  j_websocketpp::http::parser::response::consume(
    (websocketpp::http::parser::response *)(*(_DWORD *)(v3 + 104) + 68),
    (char *)&v70);
  v30 = *(_DWORD *)(v3 + 104);
  if ( (*(_DWORD *)(v30 + 136) & 0xFFFFFFFE) == 2 )
    v31 = *(pthread_mutex_t **)(v3 + 92);
    j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v67, v30 + 68);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v31, 1024, &v67);
    v32 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v52 = (unsigned int *)(v67 - 4);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 <= 0 )
        j_j_j_j__ZdlPv_9(v32);
    if ( *(_DWORD *)(*(_DWORD *)(v3 + 104) + 132) == 200 )
      *(_DWORD *)(v3 + 104) = 0;
      v33 = *(_DWORD *)(v3 + 108);
      *(_DWORD *)(v3 + 108) = 0;
      if ( v33 )
        v34 = (unsigned int *)(v33 + 4);
        __dmb();
        do
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 == 1 )
        {
          v36 = (unsigned int *)(v33 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
          __dmb();
          do
            v37 = __ldrex(v36);
          while ( __strex(v37 - 1, v36) );
          if ( v37 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
        }
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::post_init(v3);
    else
      v40 = (int *)&v61;
      sub_21D103C((int)&v61, 24);
      sub_21CBF38((char *)&v63, (int)"Proxy connection error: ", 24);
      v41 = (char *)sub_21CC43C(&v63, *(_DWORD *)(*(_DWORD *)(v3 + 104) + 132));
      sub_21CBF38(v41, (int)" (", 2);
      v42 = sub_21CBF38(
              v41,
              *(_DWORD *)(*(_DWORD *)(v3 + 104) + 116),
              *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 104) + 116) - 12));
      sub_21CBF38(v42, (int)")", 1);
      v43 = *(pthread_mutex_t **)(v3 + 96);
      sub_21CFED8(&v60, (int)&v64);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v43, 4, &v60);
      v44 = (void *)(v60 - 12);
      if ( (int *)(v60 - 12) != &dword_28898C0 )
        v54 = (unsigned int *)(v60 - 4);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 <= 0 )
          j_j_j_j__ZdlPv_9(v44);
      v45 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v45 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        v40 = (int *)&v61;
      v58 = 4;
      v59 = &websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !*(_DWORD *)(v4 + 8) )
        sub_21E5F48();
      (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v58);
      v61 = &off_26D3F94;
      v66 = &off_26D3FBC;
      v63 = &off_26D3FA8;
      v64 = &off_27734E8;
      v50 = (void *)(v65 - 12);
      if ( (int *)(v65 - 12) != &dword_28898C0 )
        v56 = (unsigned int *)(v65 - 4);
          v57 = __ldrex(v56);
        while ( __strex(v57 - 1, v56) );
        if ( v57 <= 0 )
          j_j_j_j__ZdlPv_9(v50);
      v64 = &off_26D40A8;
      sub_21C802C((unsigned int **)v40 + 10);
      v61 = &off_276D0DC;
      v66 = &off_276D0F0;
      v62 = 0;
      sub_21B6560(v40 + 13);
      v29 = 0xFFFFF1D0;
    v39 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v39 & 1)
    v68 = 1;
    v69 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v68);
  v51 = *(int *)((char *)&GLOBAL_OFFSET_TABLE_ + v29);
  v70 = (void **)(v51 + 12);
  v72 = (void **)(v51 + 32);
  return (RakNet *)sub_21B6560(&v72);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_close(int a1, int a2, unsigned int a3, int *a4, int a5)
{
  unsigned int v5; // r7@1
  int v6; // r8@1
  int *v7; // r6@1
  int v8; // r5@1
  bool v9; // zf@2
  char v10; // r0@6
  signed int v11; // r2@9
  unsigned int v12; // r1@9
  int (__fastcall **v13)(_DWORD); // r0@9
  int (__fastcall *v14)(_DWORD); // r0@10
  unsigned __int16 v15; // r3@12
  signed int v16; // r1@12
  unsigned int v17; // r2@12
  bool v18; // cf@14
  signed int v19; // r2@14
  signed int v20; // r0@14
  char v21; // r0@20
  int v22; // r0@24
  unsigned int v23; // r1@24
  char v24; // r0@26
  char v25; // r0@31
  _BYTE *v26; // r0@35
  _BYTE *v27; // r0@37
  int v28; // r6@39
  int v29; // r0@39
  int v30; // r7@39
  int v31; // r0@44
  unsigned int *v32; // r0@45
  unsigned int v33; // r1@46
  int v34; // r4@48
  unsigned int *v35; // r0@49
  unsigned int v36; // r1@50
  unsigned int *v37; // r5@52
  unsigned int v38; // r0@53
  char *v39; // r0@56
  unsigned int *v40; // r1@57
  signed int v41; // r2@58
  int v42; // [sp+4h] [bp-2Ch]@44
  int v43; // [sp+8h] [bp-28h]@44
  _BYTE *v44; // [sp+Ch] [bp-24h]@35

  v5 = a3;
  v6 = a1;
  v7 = a4;
  v8 = a2;
  if ( (unsigned __int16)(a3 - 1016) < 0x7C0u )
    goto LABEL_63;
  v9 = a3 == 1014;
  if ( a3 != 1014 )
    v9 = a3 == 1004;
  if ( v9 )
  {
LABEL_63:
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 24;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_10;
  }
  v15 = a3 - 1005;
  v16 = 0;
  v17 = (unsigned __int16)(a3 - 1000);
  if ( v5 != 1015 )
    v16 = 1;
  v18 = v17 >= 0xFA0;
  v19 = 0;
  v20 = 0;
  if ( !v18 )
    v19 = 1;
  if ( v15 > 1u )
    v20 = 1;
  if ( v5 != 1005 && !(v20 & v19 & v16) )
    v21 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v21 & 1) )
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
    v11 = 25;
LABEL_10:
    v14 = v13[v12];
    *(_DWORD *)v6 = v11;
    *(_DWORD *)(v6 + 4) = v14;
    return;
  v22 = *v7;
  v23 = *(_DWORD *)(*v7 - 12);
  if ( v5 == 1005 )
    if ( v23 )
      v24 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v24 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      v11 = 26;
      v12 = 0x3FFFFD21u;
      v13 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_10;
    v44 = &unk_28898CC;
  else
    if ( v23 >= 0x7C )
      v25 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v25 & 1)
      v11 = 8;
    sub_21E849C((char *)&v44, *(_DWORD *)(v22 - 12) + 2, 0);
    v26 = v44;
    if ( *((_DWORD *)v44 - 1) >= 0 )
      sub_21E8010((const void **)&v44);
      v26 = v44;
    *v26 = __rev16(v5);
    v27 = v44;
      v27 = v44;
    v27[1] = __rev(v5) >> 24;
    v28 = *v7;
    v29 = (int)v44;
    v30 = *(_DWORD *)(v28 - 12);
    if ( *((_DWORD *)v44 - 1) > -1 )
      v29 = (int)v44;
    if ( v30 )
      j___aeabi_memmove_1(v29 + 2, v28);
  v42 = *(_DWORD *)a5;
  v31 = *(_DWORD *)(a5 + 4);
  v43 = v31;
  if ( v31 )
    v32 = (unsigned int *)(v31 + 4);
    do
      v33 = __ldrex(v32);
    while ( __strex(v33 + 1, v32) );
  j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_control(v6, v8, 8, (int *)&v44, &v42);
  v34 = v43;
  if ( v43 )
    v35 = (unsigned int *)(v43 + 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 == 1 )
      v37 = (unsigned int *)(v34 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      do
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v39 = v44 - 12;
  if ( (int *)(v44 - 12) != &dword_28898C0 )
    v40 = (unsigned int *)(v44 - 4);
      v41 = __ldrex(v40);
    while ( __strex(v41 - 1, v40) );
    if ( v41 <= 0 )
      j_j_j_j__ZdlPv_9(v39);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_close(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // r4@1
  int v6; // r0@2
  int v7; // r1@2
  void *v8; // r0@2
  unsigned int *v9; // r1@3
  signed int v10; // r2@4
  char v11; // r0@7
  void *v12; // [sp+4h] [bp-1Ch]@2

  v5 = a1;
  if ( *(_DWORD *)a5 )
  {
    v12 = &unk_28898CC;
    sub_21E7434((const void **)&v12, 1u, 255);
    sub_21E7434((const void **)&v12, 1u, 0);
    EntityInteraction::setInteractText((int *)(*(_DWORD *)a5 + 16), (int *)&v12);
    *(_BYTE *)(*(_DWORD *)a5 + 24) = 1;
    *(_DWORD *)v5 = 0;
    v6 = ((int (*)(void))byte_21E9640)();
    v7 = (int)v12;
    *(_DWORD *)(v5 + 4) = v6;
    v8 = (void *)(v7 - 12);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
    {
      v9 = (unsigned int *)(v7 - 4);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 - 1, v9) );
      if ( v10 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    }
  }
  else
    v11 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v11 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    *(_DWORD *)v5 = 6;
    *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_send_http_response(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r11@1
  pthread_mutex_t **v4; // r9@1
  int v5; // r0@2
  int v6; // r0@3
  signed int v8; // r6@7
  char v9; // r0@8
  int (__fastcall **v10)(_DWORD); // r0@11
  char v11; // r0@12
  char v12; // r0@18
  bool v13; // zf@22
  int v14; // r0@27
  unsigned __int64 *v15; // r1@27
  int v16; // r7@30
  int v17; // r5@33
  unsigned int *v18; // r0@34
  unsigned int v19; // r1@35
  unsigned int *v20; // r6@37
  unsigned int v21; // r0@38
  int v22; // r5@43
  int v23; // r1@43
  unsigned int *v24; // r0@44
  unsigned int v25; // r2@45
  pthread_mutex_t *v26; // r5@50
  const void **v27; // r0@50
  int v28; // r7@50
  void *v29; // r0@51
  char v30; // r0@52
  pthread_mutex_t *v31; // r6@56
  void *v32; // r0@56
  void *v33; // r0@57
  void (__fastcall *v34)(int, int *); // r2@60
  unsigned int v35; // r1@61
  int v36; // r0@64
  unsigned int *v37; // r1@65
  unsigned int v38; // r2@66
  unsigned int *v39; // r0@70
  unsigned int v40; // r1@71
  unsigned int *v41; // r1@75
  signed int v42; // r2@76
  unsigned int *v43; // r1@79
  signed int v44; // r2@80
  unsigned int *v45; // r1@83
  signed int v46; // r2@84
  unsigned int *v47; // r1@87
  signed int v48; // r2@88
  int v49; // [sp+0h] [bp-108h]@74
  int v50; // [sp+4h] [bp-104h]@74
  int v51; // [sp+8h] [bp-100h]@50
  const void *v52; // [sp+Ch] [bp-FCh]@50
  int v53; // [sp+10h] [bp-F8h]@56
  void **v54; // [sp+14h] [bp-F4h]@56
  int v55; // [sp+18h] [bp-F0h]@58
  void **v56; // [sp+1Ch] [bp-ECh]@56
  void **v57; // [sp+20h] [bp-E8h]@56
  int v58; // [sp+3Ch] [bp-CCh]@58
  int v59; // [sp+44h] [bp-C4h]@57
  void **v60; // [sp+48h] [bp-C0h]@57
  __int64 v61; // [sp+D0h] [bp-38h]@1
  int v62; // [sp+DCh] [bp-2Ch]@60
  int v63; // [sp+E0h] [bp-28h]@60

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "handle_send_http_response");
  v4 = (pthread_mutex_t **)(v3 + 19196);
  v61 = *v2;
  if ( (_DWORD)v61 )
    goto LABEL_18;
  v5 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2508));
  if ( v5 )
    sub_21E5E14(v5);
  v6 = *(_DWORD *)(v3 + 2500);
  if ( v6 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "handle_send_http_response invoked after connection was closed");
    return (RakNet *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2508));
  }
  if ( v6 )
    v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v10 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v3 + 2504) == 6 )
      v8 = 0;
      goto LABEL_17;
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v8 = 9;
  LODWORD(v61) = 9;
  HIDWORD(v61) = *(int (__fastcall **)(_DWORD))((char *)v10 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2508));
  if ( v8 )
LABEL_18:
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v61) == &websocketpp::transport::error::get_category(void)::instance )
      v13 = (_DWORD)v61 == 7;
      if ( (_DWORD)v61 == 7 )
        v13 = *(_DWORD *)(v3 + 2500) == 3;
      if ( v13 )
        return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                 *v4,
                 1024,
                 "got (expected) eof/state error from closed con");
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
      v3,
      16,
      "handle_send_http_response",
      &v61);
    v14 = v3;
    v15 = (unsigned __int64 *)&v61;
    return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v14, v15);
  v16 = *(_DWORD *)(v3 + 18928);
  if ( v16 )
    sub_21B09F0();
    if ( *(_BYTE *)(v16 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v16 + 52),
        *(_DWORD *)v16 + 20,
        v16 + 20,
        -1);
      *(_BYTE *)(v16 + 16) = 0;
    *(_DWORD *)(v3 + 18928) = 0;
    v17 = *(_DWORD *)(v3 + 18932);
    *(_DWORD *)(v3 + 18932) = 0;
    if ( v17 )
      v18 = (unsigned int *)(v17 + 4);
      __dmb();
      do
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
      {
        v20 = (unsigned int *)(v17 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
        __dmb();
        do
          v21 = __ldrex(v20);
        while ( __strex(v21 - 1, v20) );
        if ( v21 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
      }
  if ( *(_DWORD *)(v3 + 19160) != 101 )
    if ( *(_BYTE *)(v3 + 19232) )
      j_websocketpp::connection<websocketpp::config::asio_client>::log_http_result(v3);
      if ( *(_DWORD *)(v3 + 19224) )
        v26 = *v4;
        (*(void (__fastcall **)(int *))(**(_DWORD **)(v3 + 19228) + 12))(&v51);
        v27 = sub_21E82D8(
                (const void **)&v51,
                0,
                (unsigned int)"got to writing HTTP results with m_ec set: ",
                (_BYTE *)0x2B);
        v52 = *v27;
        v28 = (int)v52;
        *v27 = &unk_28898CC;
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          v26,
          1024,
          (int *)&v52);
        if ( (int *)(v28 - 12) != &dword_28898C0 )
        {
          v41 = (unsigned int *)(v28 - 4);
          __dmb();
          do
            v42 = __ldrex(v41);
          while ( __strex(v42 - 1, v41) );
          if ( v42 <= 0 )
            j_j_j_j__ZdlPv_9((void *)(v28 - 12));
        }
        v29 = (void *)(v51 - 12);
        if ( (int *)(v51 - 12) != &dword_28898C0 )
          v43 = (unsigned int *)(v51 - 4);
            v44 = __ldrex(v43);
          while ( __strex(v44 - 1, v43) );
          if ( v44 <= 0 )
            j_j_j_j__ZdlPv_9(v29);
      v30 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v30 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      *(_DWORD *)(v3 + 19224) = 21;
      *(_DWORD *)(v3 + 19228) = &websocketpp::error::get_category(void)::instance;
    else
      sub_21D103C((int)&v54, 24);
      sub_21CBF38((char *)&v56, (int)"Handshake ended with HTTP error: ", 33);
      sub_21CC43C(&v56, *(_DWORD *)(v3 + 19160));
      v31 = *(pthread_mutex_t **)(v3 + 19200);
      sub_21CFED8(&v53, (int)&v57);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v31, 16, &v53);
      v32 = (void *)(v53 - 12);
      if ( (int *)(v53 - 12) != &dword_28898C0 )
        v45 = (unsigned int *)(v53 - 4);
          v46 = __ldrex(v45);
        while ( __strex(v46 - 1, v45) );
        if ( v46 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      v54 = &off_26D3F94;
      v60 = &off_26D3FBC;
      v56 = &off_26D3FA8;
      v57 = &off_27734E8;
      v33 = (void *)(v59 - 12);
      if ( (int *)(v59 - 12) != &dword_28898C0 )
        v47 = (unsigned int *)(v59 - 4);
          v48 = __ldrex(v47);
        while ( __strex(v48 - 1, v47) );
        if ( v48 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v57 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v58);
      v54 = &off_276D0DC;
      v60 = &off_276D0F0;
      v55 = 0;
      sub_21B6560(&v60);
    v15 = (unsigned __int64 *)(v3 + 19224);
  j_websocketpp::connection<websocketpp::config::asio_client>::log_open_result(v3);
  *(_DWORD *)(v3 + 2500) = 1;
  *(_DWORD *)(v3 + 2504) = 7;
  if ( *(_DWORD *)(v3 + 2332) )
    v22 = *(_DWORD *)(v3 + 2320);
    v23 = *(_DWORD *)(v3 + 2316);
    if ( v22 )
      v24 = (unsigned int *)(v22 + 8);
        v25 = __ldrex(v24);
      while ( __strex(v25 + 1, v24) );
      if ( !*(_DWORD *)(v3 + 2332) )
        sub_21E5F48();
      v34 = *(void (__fastcall **)(int, int *))(v3 + 2336);
      v62 = v23;
      v63 = v22;
        v35 = __ldrex(v24);
      while ( __strex(v35 + 1, v24) );
      v62 = *(_DWORD *)(v3 + 2316);
      v63 = 0;
    v34(v3 + 2324, &v62);
    v36 = v63;
    if ( v63 )
      v37 = (unsigned int *)(v63 + 8);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 == 1 )
        (*(void (**)(void))(*(_DWORD *)v36 + 12))();
      v39 = (unsigned int *)(v22 + 8);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  v49 = 0;
  v50 = ((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  return j_websocketpp::connection<websocketpp::config::asio_client>::handle_read_frame(
           v3,
           (__int64 *)&v49,
           *(_DWORD *)(v3 + 18900));
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::post_init(int a1)
{
  int v1; // r11@1
  pthread_mutex_t *v2; // r0@1
  int v3; // r4@3
  unsigned int v4; // r0@4
  unsigned int *v5; // r6@4
  unsigned int v6; // r1@5
  int v7; // r9@8
  unsigned int v8; // r0@11
  unsigned int v9; // r0@13
  unsigned int *v10; // r5@15
  unsigned int v11; // r0@16
  int v12; // r5@19
  void (__fastcall *v13)(int *, int, signed int); // r3@19
  _QWORD *v14; // r0@21
  int v15; // r1@21
  __int64 v16; // kr00_8@21
  int v17; // r7@23
  unsigned int *v18; // r0@24
  unsigned int v19; // r1@25
  unsigned int *v20; // r6@27
  unsigned int v21; // r0@28
  int v22; // r7@31
  unsigned int *v23; // r0@32
  unsigned int v24; // r1@33
  unsigned int *v25; // r6@35
  unsigned int v26; // r0@36
  int v27; // r7@41
  unsigned int v28; // r0@42
  unsigned int *v29; // r10@42
  unsigned int v30; // r1@43
  unsigned int v31; // r0@49
  unsigned int v32; // r0@51
  unsigned int *v33; // r6@53
  unsigned int v34; // r0@54
  void (__fastcall *v35)(int *, int, signed int); // r3@57
  unsigned int *v36; // r0@60
  unsigned int v37; // r1@61
  _QWORD *v38; // r0@63
  int (*v39)(void); // r1@63
  int v40; // r1@63
  __int64 v41; // r2@63
  unsigned int *result; // r0@63
  int v43; // r5@65
  unsigned int v44; // r1@67
  unsigned int *v45; // r6@69
  int v46; // r5@73
  unsigned int v47; // r1@75
  unsigned int *v48; // r6@77
  unsigned int v49; // r1@85
  unsigned int *v50; // r5@87
  int v51; // [sp+4h] [bp-A4h]@46
  int v52; // [sp+10h] [bp-98h]@58
  int (*v53)(void); // [sp+18h] [bp-90h]@57
  int v54; // [sp+1Ch] [bp-8Ch]@58
  __int64 v55; // [sp+20h] [bp-88h]@59
  int v56; // [sp+28h] [bp-80h]@63
  int v57; // [sp+2Ch] [bp-7Ch]@63
  _QWORD *v58; // [sp+30h] [bp-78h]@63
  int (*v59)(void); // [sp+38h] [bp-70h]@63
  RakNet *(__fastcall *v60)(int, int, int, _DWORD *); // [sp+40h] [bp-68h]@19
  int v61; // [sp+44h] [bp-64h]@19
  int v62; // [sp+48h] [bp-60h]@20
  void (__fastcall *v63)(int *); // [sp+50h] [bp-58h]@19
  int v64; // [sp+54h] [bp-54h]@20
  int v65; // [sp+58h] [bp-50h]@21
  int v66; // [sp+5Ch] [bp-4Ch]@21
  int v67; // [sp+60h] [bp-48h]@21
  int v68; // [sp+64h] [bp-44h]@21
  _QWORD *v69; // [sp+6Ch] [bp-3Ch]@21
  void (__fastcall *v70)(_DWORD); // [sp+74h] [bp-34h]@21
  unsigned int *(__fastcall *v71)(unsigned __int64 **, int); // [sp+78h] [bp-30h]@21
  char v72; // [sp+7Ch] [bp-2Ch]@21
  int v73; // [sp+80h] [bp-28h]@21

  v1 = a1;
  v2 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v2->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v2,
      1024,
      "asio connection post_init");
  v3 = *(_DWORD *)(v1 + 4);
  if ( !v3 )
    j_std::__throw_bad_weak_ptr();
  v4 = *(_DWORD *)(v3 + 4);
  v5 = (unsigned int *)(v3 + 4);
  do
  {
    v6 = v4;
    if ( !v4 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v4 = __ldrex(v5);
  }
  while ( v4 != v6 || __strex(v6 + 1, v5) );
  __dmb();
  v7 = *(_DWORD *)v1;
    v8 = __ldrex(v5);
  while ( __strex(v8 + 1, v5) );
    v9 = __ldrex(v5);
  while ( __strex(v9 - 1, v5) );
  if ( v9 == 1 )
    v10 = (unsigned int *)(v3 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v3 + 8))(v3);
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v3 + 12))(v3);
  v12 = 0;
  v60 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_post_init_timeout;
  v61 = 0;
  v63 = 0;
  v13 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2280);
  if ( v13 )
    v13(&v62, v1 + 2272, 2);
    v64 = *(_DWORD *)(v1 + 2284);
    v12 = *(_DWORD *)(v1 + 2280);
    v63 = *(void (__fastcall **)(int *))(v1 + 2280);
  v65 = 0;
  v66 = 0;
  v67 = v7;
  v68 = v3;
  v70 = 0;
  v14 = j_operator new(0x28u);
  *v14 = *(_QWORD *)&v60;
  v14[1] = *(_QWORD *)&v62;
  v15 = v64;
  *((_DWORD *)v14 + 4) = v12;
  *((_DWORD *)v14 + 5) = v15;
  *((_DWORD *)v14 + 6) = 0;
  *((_DWORD *)v14 + 7) = 0;
  *((_DWORD *)v14 + 8) = v7;
  v68 = 0;
  *((_DWORD *)v14 + 9) = v3;
  v67 = 0;
  v69 = v14;
  v70 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v71 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
    (int)&v72,
    v1,
    5000,
    (int)&v69);
  v16 = *(_QWORD *)&v72;
  *(_DWORD *)&v72 = 0;
  v73 = 0;
  if ( v70 )
    v70(&v69);
  v17 = v68;
  if ( v68 )
    v18 = (unsigned int *)(v68 + 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 == 1 )
    {
      v20 = (unsigned int *)(v17 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
      __dmb();
      do
        v21 = __ldrex(v20);
      while ( __strex(v21 - 1, v20) );
      if ( v21 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
    }
  v22 = v66;
  if ( v66 )
    v23 = (unsigned int *)(v66 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 == 1 )
      v25 = (unsigned int *)(v22 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 8))(v22);
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  if ( v63 )
    v63(&v62);
  v27 = *(_DWORD *)(v1 + 4);
  if ( !v27 )
  v28 = *(_DWORD *)(v27 + 4);
  v29 = (unsigned int *)(v27 + 4);
    v30 = v28;
    if ( !v28 )
    v28 = __ldrex(v29);
  while ( v28 != v30 || __strex(v30 + 1, v29) );
  v51 = *(_DWORD *)v1;
    v31 = __ldrex(v29);
  while ( __strex(v31 + 1, v29) );
    v32 = __ldrex(v29);
  while ( __strex(v32 - 1, v29) );
  if ( v32 == 1 )
    v33 = (unsigned int *)(v27 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
  v53 = 0;
  v35 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2280);
  if ( v35 )
    v35(&v52, v1 + 2272, 2);
    v54 = *(_DWORD *)(v1 + 2284);
    v53 = *(int (**)(void))(v1 + 2280);
  v55 = v16;
  if ( HIDWORD(v16) )
    v36 = (unsigned int *)(HIDWORD(v16) + 4);
      v37 = __ldrex(v36);
    while ( __strex(v37 + 1, v36) );
  v56 = v51;
  v57 = v27;
  v59 = 0;
  v38 = j_operator new(0x28u);
  *v38 = (unsigned int)websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_post_init;
  v38[1] = *(_QWORD *)&v52;
  v39 = v53;
  *((_DWORD *)v38 + 4) = v39;
  *((_DWORD *)v38 + 5) = v54;
  *((_DWORD *)v38 + 6) = v55;
  v40 = HIDWORD(v55);
  HIDWORD(v41) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  LODWORD(v41) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  HIDWORD(v55) = 0;
  *((_DWORD *)v38 + 7) = v40;
  LODWORD(v55) = 0;
  *((_DWORD *)v38 + 8) = v51;
  v57 = 0;
  *((_DWORD *)v38 + 9) = v27;
  v56 = 0;
  v58 = v38;
  *(_QWORD *)&v59 = v41;
  result = j_websocketpp::transport::asio::tls_socket::connection::post_init(v1, (int)&v58);
  if ( v59 )
    result = (unsigned int *)v59();
  v43 = v57;
  if ( v57 )
    result = (unsigned int *)(v57 + 4);
      v44 = __ldrex(result);
    while ( __strex(v44 - 1, result) );
    if ( v44 == 1 )
      v45 = (unsigned int *)(v43 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v43 + 8))(v43);
        result = (unsigned int *)__ldrex(v45);
      while ( __strex((unsigned int)result - 1, v45) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v43 + 12))(v43);
  v46 = HIDWORD(v55);
  if ( HIDWORD(v55) )
    result = (unsigned int *)(HIDWORD(v55) + 4);
      v47 = __ldrex(result);
    while ( __strex(v47 - 1, result) );
    if ( v47 == 1 )
      v48 = (unsigned int *)(v46 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 8))(v46);
        result = (unsigned int *)__ldrex(v48);
      while ( __strex((unsigned int)result - 1, v48) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v46 + 12))(v46);
  if ( v53 )
    result = (unsigned int *)v53();
    result = (unsigned int *)(HIDWORD(v16) + 4);
      v49 = __ldrex(result);
    while ( __strex(v49 - 1, result) );
    if ( v49 == 1 )
      v50 = (unsigned int *)(HIDWORD(v16) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v16) + 8))(HIDWORD(v16));
        result = (unsigned int *)__ldrex(v50);
      while ( __strex((unsigned int)result - 1, v50) );
        result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v16) + 12))(HIDWORD(v16));
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::close(int a1, int a2, int *a3, int a4)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::close(a1, a2, a3, a4);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_write(int a1, _DWORD *a2)
{
  int v2; // r4@1
  _DWORD *v3; // r5@1
  char v4; // r0@2
  RakNet *result; // r0@7
  int v6; // [sp+0h] [bp-18h]@1
  void *v7; // [sp+4h] [bp-14h]@1

  v2 = a1;
  v3 = a2;
  *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 88);
  v6 = 0;
  v7 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v3 )
  {
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
      v2,
      4,
      "asio async_write",
      v3);
    v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v4 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v6 = 2;
    v7 = &websocketpp::transport::error::get_category(void)::instance;
  }
  if ( *(_DWORD *)(v2 + 2224) )
    result = (RakNet *)(*(int (__fastcall **)(int, int *))(v2 + 2228))(v2 + 2216, &v6);
  else
    result = j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v2 + 48),
               1024,
               "handle_async_write called with null write handler");
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 52);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


_DWORD *__fastcall websocketpp::base64_encode(websocketpp *this, const unsigned __int8 *a2, unsigned int a3)
{
  const void **v3; // r11@1
  const unsigned __int8 *v4; // r8@1
  unsigned int v5; // r5@1
  _DWORD *result; // r0@1
  char *v7; // r2@2
  signed int v8; // r9@2
  _DWORD *v9; // t1@3
  unsigned int v10; // r6@4
  _DWORD *v11; // r0@4
  int v12; // r1@4
  char v13; // r9@4
  int v14; // r7@4
  _DWORD *v15; // r2@7
  int v16; // r0@9
  char v17; // r4@9
  unsigned int v18; // r7@9
  _DWORD *v19; // r0@12
  int v20; // r1@14
  char v21; // r4@14
  int v22; // r7@14
  _DWORD *v23; // r0@17
  int v24; // r1@19
  char v25; // r4@19
  int v26; // r7@19
  signed int i; // r8@29
  _DWORD *v28; // r1@31
  int v29; // r2@31
  char v30; // r10@31
  int v31; // r5@31
  _DWORD *v32; // r0@38
  int v33; // r1@38 OVERLAPPED
  int v34; // r5@38
  unsigned int v35; // r2@38
  char v36; // [sp+Ah] [bp-2Eh]@4
  unsigned __int8 v37; // [sp+Bh] [bp-2Dh]@4
  unsigned __int8 v38; // [sp+Ch] [bp-2Ch]@4
  unsigned __int8 v39; // [sp+Dh] [bp-2Bh]@2
  unsigned __int8 v40; // [sp+Eh] [bp-2Ah]@4
  unsigned __int8 v41; // [sp+Fh] [bp-29h]@4

  v3 = (const void **)this;
  v4 = a2;
  v5 = a3;
  result = &unk_28898CC;
  *v3 = &unk_28898CC;
  if ( a3 )
  {
    v7 = (char *)&v39;
    v8 = 0;
    do
    {
      v9 = (_DWORD *)*v4++;
      result = v9;
      v7[v8++] = (char)v9;
      if ( v8 == 3 )
      {
        v10 = ((unsigned int)v40 >> 4) & 0xFFFFFFCF | 16 * (v39 & 3);
        v36 = (v40 >> 4) & 0xCF | 16 * (v39 & 3);
        v37 = (v41 >> 6) & 0xC3 | 4 * (v40 & 0xF);
        v38 = v41 & 0x3F;
        v11 = *v3;
        v12 = *(_QWORD *)((char *)*v3 - 12);
        v13 = *(_BYTE *)(dword_2880E58 + ((unsigned int)v39 >> 2));
        v14 = v12 + 1;
        if ( v12 + 1 > (unsigned int)(*(_QWORD *)((char *)*v3 - 12) >> 32) || *(v11 - 1) >= 1 )
        {
          sub_21E6FCC(v3, v12 + 1);
          v11 = *v3;
          v12 = *((_DWORD *)*v3 - 3);
        }
        *((_BYTE *)v11 + v12) = v13;
        v15 = *v3;
        if ( (int *)((char *)*v3 - 12) != &dword_28898C0 )
          *(v15 - 1) = 0;
          *(v15 - 3) = v14;
          *((_BYTE *)v15 + v14) = byte_26C67B8[0];
          v15 = *v3;
        v16 = *(_QWORD *)(v15 - 3);
        v17 = *(_BYTE *)(dword_2880E58 + v10);
        v18 = v16 + 1;
        if ( v16 + 1 > (unsigned int)(*(_QWORD *)(v15 - 3) >> 32) || *(v15 - 1) >= 1 )
          sub_21E6FCC(v3, v18);
          v16 = *((_DWORD *)*v3 - 3);
        *((_BYTE *)v15 + v16) = v17;
        v19 = *v3;
          *(v19 - 1) = 0;
          *(v19 - 3) = v18;
          *((_BYTE *)v19 + v18) = byte_26C67B8[0];
          v19 = *v3;
        v20 = *(_QWORD *)(v19 - 3);
        v21 = *(_BYTE *)(dword_2880E58 + v37);
        v22 = v20 + 1;
        if ( v20 + 1 > (unsigned int)(*(_QWORD *)(v19 - 3) >> 32) || *(v19 - 1) >= 1 )
          sub_21E6FCC(v3, v20 + 1);
          v20 = *((_DWORD *)*v3 - 3);
        *((_BYTE *)v19 + v20) = v21;
        v23 = *v3;
          *(v23 - 1) = 0;
          *(v23 - 3) = v22;
          *((_BYTE *)v23 + v22) = byte_26C67B8[0];
          v23 = *v3;
        v24 = *(_QWORD *)(v23 - 3);
        v25 = *(_BYTE *)(dword_2880E58 + v38);
        v26 = v24 + 1;
        if ( v24 + 1 > (unsigned int)(*(_QWORD *)(v23 - 3) >> 32) || *(v23 - 1) >= 1 )
          sub_21E6FCC(v3, v24 + 1);
          v24 = *((_DWORD *)*v3 - 3);
        *((_BYTE *)v23 + v24) = v25;
        v8 = 0;
        result = *v3;
        v7 = (char *)&v39;
          *(result - 1) = 0;
          *(result - 3) = v26;
          *((_BYTE *)result + v26) = byte_26C67B8[0];
      }
      --v5;
    }
    while ( v5 );
    if ( v8 )
      if ( v8 <= 2 )
        j___aeabi_memclr_1((int)&v7[v8], 3 - v8);
      result = (_DWORD *)((unsigned int)v39 >> 2);
      v36 = (v40 >> 4) & 0xCF | 16 * (v39 & 3);
      v37 = (v41 >> 6) & 0xC3 | 4 * (v40 & 0xF);
      v38 = v41 & 0x3F;
      if ( v8 >= 0 )
        for ( i = 0; ; ++i )
          v28 = *v3;
          v29 = *(_QWORD *)((char *)*v3 - 12);
          v30 = *(_BYTE *)(dword_2880E58 + (unsigned __int8)result);
          v31 = v29 + 1;
          if ( v29 + 1 > (unsigned int)(*(_QWORD *)((char *)*v3 - 12) >> 32) || *(v28 - 1) >= 1 )
          {
            sub_21E6FCC(v3, v29 + 1);
            v28 = *v3;
            v29 = *((_DWORD *)*v3 - 3);
          }
          *((_BYTE *)v28 + v29) = v30;
          result = *v3;
          if ( (int *)((char *)*v3 - 12) != &dword_28898C0 )
            *(result - 1) = 0;
            *(result - 3) = v31;
            *((_BYTE *)result + v31) = byte_26C67B8[0];
          if ( i >= v8 )
            break;
          LOBYTE(result) = *(&v36 + i);
        do
          v32 = *v3;
          *(_QWORD *)&v33 = *(_QWORD *)((char *)*v3 - 12);
          v34 = v33 + 1;
          if ( v33 + 1 > v35 || *(v32 - 1) >= 1 )
            sub_21E6FCC(v3, v33 + 1);
            v32 = *v3;
            v33 = *((_DWORD *)*v3 - 3);
          *((_BYTE *)v32 + v33) = 61;
          ++v8;
            *(result - 3) = v34;
            *((_BYTE *)result + v34) = byte_26C67B8[0];
        while ( v8 < 3 );
  }
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::append_header(int a1, _DWORD *a2, const void **a3)
{
  int v3; // r3@1
  signed int v4; // r3@3
  char *v5; // r4@5
  char v6; // r0@5
  int *v7; // r0@8
  char *v8; // r4@10
  char v9; // r0@10
  int *v10; // r0@13
  int v11; // [sp+8h] [bp-28h]@5
  int v12; // [sp+10h] [bp-20h]@10

  v3 = *(_DWORD *)(a1 + 2504);
  if ( *(_BYTE *)(a1 + 19192) )
  {
    if ( v3 != 6 )
    {
      v8 = j_j___cxa_allocate_exception_0(16);
      sub_21E94B4((void **)&v12, "Call to append_header from invalid state");
      v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
      *(_DWORD *)v8 = &off_276CEA4;
      v10 = (int *)(v8 + 4);
      if ( *(_DWORD *)(v12 - 12) )
        sub_21E8AF4(v10, &v12);
      else
        (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v10);
      *((_DWORD *)v8 + 2) = 9;
      *((_DWORD *)v8 + 3) = &websocketpp::error::get_category(void)::instance;
      j_j___cxa_throw_0(
        (int)v8,
        (int)&`typeinfo for'websocketpp::exception,
        (int)websocketpp::exception::~exception,
        -3068);
    }
    v4 = 19096;
  }
  else
    if ( v3 )
      v5 = j_j___cxa_allocate_exception_0(16);
      sub_21E94B4((void **)&v11, "Call to append_header from invalid state");
      v6 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v6 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      *(_DWORD *)v5 = &off_276CEA4;
      v7 = (int *)(v5 + 4);
      if ( *(_DWORD *)(v11 - 12) )
        sub_21E8AF4(v7, &v11);
        (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v7);
      *((_DWORD *)v5 + 2) = 9;
      *((_DWORD *)v5 + 3) = &websocketpp::error::get_category(void)::instance;
        (int)v5,
    v4 = 19028;
  j_j_j__ZN11websocketpp4http6parser6parser13append_headerERKSsS4__0(a1 + v4, a2, a3);
}


int *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response(int a1, int a2)
{
  int v2; // r10@1
  int v3; // r5@1
  pthread_mutex_t **v4; // r4@1
  char v5; // r0@1
  void *v6; // r0@9
  char v7; // r0@10
  void *v8; // r0@14
  int v9; // r0@15
  int v10; // r11@15
  const void **v11; // r2@15
  int v12; // r6@17
  void *v13; // r0@17
  int *v14; // r0@20
  void *v15; // r0@20
  unsigned int *v16; // r1@21
  signed int v17; // r2@22
  int v18; // r1@25
  int *v19; // r6@25
  void *v20; // r0@26
  unsigned int *v21; // r1@27
  signed int v22; // r2@28
  pthread_mutex_t *v23; // r7@31
  char *v24; // r0@32
  int v25; // r0@33
  const void **v26; // r2@33
  int v27; // r7@35
  void *v28; // r0@35
  pthread_mutex_t *v29; // r7@37
  int v30; // r0@37
  int *v31; // r1@37
  void *v32; // r0@39
  void *v33; // r0@40
  int v34; // r5@41
  int v35; // r6@42
  unsigned int *v36; // r7@42
  int v37; // r8@42
  unsigned int v38; // r0@42
  unsigned int v39; // r1@43
  int v40; // r9@46
  unsigned int v41; // r0@47
  unsigned int v42; // r0@49
  unsigned int *v43; // r4@51
  unsigned int v44; // r0@52
  unsigned int v45; // r0@56
  unsigned int v46; // r0@58
  unsigned int *v47; // r4@60
  unsigned int v48; // r0@61
  _DWORD *v49; // r0@64
  unsigned int *v50; // r1@67
  signed int v51; // r2@68
  unsigned int *v52; // r1@71
  signed int v53; // r2@72
  unsigned int *v54; // r1@75
  signed int v55; // r2@76
  unsigned int *v56; // r1@79
  signed int v57; // r2@80
  unsigned int *v58; // r1@83
  signed int v59; // r2@84
  unsigned int *v60; // r1@87
  unsigned int *v61; // r1@91
  signed int v62; // r2@92
  unsigned int *v63; // r1@95
  signed int v64; // r2@96
  unsigned int *v65; // r1@99
  _DWORD *v71; // [sp+0h] [bp-80h]@64
  void (*v72)(void); // [sp+8h] [bp-78h]@64
  int (__fastcall *v73)(int *); // [sp+Ch] [bp-74h]@64
  int v74; // [sp+14h] [bp-6Ch]@37
  int v75; // [sp+18h] [bp-68h]@39
  int v76; // [sp+20h] [bp-60h]@33
  char *v77; // [sp+24h] [bp-5Ch]@32
  int v78; // [sp+28h] [bp-58h]@30
  int v79; // [sp+2Ch] [bp-54h]@26
  int v80; // [sp+34h] [bp-4Ch]@24
  int v81; // [sp+3Ch] [bp-44h]@20
  int v82; // [sp+44h] [bp-3Ch]@15
  int v83; // [sp+4Ch] [bp-34h]@14
  int v84; // [sp+50h] [bp-30h]@9
  int v85; // [sp+54h] [bp-2Ch]@24
  int v86; // [sp+58h] [bp-28h]@24

  v2 = a1;
  v3 = a2;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection send_http_response");
  v4 = (pthread_mutex_t **)(v2 + 19236);
  v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  {
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    v4 = (pthread_mutex_t **)(v2 + 19236);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  }
  if ( *(_UNKNOWN **)(v3 + 4) == &websocketpp::error::get_category(void)::instance && *(_DWORD *)v3 == 21 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *v4,
      4096,
      "An HTTP handler took over the connection.");
    return;
  if ( *(_DWORD *)(v2 + 19200) )
    *(_QWORD *)(v2 + 19264) = *(_QWORD *)v3;
  else
    *(_DWORD *)(v2 + 19200) = 500;
    sub_21E94B4((void **)&v84, "Internal Server Error");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19184),
      &v84);
    v6 = (void *)(v84 - 12);
    if ( (int *)(v84 - 12) != &dword_28898C0 )
    {
      v58 = (unsigned int *)(v84 - 4);
      __dmb();
      do
        v59 = __ldrex(v58);
      while ( __strex(v59 - 1, v58) );
      if ( v59 <= 0 )
        j_j_j_j__ZdlPv_9(v6);
    }
    v7 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)(v2 + 19264) = 1;
    *(_DWORD *)(v2 + 19268) = &websocketpp::error::get_category(void)::instance;
  sub_21E94B4((void **)&v83, "HTTP/1.1");
  EntityInteraction::setInteractText((int *)(v2 + 19136), &v83);
  v8 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
    v50 = (unsigned int *)(v83 - 4);
    do
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  sub_21E94B4((void **)&v82, "Server");
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 19140,
         &v82);
  v10 = v2 + 19144;
  v11 = (const void **)(v9 + 20);
  if ( v9 == v2 + 19144 )
    v11 = (const void **)&dword_2880E54;
  v12 = sub_21E7D6C(v11, (const char *)&unk_257BC67);
  v13 = (void *)(v82 - 12);
  if ( (int *)(v82 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v82 - 4);
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  if ( !v12 )
    if ( *(_DWORD *)(*(_DWORD *)(v2 + 2352) - 12) )
      sub_21E94B4((void **)&v81, "Server");
      v14 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v2 + 19140,
                     &v81);
      EntityInteraction::setInteractText(v14, (int *)(v2 + 2352));
      v15 = (void *)(v81 - 12);
      if ( (int *)(v81 - 12) == &dword_28898C0 )
        goto LABEL_25;
      v16 = (unsigned int *)(v81 - 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
    else
      sub_21E94B4((void **)&v80, "Server");
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
        (int)&v85,
        v2 + 19140,
        &v80);
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
        v85,
        v86);
      v15 = (void *)(v80 - 12);
      if ( (int *)(v80 - 12) == &dword_28898C0 )
      v65 = (unsigned int *)(v80 - 4);
        v17 = __ldrex(v65);
      while ( __strex(v17 - 1, v65) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
LABEL_25:
  v18 = *(_DWORD *)(v2 + 18988);
  v19 = (int *)(v2 + 18984);
  if ( v18 )
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)v18 + 36))((int)&v79, v18, v2 + 19136);
      (int *)(v2 + 18984),
      &v79);
    v20 = (void *)(v79 - 12);
    if ( (int *)(v79 - 12) != &dword_28898C0 )
      v21 = (unsigned int *)(v79 - 4);
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      goto LABEL_89;
    j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v78, v2 + 19136);
      &v78);
    v20 = (void *)(v78 - 12);
    if ( (int *)(v78 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v78 - 4);
        v22 = __ldrex(v60);
      while ( __strex(v22 - 1, v60) );
LABEL_89:
      if ( v22 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
      goto LABEL_31;
LABEL_31:
  v23 = *v4;
  if ( *((_BYTE *)&(*v4)->__align + 5) & 4 )
    v77 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v77, *(_DWORD *)(*v19 - 12) + 24);
    sub_21E7408((const void **)&v77, "Raw Handshake response:\n", 0x18u);
    sub_21E72F0((const void **)&v77, (const void **)(v2 + 18984));
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, (int *)&v77);
    v24 = v77 - 12;
    if ( (int *)(v77 - 12) != &dword_28898C0 )
      v54 = (unsigned int *)(v77 - 4);
        v55 = __ldrex(v54);
      while ( __strex(v55 - 1, v54) );
      if ( v55 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    sub_21E94B4((void **)&v76, "Sec-WebSocket-Key3");
    v25 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v2 + 19140,
            &v76);
    v26 = (const void **)(v25 + 20);
    if ( v25 == v10 )
      v26 = (const void **)&dword_2880E54;
    v27 = sub_21E7D6C(v26, (const char *)&unk_257BC67);
    v28 = (void *)(v76 - 12);
    if ( (int *)(v76 - 12) != &dword_28898C0 )
      v56 = (unsigned int *)(v76 - 4);
        v57 = __ldrex(v56);
      while ( __strex(v57 - 1, v56) );
      if ( v57 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    if ( v27 )
      v29 = *v4;
      sub_21E94B4((void **)&v74, "Sec-WebSocket-Key3");
      v30 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v2 + 19140,
              &v74);
      v31 = (int *)(v30 + 20);
      if ( v30 == v10 )
        v31 = &dword_2880E54;
      j_websocketpp::utility::to_hex((const void **)&v75, v31);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v29, 1024, &v75);
      v32 = (void *)(v75 - 12);
      if ( (int *)(v75 - 12) != &dword_28898C0 )
      {
        v61 = (unsigned int *)(v75 - 4);
        __dmb();
        do
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      }
      v33 = (void *)(v74 - 12);
      if ( (int *)(v74 - 12) != &dword_28898C0 )
        v63 = (unsigned int *)(v74 - 4);
          v64 = __ldrex(v63);
        while ( __strex(v64 - 1, v63) );
        if ( v64 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
  v34 = *(_DWORD *)(v2 + 4);
  if ( !v34 )
LABEL_103:
    j_std::__throw_bad_weak_ptr();
  v35 = *v19;
  v36 = (unsigned int *)(v34 + 4);
  v37 = *(_DWORD *)(v35 - 12);
  v38 = *(_DWORD *)(v34 + 4);
  do
    v39 = v38;
    if ( !v38 )
      goto LABEL_103;
    v38 = __ldrex(v36);
  while ( v38 != v39 || __strex(v39 + 1, v36) );
  v40 = *(_DWORD *)v2;
    v41 = __ldrex(v36);
  while ( __strex(v41 + 1, v36) );
    v42 = __ldrex(v36);
  while ( __strex(v42 - 1, v36) );
  if ( v42 == 1 )
    v43 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v44 = __ldrex(v43);
    while ( __strex(v44 - 1, v43) );
    if ( v44 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
    v45 = __ldrex(v36);
  while ( __strex(v45 + 1, v36) );
    v46 = __ldrex(v36);
  while ( __strex(v46 - 1, v36) );
  if ( v46 == 1 )
    v47 = (unsigned int *)(v34 + 8);
      v48 = __ldrex(v47);
    while ( __strex(v48 - 1, v47) );
    if ( v48 == 1 )
  v49 = j_operator new(0x10u);
  *v49 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_send_http_response;
  v49[1] = 0;
  v49[2] = v40;
  v49[3] = v34;
  v71 = v49;
  v72 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
  v73 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(
    v2,
    v35,
    v37,
    (int)&v71);
  if ( v72 )
    v72();
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_post_init_timeout(int a1, int a2, int a3, _DWORD *a4)
{
  int v4; // r5@1
  _DWORD *v5; // r6@1
  int v6; // r4@1
  __int64 v7; // r0@2
  char v9; // r0@7
  int v10; // r5@11
  int v11; // [sp+0h] [bp-28h]@1
  void *v12; // [sp+4h] [bp-24h]@1
  int v13; // [sp+8h] [bp-20h]@11
  void *v14; // [sp+Ch] [bp-1Ch]@11

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v11 = 0;
  v12 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 92),
               1024,
               "asio post init timer cancelled");
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_post_init_timeout",
      v5);
    *(_QWORD *)&v11 = *(_QWORD *)v5;
  }
  else
    LODWORD(v7) = *(_DWORD *)(v4 + 40);
    if ( (_DWORD)v7 )
    {
      HIDWORD(v7) = *(_DWORD *)(v4 + 44);
      *(_QWORD *)&v11 = v7;
    }
    else
      v9 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v9 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v11 = 9;
      v12 = &websocketpp::transport::error::get_category(void)::instance;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 92),
    1024,
    "Asio transport post-init timed out");
  v10 = *(_DWORD *)(v4 + 28);
  v13 = 0;
  v14 = sub_21B09F0();
  if ( *(_DWORD *)v10 == -1 )
    v13 = 9;
    v14 = sub_21B09F0();
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v13, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v10 + 16) + 20),
    *(_DWORD *)v10,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v10 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v11);
}


void __fastcall websocketpp::processor::hybi08<websocketpp::config::asio_client>::~hybi08(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276DB80;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


_DWORD *__fastcall websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>::message(_DWORD *a1, int a2, int a3, unsigned int a4)
{
  _DWORD *v4; // r4@1
  int v5; // r0@1
  unsigned int *v6; // r0@2
  unsigned int v7; // r1@3
  int v8; // r6@5

  v4 = a1;
  *a1 = *(_DWORD *)a2;
  v5 = *(_DWORD *)(a2 + 4);
  v4[1] = v5;
  if ( v5 )
  {
    v6 = (unsigned int *)(v5 + 8);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
  }
  v4[2] = &unk_28898CC;
  v4[3] = &unk_28898CC;
  v4[4] = &unk_28898CC;
  v8 = (int)(v4 + 4);
  *(_DWORD *)(v8 + 4) = a3;
  *(_DWORD *)(v8 + 8) = 256;
  sub_21E6FCC((const void **)v4 + 4, a4);
  return v4;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_uri(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  int v5; // r3@1
  const char *v6; // r1@1
  void *v7; // r0@3
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+4h] [bp-1Ch]@3

  v3 = a1;
  v4 = a3;
  v5 = *(_BYTE *)(a2 + 4);
  v6 = "ws";
  if ( v5 )
    v6 = "wss";
  sub_21E94B4((void **)&v10, v6);
  j_websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request const>(v3, v4, &v10);
  v7 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  }
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::~hybi13(void *ptr)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::~hybi13(ptr);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_request(int a1)
{
  websocketpp::connection<websocketpp::config::asio_client>::send_http_request(a1);
}


unsigned int *__fastcall websocketpp::transport::asio::tls_socket::connection::post_init(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r7@1
  char v4; // r0@1
  __int64 *v5; // r6@4
  int v6; // r10@4
  unsigned int v7; // r9@4
  unsigned int v8; // r8@4
  unsigned int v9; // r0@6
  unsigned int *v10; // r5@6
  unsigned int v11; // r1@7
  int v12; // r4@10
  void (__fastcall *v13)(__int64 *, int, signed int); // r3@10
  int v14; // r0@11
  int (*v15)(void); // r1@11
  __int64 v16; // r2@11
  unsigned int v17; // r0@13
  unsigned int *v18; // r5@13
  unsigned int v19; // r1@14
  int v20; // r6@17
  void (__fastcall *v21)(int *, int, signed int); // r3@17
  unsigned int *result; // r0@19
  int v23; // r4@19
  unsigned int v24; // r1@21
  unsigned int *v25; // r6@23
  __int64 v26; // r2@30
  int v27; // r1@30
  int v28; // r4@30
  unsigned int v29; // r1@32
  unsigned int *v30; // r6@34
  int v31; // r4@40
  unsigned int v32; // r1@42
  unsigned int *v33; // r5@44
  __int64 v46; // [sp+0h] [bp-90h]@17
  int v47; // [sp+8h] [bp-88h]@18
  int (__cdecl *v48)(int *, int *); // [sp+10h] [bp-80h]@17
  int v49; // [sp+14h] [bp-7Ch]@18
  int v50; // [sp+18h] [bp-78h]@19
  int v51; // [sp+1Ch] [bp-74h]@19
  int (__fastcall *v52)(int, int, _DWORD *); // [sp+20h] [bp-70h]@10
  int v53; // [sp+24h] [bp-6Ch]@10
  __int64 v54; // [sp+28h] [bp-68h]@11
  int (*v55)(void); // [sp+30h] [bp-60h]@10
  int v56; // [sp+34h] [bp-5Ch]@11
  int v57; // [sp+38h] [bp-58h]@30
  int v58; // [sp+3Ch] [bp-54h]@30
  __int64 v59; // [sp+40h] [bp-50h]@30
  __int64 v60; // [sp+48h] [bp-48h]@30
  __int64 v61; // [sp+50h] [bp-40h]@30
  int (*v62)(void); // [sp+58h] [bp-38h]@30
  int v63; // [sp+5Ch] [bp-34h]@30
  int v64; // [sp+60h] [bp-30h]@30
  int v65; // [sp+64h] [bp-2Ch]@30

  v2 = a1;
  v3 = a2;
  v4 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  __dmb();
  if ( !(v4 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance) )
  {
    websocketpp::transport::asio::socket::get_socket_category(void)::instance = &off_276D2A0;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance);
  }
  *(_DWORD *)(v2 + 40) = 5;
  *(_DWORD *)(v2 + 44) = &websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  v5 = *(__int64 **)(v2 + 12);
  v6 = *(_DWORD *)(v2 + 4);
  v7 = *(_DWORD *)(v2 + 28);
  v8 = *(_BYTE *)(v2 + 36);
  if ( v5 )
    if ( !v6 )
LABEL_51:
      j_std::__throw_bad_weak_ptr();
    v9 = *(_DWORD *)(v6 + 4);
    v10 = (unsigned int *)(v6 + 4);
    do
    {
      v11 = v9;
      if ( !v9 )
        goto LABEL_51;
      __dmb();
      v9 = __ldrex(v10);
    }
    while ( v9 != v11 || __strex(v11 + 1, v10) );
    __dmb();
    v12 = *(_DWORD *)v2;
    v52 = websocketpp::transport::asio::tls_socket::connection::handle_init;
    v53 = 0;
    v55 = 0;
    v13 = *(void (__fastcall **)(__int64 *, int, signed int))(v3 + 8);
    if ( v13 )
      v13(&v54, v3, 2);
      v14 = *(_DWORD *)(v3 + 12);
      v56 = *(_DWORD *)(v3 + 12);
      v15 = *(int (**)(void))(v3 + 8);
      v55 = *(int (**)(void))(v3 + 8);
      v16 = *(_QWORD *)&v52;
    else
      HIDWORD(v16) = 0;
      v14 = v56;
      LODWORD(v16) = websocketpp::transport::asio::tls_socket::connection::handle_init;
      v15 = 0;
    v57 = v12;
    v58 = v6;
    v59 = *v5;
    v60 = v16;
    v26 = v54;
    v54 = v61;
    v61 = v26;
    v62 = v15;
    v27 = v63;
    v58 = 0;
    v63 = v14;
    v64 = v12;
    v65 = v6;
    *(_QWORD *)&v56 = (unsigned int)v27;
    result = j_boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>::async_handshake<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::tls_socket::connection::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::tls_socket::connection>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
               __PAIR__(v8, v7),
               (int)&v59);
    v28 = v65;
    if ( v65 )
      result = (unsigned int *)(v65 + 4);
      do
        v29 = __ldrex(result);
      while ( __strex(v29 - 1, result) );
      if ( v29 == 1 )
      {
        v30 = (unsigned int *)(v28 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 8))(v28);
        __dmb();
        do
          result = (unsigned int *)__ldrex(v30);
        while ( __strex((unsigned int)result - 1, v30) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v28 + 12))(v28);
      }
    if ( v62 )
      result = (unsigned int *)v62();
    v31 = v58;
    if ( v58 )
      result = (unsigned int *)(v58 + 4);
        v32 = __ldrex(result);
      while ( __strex(v32 - 1, result) );
      if ( v32 == 1 )
        v33 = (unsigned int *)(v31 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 8))(v31);
          result = (unsigned int *)__ldrex(v33);
        while ( __strex((unsigned int)result - 1, v33) );
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v31 + 12))(v31);
    if ( v55 )
      result = (unsigned int *)v55();
  else
LABEL_52:
    v17 = *(_DWORD *)(v6 + 4);
    v18 = (unsigned int *)(v6 + 4);
      v19 = v17;
      if ( !v17 )
        goto LABEL_52;
      v17 = __ldrex(v18);
    while ( v17 != v19 || __strex(v19 + 1, v18) );
    v20 = *(_DWORD *)v2;
    v46 = (unsigned int)websocketpp::transport::asio::tls_socket::connection::handle_init;
    v48 = 0;
    v21 = *(void (__fastcall **)(int *, int, signed int))(v3 + 8);
    if ( v21 )
      v21(&v47, v3, 2);
      v49 = *(_DWORD *)(v3 + 12);
      v48 = *(int (__cdecl **)(int *, int *))(v3 + 8);
    v50 = v20;
    v51 = v6;
    result = j_boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>::async_handshake<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::tls_socket::connection::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::tls_socket::connection>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>(
               (int)&v46);
    v23 = v51;
    if ( v51 )
      result = (unsigned int *)(v51 + 4);
        v24 = __ldrex(result);
      while ( __strex(v24 - 1, result) );
      if ( v24 == 1 )
        v25 = (unsigned int *)(v23 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v23 + 8))(v23);
          result = (unsigned int *)__ldrex(v25);
        while ( __strex((unsigned int)result - 1, v25) );
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v23 + 12))(v23);
    if ( v48 )
      result = (unsigned int *)v48(&v47, &v47);
  return result;
}


void __fastcall websocketpp::client<websocketpp::config::asio_tls_client>::handle_connect(int a1, int *a2, unsigned __int64 *a3)
{
  unsigned __int64 *v3; // r6@1
  int v4; // r4@1
  int *v5; // r5@1
  const void **v6; // r0@2
  int v7; // r6@2
  void *v8; // r0@3
  unsigned int *v9; // r1@6
  signed int v10; // r2@7
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  int v13; // [sp+0h] [bp-28h]@2
  const void *v14; // [sp+4h] [bp-24h]@2

  v3 = a3;
  v4 = a1;
  v5 = a2;
  if ( *(_DWORD *)a3 )
  {
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(*a2, a3);
    (*(void (__fastcall **)(int *))(*(_DWORD *)(*v3 >> 32) + 12))(&v13);
    v6 = sub_21E82D8((const void **)&v13, 0, (unsigned int)"handle_connect error: ", (_BYTE *)0x16);
    v14 = *v6;
    v7 = (int)v14;
    *v6 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      (pthread_mutex_t *)(v4 + 132),
      16,
      (int *)&v14);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
    {
      v9 = (unsigned int *)(v7 - 4);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 - 1, v9) );
      if ( v10 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v7 - 12));
    }
    v8 = (void *)(v13 - 12);
    if ( (int *)(v13 - 12) != &dword_28898C0 )
      v11 = (unsigned int *)(v13 - 4);
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      (pthread_mutex_t *)(a1 + 116),
      1,
      "Successful connection");
    j_j_j__ZN11websocketpp10connectionINS_6config15asio_tls_clientEE5startEv(*v5);
}


_DWORD *__fastcall websocketpp::transport::asio::basic_socket::connection::get_remote_endpoint(int *a1, int a2, int a3)
{
  int v3; // r4@1
  int *v4; // r9@1
  int v5; // r6@1
  char v6; // r0@2
  int *v7; // r6@5
  __int64 v8; // kr00_8@5
  const char *v9; // r0@5
  int v10; // r5@5
  int v11; // r0@6
  int v12; // r0@7
  char *v13; // r0@9
  char *v14; // r0@9
  void *v15; // r0@9
  void *v16; // r0@11
  unsigned int *v18; // r1@13
  signed int v19; // r2@14
  unsigned int *v20; // r1@17
  signed int v21; // r2@18
  int v22; // [sp+0h] [bp-108h]@9
  char v23; // [sp+4h] [bp-104h]@1
  int v24; // [sp+20h] [bp-E8h]@1
  void *v25; // [sp+24h] [bp-E4h]@1
  void **v26; // [sp+28h] [bp-E0h]@1
  int v27; // [sp+2Ch] [bp-DCh]@12
  int v28; // [sp+30h] [bp-D8h]@5
  void **v29; // [sp+34h] [bp-D4h]@7
  int v30; // [sp+50h] [bp-B8h]@12
  int v31; // [sp+58h] [bp-B0h]@11
  void **v32; // [sp+5Ch] [bp-ACh]@11
  char v33; // [sp+E7h] [bp-21h]@9

  v3 = a2;
  v4 = a1;
  v5 = a3;
  sub_21D103C((int)&v26, 24);
  v24 = 0;
  v25 = sub_21B09F0();
  j_boost::asio::basic_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>::remote_endpoint(
    (int)&v23,
    *(int **)(v3 + 8),
    (int)&v24);
  if ( v24 )
  {
    v6 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v6 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
    {
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    }
    *(_DWORD *)v5 = 3;
    *(_DWORD *)(v5 + 4) = &websocketpp::transport::asio::error::get_category(void)::instance;
    v7 = &v28;
    sub_21CBF38((char *)&v28, (int)"Error getting remote endpoint: ", 31);
    v8 = *(_QWORD *)&v24;
    v9 = (const char *)(*(int (__fastcall **)(void *))(*(_DWORD *)v25 + 8))(v25);
    v10 = (int)v9;
    if ( v9 )
      v11 = j_strlen_1(v9);
      sub_21CBF38((char *)&v28, v10, v11);
    else
      sub_21B583C((int)&v28 + *(_DWORD *)(v28 - 12), *(int *)((char *)&v28 + *(_DWORD *)(v28 - 12) + 20) | 1);
    v33 = 58;
    v13 = sub_21CBF38((char *)&v28, (int)&v33, 1);
    sub_21CC43C(v13, v8);
    sub_21CBF38((char *)&v28, (int)" (", 2);
    (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v8) + 12))(&v22);
    v14 = sub_21CBF38((char *)&v28, v22, *(_DWORD *)(v22 - 12));
    sub_21CBF38(v14, (int)")", 1);
    v15 = (void *)(v22 - 12);
    if ( (int *)(v22 - 12) != &dword_28898C0 )
      v20 = (unsigned int *)(v22 - 4);
      __dmb();
      do
        v21 = __ldrex(v20);
      while ( __strex(v21 - 1, v20) );
      if ( v21 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    sub_21CFED8(v4, (int)&v29);
  }
  else
    v12 = ((int (*)(void))byte_21E9640)();
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = v12;
    j_boost::asio::ip::operator<<<char,std::char_traits<char>,boost::asio::ip::tcp>();
  v26 = &off_26D3F94;
  v32 = &off_26D3FBC;
  *v7 = (int)&off_26D3FA8;
  v29 = &off_27734E8;
  v16 = (void *)(v31 - 12);
  if ( (int *)(v31 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v31 - 4);
    do
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
  v29 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v30);
  v26 = &off_276D0DC;
  v32 = &off_276D0F0;
  v27 = 0;
  return sub_21B6560(&v32);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::send_close_frame(int a1, int a2, int a3, int *a4, int a5, int a6)
{
  int v6; // r6@1
  int v7; // r7@1
  int v8; // r11@1
  int *v9; // r4@1
  pthread_mutex_t **v10; // r5@1
  int *v11; // r1@2
  int *v12; // r0@2
  pthread_mutex_t *v13; // r0@5
  char *v14; // r4@6
  signed __int16 v15; // r2@6
  char *v16; // r4@9
  int v17; // r1@9
  char *v18; // r4@9
  pthread_mutex_t *v19; // r4@9
  void *v20; // r0@9
  int v21; // r2@11
  void (__fastcall *v22)(int *); // r7@11
  unsigned int *v23; // r0@12
  unsigned int v24; // r5@13
  int v25; // r4@15
  unsigned int *v26; // r0@16
  unsigned int v27; // r1@17
  unsigned int *v28; // r5@19
  unsigned int v29; // r0@20
  char v30; // r0@25
  void *v31; // r0@28
  int v32; // r4@30
  unsigned int *v33; // r0@31
  unsigned int v34; // r1@32
  unsigned int *v35; // r5@34
  unsigned int v36; // r0@35
  void *v37; // r0@38
  int v39; // r4@44
  int v40; // r10@45
  unsigned int v41; // r0@46
  unsigned int *v42; // r5@46
  unsigned int v43; // r1@47
  unsigned int *v44; // r1@53
  signed int v45; // r2@54
  unsigned int *v46; // r1@58
  signed int v47; // r2@59
  unsigned int v48; // r0@62
  unsigned int v49; // r0@64
  unsigned int *v50; // r7@66
  unsigned int v51; // r0@67
  unsigned int v52; // r0@71
  unsigned int v53; // r0@73
  unsigned int *v54; // r7@75
  unsigned int v55; // r0@76
  _DWORD *v56; // r0@79
  __int64 v57; // r0@79
  int v58; // r4@79
  unsigned int *v59; // r0@80
  unsigned int v60; // r1@81
  unsigned int *v61; // r5@83
  unsigned int v62; // r0@84
  int v63; // r4@87
  unsigned int *v64; // r0@88
  unsigned int v65; // r1@89
  unsigned int *v66; // r5@91
  unsigned int v67; // r0@92
  int v68; // r0@97
  unsigned int *v69; // r0@100
  unsigned int v70; // r1@101
  int v71; // r7@103
  unsigned int *v72; // r0@104
  unsigned int v73; // r1@105
  unsigned int *v74; // r5@107
  unsigned int v75; // r0@108
  int v76; // r5@113
  int v77; // r7@113
  int v78; // r7@114
  unsigned int v79; // r0@115
  unsigned int *v80; // r4@115
  unsigned int v81; // r1@116
  int v82; // r9@119
  unsigned int v83; // r0@122
  unsigned int v84; // r0@124
  unsigned int *v85; // r5@126
  unsigned int v86; // r0@127
  unsigned int v87; // r0@131
  unsigned int v88; // r0@133
  unsigned int *v89; // r5@135
  unsigned int v90; // r0@136
  _DWORD *v91; // r0@139
  __int64 v92; // r0@139
  int v93; // [sp+Ch] [bp-13Ch]@50
  char v94; // [sp+10h] [bp-138h]@139
  _DWORD *v95; // [sp+18h] [bp-130h]@139
  int (__fastcall *v96)(void ***, void ***, int); // [sp+20h] [bp-128h]@139
  int (__fastcall *v97)(int *); // [sp+24h] [bp-124h]@139
  int v98; // [sp+28h] [bp-120h]@99
  int v99; // [sp+2Ch] [bp-11Ch]@99
  _DWORD *v100; // [sp+30h] [bp-118h]@79
  int (__fastcall *v101)(void ***, void ***, int); // [sp+38h] [bp-110h]@79
  int (__fastcall *v102)(int *); // [sp+3Ch] [bp-10Ch]@79
  char v103; // [sp+40h] [bp-108h]@79
  int v104; // [sp+44h] [bp-104h]@79
  int v105; // [sp+48h] [bp-100h]@11
  int v106; // [sp+4Ch] [bp-FCh]@11
  int v107; // [sp+50h] [bp-F8h]@15
  int v108; // [sp+58h] [bp-F0h]@10
  int v109; // [sp+5Ch] [bp-ECh]@11
  int v110; // [sp+60h] [bp-E8h]@9
  void **v111; // [sp+64h] [bp-E4h]@9
  int v112; // [sp+68h] [bp-E0h]@39
  void **v113; // [sp+6Ch] [bp-DCh]@38
  void **v114; // [sp+70h] [bp-D8h]@9
  int v115; // [sp+8Ch] [bp-BCh]@39
  int v116; // [sp+94h] [bp-B4h]@38
  void **v117; // [sp+98h] [bp-B0h]@38

  v6 = a2;
  v7 = a3;
  v8 = a1;
  v9 = a4;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4AFC),
    1024,
    "send_close_frame");
  v10 = (pthread_mutex_t **)(0x4AFC + v6);
  if ( !v7 )
  {
    if ( a5 )
    {
      v13 = *v10;
      if ( *(_WORD *)(v6 + 0x4B10) != 1005 )
      {
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          v13,
          1024,
          "acknowledging with remote codes");
        *(_WORD *)(v6 + 19208) = *(_WORD *)(v6 + 0x4B10);
        v12 = (int *)(0x4B0C + v6);
        v11 = (int *)(v6 + 19220);
        goto LABEL_3;
      }
      v14 = (char *)&GLOBAL_OFFSET_TABLE_;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        v13,
        1024,
        "acknowledging a no-status close with normal code");
      v15 = 1000;
    }
    else
        *v10,
        "closing with no status code");
      v15 = 1005;
    *(_WORD *)(v6 + 19208) = v15;
    sub_21E8190((void **)(0x4B0C + v6), v14 - 2127181, 0);
    goto LABEL_9;
  }
    *v10,
    "closing with specified codes");
  v11 = v9;
  *(_WORD *)(v6 + 19208) = v7;
  v12 = (int *)(0x4B0C + v6);
LABEL_3:
  EntityInteraction::setInteractText(v12, v11);
LABEL_9:
  v16 = (char *)(sub_21D103C((int)&v111, 24) + 8);
  sub_21CBF38(v16, (int)"Closing with code: ", 19);
  v17 = *(_WORD *)(v6 + 0x4B08);
  v18 = sub_21CC440(v16);
  sub_21CBF38(v18, (int)", and reason: ", 14);
  sub_21CBF38(v18, *(_DWORD *)(v6 + 0x4B0C), *(_DWORD *)(*(_DWORD *)(v6 + 0x4B0C) - 12));
  v19 = *v10;
  sub_21CFED8(&v110, (int)&v114);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, &v110);
  v20 = (void *)(v110 - 12);
  if ( (int *)(v110 - 12) != &dword_28898C0 )
    v44 = (unsigned int *)(v110 - 4);
    __dmb();
    do
      v45 = __ldrex(v44);
    while ( __strex(v45 - 1, v44) );
    if ( v45 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
    (int)&v108,
    *(_DWORD *)(v6 + 18920));
  if ( !v108 )
    v30 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v30 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v8 = 7;
    v31 = &websocketpp::error::get_category(void)::instance;
    goto LABEL_29;
  v21 = *(_WORD *)(v6 + 0x4B08);
  v22 = *(void (__fastcall **)(int *))(**(_DWORD **)(v6 + 18948) + 84);
  v105 = v108;
  v106 = v109;
  if ( v109 )
    v23 = (unsigned int *)(v109 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 + 1, v23) );
  v22(&v107);
  v25 = v106;
  if ( v106 )
    v26 = (unsigned int *)(v106 + 4);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 == 1 )
      v28 = (unsigned int *)(v25 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
      __dmb();
      do
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
  if ( !v107 )
    if ( a6 == 1 )
      *(_BYTE *)(v108 + 26) = 1;
    *(_DWORD *)(v6 + 2500) = 2;
    if ( a5 == 1 )
      *(_BYTE *)(v6 + 19233) = 1;
    v39 = *(_DWORD *)(v6 + 2488);
    if ( v39 >= 1 )
      v40 = *(_DWORD *)(v6 + 4);
      if ( !v40 )
        j_std::__throw_bad_weak_ptr();
      v41 = *(_DWORD *)(v40 + 4);
      v42 = (unsigned int *)(v40 + 4);
        v43 = v41;
        if ( !v41 )
          j_std::__throw_bad_weak_ptr();
        __dmb();
        v41 = __ldrex(v42);
      while ( v41 != v43 || __strex(v43 + 1, v42) );
      v93 = *(_DWORD *)v6;
        v48 = __ldrex(v42);
      while ( __strex(v48 + 1, v42) );
        v49 = __ldrex(v42);
      while ( __strex(v49 - 1, v42) );
      if ( v49 == 1 )
        v50 = (unsigned int *)(v40 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        do
          v51 = __ldrex(v50);
        while ( __strex(v51 - 1, v50) );
        if ( v51 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 12))(v40);
        v52 = __ldrex(v42);
      while ( __strex(v52 + 1, v42) );
        v53 = __ldrex(v42);
      while ( __strex(v53 - 1, v42) );
      if ( v53 == 1 )
        v54 = (unsigned int *)(v40 + 8);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 == 1 )
      v56 = j_operator new(0x10u);
      *v56 = websocketpp::connection<websocketpp::config::asio_client>::handle_close_handshake_timeout;
      v56[1] = 0;
      v56[2] = v93;
      v56[3] = v40;
      v100 = v56;
      v101 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
      v102 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
        (int)&v103,
        v6,
        v39,
        (int)&v100);
      v57 = *(_QWORD *)&v103;
      *(_DWORD *)&v103 = 0;
      v104 = 0;
      *(_DWORD *)(v6 + 0x49F0) = v57;
      v58 = *(_DWORD *)(v6 + 18932);
      *(_DWORD *)(v6 + 18932) = HIDWORD(v57);
      if ( v58 )
        v59 = (unsigned int *)(v58 + 4);
          v60 = __ldrex(v59);
        while ( __strex(v60 - 1, v59) );
        if ( v60 == 1 )
        {
          v61 = (unsigned int *)(v58 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 8))(v58);
          __dmb();
          do
            v62 = __ldrex(v61);
          while ( __strex(v62 - 1, v61) );
          if ( v62 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 12))(v58);
        }
      v63 = v104;
      if ( v104 )
        v64 = (unsigned int *)(v104 + 4);
          v65 = __ldrex(v64);
        while ( __strex(v65 - 1, v64) );
        if ( v65 == 1 )
          v66 = (unsigned int *)(v63 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 8))(v63);
            v67 = __ldrex(v66);
          while ( __strex(v67 - 1, v66) );
          if ( v67 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 12))(v63);
      if ( v101 )
        ((void (__cdecl *)(_DWORD **))v101)(&v100);
    v68 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v6 + 2512));
    if ( v68 )
      sub_21E5E14(v68);
    v98 = v108;
    v99 = v109;
    if ( v109 )
      v69 = (unsigned int *)(v109 + 4);
        v70 = __ldrex(v69);
      while ( __strex(v70 + 1, v69) );
    j_websocketpp::connection<websocketpp::config::asio_client>::write_push(v6, &v98);
    v71 = v99;
    if ( v99 )
      v72 = (unsigned int *)(v99 + 4);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 == 1 )
        v74 = (unsigned int *)(v71 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 8))(v71);
          v75 = __ldrex(v74);
        while ( __strex(v75 - 1, v74) );
        if ( v75 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 12))(v71);
    if ( *(_BYTE *)(v6 + 19024) )
      j_pthread_mutex_unlock_1((pthread_mutex_t *)(v6 + 2512));
      v76 = *(_DWORD *)(v6 + 18964);
      v77 = *(_DWORD *)(v6 + 18980);
      if ( v77 != v76 )
        v78 = *(_DWORD *)(v6 + 4);
        if ( !v78 )
        v79 = *(_DWORD *)(v78 + 4);
        v80 = (unsigned int *)(v78 + 4);
          v81 = v79;
          if ( !v79 )
            j_std::__throw_bad_weak_ptr();
          v79 = __ldrex(v80);
        while ( v79 != v81 || __strex(v81 + 1, v80) );
        v82 = *(_DWORD *)v6;
          v83 = __ldrex(v80);
        while ( __strex(v83 + 1, v80) );
          v84 = __ldrex(v80);
        while ( __strex(v84 - 1, v80) );
        if ( v84 == 1 )
          v85 = (unsigned int *)(v78 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v78 + 8))(v78);
            v86 = __ldrex(v85);
          while ( __strex(v86 - 1, v85) );
          if ( v86 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v78 + 12))(v78);
          v87 = __ldrex(v80);
        while ( __strex(v87 + 1, v80) );
          v88 = __ldrex(v80);
        while ( __strex(v88 - 1, v80) );
        if ( v88 == 1 )
          v89 = (unsigned int *)(v78 + 8);
            v90 = __ldrex(v89);
          while ( __strex(v90 - 1, v89) );
          if ( v90 == 1 )
        v91 = j_operator new(0x10u);
        *v91 = websocketpp::connection<websocketpp::config::asio_client>::write_frame;
        v91[1] = 0;
        v91[2] = v82;
        v91[3] = v78;
        v95 = v91;
        v96 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_manager;
        v97 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_invoke;
        LODWORD(v92) = &v94;
        j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::dispatch(
          v92,
          (int)&v95);
        if ( v96 )
          ((void (__cdecl *)(_DWORD **))v96)(&v95);
    *(_DWORD *)v8 = 0;
    v31 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
LABEL_29:
    *(_DWORD *)(v8 + 4) = v31;
    goto LABEL_30;
  *(_QWORD *)v8 = *(_QWORD *)&v107;
LABEL_30:
  v32 = v109;
    v33 = (unsigned int *)(v109 + 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 == 1 )
      v35 = (unsigned int *)(v32 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 12))(v32);
  v111 = &off_26D3F94;
  v117 = &off_26D3FBC;
  v113 = &off_26D3FA8;
  v114 = &off_27734E8;
  v37 = (void *)(v116 - 12);
  if ( (int *)(v116 - 12) != &dword_28898C0 )
    v46 = (unsigned int *)(v116 - 4);
      v47 = __ldrex(v46);
    while ( __strex(v47 - 1, v46) );
    if ( v47 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
  v114 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v115);
  v111 = &off_276D0DC;
  v117 = &off_276D0F0;
  v112 = 0;
  return sub_21B6560(&v117);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r4@1
  int v6; // r6@1
  int *v7; // r5@1
  int v8; // r7@1
  int v9; // r0@1
  int *v10; // r1@1
  void *v11; // r0@3
  int *v12; // r0@6
  void *v13; // r0@6
  void *v14; // r0@7
  void *v15; // r0@8
  void *v16; // r0@9
  void *v17; // r0@10
  int *v18; // r0@12
  void *v19; // r0@12
  void *v20; // r0@14
  unsigned int *v21; // r1@16
  signed int v22; // r2@17
  unsigned int *v23; // r1@20
  signed int v24; // r2@21
  unsigned int *v25; // r1@24
  signed int v26; // r2@25
  unsigned int *v27; // r1@28
  signed int v28; // r2@29
  unsigned int *v29; // r1@32
  signed int v30; // r2@33
  unsigned int *v31; // r1@36
  signed int v32; // r2@37
  unsigned int *v33; // r1@40
  signed int v34; // r2@41
  unsigned int *v35; // r1@44
  signed int v36; // r2@45
  int v37; // [sp+4h] [bp-64h]@12
  int v38; // [sp+Ch] [bp-5Ch]@9
  int v39; // [sp+14h] [bp-54h]@9
  int v40; // [sp+1Ch] [bp-4Ch]@7
  int v41; // [sp+24h] [bp-44h]@7
  int v42; // [sp+2Ch] [bp-3Ch]@6
  int v43; // [sp+30h] [bp-38h]@4
  int v44; // [sp+40h] [bp-28h]@1
  int v45; // [sp+44h] [bp-24h]@3

  v5 = a1;
  v6 = a2;
  v7 = a4;
  v8 = a3;
  sub_21E94B4((void **)&v44, "Sec-WebSocket-Key");
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v8 + 4,
         &v44);
  v10 = (int *)(v9 + 20);
  if ( v9 == v8 + 8 )
    v10 = &dword_2880E54;
  sub_21E8AF4(&v45, v10);
  v11 = (void *)(v44 - 12);
  if ( (int *)(v44 - 12) != &dword_28898C0 )
  {
    v21 = (unsigned int *)(v44 - 4);
    __dmb();
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  }
  j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake_key(
    (int)&v43,
    v6,
    (const void **)&v45);
  if ( v43 )
    *(_QWORD *)v5 = *(_QWORD *)&v43;
  else
    sub_21E94B4((void **)&v42, "Sec-WebSocket-Accept");
    v12 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   a5 + 4,
                   &v42);
    EntityInteraction::setInteractText(v12, &v45);
    v13 = (void *)(v42 - 12);
    if ( (int *)(v42 - 12) != &dword_28898C0 )
    {
      v25 = (unsigned int *)(v42 - 4);
      __dmb();
      do
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 <= 0 )
        j_j_j_j__ZdlPv_9(v13);
    }
    sub_21E94B4((void **)&v41, "Upgrade");
    sub_21E94B4((void **)&v40, "websocket");
    j_websocketpp::http::parser::parser::append_header(a5, &v41, (const void **)&v40);
    v14 = (void *)(v40 - 12);
    if ( (int *)(v40 - 12) != &dword_28898C0 )
      v27 = (unsigned int *)(v40 - 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    v15 = (void *)(v41 - 12);
    if ( (int *)(v41 - 12) != &dword_28898C0 )
      v29 = (unsigned int *)(v41 - 4);
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    sub_21E94B4((void **)&v39, "Connection");
    sub_21E94B4((void **)&v38, "upgrade");
    j_websocketpp::http::parser::parser::append_header(a5, &v39, (const void **)&v38);
    v16 = (void *)(v38 - 12);
    if ( (int *)(v38 - 12) != &dword_28898C0 )
      v31 = (unsigned int *)(v38 - 4);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 <= 0 )
        j_j_j_j__ZdlPv_9(v16);
    v17 = (void *)(v39 - 12);
    if ( (int *)(v39 - 12) != &dword_28898C0 )
      v33 = (unsigned int *)(v39 - 4);
        v34 = __ldrex(v33);
      while ( __strex(v34 - 1, v33) );
      if ( v34 <= 0 )
        j_j_j_j__ZdlPv_9(v17);
    if ( *(_DWORD *)(*v7 - 12) )
      sub_21E94B4((void **)&v37, "Sec-WebSocket-Protocol");
      v18 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     a5 + 4,
                     &v37);
      EntityInteraction::setInteractText(v18, v7);
      v19 = (void *)(v37 - 12);
      if ( (int *)(v37 - 12) != &dword_28898C0 )
      {
        v35 = (unsigned int *)(v37 - 4);
        __dmb();
        do
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 <= 0 )
          j_j_j_j__ZdlPv_9(v19);
      }
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = ((int (*)(void))byte_21E9640)();
  v20 = (void *)(v45 - 12);
  if ( (int *)(v45 - 12) != &dword_28898C0 )
    v23 = (unsigned int *)(v45 - 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_close(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // r4@1
  int v6; // r0@2
  int v7; // r1@2
  void *v8; // r0@2
  unsigned int *v9; // r1@3
  signed int v10; // r2@4
  char v11; // r0@7
  void *v12; // [sp+4h] [bp-1Ch]@2

  v5 = a1;
  if ( *(_DWORD *)a5 )
  {
    v12 = &unk_28898CC;
    sub_21E7434((const void **)&v12, 1u, 255);
    sub_21E7434((const void **)&v12, 1u, 0);
    EntityInteraction::setInteractText((int *)(*(_DWORD *)a5 + 16), (int *)&v12);
    *(_BYTE *)(*(_DWORD *)a5 + 24) = 1;
    *(_DWORD *)v5 = 0;
    v6 = ((int (*)(void))byte_21E9640)();
    v7 = (int)v12;
    *(_DWORD *)(v5 + 4) = v6;
    v8 = (void *)(v7 - 12);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
    {
      v9 = (unsigned int *)(v7 - 4);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 - 1, v9) );
      if ( v10 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    }
  }
  else
    v11 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v11 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    *(_DWORD *)v5 = 6;
    *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
}


void __fastcall websocketpp::utility::to_hex(const void **a1, int *a2)
{
  const void **v2; // r4@1
  int *v3; // r8@1
  int v4; // r0@1
  unsigned int v5; // r10@2
  int v6; // r2@3
  unsigned int v7; // r6@3
  _DWORD *v8; // r0@5
  int v9; // r1@5
  char v10; // r9@5
  int v11; // r7@5
  _DWORD *v12; // r0@8
  int v13; // r2@10
  char v14; // r6@10
  _DWORD *v15; // r0@12
  int v16; // r1@12
  char v17; // r6@12
  int v18; // r7@12
  _DWORD *v19; // r0@15
  void *v20; // r0@18
  unsigned int *v21; // r1@20
  signed int v22; // r2@21
  int v23; // [sp+Ch] [bp-34h]@1

  v2 = a1;
  v3 = a2;
  *a1 = &unk_28898CC;
  sub_21E94B4((void **)&v23, "0123456789ABCDEF");
  v4 = *v3;
  if ( *(_DWORD *)(*v3 - 12) )
  {
    v5 = 0;
    do
    {
      v6 = v23;
      v7 = *(_BYTE *)(v4 + v5);
      if ( *(_DWORD *)(v23 - 4) >= 0 )
      {
        sub_21E8010((const void **)&v23);
        v6 = v23;
      }
      v8 = *v2;
      v9 = *(_QWORD *)((char *)*v2 - 12);
      v10 = *(_BYTE *)(v6 + (v7 >> 4));
      v11 = v9 + 1;
      if ( v9 + 1 > (unsigned int)(*(_QWORD *)((char *)*v2 - 12) >> 32) || *(v8 - 1) >= 1 )
        sub_21E6FCC(v2, v9 + 1);
        v8 = *v2;
        v9 = *((_DWORD *)*v2 - 3);
      *((_BYTE *)v8 + v9) = v10;
      v12 = *v2;
      if ( (int *)((char *)*v2 - 12) != &dword_28898C0 )
        *(v12 - 1) = 0;
        *(v12 - 3) = v11;
        *((_BYTE *)v12 + v11) = byte_26C67B8[0];
      v13 = v23;
      v14 = *(_BYTE *)(*v3 + v5);
        v13 = v23;
      v15 = *v2;
      v16 = *(_QWORD *)((char *)*v2 - 12);
      v17 = *(_BYTE *)(v13 + (v14 & 0xF));
      v18 = v16 + 1;
      if ( v16 + 1 > (unsigned int)(*(_QWORD *)((char *)*v2 - 12) >> 32) || *(v15 - 1) >= 1 )
        sub_21E6FCC(v2, v16 + 1);
        v15 = *v2;
        v16 = *((_DWORD *)*v2 - 3);
      *((_BYTE *)v15 + v16) = v17;
      v19 = *v2;
        *(v19 - 1) = 0;
        *(v19 - 3) = v18;
        *((_BYTE *)v19 + v18) = byte_26C67B8[0];
      sub_21E7408(v2, " ", 1u);
      v4 = *v3;
      ++v5;
    }
    while ( v5 < *(_DWORD *)(*v3 - 12) );
  }
  v20 = (void *)(v23 - 12);
  if ( (int *)(v23 - 12) != &dword_28898C0 )
    v21 = (unsigned int *)(v23 - 4);
    __dmb();
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
}


int __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::connection(int a1, char a2, int *a3, pthread_mutex_t *a4, int a5, int a6)
{
  pthread_mutex_t *v6; // r9@1
  int *v7; // r7@1
  char v8; // r10@1
  int v9; // r4@1
  _DWORD *v10; // r0@1
  _DWORD *v11; // r0@1
  _DWORD *v12; // r7@1
  int *v13; // r0@1
  int v14; // r5@1
  unsigned int *v15; // r0@2
  unsigned int v16; // r1@3
  int v17; // r0@5
  unsigned int *v18; // r1@6
  unsigned int v19; // r2@7
  void *v20; // r1@10
  __int64 v21; // r6@11
  unsigned __int64 v22; // ST14_8@11
  __int64 v23; // r10@11
  int v24; // r0@11
  int v25; // r2@11
  int v26; // r5@11
  unsigned int v27; // r7@11
  unsigned int v28; // r5@11
  unsigned int v29; // r6@11
  int v30; // r0@11
  unsigned __int64 v31; // kr00_8@11
  void *v32; // r2@11
  int v33; // r2@11
  int v34; // r3@11
  unsigned int v35; // r1@11
  int v36; // r2@11
  void *v37; // r7@13
  unsigned int v38; // r5@14
  unsigned int v39; // r6@15
  void *v40; // t1@16
  void **v42; // [sp+1Ch] [bp-7Ch]@10
  pthread_mutex_t *v43; // [sp+20h] [bp-78h]@11
  char v44; // [sp+24h] [bp-74h]@10
  void *ptr; // [sp+28h] [bp-70h]@10
  int v46; // [sp+2Ch] [bp-6Ch]@11
  int v47; // [sp+30h] [bp-68h]@11
  int v48; // [sp+34h] [bp-64h]@11
  int v49; // [sp+38h] [bp-60h]@11
  unsigned int v50; // [sp+3Ch] [bp-5Ch]@11
  unsigned __int64 v51; // [sp+40h] [bp-58h]@11
  unsigned __int64 v52; // [sp+48h] [bp-50h]@11
  int v53; // [sp+54h] [bp-44h]@13
  unsigned int v54; // [sp+58h] [bp-40h]@13
  unsigned int v55; // [sp+5Ch] [bp-3Ch]@13
  unsigned int v56; // [sp+60h] [bp-38h]@13
  int v57; // [sp+64h] [bp-34h]@13
  int v58; // [sp+68h] [bp-30h]@13
  int v59; // [sp+6Ch] [bp-2Ch]@13
  unsigned int v60; // [sp+70h] [bp-28h]@13

  v6 = a4;
  v7 = a3;
  v8 = a2;
  v9 = a1;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::connection(
    a1,
    a2,
    a4,
    a5);
  *(_DWORD *)(v9 + 2328) = 0;
  v10 = j_operator new(0xCu);
  *v10 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_frame;
  v10[1] = 0;
  v10[2] = v9;
  *(_DWORD *)(v9 + 2320) = v10;
  *(_DWORD *)(v9 + 2332) = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(websocketpp::connection<websocketpp::config::asio_tls_client>*,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  *(_DWORD *)(v9 + 2328) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(websocketpp::connection<websocketpp::config::asio_tls_client>*,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  *(_DWORD *)(v9 + 2344) = 0;
  v11 = j_operator new(0xCu);
  *v11 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_write_frame;
  v11[1] = 0;
  v11[2] = v9;
  *(_DWORD *)(v9 + 2336) = v11;
  *(_DWORD *)(v9 + 2344) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(websocketpp::connection<websocketpp::config::asio_tls_client>*,std::_Placeholder<1>)>>::_M_manager;
  *(_DWORD *)(v9 + 2348) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(websocketpp::connection<websocketpp::config::asio_tls_client>*,std::_Placeholder<1>)>>::_M_invoke;
  sub_21E8AF4((int *)(v9 + 2352), v7);
  *(_DWORD *)(v9 + 2356) = 0;
  *(_DWORD *)(v9 + 2360) = 0;
  *(_DWORD *)(v9 + 2372) = 0;
  *(_DWORD *)(v9 + 2388) = 0;
  *(_DWORD *)(v9 + 2404) = 0;
  *(_DWORD *)(v9 + 2420) = 0;
  *(_DWORD *)(v9 + 2436) = 0;
  *(_DWORD *)(v9 + 2452) = 0;
  *(_DWORD *)(v9 + 2468) = 0;
  *(_DWORD *)(v9 + 2484) = 0;
  *(_DWORD *)(v9 + 2500) = 0;
  *(_DWORD *)(v9 + 2516) = 0;
  *(_DWORD *)(v9 + 2524) = 5000;
  *(_DWORD *)(v9 + 2528) = 5000;
  *(_DWORD *)(v9 + 2532) = 5000;
  *(_DWORD *)(v9 + 2536) = 32000000;
  *(_DWORD *)(v9 + 2540) = 0;
  *(_DWORD *)(v9 + 2544) = 0;
  *(_DWORD *)(v9 + 2548) = 0;
  *(_DWORD *)(v9 + 2552) = 0;
  *(_DWORD *)(v9 + 18952) = 0;
  v12 = j_operator new(8u);
  *v12 = 0;
  v12[1] = 0;
  *(_DWORD *)(v9 + 18960) = v12;
  v13 = j_std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::alloc::message<websocketpp::message_buffer::alloc::message>> *>(
          (_DWORD *)(v9 + 18964),
          (int)v12);
  *v12 = v12;
  v14 = *v13;
  if ( *v13 )
  {
    v15 = (unsigned int *)(v14 + 8);
    __dmb();
    do
      v16 = __ldrex(v15);
    while ( __strex(v16 + 1, v15) );
  }
  v17 = v12[1];
  if ( v17 )
    v18 = (unsigned int *)(v17 + 8);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
  v12[1] = v14;
  *(_DWORD *)(v9 + 18980) = 0;
  *(_DWORD *)(v9 + 18976) = 0;
  *(_DWORD *)(v9 + 18972) = 0;
  *(_DWORD *)(v9 + 18968) = 0;
  *(_DWORD *)(v9 + 18984) = &unk_28898CC;
  *(_DWORD *)(v9 + 18988) = 0;
  *(_DWORD *)(v9 + 18992) = 0;
  j___aeabi_memclr8_1((int)&ptr, 40);
  j_std::_Deque_base<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_initialize_map(
    (int)&ptr,
    0);
  v42 = (void **)(v9 + 18996);
  j___aeabi_memclr4_1(v9 + 18996, 40);
    v9 + 18996,
  v20 = ptr;
  v44 = v8;
  if ( ptr )
    HIDWORD(v21) = *(_DWORD *)(v9 + 19016);
    HIDWORD(v23) = *(_DWORD *)(v9 + 19008);
    v43 = v6;
    LODWORD(v21) = *(_DWORD *)(v9 + 19012);
    v22 = __PAIR__(v21, HIDWORD(v21));
    LODWORD(v23) = *(_DWORD *)(v9 + 19004);
    v24 = v47;
    v25 = v48;
    v26 = v49;
    *(_DWORD *)(v9 + 19016) = v50;
    *(_DWORD *)(v9 + 19012) = v26;
    *(_DWORD *)(v9 + 19008) = v25;
    *(_DWORD *)(v9 + 19004) = v24;
    *(_QWORD *)&v47 = v23;
    *(_QWORD *)&v49 = v21;
    v27 = *(_DWORD *)(v9 + 19032);
    v28 = *(_DWORD *)(v9 + 19028);
    v29 = *(_DWORD *)(v9 + 19024);
    v30 = *(_DWORD *)(v9 + 19020);
    v31 = v51;
    *(_QWORD *)(v9 + 19028) = v52;
    *(_QWORD *)(v9 + 19020) = v31;
    v51 = __PAIR__(v29, v30);
    v52 = __PAIR__(v27, v28);
    v32 = *v42;
    *v42 = v20;
    ptr = v32;
    v33 = *(_DWORD *)(v9 + 19000);
    *(_DWORD *)(v9 + 19000) = v46;
    v34 = v23;
    v46 = v33;
    v36 = HIDWORD(v22);
    v35 = v22;
  else
    HIDWORD(v23) = v48;
    v34 = v47;
    v35 = v50;
    v36 = v49;
    v27 = HIDWORD(v52);
    v28 = v52;
    v29 = HIDWORD(v51);
    v30 = v51;
  v57 = v34;
  v58 = HIDWORD(v23);
  v59 = v36;
  v60 = v35;
  v53 = v30;
  v54 = v29;
  v55 = v28;
  v56 = v27;
  j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_destroy_data_aux(
    (int)&v57,
    (int)&v53);
  v37 = ptr;
    v38 = HIDWORD(v52);
    if ( v50 < HIDWORD(v52) + 4 )
    {
      v39 = v50 - 4;
      do
      {
        v40 = *(void **)(v39 + 4);
        v39 += 4;
        j_operator delete(v40);
      }
      while ( v39 < v38 );
    }
    j_operator delete(v37);
  *(_BYTE *)(v9 + 19064) = 0;
  *(_DWORD *)(v9 + 19060) = 0;
  *(_DWORD *)(v9 + 19056) = 0;
  *(_DWORD *)(v9 + 19052) = 0;
  *(_DWORD *)(v9 + 19048) = 0;
  *(_DWORD *)(v9 + 19044) = 0;
  *(_DWORD *)(v9 + 19040) = 0;
  *(_DWORD *)(v9 + 19036) = 0;
  *(_BYTE *)(v9 + 19065) = 1;
  j_websocketpp::http::parser::request::request((websocketpp::http::parser::request *)(v9 + 19068));
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::response *)(v9 + 19136));
  *(_DWORD *)(v9 + 19208) = 0;
  *(_DWORD *)(v9 + 19212) = 0;
  *(_DWORD *)(v9 + 19216) = &unk_28898CC;
  *(_DWORD *)(v9 + 19220) = 0;
  *(_DWORD *)(v9 + 19224) = 0;
  *(_DWORD *)(v9 + 19228) = 0;
  *(_BYTE *)(v9 + 19232) = v44;
  *(_DWORD *)(v9 + 19236) = v43;
  *(_DWORD *)(v9 + 19240) = a5;
  *(_DWORD *)(v9 + 19244) = a6;
  *(_WORD *)(v9 + 19248) = 1006;
  *(_DWORD *)(v9 + 19252) = &unk_28898CC;
  *(_WORD *)(v9 + 19256) = 1006;
  *(_DWORD *)(v9 + 19260) = &unk_28898CC;
  *(_DWORD *)(v9 + 19264) = 0;
  *(_DWORD *)(v9 + 19268) = ((int (*)(void))byte_21E9640)();
  *(_WORD *)(v9 + 19272) = 0;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    v43,
    1024,
    "connection constructor");
  return v9;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::negotiate_extensions(int a1, int a2, int a3)
{
  int v3; // r8@1
  int v4; // r5@1
  int v5; // r6@1
  int v6; // r0@2
  int v7; // r1@2
  signed int v8; // r5@3
  void *v9; // r0@8
  char v10; // r0@10
  int v11; // r4@14
  int v12; // r6@14
  unsigned int *v13; // r1@16
  signed int v14; // r2@17
  int *v15; // r0@20
  unsigned int *v16; // r1@26
  signed int v17; // r2@27
  int v18; // [sp+8h] [bp-38h]@1
  int v19; // [sp+Ch] [bp-34h]@1
  int v20; // [sp+10h] [bp-30h]@1
  int v21; // [sp+14h] [bp-2Ch]@1

  v3 = a1;
  v4 = a3;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v3 + 8) = &unk_28898CC;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Extensions");
  v5 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v4 + 4,
         &v18);
  if ( v5 == v4 + 8 )
  {
    v8 = 0;
  }
  else
    v6 = *(_DWORD *)(v5 + 20);
    v7 = *(_DWORD *)(v6 - 12);
    if ( v7 )
    {
      v8 = 0;
      if ( j_websocketpp::http::parser::extract_parameters<__gnu_cxx::__normal_iterator<char const*,std::string>>(
             v6,
             (_BYTE *)(v7 + v6),
             (int)&v19) == *(_DWORD *)(v5 + 20) )
        v8 = 1;
    }
    else
  v9 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  if ( v8 == 1 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    *(_DWORD *)v3 = 28;
    *(_DWORD *)(v3 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  v12 = v20;
  v11 = v19;
  if ( v19 != v20 )
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
        v11 + 4,
        *(_DWORD *)(v11 + 12));
      v15 = (int *)(*(_DWORD *)v11 - 12);
      if ( v15 != &dword_28898C0 )
      {
        v13 = (unsigned int *)(*(_DWORD *)v11 - 4);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 <= 0 )
          j_j_j_j__ZdlPv_9(v15);
      }
      v11 += 28;
    while ( v11 != v12 );
    v11 = v19;
  if ( v11 )
    j_operator delete((void *)v11);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_close_frame(int a1, int a2, int a3, int *a4, int a5, int a6)
{
  int v6; // r6@1
  int v7; // r7@1
  int v8; // r11@1
  int *v9; // r4@1
  pthread_mutex_t **v10; // r5@1
  int *v11; // r1@2
  int *v12; // r0@2
  pthread_mutex_t *v13; // r0@5
  char *v14; // r4@6
  signed __int16 v15; // r2@6
  char *v16; // r4@9
  int v17; // r1@9
  char *v18; // r4@9
  pthread_mutex_t *v19; // r4@9
  void *v20; // r0@9
  int v21; // r2@11
  void (__fastcall *v22)(int *); // r7@11
  unsigned int *v23; // r0@12
  unsigned int v24; // r5@13
  int v25; // r4@15
  unsigned int *v26; // r0@16
  unsigned int v27; // r1@17
  unsigned int *v28; // r5@19
  unsigned int v29; // r0@20
  char v30; // r0@25
  void *v31; // r0@28
  int v32; // r4@30
  unsigned int *v33; // r0@31
  unsigned int v34; // r1@32
  unsigned int *v35; // r5@34
  unsigned int v36; // r0@35
  void *v37; // r0@38
  int v39; // r4@44
  int v40; // r10@45
  unsigned int v41; // r0@46
  unsigned int *v42; // r5@46
  unsigned int v43; // r1@47
  unsigned int *v44; // r1@53
  signed int v45; // r2@54
  unsigned int *v46; // r1@58
  signed int v47; // r2@59
  unsigned int v48; // r0@62
  unsigned int v49; // r0@64
  unsigned int *v50; // r7@66
  unsigned int v51; // r0@67
  unsigned int v52; // r0@71
  unsigned int v53; // r0@73
  unsigned int *v54; // r7@75
  unsigned int v55; // r0@76
  _DWORD *v56; // r0@79
  __int64 v57; // r0@79
  int v58; // r4@79
  unsigned int *v59; // r0@80
  unsigned int v60; // r1@81
  unsigned int *v61; // r5@83
  unsigned int v62; // r0@84
  int v63; // r4@87
  unsigned int *v64; // r0@88
  unsigned int v65; // r1@89
  unsigned int *v66; // r5@91
  unsigned int v67; // r0@92
  int v68; // r0@97
  unsigned int *v69; // r0@100
  unsigned int v70; // r1@101
  int v71; // r7@103
  unsigned int *v72; // r0@104
  unsigned int v73; // r1@105
  unsigned int *v74; // r5@107
  unsigned int v75; // r0@108
  int v76; // r5@113
  int v77; // r7@113
  int v78; // r7@114
  unsigned int v79; // r0@115
  unsigned int *v80; // r4@115
  unsigned int v81; // r1@116
  int v82; // r9@119
  unsigned int v83; // r0@122
  unsigned int v84; // r0@124
  unsigned int *v85; // r5@126
  unsigned int v86; // r0@127
  unsigned int v87; // r0@131
  unsigned int v88; // r0@133
  unsigned int *v89; // r5@135
  unsigned int v90; // r0@136
  _DWORD *v91; // r0@139
  __int64 v92; // r0@139
  int v93; // [sp+Ch] [bp-13Ch]@50
  char v94; // [sp+10h] [bp-138h]@139
  _DWORD *v95; // [sp+18h] [bp-130h]@139
  int (__fastcall *v96)(void ***, void ***, int); // [sp+20h] [bp-128h]@139
  int (__fastcall *v97)(int *); // [sp+24h] [bp-124h]@139
  int v98; // [sp+28h] [bp-120h]@99
  int v99; // [sp+2Ch] [bp-11Ch]@99
  _DWORD *v100; // [sp+30h] [bp-118h]@79
  int (__fastcall *v101)(void ***, void ***, int); // [sp+38h] [bp-110h]@79
  int (__fastcall *v102)(int *); // [sp+3Ch] [bp-10Ch]@79
  char v103; // [sp+40h] [bp-108h]@79
  int v104; // [sp+44h] [bp-104h]@79
  int v105; // [sp+48h] [bp-100h]@11
  int v106; // [sp+4Ch] [bp-FCh]@11
  int v107; // [sp+50h] [bp-F8h]@15
  int v108; // [sp+58h] [bp-F0h]@10
  int v109; // [sp+5Ch] [bp-ECh]@11
  int v110; // [sp+60h] [bp-E8h]@9
  void **v111; // [sp+64h] [bp-E4h]@9
  int v112; // [sp+68h] [bp-E0h]@39
  void **v113; // [sp+6Ch] [bp-DCh]@38
  void **v114; // [sp+70h] [bp-D8h]@9
  int v115; // [sp+8Ch] [bp-BCh]@39
  int v116; // [sp+94h] [bp-B4h]@38
  void **v117; // [sp+98h] [bp-B0h]@38

  v6 = a2;
  v7 = a3;
  v8 = a1;
  v9 = a4;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4B24),
    1024,
    "send_close_frame");
  v10 = (pthread_mutex_t **)(0x4B24 + v6);
  if ( !v7 )
  {
    if ( a5 )
    {
      v13 = *v10;
      if ( *(_WORD *)(v6 + 0x4B38) != 1005 )
      {
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          v13,
          1024,
          "acknowledging with remote codes");
        *(_WORD *)(v6 + 19248) = *(_WORD *)(v6 + 0x4B38);
        v12 = (int *)(0x4B34 + v6);
        v11 = (int *)(v6 + 19260);
        goto LABEL_3;
      }
      v14 = (char *)&GLOBAL_OFFSET_TABLE_;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        v13,
        1024,
        "acknowledging a no-status close with normal code");
      v15 = 1000;
    }
    else
        *v10,
        "closing with no status code");
      v15 = 1005;
    *(_WORD *)(v6 + 19248) = v15;
    sub_21E8190((void **)(0x4B34 + v6), v14 - 2127181, 0);
    goto LABEL_9;
  }
    *v10,
    "closing with specified codes");
  v11 = v9;
  *(_WORD *)(v6 + 19248) = v7;
  v12 = (int *)(0x4B34 + v6);
LABEL_3:
  EntityInteraction::setInteractText(v12, v11);
LABEL_9:
  v16 = (char *)(sub_21D103C((int)&v111, 24) + 8);
  sub_21CBF38(v16, (int)"Closing with code: ", 19);
  v17 = *(_WORD *)(v6 + 0x4B30);
  v18 = sub_21CC440(v16);
  sub_21CBF38(v18, (int)", and reason: ", 14);
  sub_21CBF38(v18, *(_DWORD *)(v6 + 0x4B34), *(_DWORD *)(*(_DWORD *)(v6 + 0x4B34) - 12));
  v19 = *v10;
  sub_21CFED8(&v110, (int)&v114);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, &v110);
  v20 = (void *)(v110 - 12);
  if ( (int *)(v110 - 12) != &dword_28898C0 )
    v44 = (unsigned int *)(v110 - 4);
    __dmb();
    do
      v45 = __ldrex(v44);
    while ( __strex(v45 - 1, v44) );
    if ( v45 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
    (int)&v108,
    *(_DWORD *)(v6 + 18960));
  if ( !v108 )
    v30 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v30 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v8 = 7;
    v31 = &websocketpp::error::get_category(void)::instance;
    goto LABEL_29;
  v21 = *(_WORD *)(v6 + 0x4B30);
  v22 = *(void (__fastcall **)(int *))(**(_DWORD **)(v6 + 18988) + 84);
  v105 = v108;
  v106 = v109;
  if ( v109 )
    v23 = (unsigned int *)(v109 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 + 1, v23) );
  v22(&v107);
  v25 = v106;
  if ( v106 )
    v26 = (unsigned int *)(v106 + 4);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 == 1 )
      v28 = (unsigned int *)(v25 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
      __dmb();
      do
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
  if ( !v107 )
    if ( a6 == 1 )
      *(_BYTE *)(v108 + 26) = 1;
    *(_DWORD *)(v6 + 2540) = 2;
    if ( a5 == 1 )
      *(_BYTE *)(v6 + 19273) = 1;
    v39 = *(_DWORD *)(v6 + 2528);
    if ( v39 >= 1 )
      v40 = *(_DWORD *)(v6 + 4);
      if ( !v40 )
        j_std::__throw_bad_weak_ptr();
      v41 = *(_DWORD *)(v40 + 4);
      v42 = (unsigned int *)(v40 + 4);
        v43 = v41;
        if ( !v41 )
          j_std::__throw_bad_weak_ptr();
        __dmb();
        v41 = __ldrex(v42);
      while ( v41 != v43 || __strex(v43 + 1, v42) );
      v93 = *(_DWORD *)v6;
        v48 = __ldrex(v42);
      while ( __strex(v48 + 1, v42) );
        v49 = __ldrex(v42);
      while ( __strex(v49 - 1, v42) );
      if ( v49 == 1 )
        v50 = (unsigned int *)(v40 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        do
          v51 = __ldrex(v50);
        while ( __strex(v51 - 1, v50) );
        if ( v51 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 12))(v40);
        v52 = __ldrex(v42);
      while ( __strex(v52 + 1, v42) );
        v53 = __ldrex(v42);
      while ( __strex(v53 - 1, v42) );
      if ( v53 == 1 )
        v54 = (unsigned int *)(v40 + 8);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 == 1 )
      v56 = j_operator new(0x10u);
      *v56 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_close_handshake_timeout;
      v56[1] = 0;
      v56[2] = v93;
      v56[3] = v40;
      v100 = v56;
      v101 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
      v102 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
        (int)&v103,
        v6,
        v39,
        (int)&v100);
      v57 = *(_QWORD *)&v103;
      *(_DWORD *)&v103 = 0;
      v104 = 0;
      *(_DWORD *)(v6 + 0x4A18) = v57;
      v58 = *(_DWORD *)(v6 + 18972);
      *(_DWORD *)(v6 + 18972) = HIDWORD(v57);
      if ( v58 )
        v59 = (unsigned int *)(v58 + 4);
          v60 = __ldrex(v59);
        while ( __strex(v60 - 1, v59) );
        if ( v60 == 1 )
        {
          v61 = (unsigned int *)(v58 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 8))(v58);
          __dmb();
          do
            v62 = __ldrex(v61);
          while ( __strex(v62 - 1, v61) );
          if ( v62 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 12))(v58);
        }
      v63 = v104;
      if ( v104 )
        v64 = (unsigned int *)(v104 + 4);
          v65 = __ldrex(v64);
        while ( __strex(v65 - 1, v64) );
        if ( v65 == 1 )
          v66 = (unsigned int *)(v63 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 8))(v63);
            v67 = __ldrex(v66);
          while ( __strex(v67 - 1, v66) );
          if ( v67 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 12))(v63);
      if ( v101 )
        ((void (__cdecl *)(_DWORD **))v101)(&v100);
    v68 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v6 + 2552));
    if ( v68 )
      sub_21E5E14(v68);
    v98 = v108;
    v99 = v109;
    if ( v109 )
      v69 = (unsigned int *)(v109 + 4);
        v70 = __ldrex(v69);
      while ( __strex(v70 + 1, v69) );
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_push(v6, &v98);
    v71 = v99;
    if ( v99 )
      v72 = (unsigned int *)(v99 + 4);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 == 1 )
        v74 = (unsigned int *)(v71 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 8))(v71);
          v75 = __ldrex(v74);
        while ( __strex(v75 - 1, v74) );
        if ( v75 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v71 + 12))(v71);
    if ( *(_BYTE *)(v6 + 19064) )
      j_pthread_mutex_unlock_1((pthread_mutex_t *)(v6 + 2552));
      v76 = *(_DWORD *)(v6 + 19004);
      v77 = *(_DWORD *)(v6 + 19020);
      if ( v77 != v76 )
        v78 = *(_DWORD *)(v6 + 4);
        if ( !v78 )
        v79 = *(_DWORD *)(v78 + 4);
        v80 = (unsigned int *)(v78 + 4);
          v81 = v79;
          if ( !v79 )
            j_std::__throw_bad_weak_ptr();
          v79 = __ldrex(v80);
        while ( v79 != v81 || __strex(v81 + 1, v80) );
        v82 = *(_DWORD *)v6;
          v83 = __ldrex(v80);
        while ( __strex(v83 + 1, v80) );
          v84 = __ldrex(v80);
        while ( __strex(v84 - 1, v80) );
        if ( v84 == 1 )
          v85 = (unsigned int *)(v78 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v78 + 8))(v78);
            v86 = __ldrex(v85);
          while ( __strex(v86 - 1, v85) );
          if ( v86 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v78 + 12))(v78);
          v87 = __ldrex(v80);
        while ( __strex(v87 + 1, v80) );
          v88 = __ldrex(v80);
        while ( __strex(v88 - 1, v80) );
        if ( v88 == 1 )
          v89 = (unsigned int *)(v78 + 8);
            v90 = __ldrex(v89);
          while ( __strex(v90 - 1, v89) );
          if ( v90 == 1 )
        v91 = j_operator new(0x10u);
        *v91 = websocketpp::connection<websocketpp::config::asio_tls_client>::write_frame;
        v91[1] = 0;
        v91[2] = v82;
        v91[3] = v78;
        v95 = v91;
        v96 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_manager;
        v97 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_invoke;
        LODWORD(v92) = &v94;
        j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(
          v92,
          (int)&v95);
        if ( v96 )
          ((void (__cdecl *)(_DWORD **))v96)(&v95);
    *(_DWORD *)v8 = 0;
    v31 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
LABEL_29:
    *(_DWORD *)(v8 + 4) = v31;
    goto LABEL_30;
  *(_QWORD *)v8 = *(_QWORD *)&v107;
LABEL_30:
  v32 = v109;
    v33 = (unsigned int *)(v109 + 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 == 1 )
      v35 = (unsigned int *)(v32 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 12))(v32);
  v111 = &off_26D3F94;
  v117 = &off_26D3FBC;
  v113 = &off_26D3FA8;
  v114 = &off_27734E8;
  v37 = (void *)(v116 - 12);
  if ( (int *)(v116 - 12) != &dword_28898C0 )
    v46 = (unsigned int *)(v116 - 4);
      v47 = __ldrex(v46);
    while ( __strex(v47 - 1, v46) );
    if ( v47 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
  v114 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v115);
  v111 = &off_276D0DC;
  v117 = &off_276D0F0;
  v112 = 0;
  return sub_21B6560(&v117);
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_shutdown(int a1, int a2)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_shutdown(
           a1,
           a2);
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_client>::start(int a1)
{
  int v1; // r4@1
  char v2; // r0@2
  void *result; // r0@5
  int v4; // r5@6
  unsigned int v5; // r0@7
  unsigned int *v6; // r6@7
  unsigned int v7; // r1@8
  int v8; // r8@11
  unsigned int v9; // r0@12
  unsigned int v10; // r0@14
  unsigned int *v11; // r7@16
  unsigned int v12; // r0@17
  unsigned int v13; // r0@21
  unsigned int v14; // r0@23
  unsigned int *v15; // r7@25
  unsigned int v16; // r0@26
  _DWORD *v17; // r0@29
  __int64 v18; // r2@29
  _DWORD *v26; // [sp+0h] [bp-30h]@29
  int (__fastcall *v27)(void ***, void ***, int); // [sp+8h] [bp-28h]@29
  int (__fastcall *v28)(int *); // [sp+Ch] [bp-24h]@29
  int v29; // [sp+10h] [bp-20h]@5
  void *v30; // [sp+14h] [bp-1Ch]@5

  v1 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection start");
  if ( *(_DWORD *)(v1 + 2504) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v1 + 19196),
      1024,
      "Start called in invalid state");
    v2 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v2 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v29 = 9;
    v30 = &websocketpp::error::get_category(void)::instance;
    result = j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v1, (unsigned __int64 *)&v29);
  }
  else
    *(_DWORD *)(v1 + 2504) = 1;
    v4 = *(_DWORD *)(v1 + 4);
    if ( !v4 )
LABEL_32:
      j_std::__throw_bad_weak_ptr();
    v5 = *(_DWORD *)(v4 + 4);
    v6 = (unsigned int *)(v4 + 4);
    do
      v7 = v5;
      if ( !v5 )
        goto LABEL_32;
      __dmb();
      v5 = __ldrex(v6);
    while ( v5 != v7 || __strex(v7 + 1, v6) );
    v8 = *(_DWORD *)v1;
      v9 = __ldrex(v6);
    while ( __strex(v9 + 1, v6) );
      v10 = __ldrex(v6);
    while ( __strex(v10 - 1, v6) );
    if ( v10 == 1 )
      v11 = (unsigned int *)(v4 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v4 + 8))(v4);
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v4 + 12))(v4);
      v13 = __ldrex(v6);
    while ( __strex(v13 + 1, v6) );
      v14 = __ldrex(v6);
    while ( __strex(v14 - 1, v6) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v4 + 8);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
    v17 = j_operator new(0x10u);
    LODWORD(v18) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
    HIDWORD(v18) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
    *v17 = websocketpp::connection<websocketpp::config::asio_client>::handle_transport_init;
    v17[1] = 0;
    v17[2] = v8;
    v17[3] = v4;
    v26 = v17;
    v27 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
    v28 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
    result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init(
                       v1,
                       (int)&v26,
                       v18);
    if ( v27 )
      result = (void *)((int (__cdecl *)(_DWORD **))v27)(&v26);
  return result;
}


void __fastcall websocketpp::processor::hybi08<websocketpp::config::asio_tls_client>::~hybi08(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276D5CC;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


void __fastcall websocketpp::http::parser::request::process(int a1, _BYTE *a2, _BYTE *a3)
{
  _BYTE *v3; // r9@1
  _BYTE *v4; // r6@1
  int v5; // r8@1
  int v6; // r1@1
  _BYTE *v7; // r0@1
  int v8; // r1@2
  int v9; // r2@3
  _BYTE *v10; // r7@3
  bool v11; // zf@3
  int v12; // r2@6
  bool v13; // zf@6
  int v14; // r1@10
  int v15; // r11@25
  _DWORD *v16; // r0@25
  int *v17; // r5@25
  _BYTE *v18; // r4@25
  char *v19; // r5@27
  int *v20; // r0@27
  int v21; // r3@27
  _BYTE *v22; // r0@33
  _BYTE *v23; // r6@34
  int v24; // r1@34
  int v25; // r0@34
  int v26; // r1@35
  int v27; // r2@36
  _BYTE *v28; // r7@36
  bool v29; // zf@36
  int v30; // r2@39
  bool v31; // zf@39
  int v32; // r1@43
  int v33; // r11@55
  _DWORD *v34; // r0@55
  int *v35; // r5@55
  _BYTE *v36; // r4@55
  char *v37; // r5@57
  int *v38; // r0@57
  int v39; // r3@57
  _BYTE *v40; // r0@63
  _BYTE *v41; // r7@64
  int v42; // r5@65
  _DWORD *v43; // r0@65
  int *v44; // r6@65
  _BYTE *v45; // r4@65
  _BYTE *v46; // r0@71
  unsigned int *v47; // r1@73
  signed int v48; // r2@74
  unsigned int *v49; // r1@77
  signed int v50; // r2@78
  unsigned int *v51; // r1@81
  signed int v52; // r2@82
  _BYTE *v53; // [sp+Ch] [bp-6Ch]@71
  _BYTE *v54; // [sp+14h] [bp-64h]@63
  int v55; // [sp+1Ch] [bp-5Ch]@57
  int v56; // [sp+24h] [bp-54h]@57
  int v57; // [sp+2Ch] [bp-4Ch]@57
  _BYTE *v58; // [sp+34h] [bp-44h]@33
  int v59; // [sp+3Ch] [bp-3Ch]@27
  int v60; // [sp+44h] [bp-34h]@27
  int v61; // [sp+4Ch] [bp-2Ch]@27

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = (a3 - a2) >> 2;
  v7 = v4;
  if ( v6 < 1 )
  {
LABEL_10:
    v14 = v3 - v7;
    if ( v3 - v7 == 1 )
    {
      v10 = v7;
    }
    else
      if ( v14 == 2 )
      {
        v10 = v7;
      }
      else
        if ( v14 != 3 )
        {
          v10 = v3;
          goto LABEL_23;
        }
        if ( *v7 == 32 )
        v10 = v7 + 1;
      if ( *v10 == 32 )
        goto LABEL_23;
      ++v10;
    if ( *v10 != 32 )
      v10 = v3;
  }
  else
    v8 = v6 + 1;
    v7 = v4;
    while ( 1 )
      v9 = *v7;
      v11 = v9 == 32;
      if ( v9 != 32 )
        v11 = v7[1] == 32;
      if ( v11 )
        break;
      v10 = v7 + 2;
      v12 = v7[2];
      v13 = v12 == 32;
      if ( v12 != 32 )
        v10 = v7 + 3;
        v13 = v7[3] == 32;
      if ( v13 )
      --v8;
      v7 += 4;
      if ( v8 <= 1 )
        goto LABEL_10;
LABEL_23:
  if ( v10 == v3 )
    v19 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v61, "Invalid request line1");
    sub_21E94B4((void **)&v60, (const char *)&unk_257BC67);
    v20 = (int *)sub_21E94B4((void **)&v59, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v19, &v61, 400, &v60, v20);
    j_j___cxa_throw_0(
      (int)v19,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v21);
  if ( v4 == v10 )
    v18 = &unk_28898CC;
    v15 = v10 - v4;
    v16 = sub_21E7E80(v10 - v4, 0);
    v17 = v16;
    v18 = v16 + 3;
    if ( v10 - v4 == 1 )
      *v18 = *v4;
      j___aeabi_memcpy_1((int)(v16 + 3), (int)v4, v10 - v4);
    if ( v17 != &dword_28898C0 )
      v17[2] = 0;
      *v17 = v15;
      v18[v15] = byte_26C67B8[0];
  v58 = v18;
  j_websocketpp::http::parser::request::set_method(v5, (int *)&v58);
  v22 = v58 - 12;
  if ( (int *)(v58 - 12) != &dword_28898C0 )
    v47 = (unsigned int *)(v58 - 4);
    __dmb();
    do
      v48 = __ldrex(v47);
    while ( __strex(v48 - 1, v47) );
    if ( v48 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v23 = v10 + 1;
  v24 = (v3 - (v10 + 1)) >> 2;
  v25 = (int)(v10 + 1);
  if ( v24 < 1 )
LABEL_43:
    v32 = (int)&v3[-v25];
    if ( &v3[-v25] == (_BYTE *)1 )
      v28 = (_BYTE *)v25;
      if ( v32 == 2 )
        v28 = (_BYTE *)v25;
        if ( v32 != 3 )
          goto LABEL_57;
        if ( *(_BYTE *)v25 == 32 )
          goto LABEL_53;
        v28 = (_BYTE *)(v25 + 1);
      if ( *v28 == 32 )
        goto LABEL_53;
      ++v28;
    if ( *v28 == 32 )
      goto LABEL_53;
LABEL_57:
    v37 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v57, "Invalid request line2");
    sub_21E94B4((void **)&v56, (const char *)&unk_257BC67);
    v38 = (int *)sub_21E94B4((void **)&v55, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v37, &v57, 400, &v56, v38);
      (int)v37,
      v39);
  v26 = v24 + 1;
  while ( 1 )
    v27 = *(_BYTE *)v25;
    v28 = (_BYTE *)v25;
    v29 = v27 == 32;
    if ( v27 != 32 )
      v28 = (_BYTE *)(v25 + 1);
      v29 = *(_BYTE *)(v25 + 1) == 32;
    if ( v29 )
      break;
    v28 = (_BYTE *)(v25 + 2);
    v30 = *(_BYTE *)(v25 + 2);
    v31 = v30 == 32;
    if ( v30 != 32 )
      v28 = (_BYTE *)(v25 + 3);
      v31 = *(_BYTE *)(v25 + 3) == 32;
    if ( v31 )
    --v26;
    v25 += 4;
    if ( v26 <= 1 )
      goto LABEL_43;
LABEL_53:
  if ( v28 == v3 )
    goto LABEL_57;
  if ( v23 == v28 )
    v36 = &unk_28898CC;
    v33 = v28 - v23;
    v34 = sub_21E7E80(v28 - v23, 0);
    v35 = v34;
    v36 = v34 + 3;
    if ( v28 - v23 == 1 )
      *v36 = *v23;
      j___aeabi_memcpy_1((int)(v34 + 3), (int)v23, v28 - v23);
    if ( v35 != &dword_28898C0 )
      v35[2] = 0;
      *v35 = v33;
      v36[v33] = byte_26C67B8[0];
  v54 = v36;
  EntityInteraction::setInteractText((int *)(v5 + 60), (int *)&v54);
  v40 = v54 - 12;
  if ( (int *)(v54 - 12) != &dword_28898C0 )
    v49 = (unsigned int *)(v54 - 4);
      v50 = __ldrex(v49);
    while ( __strex(v50 - 1, v49) );
    if ( v50 <= 0 )
      j_j_j_j__ZdlPv_9(v40);
  v41 = v28 + 1;
  if ( v41 == v3 )
    v45 = &unk_28898CC;
    v42 = v3 - v41;
    v43 = sub_21E7E80(v3 - v41, 0);
    v44 = v43;
    v45 = v43 + 3;
    if ( v3 - v41 == 1 )
      *v45 = *v41;
      j___aeabi_memcpy_1((int)(v43 + 3), (int)v41, v3 - v41);
    if ( v44 != &dword_28898C0 )
      v44[2] = 0;
      *v44 = v42;
      v45[v42] = byte_26C67B8[0];
  v53 = v45;
  EntityInteraction::setInteractText((int *)v5, (int *)&v53);
  v46 = v53 - 12;
  if ( (int *)(v53 - 12) != &dword_28898C0 )
    v51 = (unsigned int *)(v53 - 4);
      v52 = __ldrex(v51);
    while ( __strex(v52 - 1, v51) );
    if ( v52 <= 0 )
      j_j_j_j__ZdlPv_9(v46);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::~connection(int a1)
{
  int v1; // r4@1
  void (*v2)(void); // r3@1
  void (*v3)(void); // r3@3
  void (*v4)(void); // r3@5
  void (*v5)(void); // r3@7
  void (*v6)(void); // r3@9
  void (*v7)(void); // r3@11
  void (*v8)(void); // r3@13
  void *v9; // r0@15
  int v10; // r0@17
  unsigned int *v11; // r1@18
  unsigned int v12; // r2@19
  int v13; // r5@22
  unsigned int *v14; // r0@23
  unsigned int v15; // r1@24
  unsigned int *v16; // r6@26
  unsigned int v17; // r0@27
  int v18; // r5@30
  unsigned int *v19; // r0@31
  unsigned int v20; // r1@32
  unsigned int *v21; // r6@34
  unsigned int v22; // r0@35
  int v23; // r1@38
  void *v24; // r0@38
  void (*v25)(void); // r3@39
  int v26; // r0@41
  unsigned int *v27; // r1@42
  unsigned int v28; // r2@43
  int v29; // r5@46
  unsigned int *v30; // r0@47
  unsigned int v31; // r1@48
  unsigned int *v32; // r6@50
  unsigned int v33; // r0@51
  int v34; // r0@54
  unsigned int *v35; // r1@55
  unsigned int v36; // r2@56
  unsigned int *v38; // r1@60
  signed int v39; // r2@61

  v1 = a1;
  v2 = *(void (**)(void))(a1 + 2272);
  if ( v2 )
    v2();
  v3 = *(void (**)(void))(v1 + 2256);
  if ( v3 )
    v3();
  v4 = *(void (**)(void))(v1 + 2240);
  if ( v4 )
    v4();
  v5 = *(void (**)(void))(v1 + 2224);
  if ( v5 )
    v5();
  v6 = *(void (**)(void))(v1 + 2208);
  if ( v6 )
    v6();
  v7 = *(void (**)(void))(v1 + 124);
  if ( v7 )
    v7();
  v8 = *(void (**)(void))(v1 + 108);
  if ( v8 )
    v8();
  v9 = *(void **)(v1 + 88);
  if ( v9 )
    j_operator delete(v9);
  v10 = *(_DWORD *)(v1 + 84);
  if ( v10 )
  {
    v11 = (unsigned int *)(v10 + 8);
    __dmb();
    do
      v12 = __ldrex(v11);
    while ( __strex(v12 - 1, v11) );
    if ( v12 == 1 )
      (*(void (**)(void))(*(_DWORD *)v10 + 12))();
  }
  v13 = *(_DWORD *)(v1 + 76);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
    {
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
    }
  v18 = *(_DWORD *)(v1 + 64);
  if ( v18 )
    v19 = (unsigned int *)(v18 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 == 1 )
      v21 = (unsigned int *)(v18 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      if ( v22 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
  v23 = *(_DWORD *)(v1 + 56);
  v24 = (void *)(v23 - 12);
  if ( (int *)(v23 - 12) != &dword_28898C0 )
    v38 = (unsigned int *)(v23 - 4);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  v25 = *(void (**)(void))(v1 + 36);
  if ( v25 )
    v25();
  v26 = *(_DWORD *)(v1 + 24);
  if ( v26 )
    v27 = (unsigned int *)(v26 + 8);
      v28 = __ldrex(v27);
    while ( __strex(v28 - 1, v27) );
    if ( v28 == 1 )
      (*(void (**)(void))(*(_DWORD *)v26 + 12))();
  v29 = *(_DWORD *)(v1 + 12);
  if ( v29 )
    v30 = (unsigned int *)(v29 + 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 == 1 )
      v32 = (unsigned int *)(v29 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
  v34 = *(_DWORD *)(v1 + 4);
  if ( v34 )
    v35 = (unsigned int *)(v34 + 8);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 == 1 )
      (*(void (**)(void))(*(_DWORD *)v34 + 12))();
  return v1;
}


signed int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_error(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 92);
  result = 0;
  if ( v1 == 5 )
    result = 1;
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_connect(int a1, int *a2, int *a3, int a4, _DWORD *a5)
{
  int v5; // r10@1
  int *v6; // r11@1
  int v7; // r9@2
  unsigned int v8; // r5@2
  unsigned int v9; // r6@2
  signed int v10; // r1@2
  signed __int64 v11; // r0@7
  bool v12; // zf@7
  bool v13; // zf@10
  signed int v14; // r1@15
  bool v15; // cf@22
  signed int v16; // r6@22
  int *v17; // r5@27
  bool v18; // zf@29
  unsigned __int64 v19; // r0@34
  int v21; // r4@50
  char v22; // r0@53
  int (__fastcall *v23)(int, int *); // r2@57
  int *v24; // r1@57
  pthread_mutex_t *v25; // r4@58
  const void **v26; // r0@59
  const void **v27; // r0@59
  int v28; // r6@59
  char *v29; // r0@60
  void *v30; // r0@61
  unsigned int *v31; // r1@65
  signed int v32; // r2@66
  unsigned int *v33; // r1@69
  signed int v34; // r2@70
  unsigned int *v35; // r1@73
  signed int v36; // r2@74
  int *v37; // [sp+0h] [bp-50h]@2
  int v38; // [sp+4h] [bp-4Ch]@62
  int v39; // [sp+8h] [bp-48h]@62
  int v40; // [sp+Ch] [bp-44h]@59
  char *v41; // [sp+10h] [bp-40h]@59
  const void *v42; // [sp+14h] [bp-3Ch]@59
  int v43; // [sp+18h] [bp-38h]@56
  void *v44; // [sp+1Ch] [bp-34h]@56
  __int64 v45; // [sp+20h] [bp-30h]@2

  v5 = a1;
  v6 = a3;
  if ( *a5 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 92),
             1024,
             "async_connect cancelled");
  v7 = a4;
  v37 = a2;
  v8 = *(_QWORD *)(*a3 + 8) >> 32;
  v9 = *(_QWORD *)(*a3 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v45,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v10 = 0;
  if ( v9 + 2 < 3 )
    v10 = 1;
  if ( (__PAIR__(v8, v9) - 9223372036854775806LL) >> 32 )
    v10 = 0;
  if ( v10 )
  {
    v11 = -6442450945LL;
    v12 = (v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE) == 0;
    if ( v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE )
      v12 = __PAIR__(v45, HIDWORD(v45)) == -6442450945LL;
    if ( v12 )
      goto LABEL_48;
    LODWORD(v11) = 0x7FFFFFFF;
    HIDWORD(v11) = v8 ^ 0x7FFFFFFF | ~v9;
    v13 = HIDWORD(v11) == 0;
    if ( !HIDWORD(v11) )
      v13 = (HIDWORD(v45) ^ 0x7FFFFFFF | ~(_DWORD)v45) == 0;
    if ( v13 )
    {
      HIDWORD(v11) = -2;
    }
    v18 = (v8 ^ 0x80000000 | v9) == 0;
    if ( !(v8 ^ 0x80000000 | v9) )
      v18 = __PAIR__(v45, HIDWORD(v45)) == 0x80000000LL;
    if ( v18 )
      v11 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v45 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v45 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      v15 = v9 >= (unsigned int)v45;
      HIDWORD(v11) = v9 - v45;
      v16 = 0;
      LODWORD(v11) = v8 - (HIDWORD(v45) + !v15);
      if ( (unsigned int)(HIDWORD(v11) + 2) > 2 )
        v16 = 1;
      if ( __CFADD__(HIDWORD(v11), 2) + (_DWORD)v11 != 0x80000000 )
        v16 = __CFADD__(HIDWORD(v11), 2) + (_DWORD)v11 != 2147483648;
      if ( v16 )
      {
        v17 = v37;
        if ( (signed int)v11 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v5 + 92),
                   1024,
                   "async_connect cancelled");
        goto LABEL_50;
      }
    if ( __PAIR__(v45, HIDWORD(v45)) == -6442450945LL )
  v19 = __PAIR__(v8, v9) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v19) = 0;
  if ( v9 + 1 < 2 )
    LODWORD(v19) = 1;
  if ( HIDWORD(v19) )
    LODWORD(v19) = 0;
  if ( (_DWORD)v19 )
    goto LABEL_80;
  if ( __PAIR__(v45, HIDWORD(v45)) == 0x80000000LL )
    v11 = -2147483649LL;
    goto LABEL_48;
  LODWORD(v11) = 0x7FFFFFFF;
  if ( !(HIDWORD(v45) ^ 0x7FFFFFFF | ~(_DWORD)v45) )
    v11 = 0x80000000LL;
  HIDWORD(v11) = -2;
  v8 = (__PAIR__(v8, v9) - v45) >> 32;
  v9 -= v45;
  if ( v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE )
LABEL_80:
    if ( !(v8 ^ 0x7FFFFFFF | ~v9) )
      HIDWORD(v11) = -1;
    if ( !(v9 | v8 ^ 0x80000000) )
      HIDWORD(v11) = v9 | v8 ^ 0x80000000;
      LODWORD(v11) = 2147483648;
LABEL_48:
  v17 = v37;
  if ( v11 == 0x80000000LL )
LABEL_50:
  v21 = *v6;
  sub_21B09F0();
  if ( *(_BYTE *)(v21 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v21 + 52),
      *(_DWORD *)v21 + 20,
      v21 + 20,
      -1);
    *(_BYTE *)(v21 + 16) = 0;
  if ( !*a5 )
    v25 = *(pthread_mutex_t **)(v5 + 92);
    if ( *((_BYTE *)&v25->__align + 5) & 4 )
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(
        (void **)&v40,
        *v17);
      v26 = sub_21E82D8((const void **)&v40, 0, (unsigned int)"Async connect to ", (_BYTE *)0x11);
      v41 = (char *)*v26;
      *v26 = &unk_28898CC;
      v27 = sub_21E7408((const void **)&v41, " successful.", 0xCu);
      v42 = *v27;
      v28 = (int)v42;
      *v27 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v25, 1024, (int *)&v42);
      if ( (int *)(v28 - 12) != &dword_28898C0 )
        v31 = (unsigned int *)(v28 - 4);
        __dmb();
        do
          v32 = __ldrex(v31);
        while ( __strex(v32 - 1, v31) );
        if ( v32 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v28 - 12));
      v29 = v41 - 12;
      if ( (int *)(v41 - 12) != &dword_28898C0 )
        v33 = (unsigned int *)(v41 - 4);
          v34 = __ldrex(v33);
        while ( __strex(v34 - 1, v33) );
        if ( v34 <= 0 )
          j_j_j_j__ZdlPv_9(v29);
      v30 = (void *)(v40 - 12);
      if ( (int *)(v40 - 12) != &dword_28898C0 )
        v35 = (unsigned int *)(v40 - 4);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 <= 0 )
          j_j_j_j__ZdlPv_9(v30);
    v38 = 0;
    v39 = ((int (*)(void))byte_21E9640)();
    if ( *(_DWORD *)(v7 + 8) )
      v23 = *(int (__fastcall **)(int, int *))(v7 + 12);
      v24 = &v38;
      return (RakNet *)v23(v7, v24);
LABEL_77:
    sub_21E5F48();
  j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
    v5,
    4,
    "asio async_connect",
    a5);
  v22 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
  __dmb();
  if ( !(v22 & 1) )
    if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
  v43 = 3;
  v44 = &websocketpp::transport::asio::error::get_category(void)::instance;
  if ( !*(_DWORD *)(v7 + 8) )
    goto LABEL_77;
  v23 = *(int (__fastcall **)(int, int *))(v7 + 12);
  v24 = &v43;
  return (RakNet *)v23(v7, v24);
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_resolve_timeout(int a1, int a2, int a3, signed int *a4)
{
  int v4; // r5@1
  signed int *v5; // r6@1
  int v6; // r4@1
  char v7; // r0@2
  signed int v9; // [sp+0h] [bp-28h]@5
  void *v10; // [sp+4h] [bp-24h]@5
  int v11; // [sp+8h] [bp-20h]@1
  int v12; // [sp+Ch] [bp-1Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v11 = 0;
  v12 = ((int (*)(void))byte_21E9640)();
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 108),
               1024,
               "asio handle_resolve_timeout timer cancelled");
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_resolve_timeout",
      v5);
  }
  else
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v5 = &v9;
    v9 = 9;
    v10 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v11 = *(_QWORD *)v5;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 108),
    1024,
    "DNS resolution timed out");
  j_std::__shared_ptr<void,(__gnu_cxx::_Lock_policy)2>::reset<void,boost::asio::detail::socket_ops::noop_deleter>(
    *(_DWORD *)(v4 + 80) + 4,
    0);
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v11);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_uri(int a1, int a2, int a3)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_uri(a1, a2, a3);
}


void **__fastcall websocketpp::uri::uri(void **a1, int a2, int *a3, const char **a4, int *a5)
{
  void **v5; // r4@1
  int v6; // r7@1
  int *v7; // r5@1
  const char *v8; // r1@1
  const char **v9; // r9@1
  void *v10; // r0@4
  char v11; // r6@6
  void **result; // r0@6
  int v13; // [sp+0h] [bp-38h]@6
  int v14; // [sp+4h] [bp-34h]@6

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = "ws";
  v9 = a4;
  if ( v6 )
    v8 = "wss";
  sub_21E94B4(a1, v8);
  sub_21E8AF4((int *)v5 + 1, v7);
  if ( sub_21E7D6C((const void **)a5, (const char *)&unk_257BC67) )
    v10 = sub_21E8AF4((int *)v5 + 2, a5);
  else
    v10 = sub_21E94B4(v5 + 2, "/");
  v11 = 0;
  *((_BYTE *)v5 + 14) = v6;
  v13 = 0;
  v14 = ((int (__fastcall *)(void *))byte_21E9640)(v10);
  *((_WORD *)v5 + 6) = j_websocketpp::uri::get_port_from_string((int)v5, v9, (int)&v13);
  result = v5;
  if ( !v13 )
    v11 = 1;
  *((_BYTE *)v5 + 15) = v11;
  return result;
}


unsigned int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::consume(int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // r11@0
  int v5; // r9@1
  unsigned int v6; // r6@1
  int v7; // r8@1
  int v8; // r7@1
  int v9; // r0@1
  unsigned int v10; // r5@1
  int v11; // r0@1
  int v12; // r0@6
  signed int v13; // r1@7
  unsigned int v14; // r0@8
  int v15; // r4@8
  __int64 v16; // r0@12
  int v17; // r1@13
  int v18; // r0@13
  unsigned int v19; // r3@14
  signed int v20; // r0@17
  unsigned int v21; // r0@19
  unsigned int v22; // r2@19
  signed int v23; // r0@25
  char v24; // r1@28
  int v25; // r0@36
  int v26; // r0@38
  signed int v27; // r2@39
  int v28; // r0@39
  signed int v29; // r1@49
  unsigned int v30; // r0@49
  unsigned int v31; // r2@53
  signed int v32; // r0@54
  int v33; // r12@55
  int v34; // r0@56
  const void **v35; // r0@57
  int v36; // t1@57
  signed int v37; // r1@58
  int v38; // r1@59
  signed int v39; // r1@60
  int v40; // r0@60
  __int64 v41; // kr00_8@65
  unsigned int *v42; // r2@66
  unsigned int v43; // r3@67
  int v44; // r4@69
  unsigned int *v45; // r0@70
  unsigned int v46; // r1@71
  unsigned int *v47; // r10@73
  unsigned int v48; // r0@74
  int v49; // r10@77
  unsigned int *v50; // r0@78
  unsigned int v51; // r1@79
  unsigned int *v52; // r4@81
  unsigned int v53; // r0@82
  int v54; // r0@85
  signed int v55; // r0@87
  int v56; // r12@88
  signed int v57; // r2@89
  int v58; // r1@89
  signed int v59; // r1@95
  int v60; // r0@95
  __int64 v61; // kr08_8@100
  unsigned int *v62; // r2@101
  unsigned int v63; // r3@102
  int v64; // r4@104
  unsigned int *v65; // r0@105
  unsigned int v66; // r1@106
  unsigned int *v67; // r10@108
  unsigned int v68; // r0@109
  int v69; // r10@112
  unsigned int *v70; // r0@113
  unsigned int v71; // r1@114
  unsigned int *v72; // r4@116
  unsigned int v73; // r0@117
  char v74; // r0@124
  char v76; // r0@129
  int (__fastcall **v77)(_DWORD); // r0@132
  char v78; // r0@133
  unsigned int v79; // r1@137
  signed int v80; // r2@137
  char v81; // r0@138
  int (__fastcall *v82)(_DWORD); // r0@142
  int v83; // [sp+8h] [bp-60h]@73
  int v84; // [sp+8h] [bp-60h]@108
  _WORD *v85; // [sp+14h] [bp-54h]@2
  int *v86; // [sp+18h] [bp-50h]@2
  char v87; // [sp+20h] [bp-48h]@87
  int v88; // [sp+24h] [bp-44h]@100
  char v89; // [sp+28h] [bp-40h]@54
  int v90; // [sp+2Ch] [bp-3Ch]@65
  __int64 v91; // [sp+30h] [bp-38h]@13
  char v92; // [sp+38h] [bp-30h]@38

  v5 = a4;
  v6 = a3;
  v7 = a2;
  v8 = a1;
  v9 = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = v9;
  v10 = 0;
  v11 = *(_DWORD *)(v8 + 92);
  if ( (v11 & 0xFFFFFFFE) == 4 )
    return v10;
  v85 = (_WORD *)(v8 + 76);
  v86 = (int *)(v8 + 32);
  v10 = 0u;
  while ( 2 )
  {
    if ( v10 >= v6 && *(_DWORD *)(v8 + 24) )
      return v10;
    switch ( v11 )
    {
      case 0:
        v12 = *(_DWORD *)(v8 + 24);
        if ( v10 == v6 )
        {
          v13 = 0;
        }
        else
          if ( !v12 )
            goto LABEL_36;
          v24 = *(_BYTE *)(v7 + v10);
          if ( v6 - v10 < 2 )
          {
            if ( v12 == 2 )
            {
              *(_BYTE *)(v8 + 12) = v24;
              *(_DWORD *)(v8 + 24) = 1;
              ++v10;
              goto LABEL_122;
            }
          }
          else if ( v12 == 2 )
            *(_BYTE *)(v8 + 12) = v24;
            *(_BYTE *)(v8 + 13) = *(_BYTE *)(v7 + v10 + 1);
            *(_DWORD *)(v8 + 24) = 0;
            v10 += 2;
          --v12;
          *(_BYTE *)(v8 + 13) = v24;
          v13 = 1;
          *(_DWORD *)(v8 + 24) = v12;
        v10 += v13;
        if ( v12 )
          goto LABEL_122;
LABEL_36:
        v25 = 0;
        if ( !*(_DWORD *)(v8 + 32) )
          v25 = 1;
        j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_basic_header(
          (int)&v92,
          v8,
          v8 + 12,
          *(_BYTE *)(v8 + 5),
          v25);
        v26 = *(_DWORD *)&v92;
        *(_QWORD *)v5 = *(_QWORD *)&v92;
        if ( !v26 )
          v27 = 0;
          *(_DWORD *)(v8 + 92) = 1;
          *(_DWORD *)(v8 + 28) = 0;
          v28 = *(_BYTE *)(v8 + 13);
          if ( (v28 & 0x7F) == 127 )
            v27 = 8;
          if ( (v28 & 0x7F) == 126 )
            v27 = 2;
          if ( v28 < 0 )
            v27 |= 4u;
          *(_DWORD *)(v8 + 24) = v27;
        return v10;
      case 1:
        v14 = *(_DWORD *)(v8 + 24);
        v15 = v6 - v10;
        if ( v14 <= v6 - v10 )
          v15 = *(_DWORD *)(v8 + 24);
        if ( v15 )
          j___aeabi_memmove_1(*(_DWORD *)(v8 + 28) + v8 + 76, v7 + v10);
          v14 = *(_DWORD *)(v8 + 24);
        v10 += v15;
        LODWORD(v16) = v14 - v15;
        HIDWORD(v16) = *(_DWORD *)(v8 + 28) + v15;
        *(_QWORD *)(v8 + 24) = v16;
        if ( (_DWORD)v16 )
        v17 = *(_DWORD *)(v8 + 84);
        v4 = v4 & 0xFFFF0000 | *(_WORD *)(v8 + 12);
        j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_extended_header(
          (int)&v91,
          v4,
          *(_DWORD *)(v8 + 76),
          *(_DWORD *)(v8 + 80));
        v18 = v91;
        *(_QWORD *)v5 = v91;
        if ( v18 )
          return v10;
        *(_DWORD *)(v8 + 92) = 3;
        v19 = *(_BYTE *)(v8 + 13) & 0x7F;
        if ( v19 >= 0x7E )
          if ( (unsigned __int8)v19 == 126 )
            v19 = __rev(*v85) >> 16;
          else
            v29 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
            v19 = *(_DWORD *)v85;
            v30 = *(_DWORD *)(v8 + 80);
            if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
              v29 = 1;
              websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
            if ( v29 != 2 )
              v19 = __rev(v30);
        *(_DWORD *)(v8 + 24) = v19;
        v31 = *(_BYTE *)(v8 + 12) & 0xF;
        if ( v31 >= 8 )
          j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
            (int)&v89,
            *(_DWORD *)(v8 + 16),
            v31,
            v19);
          v32 = *(_BYTE *)(v8 + 13);
          if ( v32 <= -1 )
            v39 = 0;
            v40 = v32 & 0x7F;
            if ( v40 == 127 )
              v39 = 8;
            if ( v40 == 126 )
              v39 = 2;
            v33 = *(_DWORD *)(v8 + v39 + 76);
            v33 = 0;
          v41 = *(_QWORD *)&v89;
          if ( v90 )
            v42 = (unsigned int *)(v90 + 4);
            __dmb();
            do
              v43 = __ldrex(v42);
            while ( __strex(v43 + 1, v42) );
          *(_DWORD *)(v8 + 52) = v41;
          v44 = *(_DWORD *)(v8 + 56);
          *(_DWORD *)(v8 + 56) = HIDWORD(v41);
          if ( v44 )
            v45 = (unsigned int *)(v44 + 4);
              v46 = __ldrex(v45);
            while ( __strex(v46 - 1, v45) );
            if ( v46 == 1 )
              v83 = v33;
              v47 = (unsigned int *)(v44 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
              __dmb();
              do
                v48 = __ldrex(v47);
              while ( __strex(v48 - 1, v47) );
              v33 = v83;
              if ( v48 == 1 )
              {
                (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
                v33 = v83;
              }
          *(_DWORD *)(v8 + 60) = v33;
          *(_DWORD *)(v8 + 64) = 0;
          *(_DWORD *)(v8 + 68) = 0;
          v49 = v90;
            v50 = (unsigned int *)(v90 + 4);
              v51 = __ldrex(v50);
            while ( __strex(v51 - 1, v50) );
            if ( v51 == 1 )
              v52 = (unsigned int *)(v49 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 8))(v49);
                v53 = __ldrex(v52);
              while ( __strex(v53 - 1, v52) );
              if ( v53 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 12))(v49);
          v54 = v8 + 52;
          goto LABEL_121;
        v34 = *v86;
        if ( *v86 )
          v36 = *(_DWORD *)(v34 + 16);
          v35 = (const void **)(v34 + 16);
          if ( *(_DWORD *)(v36 - 12) + v19 <= *(_DWORD *)(v8 + 8) )
            v37 = *(_BYTE *)(v8 + 13);
            if ( v37 <= -1 )
              v57 = 0;
              v58 = v37 & 0x7F;
              if ( v58 == 127 )
                v57 = 8;
              if ( v58 == 126 )
                v57 = 2;
              v38 = *(_DWORD *)(v8 + v57 + 76);
            else
              v38 = 0;
            *(_DWORD *)(v8 + 40) = v38;
            sub_21E6FCC(v35, *((_DWORD *)*v35 - 3) + v19);
            goto LABEL_120;
          v76 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          __dmb();
          if ( !(v76 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          v77 = &GLOBAL_OFFSET_TABLE_;
          if ( v19 <= *(_DWORD *)(v8 + 8) )
            j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
              (int)&v87,
              *(_DWORD *)(v8 + 16),
              v31,
              v19);
            v55 = *(_BYTE *)(v8 + 13);
            if ( v55 <= -1 )
              v59 = 0;
              v60 = v55 & 0x7F;
              if ( v60 == 127 )
                v59 = 8;
              if ( v60 == 126 )
                v59 = 2;
              v56 = *(_DWORD *)(v8 + v59 + 76);
              v56 = 0;
            v61 = *(_QWORD *)&v87;
            if ( v88 )
              v62 = (unsigned int *)(v88 + 4);
                v63 = __ldrex(v62);
              while ( __strex(v63 + 1, v62) );
            *(_DWORD *)(v8 + 32) = v61;
            v64 = *(_DWORD *)(v8 + 36);
            *(_DWORD *)(v8 + 36) = HIDWORD(v61);
            if ( v64 )
              v65 = (unsigned int *)(v64 + 4);
                v66 = __ldrex(v65);
              while ( __strex(v66 - 1, v65) );
              if ( v66 == 1 )
                v84 = v56;
                v67 = (unsigned int *)(v64 + 8);
                (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 8))(v64);
                __dmb();
                do
                  v68 = __ldrex(v67);
                while ( __strex(v68 - 1, v67) );
                v56 = v84;
                if ( v68 == 1 )
                {
                  (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 12))(v64);
                  v56 = v84;
                }
            *(_DWORD *)(v8 + 40) = v56;
            *(_DWORD *)(v8 + 44) = 0;
            *(_DWORD *)(v8 + 48) = 0;
            v69 = v88;
              v70 = (unsigned int *)(v88 + 4);
                v71 = __ldrex(v70);
              while ( __strex(v71 - 1, v70) );
              if ( v71 == 1 )
                v72 = (unsigned int *)(v69 + 8);
                (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 8))(v69);
                  v73 = __ldrex(v72);
                while ( __strex(v73 - 1, v72) );
                if ( v73 == 1 )
                  (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 12))(v69);
                  v54 = v8 + 32;
LABEL_121:
                  *(_DWORD *)(v8 + 72) = v54;
                  goto LABEL_122;
LABEL_120:
            v54 = v8 + 32;
            goto LABEL_121;
          v78 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          if ( !(v78 & 1)
        v79 = 0x3FFFFD21u;
        v80 = 4;
        goto LABEL_142;
      case 2:
        v20 = 3;
        goto LABEL_18;
      case 3:
        v21 = *(_DWORD *)(v8 + 24);
        v22 = v6 - v10;
        if ( v6 - v10 >= v21 )
          v22 = *(_DWORD *)(v8 + 24);
        if ( !v22 )
          goto LABEL_24;
        v10 += j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_payload_bytes(
                 v8,
                 (char *)(v7 + v10),
                 v22,
                 v5);
        if ( *(_DWORD *)v5 )
LABEL_24:
        if ( v21 )
        v23 = *(_BYTE *)(v8 + 12);
        if ( v23 > -1 )
          *(_DWORD *)(v8 + 92) = 0;
          *(_DWORD *)(v8 + 24) = 2;
          *(_WORD *)(v8 + 12) = 0;
          *(_DWORD *)(v8 + 84) = 0;
          *(_DWORD *)(v8 + 80) = 0;
          *(_DWORD *)v85 = 0;
LABEL_122:
          v11 = *(_DWORD *)(v8 + 92);
          if ( (v11 & 0xFFFFFFFE) == 4 )
            return v10;
          continue;
        if ( (v23 & 0xF) != 1 || !*(_DWORD *)(*(_DWORD *)(v8 + 72) + 12) )
          v20 = 4;
LABEL_18:
          *(_DWORD *)(v8 + 92) = v20;
        v81 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v81 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        v80 = 16;
        v77 = &GLOBAL_OFFSET_TABLE_;
LABEL_142:
        v82 = v77[v79];
        *(_DWORD *)v5 = v80;
        *(_DWORD *)(v5 + 4) = v82;
      default:
        v74 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v74 & 1)
        v10 = 0;
        *(_DWORD *)v5 = 1;
        *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
    }
  }
}


void *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_init(int a1, int a2, int *a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_init(
           a1,
           a2,
           a3);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::process_control_frame(int a1, int a2)
{
  int v2; // r10@1
  int v3; // r11@1
  int v4; // r5@1
  int v5; // r0@1
  int v6; // r6@1
  char *v7; // r7@1
  pthread_mutex_t **v8; // r8@1
  pthread_mutex_t *v9; // r4@1
  void *v10; // r0@1
  int v11; // r0@2
  bool v12; // zf@4
  void *v13; // r0@8
  unsigned int *v15; // r1@10
  signed int v16; // r2@11
  unsigned int *v17; // r1@14
  signed int v18; // r2@15
  int v19; // r0@21
  unsigned int *v20; // r0@22
  unsigned int v21; // r1@23
  void *v22; // r0@25
  int v23; // r0@26
  unsigned int *v24; // r1@27
  unsigned int v25; // r2@28
  int v26; // r4@31
  _WORD *v27; // r5@34
  unsigned int v28; // r3@36
  int v29; // r0@39
  unsigned int *v30; // r0@40
  unsigned int v31; // r1@41
  int v32; // r5@43
  void *v33; // r0@43
  int v34; // r0@44
  unsigned int *v35; // r1@45
  unsigned int v36; // r2@46
  void *v37; // r0@53
  void *v38; // r0@55
  char *v39; // r0@60
  int v40; // r1@61
  char *v41; // r0@61
  pthread_mutex_t *v42; // r4@61
  void *v43; // r0@61
  void *v44; // r0@62
  int v45; // r0@65
  unsigned int v46; // r3@71
  unsigned int *v47; // r1@73
  signed int v48; // r2@74
  unsigned int *v49; // r1@77
  signed int v50; // r2@78
  unsigned int *v51; // r1@81
  signed int v52; // r2@82
  unsigned int *v53; // r1@85
  signed int v54; // r2@86
  unsigned int *v55; // r1@89
  signed int v56; // r2@90
  unsigned int *v57; // r1@93
  signed int v58; // r2@94
  unsigned int *v59; // r1@97
  signed int v60; // r2@98
  char *v61; // r0@102
  int v62; // r1@103
  char *v63; // r5@103
  pthread_mutex_t *v64; // r4@103
  void *v65; // r0@103
  void *v66; // r0@104
  unsigned int *v67; // r1@107
  signed int v68; // r2@108
  unsigned int *v69; // r1@111
  signed int v70; // r2@112
  unsigned int *v71; // r1@115
  signed int v72; // r2@116
  unsigned __int64 v73; // [sp+8h] [bp-168h]@68
  int v74; // [sp+Ch] [bp-164h]@68
  int v75; // [sp+14h] [bp-15Ch]@104
  char v76; // [sp+18h] [bp-158h]@104
  int v77; // [sp+24h] [bp-14Ch]@103
  char *v78; // [sp+2Ch] [bp-144h]@70
  int v79; // [sp+34h] [bp-13Ch]@55
  char v80; // [sp+38h] [bp-138h]@55
  int v81; // [sp+44h] [bp-12Ch]@53
  int v82; // [sp+4Ch] [bp-124h]@62
  char v83; // [sp+50h] [bp-120h]@62
  int v84; // [sp+5Ch] [bp-114h]@61
  char *v85; // [sp+64h] [bp-10Ch]@35
  int v86; // [sp+68h] [bp-108h]@25
  int v87; // [sp+6Ch] [bp-104h]@21
  int v88; // [sp+70h] [bp-100h]@21
  int v89; // [sp+74h] [bp-FCh]@43
  int v90; // [sp+78h] [bp-F8h]@39
  int v91; // [sp+7Ch] [bp-F4h]@39
  int v92; // [sp+80h] [bp-F0h]@1
  void **v93; // [sp+84h] [bp-ECh]@1
  int v94; // [sp+88h] [bp-E8h]@9
  void **v95; // [sp+8Ch] [bp-E4h]@8
  void **v96; // [sp+90h] [bp-E0h]@1
  int v97; // [sp+ACh] [bp-C4h]@9
  char v98; // [sp+B0h] [bp-C0h]@35
  int v99; // [sp+B4h] [bp-BCh]@8
  void **v100; // [sp+B8h] [bp-B8h]@8
  int v101; // [sp+140h] [bp-30h]@1
  int v102; // [sp+144h] [bp-2Ch]@1

  v2 = a1;
  v3 = a2;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "process_control_frame");
  v4 = *(_DWORD *)(*(_DWORD *)v3 + 20);
  v101 = 0;
  v5 = ((int (*)(void))byte_21E9640)();
  v6 = v5;
  v102 = v5;
  v7 = (char *)(sub_21D103C((int)&v93, 24) + 8);
  sub_21CBF38(v7, (int)"Control frame received with opcode ", 35);
  sub_21CC43C(v7, v4);
  v8 = (pthread_mutex_t **)(v2 + 19196);
  v9 = *(pthread_mutex_t **)(v2 + 19196);
  sub_21CFED8(&v92, (int)&v96);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v9, 4, &v92);
  v10 = (void *)(v92 - 12);
  if ( (int *)(v92 - 12) != &dword_28898C0 )
  {
    v15 = (unsigned int *)(v92 - 4);
    __dmb();
    do
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  }
  v11 = *(_DWORD *)(v2 + 2500);
  if ( v11 == 3 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v2 + 19200),
      8,
      "got frame in state closed");
    goto LABEL_8;
  v12 = v4 == 8;
  if ( v4 != 8 )
    v12 = v11 == 1;
  if ( !v12 )
      "got non-close frame in state closing");
    if ( v4 == 10 )
    {
      if ( *(_DWORD *)(v2 + 2396) )
      {
        v87 = *(_DWORD *)(v2 + 2316);
        v19 = *(_DWORD *)(v2 + 2320);
        v88 = v19;
        if ( v19 )
        {
          v20 = (unsigned int *)(v19 + 8);
          __dmb();
          do
            v21 = __ldrex(v20);
          while ( __strex(v21 + 1, v20) );
        }
        sub_21E8AF4(&v86, (int *)(*(_DWORD *)v3 + 16));
        j_std::function<void ()(std::weak_ptr<void>,std::string)>::operator()(v2 + 2388, (int)&v87, &v86);
        v22 = (void *)(v86 - 12);
        if ( (int *)(v86 - 12) != &dword_28898C0 )
          v47 = (unsigned int *)(v86 - 4);
            v48 = __ldrex(v47);
          while ( __strex(v48 - 1, v47) );
          if ( v48 <= 0 )
            j_j_j_j__ZdlPv_9(v22);
        v23 = v88;
        if ( v88 )
          v24 = (unsigned int *)(v88 + 8);
            v25 = __ldrex(v24);
          while ( __strex(v25 - 1, v24) );
          if ( v25 == 1 )
            (*(void (**)(void))(*(_DWORD *)v23 + 12))();
      }
      v26 = *(_DWORD *)(v2 + 18936);
      if ( v26 )
        sub_21B09F0();
        if ( *(_BYTE *)(v26 + 16) )
          j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
            *(_DWORD *)(*(_DWORD *)v26 + 52),
            *(_DWORD *)v26 + 20,
            v26 + 20,
            -1);
          *(_BYTE *)(v26 + 16) = 0;
          sub_21B09F0();
        else
    }
    else if ( v4 == 9 )
      if ( !*(_DWORD *)(v2 + 2380) )
        goto LABEL_121;
      v90 = *(_DWORD *)(v2 + 2316);
      v29 = *(_DWORD *)(v2 + 2320);
      v91 = v29;
      if ( v29 )
        v30 = (unsigned int *)(v29 + 8);
        __dmb();
        do
          v31 = __ldrex(v30);
        while ( __strex(v31 + 1, v30) );
      sub_21E8AF4(&v89, (int *)(*(_DWORD *)v3 + 16));
      v32 = j_std::function<bool ()(std::weak_ptr<void>,std::string)>::operator()(v2 + 2372, (int)&v90, &v89);
      v33 = (void *)(v89 - 12);
      if ( (int *)(v89 - 12) != &dword_28898C0 )
        v57 = (unsigned int *)(v89 - 4);
          v58 = __ldrex(v57);
        while ( __strex(v58 - 1, v57) );
        if ( v58 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v34 = v91;
      if ( v91 )
        v35 = (unsigned int *)(v91 + 8);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 == 1 )
          (*(void (**)(void))(*(_DWORD *)v34 + 12))();
      if ( v32 )
LABEL_121:
        j_websocketpp::connection<websocketpp::config::asio_client>::pong(v2, *(_DWORD *)v3 + 16, (int)&v101);
        if ( v101 )
          j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
            v2,
            1,
            "Failed to send response pong",
            &v101);
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
        *(pthread_mutex_t **)(v2 + 19200),
        1,
        "Got control frame with invalid opcode");
    *v8,
    "got close frame");
  v27 = (_WORD *)(v2 + 19216);
  *(_WORD *)(v2 + 19216) = j_websocketpp::close::extract_code(*(_DWORD *)v3 + 16, (int)&v101);
  if ( v101 )
    sub_21E94B4((void **)&v85, (const char *)&unk_257BC67);
    sub_21E8190((void **)&v99, v85, *((_BYTE **)v85 - 3));
    if ( v98 & 3 )
      v28 = *(_DWORD *)(v99 - 12);
      v28 = 0;
    sub_21CFFFC((int)&v96, v99, 0, v28);
    v39 = v85 - 12;
    if ( (int *)(v85 - 12) != &dword_28898C0 )
      v49 = (unsigned int *)(v85 - 4);
      __dmb();
      do
        v50 = __ldrex(v49);
      while ( __strex(v50 - 1, v49) );
      if ( v50 <= 0 )
        j_j_j_j__ZdlPv_9(v39);
    sub_21CBF38(v7, (int)"Received invalid close code ", 28);
    v40 = *v27;
    v41 = sub_21CC440(v7);
    sub_21CBF38(v41, (int)" sending acknowledgement and closing", 36);
    v42 = *(pthread_mutex_t **)(v2 + 19200);
    sub_21CFED8(&v84, (int)&v96);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v42, 1, &v84);
    v43 = (void *)(v84 - 12);
    if ( (int *)(v84 - 12) != &dword_28898C0 )
      v51 = (unsigned int *)(v84 - 4);
        v52 = __ldrex(v51);
      while ( __strex(v52 - 1, v51) );
      if ( v52 <= 0 )
        j_j_j_j__ZdlPv_9(v43);
    sub_21E94B4((void **)&v82, "Invalid close code");
    j_websocketpp::connection<websocketpp::config::asio_client>::send_close_frame(
      (int)&v83,
      v2,
      1002,
      &v82,
      1,
      *(_BYTE *)(v2 + 19192));
    *(_QWORD *)&v101 = *(_QWORD *)&v83;
    v44 = (void *)(v82 - 12);
    if ( (int *)(v82 - 12) != &dword_28898C0 )
      v53 = (unsigned int *)(v82 - 4);
        v54 = __ldrex(v53);
      while ( __strex(v54 - 1, v53) );
      if ( v54 <= 0 )
        j_j_j_j__ZdlPv_9(v44);
    if ( v101 )
      j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
        v2,
        "send_close_ack",
        &v101);
  j_websocketpp::close::extract_reason((void **)&v81, *(_DWORD *)v3 + 16, (int)&v101);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v2 + 19220),
    &v81);
  v37 = (void *)(v81 - 12);
  if ( (int *)(v81 - 12) != &dword_28898C0 )
    v55 = (unsigned int *)(v81 - 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
      "Received invalid close reason. Sending acknowledgement and closing");
    sub_21E94B4((void **)&v79, "Invalid close reason");
      (int)&v80,
      &v79,
    *(_QWORD *)&v101 = *(_QWORD *)&v80;
    v38 = (void *)(v79 - 12);
    if ( (int *)(v79 - 12) != &dword_28898C0 )
      v59 = (unsigned int *)(v79 - 4);
        v60 = __ldrex(v59);
      while ( __strex(v60 - 1, v59) );
      if ( v60 <= 0 )
        j_j_j_j__ZdlPv_9(v38);
  v45 = *(_DWORD *)(v2 + 2500);
  if ( v45 == 2 )
    if ( !*(_BYTE *)(v2 + 19233) )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *v8,
        1024,
        "Got acknowledgement of close");
      *(_BYTE *)(v2 + 19233) = 1;
      if ( *(_BYTE *)(v2 + 19192) )
        LODWORD(v73) = 0;
        v74 = v6;
        j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v2, &v73);
      goto LABEL_8;
LABEL_72:
      "Got close frame in wrong state");
  if ( v45 != 1 )
    goto LABEL_72;
  sub_21E94B4((void **)&v78, (const char *)&unk_257BC67);
  sub_21E8190((void **)&v99, v78, *((_BYTE **)v78 - 3));
  if ( v98 & 3 )
    v46 = *(_DWORD *)(v99 - 12);
  else
    v46 = 0;
  sub_21CFFFC((int)&v96, v99, 0, v46);
  v61 = v78 - 12;
  if ( (int *)(v78 - 12) != &dword_28898C0 )
    v67 = (unsigned int *)(v78 - 4);
      v68 = __ldrex(v67);
    while ( __strex(v68 - 1, v67) );
    if ( v68 <= 0 )
      j_j_j_j__ZdlPv_9(v61);
  sub_21CBF38(v7, (int)"Received close frame with code ", 31);
  v62 = *v27;
  v63 = sub_21CC440(v7);
  sub_21CBF38(v63, (int)" and reason ", 12);
  sub_21CBF38(v63, *(_DWORD *)(v2 + 19220), *(_DWORD *)(*(_DWORD *)(v2 + 19220) - 12));
  v64 = *v8;
  sub_21CFED8(&v77, (int)&v96);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v64, 1024, &v77);
  v65 = (void *)(v77 - 12);
  if ( (int *)(v77 - 12) != &dword_28898C0 )
    v69 = (unsigned int *)(v77 - 4);
      v70 = __ldrex(v69);
    while ( __strex(v70 - 1, v69) );
    if ( v70 <= 0 )
      j_j_j_j__ZdlPv_9(v65);
  sub_21E94B4((void **)&v75, (const char *)&unk_257BC67);
  j_websocketpp::connection<websocketpp::config::asio_client>::send_close_frame(
    (int)&v76,
    v2,
    0,
    &v75,
    1,
    *(_BYTE *)(v2 + 19192));
  *(_QWORD *)&v101 = *(_QWORD *)&v76;
  v66 = (void *)(v75 - 12);
  if ( (int *)(v75 - 12) != &dword_28898C0 )
    v71 = (unsigned int *)(v75 - 4);
      v72 = __ldrex(v71);
    while ( __strex(v72 - 1, v71) );
    if ( v72 <= 0 )
      j_j_j_j__ZdlPv_9(v66);
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
      "send_close_ack",
      &v101);
LABEL_8:
  v93 = &off_26D3F94;
  v100 = &off_26D3FBC;
  v95 = &off_26D3FA8;
  v96 = &off_27734E8;
  v13 = (void *)(v99 - 12);
  if ( (int *)(v99 - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(v99 - 4);
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  v96 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v97);
  v93 = &off_276D0DC;
  v100 = &off_276D0F0;
  v94 = 0;
  return sub_21B6560(&v100);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init_asio(int *a1, int a2, int a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init_asio(
           a1,
           a2,
           a3);
}


int (__fastcall *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_data_frame(int a1, int a2, int *a3, _DWORD *a4))(_DWORD)
{
  int v4; // r6@0
  int v5; // r7@1
  _DWORD *v6; // r5@1
  int v7; // r9@1
  int v8; // r10@1
  bool v9; // zf@1
  char v10; // r0@5
  signed int v11; // r2@8
  unsigned int v12; // r1@8
  int (__fastcall **v13)(_DWORD); // r0@8
  _BYTE *v14; // r0@10
  int *v15; // r7@10
  _BYTE *v16; // t1@10
  int v17; // r1@10
  int v18; // r2@11
  char v19; // r0@15
  char v20; // r0@19
  int (__fastcall *result)(_DWORD); // r0@23
  void *v22; // r0@25
  int v23; // r6@26
  void *v24; // r0@26
  unsigned int *v25; // r1@28
  signed int v26; // r2@29
  unsigned int *v27; // r1@32
  signed int v28; // r2@33
  int v29; // [sp+4h] [bp-3Ch]@26
  int v30; // [sp+Ch] [bp-34h]@25

  v5 = *a3;
  v6 = a4;
  v7 = a2;
  v8 = a1;
  v9 = *a3 == 0;
  if ( *a3 )
  {
    v4 = *a4;
    v9 = *a4 == 0;
  }
  if ( v9 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 6;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_23;
  if ( *(_DWORD *)(v5 + 20) != 1 )
    v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v20 & 1)
    v11 = 7;
LABEL_23:
    result = v13[v12];
    *(_DWORD *)v8 = v11;
    goto LABEL_24;
  v16 = *(_BYTE **)(v5 + 16);
  v15 = (int *)(v5 + 16);
  v14 = v16;
  v17 = *((_DWORD *)v16 - 3);
  if ( v17 )
    v18 = 0;
    while ( 1 )
      v18 = *(&byte_26A8C54[16 * v18] + (byte_26A8C54[*v14] | 0x100));
      if ( v18 == 1 )
        break;
      --v17;
      ++v14;
      if ( !v17 )
      {
        if ( !v18 )
          goto LABEL_25;
      }
    v19 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v19 & 1)
    v11 = 5;
LABEL_25:
  sub_21E91E0((void **)&v30, v7 + 12, 1);
  EntityInteraction::setInteractText((int *)(v4 + 8), &v30);
  v22 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v25 = (unsigned int *)(v30 - 4);
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  EntityInteraction::setInteractText((int *)(*v6 + 16), v15);
  v23 = *v6;
  sub_21E91E0((void **)&v29, v7 + 13, 1);
  sub_21E72F0((const void **)(v23 + 16), (const void **)&v29);
  v24 = (void *)(v29 - 12);
  if ( (int *)(v29 - 12) != &dword_28898C0 )
    v27 = (unsigned int *)(v29 - 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 - 1, v27) );
    if ( v28 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  *(_BYTE *)(*v6 + 24) = 1;
  *(_DWORD *)v8 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
LABEL_24:
  *(_DWORD *)(v8 + 4) = result;
  return result;
}


void __fastcall websocketpp::transport::error::category::~category(websocketpp::transport::error::category *this)
{
  websocketpp::transport::error::category::~category(this);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy(int a1, int *a2, int a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy(
           a1,
           a2,
           a3);
}


void *__fastcall websocketpp::processor::hybi08<websocketpp::config::asio_tls_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


signed int __fastcall websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(int a1)
{
  int v1; // r5@1
  int v2; // r4@2
  int v3; // r0@2
  int v4; // r6@2
  const void **v5; // r2@2
  int v6; // r5@4
  void *v7; // r0@4
  int v8; // r0@6
  unsigned int *v9; // r1@6
  void *v10; // r0@8
  char *v11; // r0@9
  int v12; // r0@9
  bool v13; // zf@9
  signed int v14; // r4@9
  int *v15; // r0@9
  unsigned int *v17; // r1@16
  signed int v18; // r2@17
  unsigned int *v19; // r1@20
  signed int v20; // r2@21
  unsigned int *v21; // r1@24
  signed int v22; // r2@25
  int v23; // [sp+4h] [bp-ECh]@6
  void **v24; // [sp+8h] [bp-E8h]@8
  int v25; // [sp+Ch] [bp-E4h]@12
  void **v26; // [sp+10h] [bp-E0h]@9
  int v27; // [sp+2Ch] [bp-C4h]@12
  int v28; // [sp+34h] [bp-BCh]@9
  void **v29; // [sp+38h] [bp-B8h]@9
  int v30; // [sp+C0h] [bp-30h]@9
  int v31; // [sp+C8h] [bp-28h]@2

  v1 = a1;
  if ( *(_BYTE *)(a1 + 64) )
  {
    sub_21E94B4((void **)&v31, "Sec-WebSocket-Version");
    v2 = v1 + 4;
    v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           v1 + 4,
           &v31);
    v4 = v1 + 8;
    v5 = (const void **)(v3 + 20);
    if ( v3 == v1 + 8 )
      v5 = (const void **)&dword_2880E54;
    v6 = sub_21E7D6C(v5, (const char *)&unk_257BC67);
    v7 = (void *)(v31 - 12);
    if ( (int *)(v31 - 12) != &dword_28898C0 )
    {
      v17 = (unsigned int *)(v31 - 4);
      __dmb();
      do
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 <= 0 )
        j_j_j_j__ZdlPv_9(v7);
    }
    if ( v6 )
      sub_21E94B4((void **)&v23, "Sec-WebSocket-Version");
      v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
             v2,
             &v23);
      v9 = (unsigned int *)(v8 + 20);
      if ( v8 == v4 )
        v9 = (unsigned int *)&dword_2880E54;
      sub_21D0618((int)&v24, v9, 8);
      v10 = (void *)(v23 - 12);
      if ( (int *)(v23 - 12) != &dword_28898C0 )
      {
        v19 = (unsigned int *)(v23 - 4);
        __dmb();
        do
          v20 = __ldrex(v19);
        while ( __strex(v20 - 1, v19) );
        if ( v20 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
      }
      v11 = sub_21B79F4((char *)&v24, &v30);
      v12 = *(_DWORD *)&v11[*(_DWORD *)(*(_DWORD *)v11 - 12) + 20];
      v24 = &off_26D3F0C;
      v29 = &off_26D3F20;
      v26 = &off_27734E8;
      v13 = (v12 & 5) == 0;
      v14 = v30;
      v15 = (int *)(v28 - 12);
      if ( !v13 )
        v14 = -1;
      if ( v15 != &dword_28898C0 )
        v21 = (unsigned int *)(v28 - 4);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 <= 0 )
          j_j_j_j__ZdlPv_9(v15);
      v26 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v27);
      v24 = &off_276CFCC;
      v29 = &off_276CFE0;
      v25 = 0;
      sub_21B6560(&v29);
    else
      v14 = 0;
  }
  else
    v14 = -2;
  return v14;
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::log_fail_result(int a1)
{
  int v1; // r6@1
  signed int v2; // r7@1
  void *v3; // r0@1
  int v4; // r0@5
  int *v5; // r1@5
  void *v6; // r0@7
  unsigned int i; // r2@9
  unsigned int v8; // r7@10
  int v9; // r4@13
  _DWORD *v10; // r7@13
  char *v11; // r7@13
  int v12; // t1@13
  char *v13; // r0@13
  char *v14; // r0@14
  _BYTE *v15; // r0@15
  char *v16; // r0@16
  int v17; // r0@17
  void *v18; // r0@20
  char *v19; // r0@21
  pthread_mutex_t *v20; // r4@21
  void *v21; // r0@21
  void *v22; // r0@22
  void *v23; // r0@23
  unsigned int *v25; // r1@25
  signed int v26; // r2@26
  unsigned int *v27; // r1@29
  signed int v28; // r2@30
  unsigned int *v29; // r1@33
  signed int v30; // r2@34
  unsigned int *v31; // r1@37
  signed int v32; // r2@38
  unsigned int *v33; // r1@41
  signed int v34; // r2@42
  unsigned int *v35; // r1@45
  signed int v36; // r2@46
  unsigned int *v37; // r0@49
  signed int v38; // r1@50
  unsigned int *v39; // r1@53
  signed int v40; // r2@54
  unsigned int *v41; // r1@57
  signed int v42; // r2@58
  unsigned int *v43; // r1@61
  signed int v44; // r2@62
  int v45; // [sp+4h] [bp-10Ch]@21
  int v46; // [sp+Ch] [bp-104h]@18
  char *v47; // [sp+14h] [bp-FCh]@9
  _BYTE *v48; // [sp+1Ch] [bp-F4h]@9
  _DWORD *v49; // [sp+20h] [bp-F0h]@9
  int v50; // [sp+28h] [bp-E8h]@5
  int v51; // [sp+2Ch] [bp-E4h]@7
  int v52; // [sp+30h] [bp-E0h]@1
  void **v53; // [sp+34h] [bp-DCh]@1
  int v54; // [sp+38h] [bp-D8h]@24
  void **v55; // [sp+3Ch] [bp-D4h]@1
  void **v56; // [sp+40h] [bp-D0h]@21
  int v57; // [sp+5Ch] [bp-B4h]@24
  int v58; // [sp+64h] [bp-ACh]@23
  void **v59; // [sp+68h] [bp-A8h]@23

  v1 = a1;
  sub_21D103C((int)&v53, 24);
  v2 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v1 + 19028);
  sub_21CBF38((char *)&v55, (int)"WebSocket Connection ", 21);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(
    (void **)&v52,
    v1);
  sub_21CBF38((char *)&v55, v52, *(_DWORD *)(v52 - 12));
  v3 = (void *)(v52 - 12);
  if ( (int *)(v52 - 12) != &dword_28898C0 )
  {
    v25 = (unsigned int *)(v52 - 4);
    __dmb();
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  if ( v2 <= -1 )
    sub_21CBF38((char *)&v55, (int)" -", 2);
  else
    sub_21CBF38((char *)&v55, (int)" v", 2);
    sub_21CC43C(&v55, v2);
  sub_21E94B4((void **)&v50, "User-Agent");
  v4 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v1 + 19032,
         &v50);
  v5 = (int *)(v4 + 20);
  if ( v4 == v1 + 0x4A5C )
    v5 = &dword_2880E54;
  sub_21E8AF4(&v51, v5);
  v6 = (void *)(v50 - 12);
  if ( (int *)(v50 - 12) != &dword_28898C0 )
    v27 = (unsigned int *)(v50 - 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 - 1, v27) );
    if ( v28 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  if ( sub_21E7D6C((const void **)&v51, (const char *)&unk_257BC67) )
    sub_21CBF38((char *)&v55, (int)" \"", 2);
    sub_21E8AF4((int *)&v49, &v51);
    sub_21E94B4((void **)&v48, "\"");
    sub_21E94B4((void **)&v47, (const char *)&unk_25DA29F);
    for ( i = 0; ; i = *((_DWORD *)v47 - 3) + v8 )
    {
      v8 = sub_21E76A0((int *)&v49, v48, i, *((_DWORD *)v48 - 3));
      if ( v8 == -1 )
        break;
      sub_21E91FC((const void **)&v49, v8, *((_DWORD *)v48 - 3), v47, *((_BYTE **)v47 - 3));
    }
    v9 = (int)v49;
    v10 = v49;
    v49 = &unk_28898CC;
    v12 = *(v10 - 3);
    v11 = (char *)(v10 - 3);
    v13 = sub_21CBF38((char *)&v55, v9, v12);
    sub_21CBF38(v13, (int)"\" ", 2);
    if ( (int *)v11 != &dword_28898C0 )
      v37 = (unsigned int *)(v9 - 4);
      __dmb();
      do
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    v14 = v47 - 12;
    if ( (int *)(v47 - 12) != &dword_28898C0 )
      v39 = (unsigned int *)(v47 - 4);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    v15 = v48 - 12;
    if ( (int *)(v48 - 12) != &dword_28898C0 )
      v41 = (unsigned int *)(v48 - 4);
        v42 = __ldrex(v41);
      while ( __strex(v42 - 1, v41) );
      if ( v42 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v16 = (char *)(v49 - 3);
    if ( v49 - 3 != &dword_28898C0 )
      v43 = v49 - 1;
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 <= 0 )
        j_j_j_j__ZdlPv_9(v16);
    sub_21CBF38((char *)&v55, (int)" \"\" ", 4);
  v17 = *(_DWORD *)(v1 + 19168);
  if ( v17 )
    sub_21E8AF4(&v46, (int *)(v17 + 8));
    sub_21E94B4((void **)&v46, "-");
  sub_21CBF38((char *)&v55, v46, *(_DWORD *)(v46 - 12));
  v18 = (void *)(v46 - 12);
  if ( (int *)(v46 - 12) != &dword_28898C0 )
    v29 = (unsigned int *)(v46 - 4);
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 <= 0 )
      j_j_j_j__ZdlPv_9(v18);
  sub_21CBF38((char *)&v55, (int)" ", 1);
  sub_21CC43C(&v55, *(_DWORD *)(v1 + 19160));
  v19 = (char *)sub_21CC43C(&v55, *(_DWORD *)(v1 + 19224));
  sub_21CBF38(v19, (int)" ([message removed because boost causes crashes here])", 54);
  v20 = *(pthread_mutex_t **)(v1 + 19196);
  sub_21CFED8(&v45, (int)&v56);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v20, 0x2000, &v45);
  v21 = (void *)(v45 - 12);
  if ( (int *)(v45 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v45 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v21);
  v22 = (void *)(v51 - 12);
  if ( (int *)(v51 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v51 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v53 = &off_26D3F94;
  v59 = &off_26D3FBC;
  v55 = &off_26D3FA8;
  v56 = &off_27734E8;
  v23 = (void *)(v58 - 12);
  if ( (int *)(v58 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v58 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v23);
  v56 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v57);
  v53 = &off_276D0DC;
  v59 = &off_276D0F0;
  v54 = 0;
  return sub_21B6560(&v59);
}


_DWORD *__fastcall websocketpp::uri::str(websocketpp::uri *this, int a2)
{
  int v2; // r6@1
  int *v3; // r5@1
  char *v4; // r4@1
  signed int v5; // r2@1
  int v6; // r1@4
  void *v7; // r0@5
  unsigned int *v9; // r1@7
  signed int v10; // r2@8
  void **v11; // [sp+0h] [bp-D8h]@1
  int v12; // [sp+4h] [bp-D4h]@6
  void **v13; // [sp+8h] [bp-D0h]@1
  void **v14; // [sp+Ch] [bp-CCh]@5
  int v15; // [sp+28h] [bp-B0h]@6
  int v16; // [sp+30h] [bp-A8h]@5
  void **v17; // [sp+34h] [bp-A4h]@5

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v11, 24);
  v4 = sub_21CBF38((char *)&v13, *(_DWORD *)v2, *(_DWORD *)(*(_DWORD *)v2 - 12));
  sub_21CBF38(v4, (int)"://", 3);
  sub_21CBF38(v4, *(_DWORD *)(v2 + 4), *(_DWORD *)(*(_DWORD *)(v2 + 4) - 12));
  v5 = 80;
  if ( *(_BYTE *)(v2 + 14) )
    v5 = 443;
  if ( *(_WORD *)(v2 + 12) != v5 )
  {
    sub_21CBF38((char *)&v13, (int)":", 1);
    v6 = *(_WORD *)(v2 + 12);
    sub_21CC440((char *)&v13);
  }
  sub_21CBF38((char *)&v13, *(_DWORD *)(v2 + 8), *(_DWORD *)(*(_DWORD *)(v2 + 8) - 12));
  sub_21CFED8(v3, (int)&v14);
  v11 = &off_26D3F94;
  v17 = &off_26D3FBC;
  v13 = &off_26D3FA8;
  v14 = &off_27734E8;
  v7 = (void *)(v16 - 12);
  if ( (int *)(v16 - 12) != &dword_28898C0 )
    v9 = (unsigned int *)(v16 - 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  v14 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v15);
  v11 = &off_276D0DC;
  v17 = &off_276D0F0;
  v12 = 0;
  return sub_21B6560(&v17);
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed])", 20);
  v10 = *(pthread_mutex_t **)(v5 + 88);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::~hybi13(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276D5CC;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(void **a1, int a2)
{
  void **v2; // r4@1
  int v3; // r5@1
  char *v4; // r1@2
  char *v5; // r0@4
  unsigned int *v6; // r1@6
  signed int v7; // r2@7
  char *v8; // [sp+4h] [bp-24h]@1
  int v9; // [sp+8h] [bp-20h]@1
  int v10; // [sp+Ch] [bp-1Ch]@1

  v2 = a1;
  v3 = a2;
  v9 = 0;
  v10 = ((int (*)(void))byte_21E9640)();
  j_websocketpp::transport::asio::basic_socket::connection::get_remote_endpoint((int *)&v8, v3, (int)&v9);
  if ( v9 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 52),
      4,
      (int *)&v8);
    sub_21E94B4(v2, "Unknown");
    v4 = v8;
  }
  else
    *v2 = v8;
    v4 = (char *)&unk_28898CC;
    v8 = (char *)&unk_28898CC;
  v5 = v4 - 12;
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v6 = (unsigned int *)(v4 - 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 - 1, v6) );
    if ( v7 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::set_status(int a1, signed int a2)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::set_status(a1, a2);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_read(int a1, int a2)
{
  int v2; // r7@1
  int v3; // r4@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r6@3
  unsigned int v6; // r9@4
  int v7; // r5@4
  __int64 *v8; // r10@5
  int v9; // r8@5
  unsigned int v10; // r0@5
  unsigned int *v11; // r6@5
  unsigned int v12; // r1@6
  int v13; // r5@11
  char v14; // r0@13
  int v15; // r11@9
  unsigned int v16; // r0@19
  unsigned int v17; // r0@21
  unsigned int *v18; // r7@23
  unsigned int v19; // r0@24
  void (__fastcall *v20)(__int64 *, int, signed int); // r3@27
  int v21; // r0@28
  void (*v22)(void); // r1@28
  __int64 v23; // r2@28
  __int64 v24; // r2@30
  int v25; // r1@30
  int v26; // r4@30
  unsigned int *v27; // r0@31
  unsigned int v28; // r1@32
  unsigned int *v29; // r6@34
  unsigned int v30; // r0@35
  int v31; // r4@40
  unsigned int *v32; // r0@41
  unsigned int v33; // r1@42
  unsigned int *v34; // r5@44
  unsigned int v35; // r0@45
  void *v36; // r0@50
  unsigned int *v37; // r1@52
  signed int v38; // r2@53
  __int64 v39; // [sp+0h] [bp-80h]@27
  __int64 v40; // [sp+8h] [bp-78h]@28
  void (*v41)(void); // [sp+10h] [bp-70h]@27
  int v42; // [sp+14h] [bp-6Ch]@28
  int v43; // [sp+18h] [bp-68h]@30
  int v44; // [sp+1Ch] [bp-64h]@30
  __int64 v45; // [sp+20h] [bp-60h]@30
  __int64 v46; // [sp+28h] [bp-58h]@30
  __int64 v47; // [sp+30h] [bp-50h]@30
  void (*v48)(void); // [sp+38h] [bp-48h]@30
  int v49; // [sp+3Ch] [bp-44h]@30
  int v50; // [sp+40h] [bp-40h]@30
  int v51; // [sp+44h] [bp-3Ch]@30
  int v52; // [sp+4Ch] [bp-34h]@4
  int v53; // [sp+50h] [bp-30h]@16
  void *v54; // [sp+54h] [bp-2Ch]@16

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection proxy_read");
  v5 = *(_DWORD *)(v2 + 104);
  if ( v5 )
  {
    v6 = *(_DWORD *)(v2 + 28);
    sub_21E94B4((void **)&v52, "\r\n\r\n");
    v7 = *(_DWORD *)(v2 + 4);
    if ( !v7 )
      j_std::__throw_bad_weak_ptr();
    v8 = *(__int64 **)(v2 + 116);
    v9 = v5 + 144;
    v10 = *(_DWORD *)(v7 + 4);
    v11 = (unsigned int *)(v7 + 4);
    do
    {
      v12 = v10;
      if ( !v10 )
        j_std::__throw_bad_weak_ptr();
      __dmb();
      v10 = __ldrex(v11);
    }
    while ( v10 != v12 || __strex(v12 + 1, v11) );
    __dmb();
    v15 = *(_DWORD *)v2;
      v16 = __ldrex(v11);
    while ( __strex(v16 + 1, v11) );
      v17 = __ldrex(v11);
    while ( __strex(v17 - 1, v11) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      do
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    LODWORD(v39) = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_read;
    HIDWORD(v39) = 0;
    v41 = 0;
    v20 = *(void (__fastcall **)(__int64 *, int, signed int))(v3 + 8);
    if ( v20 )
      v20(&v40, v3, 2);
      v21 = *(_DWORD *)(v3 + 12);
      v42 = *(_DWORD *)(v3 + 12);
      v22 = *(void (**)(void))(v3 + 8);
      v41 = *(void (**)(void))(v3 + 8);
      v23 = v39;
    else
      HIDWORD(v23) = 0;
      v21 = v42;
      LODWORD(v23) = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_read;
      v22 = 0;
    v43 = v15;
    v44 = v7;
    v45 = *v8;
    v46 = v23;
    v24 = v40;
    v40 = v47;
    v47 = v24;
    v48 = v22;
    v25 = v49;
    v49 = v21;
    v50 = v15;
    v44 = 0;
    v51 = v7;
    *(_QWORD *)&v42 = (unsigned int)v25;
    j_boost::asio::async_read_until<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::allocator<char>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
      __PAIR__(v9, v6),
      &v52,
      (int)&v45);
    v26 = v51;
    if ( v51 )
      v27 = (unsigned int *)(v51 + 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
      {
        v29 = (unsigned int *)(v26 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
        __dmb();
        do
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      }
    if ( v48 )
      v48();
    v31 = v44;
    if ( v44 )
      v32 = (unsigned int *)(v44 + 4);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        v34 = (unsigned int *)(v31 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 8))(v31);
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 12))(v31);
    if ( v41 )
      v41();
    v36 = (void *)(v52 - 12);
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v37 = (unsigned int *)(v52 - 4);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v36);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v2 + 96),
      2,
      "assertion failed: !m_proxy_data in asio::connection::proxy_read");
    v13 = *(_DWORD *)(*(_DWORD *)(v2 + 104) + 196);
    sub_21B09F0();
    if ( *(_BYTE *)(v13 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v13 + 52),
        *(_DWORD *)v13 + 20,
        v13 + 20,
        -1);
      *(_BYTE *)(v13 + 16) = 0;
    v14 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v14 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v53 = 1;
    v54 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v3 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v3 + 12))(v3, &v53);
}


void __fastcall websocketpp::processor::hybi07<websocketpp::config::asio_tls_client>::~hybi07(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276D5CC;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_close(int a1, int a2, unsigned int a3, int *a4, int a5)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_close(a1, a2, a3, a4, a5);
}


signed int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::ready(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 16);
  result = 0;
  if ( v1 == 2 )
    result = 1;
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::negotiate_extensions(int a1, int a2, int a3)
{
  int v3; // r8@1
  int v4; // r5@1
  int v5; // r6@1
  int v6; // r0@2
  int v7; // r1@2
  signed int v8; // r5@3
  void *v9; // r0@8
  char v10; // r0@10
  int v11; // r4@14
  int v12; // r6@14
  unsigned int *v13; // r1@16
  signed int v14; // r2@17
  int *v15; // r0@20
  unsigned int *v16; // r1@26
  signed int v17; // r2@27
  int v18; // [sp+8h] [bp-38h]@1
  int v19; // [sp+Ch] [bp-34h]@1
  int v20; // [sp+10h] [bp-30h]@1
  int v21; // [sp+14h] [bp-2Ch]@1

  v3 = a1;
  v4 = a3;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v3 + 8) = &unk_28898CC;
  v19 = 0;
  v20 = 0;
  v21 = 0;
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Extensions");
  v5 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v4 + 4,
         &v18);
  if ( v5 == v4 + 8 )
  {
    v8 = 0;
  }
  else
    v6 = *(_DWORD *)(v5 + 20);
    v7 = *(_DWORD *)(v6 - 12);
    if ( v7 )
    {
      v8 = 0;
      if ( j_websocketpp::http::parser::extract_parameters<__gnu_cxx::__normal_iterator<char const*,std::string>>(
             v6,
             (_BYTE *)(v7 + v6),
             (int)&v19) == *(_DWORD *)(v5 + 20) )
        v8 = 1;
    }
    else
  v9 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  if ( v8 == 1 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    *(_DWORD *)v3 = 28;
    *(_DWORD *)(v3 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  v12 = v20;
  v11 = v19;
  if ( v19 != v20 )
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
        v11 + 4,
        *(_DWORD *)(v11 + 12));
      v15 = (int *)(*(_DWORD *)v11 - 12);
      if ( v15 != &dword_28898C0 )
      {
        v13 = (unsigned int *)(*(_DWORD *)v11 - 4);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 <= 0 )
          j_j_j_j__ZdlPv_9(v15);
      }
      v11 += 28;
    while ( v11 != v12 );
    v11 = v19;
  if ( v11 )
    j_operator delete((void *)v11);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response_error(int a1, int a2)
{
  int v2; // r4@1
  char v3; // r0@3
  signed int v4; // [sp+0h] [bp-18h]@6
  void *v5; // [sp+4h] [bp-14h]@6

  v2 = a1;
  if ( *(_DWORD *)(a1 + 2544) == 2 )
  {
    *(_DWORD *)(a1 + 2544) = 6;
    j_j_j__ZN11websocketpp10connectionINS_6config15asio_tls_clientEE18send_http_responseERKSt10error_code_0(a1, a2);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 19236),
      1024,
      "send_http_response_error called in invalid state");
    v3 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v3 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v4 = 9;
    v5 = &websocketpp::error::get_category(void)::instance;
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v2, (unsigned __int64 *)&v4);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_uri(int a1, int a2, int a3)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_uri(a1, a2, a3);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_handshake(int a1, __int64 *a2, unsigned int a3)
{
  __int64 *v3; // r5@1
  int v4; // r11@1
  unsigned int v5; // r9@1
  pthread_mutex_t **v6; // r10@1
  int v7; // r0@2
  int v8; // r0@3
  signed int v9; // r5@7
  char v10; // r0@8
  int (__fastcall **v11)(_DWORD); // r0@11
  char v12; // r0@12
  char v13; // r0@18
  bool v14; // zf@22
  int v15; // r0@27
  int *v16; // r1@27
  char v17; // r0@31
  int v18; // r8@35
  unsigned int v19; // r4@35
  char v20; // r0@36
  char *v21; // r7@41
  char *v22; // r0@41
  pthread_mutex_t *v23; // r7@41
  void *v24; // r0@41
  void *v25; // r0@42
  int *v26; // r1@46
  int v27; // r6@48
  unsigned int v28; // r0@49
  unsigned int *v29; // r7@49
  unsigned int v30; // r1@50
  int v31; // r9@53
  unsigned int v32; // r0@54
  unsigned int v33; // r0@56
  unsigned int *v34; // r5@58
  unsigned int v35; // r0@59
  unsigned int v36; // r0@63
  unsigned int v37; // r0@65
  unsigned int *v38; // r5@67
  unsigned int v39; // r0@68
  _DWORD *v40; // r0@71
  int v41; // r0@73
  int *v42; // r0@76
  int v43; // r3@76
  int *v44; // r0@78
  _DWORD *v45; // r0@78
  void *v46; // r0@79
  pthread_mutex_t *v47; // r7@81
  unsigned int v48; // r7@82
  void *v49; // r0@82
  int v50; // r0@83
  const void **v51; // r2@83
  int v52; // r5@85
  void *v53; // r0@85
  pthread_mutex_t *v54; // r5@87
  int v55; // r0@87
  int *v56; // r1@87
  void *v57; // r0@89
  void *v58; // r0@90
  int v59; // r5@92
  unsigned int *v60; // r1@95
  signed int v61; // r2@96
  unsigned int *v62; // r1@99
  signed int v63; // r2@100
  void *v64; // r0@103
  char v65; // r0@104
  unsigned int *v66; // r1@108
  signed int v67; // r2@109
  unsigned int *v68; // r1@112
  signed int v69; // r2@113
  unsigned int *v70; // r1@116
  signed int v71; // r2@117
  unsigned int *v72; // r1@120
  signed int v73; // r2@121
  unsigned int *v74; // r1@124
  signed int v75; // r2@125
  unsigned int *v76; // r1@128
  signed int v77; // r2@129
  unsigned int *v78; // r1@132
  signed int v79; // r2@133
  _DWORD *v80; // [sp+8h] [bp-158h]@71
  void (*v81)(void); // [sp+10h] [bp-150h]@71
  int (__fastcall *v82)(int *); // [sp+14h] [bp-14Ch]@71
  char v83; // [sp+18h] [bp-148h]@94
  int v84; // [sp+24h] [bp-13Ch]@87
  int v85; // [sp+28h] [bp-138h]@89
  int v86; // [sp+30h] [bp-130h]@83
  int v87; // [sp+34h] [bp-12Ch]@82
  int v88; // [sp+38h] [bp-128h]@107
  void *v89; // [sp+3Ch] [bp-124h]@107
  _DWORD *v90; // [sp+44h] [bp-11Ch]@78
  int v91; // [sp+4Ch] [bp-114h]@76
  int v92; // [sp+50h] [bp-110h]@45
  int v93; // [sp+58h] [bp-108h]@41
  void **v94; // [sp+5Ch] [bp-104h]@41
  int v95; // [sp+60h] [bp-100h]@43
  void **v96; // [sp+64h] [bp-FCh]@41
  void **v97; // [sp+68h] [bp-F8h]@41
  int v98; // [sp+84h] [bp-DCh]@43
  int v99; // [sp+8Ch] [bp-D4h]@42
  void **v100; // [sp+90h] [bp-D0h]@42
  int v101; // [sp+118h] [bp-48h]@39
  void *v102; // [sp+11Ch] [bp-44h]@39
  int v103; // [sp+128h] [bp-38h]@34
  void *v104; // [sp+12Ch] [bp-34h]@34
  __int64 v105; // [sp+130h] [bp-30h]@1
  int v106; // [sp+138h] [bp-28h]@103

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection handle_read_handshake");
  v6 = (pthread_mutex_t **)(v4 + 19236);
  v105 = *v3;
  if ( (_DWORD)v105 )
    goto LABEL_18;
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v7 )
    sub_21E5E14(v7);
  v8 = *(_DWORD *)(v4 + 2540);
  if ( v8 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v6,
      1024,
      "handle_read_handshake invoked after connection was closed");
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
    return;
  }
  if ( v8 )
    v10 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v10 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v11 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v4 + 2544) == 2 )
      v9 = 0;
      goto LABEL_17;
    v12 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v12 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v9 = 9;
  LODWORD(v105) = 9;
  HIDWORD(v105) = *(int (__fastcall **)(_DWORD))((char *)v11 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v9 )
LABEL_18:
    v13 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v13 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v105) == &websocketpp::transport::error::get_category(void)::instance )
      v14 = (_DWORD)v105 == 7;
      if ( (_DWORD)v105 == 7 )
        v14 = *(_DWORD *)(v4 + 2540) == 3;
      if ( v14 )
      {
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          *v6,
          1024,
          "got (expected) eof/state error from closed con");
        return;
      }
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      v4,
      16,
      "handle_read_handshake",
      &v105);
    v15 = v4;
    v16 = (int *)&v105;
    goto LABEL_28;
  if ( v5 > 0x4000 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v4 + 19240),
      32,
      "Fatal boundaries checking error.");
    v17 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v17 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    v103 = 1;
    v104 = &websocketpp::error::get_category(void)::instance;
    v16 = &v103;
LABEL_28:
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v15, (unsigned __int64 *)v16);
  v18 = v4 + 2556;
  v19 = j_websocketpp::http::parser::request::consume(
          (websocketpp::http::parser::request *)(v4 + 19068),
          (const char *)(v4 + 2556),
          v5);
  if ( v19 > v5 )
    v20 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v20 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    v101 = 1;
    v102 = &websocketpp::error::get_category(void)::instance;
    v16 = &v101;
  if ( *((_BYTE *)&(*v6)->__align + 5) & 4 )
    sub_21D103C((int)&v94, 24);
    sub_21CBF38((char *)&v96, (int)"bytes_transferred: ", 19);
    v21 = sub_21CC440((char *)&v96);
    sub_21CBF38(v21, (int)" bytes, bytes processed: ", 25);
    v22 = sub_21CC440(v21);
    sub_21CBF38(v22, (int)" bytes", 6);
    v23 = *v6;
    sub_21CFED8(&v93, (int)&v97);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, &v93);
    v24 = (void *)(v93 - 12);
    if ( (int *)(v93 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v93 - 4);
      __dmb();
      do
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    v94 = &off_26D3F94;
    v100 = &off_26D3FBC;
    v96 = &off_26D3FA8;
    v97 = &off_27734E8;
    v25 = (void *)(v99 - 12);
    if ( (int *)(v99 - 12) != &dword_28898C0 )
      v62 = (unsigned int *)(v99 - 4);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 <= 0 )
        j_j_j_j__ZdlPv_9(v25);
    v97 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v98);
    v94 = &off_276D0DC;
    v100 = &off_276D0F0;
    v95 = 0u;
    sub_21B6560(&v100);
    v18 = v4 + 2556;
  if ( *(_BYTE *)(v4 + 19132) )
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::initialize_processor((int)&v92, v4);
    if ( v92 )
      v26 = &v92;
LABEL_47:
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response_error(v4, (int)v26);
      return;
    v41 = *(_DWORD *)(v4 + 18988);
    if ( v41 && !(*(int (__fastcall **)(int))(*(_DWORD *)v41 + 8))(v41) )
      if ( v5 - v19 < 8 )
          "short key3 read");
        *(_DWORD *)(v4 + 19200) = 500;
        sub_21E94B4((void **)&v106, "Internal Server Error");
        xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
          (int *)(v4 + 19184),
          &v106);
        v64 = (void *)(v106 - 12);
        if ( (int *)(v106 - 12) != &dword_28898C0 )
        {
          v74 = (unsigned int *)(v106 - 4);
          __dmb();
          do
            v75 = __ldrex(v74);
          while ( __strex(v75 - 1, v74) );
          if ( v75 <= 0 )
            j_j_j_j__ZdlPv_9(v64);
        }
        v65 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v65 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        v88 = 30;
        v89 = &websocketpp::processor::error::get_processor_category(void)::instance;
        v26 = &v88;
        goto LABEL_47;
      sub_21E94B4((void **)&v91, "Sec-WebSocket-Key3");
      v42 = sub_21E7E80(8u, 0);
      v43 = *(_DWORD *)(v4 + v19 + 2556);
      v42[4] = *(_DWORD *)(v4 + v19 + 2560);
      v42[3] = v43;
      if ( v42 != &dword_28898C0 )
        v42[2] = 0;
        *v42 = 8;
        *((_BYTE *)v42 + 20) = byte_26C67B8[0];
      v90 = v42 + 3;
      v44 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v4 + 19072,
                     &v91);
      EntityInteraction::setInteractText(v44, (int *)&v90);
      v45 = v90 - 3;
      if ( v90 - 3 != &dword_28898C0 )
        v76 = v90 - 1;
        do
          v77 = __ldrex(v76);
        while ( __strex(v77 - 1, v76) );
        if ( v77 <= 0 )
          j_j_j_j__ZdlPv_9(v45);
      v46 = (void *)(v91 - 12);
      if ( (int *)(v91 - 12) != &dword_28898C0 )
        v78 = (unsigned int *)(v91 - 4);
          v79 = __ldrex(v78);
        while ( __strex(v79 - 1, v78) );
        if ( v79 <= 0 )
          j_j_j_j__ZdlPv_9(v46);
      v19 += 8;
    v47 = *v6;
    if ( *((_BYTE *)&(*v6)->__align + 5) & 4 )
      j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v87, v4 + 19068);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v47, 1024, &v87);
      v48 = 0xFFFF4420;
      v49 = (void *)(v87 - 12);
      if ( (int *)(v87 - 12) != &dword_28898C0 )
        v66 = (unsigned int *)(v87 - 4);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        v48 = 0xFFFF4420;
        if ( v67 <= 0 )
          j_j_j_j__ZdlPv_9(v49);
      sub_21E94B4((void **)&v86, "Sec-WebSocket-Key3");
      v50 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v4 + 19072,
              &v86);
      v51 = (const void **)(v50 + 20);
      if ( v50 == v4 + 19076 )
        v51 = (const void **)&dword_2880E54;
      v52 = sub_21E7D6C(v51, (const char *)&unk_257BC67);
      v53 = (void *)(v86 - 12);
      if ( (int (__fastcall *)(_DWORD))(v86 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
        v68 = (unsigned int *)(v86 - 4);
          v69 = __ldrex(v68);
        while ( __strex(v69 - 1, v68) );
        if ( v69 <= 0 )
          j_j_j_j__ZdlPv_9(v53);
      if ( v52 )
        v54 = *v6;
        sub_21E94B4((void **)&v84, "Sec-WebSocket-Key3");
        v55 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v4 + 19072,
                &v84);
        v56 = (int *)(v55 + 20);
        if ( v55 == v4 + 19076 )
          v56 = &dword_2880E54;
        j_websocketpp::utility::to_hex((const void **)&v85, v56);
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v54, 1024, &v85);
        v57 = (void *)(v85 - 12);
        if ( (int (__fastcall *)(_DWORD))(v85 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
          v70 = (unsigned int *)(v85 - 4);
            v71 = __ldrex(v70);
          while ( __strex(v71 - 1, v70) );
          if ( v71 <= 0 )
            j_j_j_j__ZdlPv_9(v57);
        v58 = (void *)(v84 - 12);
        if ( (int (__fastcall *)(_DWORD))(v84 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
          v72 = (unsigned int *)(v84 - 4);
            v73 = __ldrex(v72);
          while ( __strex(v73 - 1, v72) );
          if ( v73 <= 0 )
            j_j_j_j__ZdlPv_9(v58);
    if ( v19 == v5 )
      v59 = v5 - v19;
    else
      j___aeabi_memmove_1(v18, v4 + v19 + 2556);
    *(_DWORD *)(v4 + 18940) = v59;
    *(_DWORD *)(v4 + 2544) = 6;
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::process_handshake_request((int)&v83, v4);
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response(v4, (int)&v83);
    v27 = *(_DWORD *)(v4 + 4);
    if ( !v27 )
LABEL_136:
      j_std::__throw_bad_weak_ptr();
    v28 = *(_DWORD *)(v27 + 4);
    v29 = (unsigned int *)(v27 + 4);
    do
      v30 = v28;
      if ( !v28 )
        goto LABEL_136;
      v28 = __ldrex(v29);
    while ( v28 != v30 || __strex(v30 + 1, v29) );
    v31 = *(_DWORD *)v4;
      v32 = __ldrex(v29);
    while ( __strex(v32 + 1, v29) );
      v33 = __ldrex(v29);
    while ( __strex(v33 - 1, v29) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v27 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
        v35 = __ldrex(v34);
      while ( __strex(v35 - 1, v34) );
      if ( v35 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
      v36 = __ldrex(v29);
    while ( __strex(v36 + 1, v29) );
      v37 = __ldrex(v29);
    while ( __strex(v37 - 1, v29) );
    if ( v37 == 1 )
      v38 = (unsigned int *)(v27 + 8);
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 == 1 )
    v40 = j_operator new(0x10u);
    *v40 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_handshake;
    v40[1] = 0;
    v40[2] = v31;
    v40[3] = v27;
    v80 = v40;
    v81 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
    v82 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
      1u,
      __PAIR__(0x4000, v18),
      (int)&v80);
    if ( v81 )
      v81();
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::log_http_result(int a1)
{
  int *v1; // r11@1
  int v2; // r6@1
  int *v3; // r8@2
  int v4; // r0@3
  int v5; // r8@3
  const void **v6; // r2@3
  int v7; // r0@6
  int *v8; // r1@6
  signed int v9; // r11@8
  char *v10; // r5@10
  char *v11; // r5@10
  char *v12; // r5@10
  int v13; // r0@10
  char *v14; // r5@13
  char *v15; // r4@13
  char *v16; // r4@13
  int v17; // r1@13
  unsigned int v18; // r7@13
  void *v19; // r0@13
  void *v20; // r0@14
  void *v21; // r0@15
  void *v22; // r0@17
  void *v23; // r0@18
  int v24; // r0@19
  int *v25; // r1@19
  void *v26; // r0@21
  unsigned int i; // r2@23
  unsigned int v28; // r5@24
  int v29; // r5@27
  int (__fastcall *v30)(_DWORD); // r4@27
  char *v31; // r4@27
  int v32; // t1@27
  char *v33; // r0@27
  char *v34; // r0@28
  _BYTE *v35; // r0@29
  char *v36; // r0@30
  pthread_mutex_t *v37; // r4@31
  void *v38; // r0@31
  void *v39; // r0@32
  void *v40; // r0@33
  unsigned int *v42; // r1@35
  signed int v43; // r2@36
  unsigned int *v44; // r1@39
  signed int v45; // r2@40
  unsigned int *v46; // r1@43
  signed int v47; // r2@44
  unsigned int *v48; // r1@47
  signed int v49; // r2@48
  unsigned int *v50; // r1@51
  signed int v51; // r2@52
  unsigned int *v52; // r1@55
  signed int v53; // r2@56
  unsigned int *v54; // r1@59
  signed int v55; // r2@60
  unsigned int *v56; // r1@63
  signed int v57; // r2@64
  unsigned int *v58; // r1@67
  signed int v59; // r2@68
  unsigned int *v60; // r0@71
  signed int v61; // r1@72
  unsigned int *v62; // r1@75
  signed int v63; // r2@76
  unsigned int *v64; // r1@79
  signed int v65; // r2@80
  unsigned int *v66; // r1@83
  signed int v67; // r2@84
  int v68; // [sp+Ch] [bp-48h]@31
  char *v69; // [sp+14h] [bp-40h]@23
  _BYTE *v70; // [sp+1Ch] [bp-38h]@23
  int (__fastcall *v71)(_DWORD); // [sp+20h] [bp-34h]@23
  int v72; // [sp+28h] [bp-2Ch]@19
  int v73; // [sp+2Ch] [bp-28h]@21
  int v74; // [sp+34h] [bp-20h]@11
  int v75; // [sp+38h] [bp-1Ch]@10
  int v76; // [sp+40h] [bp-14h]@6
  int v77; // [sp+4Ch] [bp-8h]@3
  int v78; // [sp+50h] [bp-4h]@8
  void **v79; // [sp+54h] [bp+0h]@1
  int v80; // [sp+58h] [bp+4h]@34
  int v81; // [sp+5Ch] [bp+8h]@2
  void **v82; // [sp+60h] [bp+Ch]@31
  int v83; // [sp+84h] [bp+30h]@33
  void **v84; // [sp+88h] [bp+34h]@33

  v1 = (int *)&v79;
  v2 = a1;
  sub_21D103C((int)&v79, 24);
  if ( j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 19028) == 1 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v2 + 19196),
      1024,
      "Call to log_http_result for WebSocket");
    v3 = &v81;
  }
  else
    sub_21E94B4((void **)&v77, "host");
    v4 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           v2 + 19032,
           &v77);
    v5 = v2 + 0x4A5C;
    v6 = (const void **)(v4 + 20);
    if ( v4 == v2 + 0x4A5C )
      v6 = (const void **)&dword_2880E54;
    if ( sub_21E7D6C(v6, (const char *)&unk_257BC67) )
    {
      sub_21E94B4((void **)&v76, "host");
      v7 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
             v2 + 19032,
             &v76);
      v8 = (int *)(v7 + 20);
      if ( v7 == v5 )
        v8 = &dword_2880E54;
      sub_21E8AF4(&v78, v8);
      v9 = 1;
    }
    else
      sub_21E94B4((void **)&v78, "-");
      v9 = 0;
    v10 = sub_21CBF38((char *)&v81, v78, *(_DWORD *)(v78 - 12));
    sub_21CBF38(v10, (int)" ", 1);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(
      (void **)&v75,
      v2);
    v11 = sub_21CBF38(v10, v75, *(_DWORD *)(v75 - 12));
    sub_21CBF38(v11, (int)" \"", 2);
    v12 = sub_21CBF38(v11, *(_DWORD *)(v2 + 19084), *(_DWORD *)(*(_DWORD *)(v2 + 19084) - 12));
    sub_21CBF38(v12, (int)" ", 1);
    v13 = *(_DWORD *)(v2 + 19168);
    if ( v13 )
      sub_21E8AF4(&v74, (int *)(v13 + 8));
      sub_21E94B4((void **)&v74, "-");
    v14 = sub_21CBF38(v12, v74, *(_DWORD *)(v74 - 12));
    sub_21CBF38(v14, (int)" ", 1);
    v15 = sub_21CBF38(v14, *(_DWORD *)(v2 + 19028), *(_DWORD *)(*(_DWORD *)(v2 + 19028) - 12));
    sub_21CBF38(v15, (int)"\" ", 2);
    v16 = (char *)sub_21CC43C(v15, *(_DWORD *)(v2 + 19160));
    sub_21CBF38(v16, (int)" ", 1);
    v17 = *(_DWORD *)(*(_DWORD *)(v2 + 19128) - 12);
    sub_21CC440(v16);
    v18 = 0xFFFF4420;
    v19 = (void *)(v74 - 12);
    if ( (int *)(v74 - 12) != &dword_28898C0 )
      v44 = (unsigned int *)(v74 - 4);
      __dmb();
      do
        v45 = __ldrex(v44);
      while ( __strex(v45 - 1, v44) );
      v18 = 0xFFFF4420;
      if ( v45 <= 0 )
        j_j_j_j__ZdlPv_9(v19);
    v20 = (void *)(v75 - 12);
    if ( (int (__fastcall *)(_DWORD))(v75 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v46 = (unsigned int *)(v75 - 4);
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    v21 = (void *)(v78 - 12);
    if ( (int (__fastcall *)(_DWORD))(v78 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v48 = (unsigned int *)(v78 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v21);
    if ( v9 == 1 )
      v22 = (void *)(v76 - 12);
      if ( (int (__fastcall *)(_DWORD))(v76 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      {
        v58 = (unsigned int *)(v76 - 4);
        __dmb();
        do
          v59 = __ldrex(v58);
        while ( __strex(v59 - 1, v58) );
        if ( v59 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
      }
    v1 = (int *)&v79;
    v23 = (void *)(v77 - 12);
    if ( (int (__fastcall *)(_DWORD))(v77 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v50 = (unsigned int *)(v77 - 4);
        v51 = __ldrex(v50);
      while ( __strex(v51 - 1, v50) );
      if ( v51 <= 0 )
        j_j_j_j__ZdlPv_9(v23);
    sub_21E94B4((void **)&v72, "User-Agent");
    v24 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v2 + 19032,
            &v72);
    v25 = (int *)(v24 + 20);
    if ( v24 == v5 )
      v25 = &dword_2880E54;
    sub_21E8AF4(&v73, v25);
    v26 = (void *)(v72 - 12);
    if ( (int (__fastcall *)(_DWORD))(v72 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v52 = (unsigned int *)(v72 - 4);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 <= 0 )
        j_j_j_j__ZdlPv_9(v26);
    if ( sub_21E7D6C((const void **)&v73, (const char *)&unk_257BC67) )
      sub_21CBF38((char *)&v81, (int)" \"", 2);
      sub_21E8AF4((int *)&v71, &v73);
      sub_21E94B4((void **)&v70, "\"");
      sub_21E94B4((void **)&v69, (const char *)&unk_25DA29F);
      for ( i = 0; ; i = *((_DWORD *)v69 - 3) + v28 )
        v28 = sub_21E76A0((int *)&v71, v70, i, *((_DWORD *)v70 - 3));
        if ( v28 == -1 )
          break;
        sub_21E91FC((const void **)&v71, v28, *((_DWORD *)v70 - 3), v69, *((_BYTE **)v69 - 3));
      v29 = (int)v71;
      v30 = v71;
      v71 = (int (__fastcall *)(_DWORD))(*(char **)((char *)&GLOBAL_OFFSET_TABLE_ + v18) + 12);
      v32 = *((_DWORD *)v30 - 3);
      v31 = (char *)v30 - 12;
      v33 = sub_21CBF38((char *)&v81, v29, v32);
      sub_21CBF38(v33, (int)"\" ", 2);
      if ( v31 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v60 = (unsigned int *)(v29 - 4);
          v61 = __ldrex(v60);
        while ( __strex(v61 - 1, v60) );
        if ( v61 <= 0 )
          j_j_j_j__ZdlPv_9(v31);
      v34 = v69 - 12;
      if ( v69 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v62 = (unsigned int *)(v69 - 4);
          v63 = __ldrex(v62);
        while ( __strex(v63 - 1, v62) );
        if ( v63 <= 0 )
          j_j_j_j__ZdlPv_9(v34);
      v35 = v70 - 12;
      if ( v70 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v64 = (unsigned int *)(v70 - 4);
          v65 = __ldrex(v64);
        while ( __strex(v65 - 1, v64) );
        if ( v65 <= 0 )
          j_j_j_j__ZdlPv_9(v35);
      v36 = (char *)v71 - 12;
      if ( (int (__fastcall *)(_DWORD))((char *)v71 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_
                                                                                          + v18) )
        v66 = (unsigned int *)((char *)v71 - 4);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        if ( v67 <= 0 )
          j_j_j_j__ZdlPv_9(v36);
      sub_21CBF38((char *)&v81, (int)" \"\" ", 4);
    v37 = *(pthread_mutex_t **)(v2 + 19196);
    sub_21CFED8(&v68, (int)&v82);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v37, 4096, &v68);
    v38 = (void *)(v68 - 12);
    if ( (int (__fastcall *)(_DWORD))(v68 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v54 = (unsigned int *)(v68 - 4);
        v55 = __ldrex(v54);
      while ( __strex(v55 - 1, v54) );
      if ( v55 <= 0 )
        j_j_j_j__ZdlPv_9(v38);
    v39 = (void *)(v73 - 12);
    if ( (int (__fastcall *)(_DWORD))(v73 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v56 = (unsigned int *)(v73 - 4);
        v57 = __ldrex(v56);
      while ( __strex(v57 - 1, v56) );
      if ( v57 <= 0 )
        j_j_j_j__ZdlPv_9(v39);
  v79 = &off_26D3F94;
  v84 = &off_26D3FBC;
  *v3 = (int)&off_26D3FA8;
  v82 = &off_27734E8;
  v40 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
    v42 = (unsigned int *)(v83 - 4);
    __dmb();
    do
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 <= 0 )
      j_j_j_j__ZdlPv_9(v40);
  v82 = &off_26D40A8;
  sub_21C802C((unsigned int **)v1 + 10);
  v79 = &off_276D0DC;
  v84 = &off_276D0F0;
  v80 = 0;
  return sub_21B6560(v1 + 13);
}


_BYTE *__fastcall websocketpp::close::extract_reason(void **a1, int a2, int a3)
{
  const void **v3; // r5@1
  int v4; // r6@1
  int v5; // r4@1
  void **v6; // r0@1
  int v7; // r0@1
  unsigned int v8; // r2@1
  _BYTE *result; // r0@3
  int v10; // r1@3
  int v11; // r2@4
  char v12; // r0@8

  v3 = (const void **)a1;
  v4 = a2;
  v5 = a3;
  v6 = sub_21E94B4(a1, (const char *)&unk_257BC67);
  v7 = ((int (__fastcall *)(void **))byte_21E9640)(v6);
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = v7;
  v8 = *(_DWORD *)(*(_DWORD *)v4 - 12);
  if ( v8 > 2 )
    sub_21E91FC(v3, *((_DWORD *)*v3 - 3), 0, (char *)(*(_DWORD *)v4 + 2), (_BYTE *)(v8 - 2));
  result = *v3;
  v10 = *((_DWORD *)*v3 - 3);
  if ( v10 )
  {
    v11 = 0;
    while ( 1 )
    {
      v11 = *(&byte_26A8C54[16 * v11] + (byte_26A8C54[*result] | 0x100));
      if ( v11 == 1 )
        break;
      --v10;
      ++result;
      if ( !v10 )
      {
        if ( !v11 )
          return result;
      }
    }
    v12 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v12 & 1) )
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    result = &websocketpp::error::get_category(void)::instance;
    *(_DWORD *)v5 = 13;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
  }
  return result;
}


int __fastcall websocketpp::transport::asio::basic_socket::endpoint::init(int a1, int a2, __int64 a3)
{
  int v3; // r8@1
  int v4; // r6@1
  int v5; // r5@1
  __int64 *v6; // r7@2
  char *v7; // r0@2
  int *v8; // r9@2
  void (*v9)(void); // r1@3
  void (*v10)(void); // r3@6
  int result; // r0@10
  int v12; // [sp+0h] [bp-40h]@2
  void (*v13)(void); // [sp+8h] [bp-38h]@1
  char *v14; // [sp+Ch] [bp-34h]@2
  char v15; // [sp+10h] [bp-30h]@2
  void (*v16)(void); // [sp+18h] [bp-28h]@2
  char *v17; // [sp+1Ch] [bp-24h]@3

  v3 = a1;
  v4 = *(_DWORD *)a3;
  v5 = a2;
  v13 = 0;
  HIDWORD(a3) = *(_DWORD *)(a2 + 8);
  if ( HIDWORD(a3) )
  {
    ((void (__fastcall *)(_DWORD))HIDWORD(a3))(&v12);
    v6 = (__int64 *)(v4 + 28);
    v14 = *(char **)(v5 + 12);
    HIDWORD(a3) = *(_DWORD *)(v5 + 8);
    v16 = 0;
    v7 = &v15;
    v8 = (int *)&v16;
    v13 = (void (*)(void))HIDWORD(a3);
    if ( HIDWORD(a3) )
    {
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v15, &v12, 2);
      v7 = v14;
      v9 = v13;
      v17 = v14;
      v16 = v13;
      a3 = *(_QWORD *)&v15;
      goto LABEL_6;
    }
  }
  else
  v9 = 0;
LABEL_6:
  *(_QWORD *)&v15 = *v6;
  *v6 = a3;
  v10 = *(void (**)(void))(v4 + 36);
  *v8 = (int)v10;
  *(_DWORD *)(v4 + 36) = v9;
  v17 = *(char **)(v4 + 40);
  *(_DWORD *)(v4 + 40) = v7;
  if ( v10 )
    v10();
  if ( v13 )
    v13();
  *(_DWORD *)v3 = 0;
  result = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v3 + 4) = result;
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_resolve(unsigned int a1, int *a2, int *a3, unsigned int a4, _DWORD *a5, int a6)
{
  unsigned __int64 v6; // r10@1
  int *v7; // r8@1
  int *v8; // r5@1
  unsigned int v9; // r4@2
  unsigned int v10; // r6@2
  signed int v11; // r1@2
  signed __int64 v12; // r0@7
  bool v13; // zf@9
  signed int v14; // r1@14
  bool v15; // cf@21
  signed int v16; // r6@21
  bool v17; // zf@29
  unsigned __int64 v18; // r0@34
  RakNet *result; // r0@49
  int v20; // r4@50
  char v21; // r0@53
  pthread_mutex_t *v22; // r0@58
  int *v23; // r7@59
  _DWORD *v24; // r4@59
  int v25; // r6@59
  unsigned int *v26; // r0@60
  unsigned int v27; // r1@61
  int v28; // r8@65
  int v29; // r9@65
  int v30; // r1@66
  int v31; // r0@66
  int v32; // r2@66
  int v33; // r3@66
  int v34; // r5@66
  int v35; // r7@66
  char *v36; // r0@66
  unsigned int *v37; // r0@68
  unsigned int v38; // r1@69
  unsigned int *v39; // r4@71
  unsigned int v40; // r0@72
  pthread_mutex_t *v41; // r5@78
  void *v42; // r0@78
  unsigned int *v43; // r0@80
  unsigned int v44; // r1@81
  unsigned int *v45; // r5@83
  unsigned int v46; // r0@84
  void *v47; // r0@87
  int *v48; // r1@89
  int v49; // r5@89
  int *v50; // r4@89
  void (__fastcall *v51)(int *, _DWORD, signed int); // r3@89
  int v52; // r1@90
  int v53; // r1@92
  unsigned int *v54; // r1@93
  unsigned int v55; // r2@94
  _QWORD *v56; // r0@96
  int v57; // r1@96
  int v58; // r1@96
  int v59; // r1@96
  __int64 v60; // r2@96
  __int64 v61; // kr28_8@96
  int v62; // r5@98
  unsigned int *v63; // r0@99
  unsigned int v64; // r1@100
  unsigned int *v65; // r6@102
  unsigned int v66; // r0@103
  int v67; // r5@106
  unsigned int *v68; // r0@107
  unsigned int v69; // r1@108
  unsigned int *v70; // r6@110
  unsigned int v71; // r0@111
  int v72; // r0@116
  int v73; // r8@116
  int v74; // r1@116
  unsigned int *v75; // r0@117
  unsigned int v76; // r1@118
  __int64 *v77; // r5@120 OVERLAPPED
  int v78; // r6@120 OVERLAPPED
  unsigned int *v79; // r0@121
  unsigned int v80; // r1@122
  void (__fastcall *v81)(int *, _DWORD, signed int); // r3@124
  unsigned int *v82; // r0@127
  unsigned int v83; // r1@128
  int v84; // r1@130
  int v85; // r0@130
  unsigned int *v86; // r0@131
  unsigned int v87; // r1@132
  __int64 v88; // r2@135
  int v89; // r4@135
  unsigned int v90; // r1@137
  unsigned int *v91; // r5@139
  int v92; // r4@143
  unsigned int v93; // r1@145
  unsigned int *v94; // r5@147
  int v95; // r4@153
  unsigned int v96; // r1@155
  unsigned int *v97; // r5@157
  int v98; // r4@161
  unsigned int v99; // r1@163
  unsigned int *v100; // r5@165
  unsigned int v101; // r1@173
  unsigned int *v102; // r4@175
  int v103; // r4@179
  unsigned int v104; // r1@181
  unsigned int *v105; // r5@183
  unsigned int v106; // r1@189
  unsigned int *v107; // r4@191
  unsigned int *v108; // r1@196
  signed int v109; // r2@197
  unsigned int *v110; // r1@200
  signed int v111; // r2@201
  int *v112; // [sp+8h] [bp-1D8h]@64
  unsigned __int64 v113; // [sp+Ch] [bp-1D4h]@59
  int v114; // [sp+14h] [bp-1CCh]@133
  int v115; // [sp+20h] [bp-1C0h]@125
  int v116; // [sp+24h] [bp-1BCh]@135
  __int64 v117; // [sp+28h] [bp-1B8h]@124
  __int64 v118; // [sp+30h] [bp-1B0h]@126
  int v119; // [sp+38h] [bp-1A8h]@130
  int v120; // [sp+3Ch] [bp-1A4h]@130
  int v121; // [sp+40h] [bp-1A0h]@135
  __int64 v122; // [sp+48h] [bp-198h]@135
  __int64 v123; // [sp+50h] [bp-190h]@135
  int v124; // [sp+58h] [bp-188h]@135
  int v125; // [sp+5Ch] [bp-184h]@135
  int (*v126)(void); // [sp+60h] [bp-180h]@135
  int v127; // [sp+64h] [bp-17Ch]@135
  int v128; // [sp+68h] [bp-178h]@135
  int v129; // [sp+6Ch] [bp-174h]@135
  int v130; // [sp+70h] [bp-170h]@135
  int v131; // [sp+74h] [bp-16Ch]@135
  int v132; // [sp+78h] [bp-168h]@135
  int v133; // [sp+7Ch] [bp-164h]@116
  int v134; // [sp+80h] [bp-160h]@116
  int v135; // [sp+84h] [bp-15Ch]@120
  __int64 v136; // [sp+88h] [bp-158h]@89
  int v137; // [sp+90h] [bp-150h]@90
  __int64 v138; // [sp+98h] [bp-148h]@89
  int v139; // [sp+A0h] [bp-140h]@92
  int v140; // [sp+A4h] [bp-13Ch]@92
  int v141; // [sp+A8h] [bp-138h]@92
  int v142; // [sp+ACh] [bp-134h]@92
  int v143; // [sp+B0h] [bp-130h]@96
  _QWORD *v144; // [sp+B4h] [bp-12Ch]@96
  void (*v145)(void); // [sp+BCh] [bp-124h]@96
  __int64 v146; // [sp+C4h] [bp-11Ch]@96
  int v147; // [sp+CCh] [bp-114h]@78
  int v148; // [sp+D0h] [bp-110h]@66
  int v149; // [sp+D4h] [bp-10Ch]@66
  int v150; // [sp+D8h] [bp-108h]@66
  int v151; // [sp+DCh] [bp-104h]@66
  int v152; // [sp+E0h] [bp-100h]@66
  int v153; // [sp+E4h] [bp-FCh]@66
  int v154; // [sp+E8h] [bp-F8h]@66
  void **v155; // [sp+ECh] [bp-F4h]@59
  int v156; // [sp+F0h] [bp-F0h]@88
  void **v157; // [sp+F4h] [bp-ECh]@59
  void **v158; // [sp+F8h] [bp-E8h]@87
  int v159; // [sp+11Ch] [bp-C4h]@87
  void **v160; // [sp+120h] [bp-C0h]@87
  int v161; // [sp+1A8h] [bp-38h]@56
  void *v162; // [sp+1ACh] [bp-34h]@56
  __int64 v163; // [sp+1B0h] [bp-30h]@2

  v6 = __PAIR__(a4, a1);
  v7 = a3;
  v8 = a2;
  if ( *a5 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v6 + 108),
             1024,
             "async_resolve cancelled");
  v9 = *(_QWORD *)(*a3 + 8) >> 32;
  v10 = *(_QWORD *)(*a3 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v163,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v11 = 0;
  if ( v10 + 2 < 3 )
    v11 = 1;
  if ( (__PAIR__(v9, v10) - 9223372036854775806LL) >> 32 )
    v11 = 0;
  if ( v11 )
  {
    v12 = -6442450945LL;
    if ( !(v10 ^ 0xFFFFFFFE | v9 ^ 0x7FFFFFFF) || -6442450945LL == __PAIR__(v163, HIDWORD(v163)) )
      goto LABEL_48;
    LODWORD(v12) = 0x7FFFFFFF;
    HIDWORD(v12) = v9 ^ 0x7FFFFFFF | ~v10;
    v13 = HIDWORD(v12) == 0;
    if ( !HIDWORD(v12) )
      v13 = (HIDWORD(v163) ^ 0x7FFFFFFF | ~(_DWORD)v163) == 0;
    if ( v13 )
    {
      HIDWORD(v12) = -2;
    }
    v17 = (v9 ^ 0x80000000 | v10) == 0;
    if ( !(v9 ^ 0x80000000 | v10) )
      v17 = (HIDWORD(v163) ^ 0x80000000 | (unsigned int)v163) == 0;
    if ( v17 )
      v12 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v163 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v163 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      v15 = v10 >= (unsigned int)v163;
      HIDWORD(v12) = v10 - v163;
      v16 = 0;
      LODWORD(v12) = v9 - (HIDWORD(v163) + !v15);
      if ( (unsigned int)(HIDWORD(v12) + 2) > 2 )
        v16 = 1;
      if ( __CFADD__(HIDWORD(v12), 2) + (_DWORD)v12 != 0x80000000 )
        v16 = __CFADD__(HIDWORD(v12), 2) + (_DWORD)v12 != 2147483648;
      if ( v16 )
      {
        if ( (signed int)v12 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v6 + 108),
                   1024,
                   "async_resolve cancelled");
        goto LABEL_50;
      }
    if ( v163 == 9223372036854775806LL )
  v18 = __PAIR__(v9, v10) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v10 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_207;
  if ( !(HIDWORD(v163) ^ 0x80000000 | (unsigned int)v163) )
    v12 = -2147483649LL;
    goto LABEL_48;
  LODWORD(v12) = 0x7FFFFFFF;
  if ( !(HIDWORD(v163) ^ 0x7FFFFFFF | ~(_DWORD)v163) )
    v12 = 0x80000000LL;
  HIDWORD(v12) = -2;
  v9 = (__PAIR__(v9, v10) - v163) >> 32;
  v10 -= v163;
  if ( __PAIR__(v9, v10) != 9223372036854775806LL )
LABEL_207:
    if ( !(v9 ^ 0x7FFFFFFF | ~v10) )
      HIDWORD(v12) = -1;
    if ( !(v10 | v9 ^ 0x80000000) )
      HIDWORD(v12) = v10 | v9 ^ 0x80000000;
      LODWORD(v12) = 2147483648;
LABEL_48:
  if ( v12 == 0x80000000LL )
LABEL_50:
  v20 = *v7;
  sub_21B09F0();
  if ( *(_BYTE *)(v20 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v20 + 52),
      *(_DWORD *)v20 + 20,
      v20 + 20,
      -1);
    *(_BYTE *)(v20 + 16) = 0;
  if ( *a5 )
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
      v6,
      4,
      "asio async_resolve",
      a5);
    v21 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v161 = 3;
    v162 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(HIDWORD(v6) + 8) )
      sub_21E5F48();
    result = (RakNet *)(*(int (__fastcall **)(_DWORD, int *))(HIDWORD(v6) + 12))(HIDWORD(v6), &v161);
    v22 = *(pthread_mutex_t **)(v6 + 108);
    if ( *((_BYTE *)&v22->__align + 5) & 4 )
      v23 = (int *)&v155;
      HIDWORD(v113) = HIDWORD(v6);
      sub_21D103C((int)&v155, 24);
      sub_21CBF38((char *)&v157, (int)"Async DNS resolve successful. Results: ", 39);
      v25 = *(_QWORD *)a6 >> 32;
      v24 = (_DWORD *)*(_QWORD *)a6;
      if ( v25 )
        v26 = (unsigned int *)(v25 + 4);
        LODWORD(v113) = v6;
        __dmb();
        do
          v27 = __ldrex(v26);
        while ( __strex(v27 + 1, v26) );
      else
        v25 = 0;
      v112 = v8;
      if ( v24 )
        v28 = *(_DWORD *)(a6 + 8);
        v29 = 36 * v28;
        {
          v30 = *(_DWORD *)(*v24 + v29);
          v31 = *v24 + v29;
          v32 = *(_DWORD *)(v31 + 4);
          v33 = *(_DWORD *)(v31 + 8);
          v34 = *(_DWORD *)(v31 + 12);
          v35 = *(_DWORD *)(v31 + 16);
          v153 = *(_DWORD *)(v31 + 20);
          v148 = v30;
          v149 = v32;
          v150 = v33;
          v151 = v34;
          v152 = v35;
          v154 = *(_DWORD *)(v31 + 24);
          j_boost::asio::ip::operator<<<char,std::char_traits<char>,boost::asio::ip::tcp>();
          sub_21CBF38(v36, (int)" ", 1);
          v29 += 36;
          ++v28;
        }
        while ( v28 != 954437177 * ((signed int)((*(_QWORD *)v24 >> 32) - *(_QWORD *)v24) >> 2) );
        if ( v25 )
          __dmb();
          v37 = (unsigned int *)(v25 + 4);
          LODWORD(v6) = v113;
          v23 = (int *)&v155;
          do
            v38 = __ldrex(v37);
          while ( __strex(v38 - 1, v37) );
          if ( v38 == 1 )
          {
            v39 = (unsigned int *)(v25 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
            __dmb();
            do
              v40 = __ldrex(v39);
            while ( __strex(v40 - 1, v39) );
            if ( v40 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
          }
          v25 = 0;
        else
        v6 = v113;
      v41 = *(pthread_mutex_t **)(v6 + 108);
      sub_21CFED8(&v147, (int)(v23 + 3));
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v41, 1024, &v147);
      v8 = v112;
      v42 = (void *)(v147 - 12);
      if ( (int *)(v147 - 12) != &dword_28898C0 )
        v108 = (unsigned int *)(v147 - 4);
          v109 = __ldrex(v108);
        while ( __strex(v109 - 1, v108) );
        if ( v109 <= 0 )
          j_j_j_j__ZdlPv_9(v42);
        v43 = (unsigned int *)(v25 + 4);
          v44 = __ldrex(v43);
        while ( __strex(v44 - 1, v43) );
        if ( v44 == 1 )
          v45 = (unsigned int *)(v25 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
            v46 = __ldrex(v45);
          while ( __strex(v46 - 1, v45) );
          v8 = v112;
          if ( v46 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
      v155 = &off_26D3F94;
      v160 = &off_26D3FBC;
      v157 = &off_26D3FA8;
      v158 = &off_27734E8;
      v47 = (void *)(v159 - 12);
      if ( (int *)(v159 - 12) != &dword_28898C0 )
        v110 = (unsigned int *)(v159 - 4);
          v111 = __ldrex(v110);
        while ( __strex(v111 - 1, v110) );
        if ( v111 <= 0 )
          j_j_j_j__ZdlPv_9(v47);
      v158 = &off_26D40A8;
      sub_21C802C((unsigned int **)v23 + 10);
      v155 = &off_276D0DC;
      v160 = &off_276D0F0;
      v156 = 0;
      sub_21B6560(v23 + 13);
      v22 = *(pthread_mutex_t **)(v6 + 108);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v22,
      1024,
      "Starting async connect");
    v48 = v8;
    v49 = *v8;
    v50 = v48;
    v136 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_connect_timeout;
    LODWORD(v138) = 0;
    v51 = *(void (__fastcall **)(int *, _DWORD, signed int))(HIDWORD(v6) + 8);
    if ( v51 )
      v51(&v137, HIDWORD(v6), 2);
      v138 = *(_QWORD *)(HIDWORD(v6) + 8);
      v52 = *v50;
    else
      v52 = v49;
    v139 = 0;
    v140 = 0;
    v141 = v52;
    v53 = v50[1];
    v142 = v53;
    if ( v53 )
      v54 = (unsigned int *)(v53 + 4);
      __dmb();
      do
        v55 = __ldrex(v54);
      while ( __strex(v55 + 1, v54) );
    v143 = v6;
    v145 = 0;
    v56 = j_operator new(0x2Cu);
    *v56 = v136;
    v56[1] = *(_QWORD *)&v137;
    v57 = v138;
    *((_DWORD *)v56 + 4) = v57;
    *((_DWORD *)v56 + 5) = HIDWORD(v138);
    *((_DWORD *)v56 + 6) = v139;
    v58 = v140;
    *((_DWORD *)v56 + 7) = v58;
    *((_DWORD *)v56 + 8) = v141;
    v59 = v142;
    HIDWORD(v60) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
    LODWORD(v60) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
    v142 = 0;
    *((_DWORD *)v56 + 9) = v59;
    v141 = 0;
    *((_DWORD *)v56 + 10) = v6;
    v144 = v56;
    *(_QWORD *)&v145 = v60;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
      (int)&v146,
      v49,
      5000,
      (int)&v144);
    v61 = v146;
    v146 = 0LL;
    if ( v145 )
      v145();
    v62 = v142;
    if ( v142 )
      v63 = (unsigned int *)(v142 + 4);
        v64 = __ldrex(v63);
      while ( __strex(v64 - 1, v63) );
      if ( v64 == 1 )
        v65 = (unsigned int *)(v62 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 8))(v62);
          v66 = __ldrex(v65);
        while ( __strex(v66 - 1, v65) );
        if ( v66 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 12))(v62);
    v67 = v140;
    if ( v140 )
      v68 = (unsigned int *)(v140 + 4);
        v69 = __ldrex(v68);
      while ( __strex(v69 - 1, v68) );
      if ( v69 == 1 )
        v70 = (unsigned int *)(v67 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v67 + 8))(v67);
          v71 = __ldrex(v70);
        while ( __strex(v71 - 1, v70) );
        if ( v71 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v67 + 12))(v67);
    if ( (_DWORD)v138 )
      ((void (*)(void))v138)();
    v72 = *v50;
    v73 = *(_DWORD *)(*v50 + 28);
    v133 = *(_DWORD *)a6;
    v74 = *(_DWORD *)(a6 + 4);
    v134 = v74;
    if ( v74 )
      v75 = (unsigned int *)(v74 + 4);
        v76 = __ldrex(v75);
      while ( __strex(v76 + 1, v75) );
      v72 = *v50;
    v135 = *(_DWORD *)(a6 + 8);
    *(_QWORD *)&v77 = *(_QWORD *)(v72 + 116);
    if ( v78 )
      v79 = (unsigned int *)(v78 + 4);
        v80 = __ldrex(v79);
      while ( __strex(v80 + 1, v79) );
    LODWORD(v117) = 0;
    v81 = *(void (__fastcall **)(int *, _DWORD, signed int))(HIDWORD(v6) + 8);
    if ( v81 )
      v81(&v115, HIDWORD(v6), 2);
      v117 = *(_QWORD *)(HIDWORD(v6) + 8);
    v118 = v61;
    if ( HIDWORD(v61) )
      v82 = (unsigned int *)(HIDWORD(v61) + 4);
        v83 = __ldrex(v82);
      while ( __strex(v83 + 1, v82) );
    v84 = *v50;
    v119 = *v50;
    v85 = v50[1];
    v120 = v85;
    if ( v85 )
      v86 = (unsigned int *)(v85 + 4);
        v87 = __ldrex(v86);
      while ( __strex(v87 + 1, v86) );
      v114 = v78;
      v85 = v120;
      v84 = v119;
    v121 = v6;
    v122 = *v77;
    v123 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_connect;
    v88 = *(_QWORD *)&v115;
    v115 = v124;
    v116 = v125;
    *(_QWORD *)&v124 = v88;
    v126 = (int (*)(void))v117;
    LODWORD(v88) = HIDWORD(v117);
    HIDWORD(v117) = v127;
    v127 = v88;
    LODWORD(v88) = HIDWORD(v118);
    v128 = v118;
    v118 = 0LL;
    v129 = v88;
    v130 = v84;
    v119 = 0;
    v120 = 0;
    v131 = v85;
    v132 = v6;
    result = (RakNet *)j_boost::asio::async_connect<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>,boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
                         v73,
                         (int)&v133,
                         (int)&v122);
    v89 = v131;
    if ( v131 )
      result = (RakNet *)(v131 + 4);
        v90 = __ldrex((unsigned int *)result);
      while ( __strex(v90 - 1, (unsigned int *)result) );
      if ( v90 == 1 )
        v91 = (unsigned int *)(v89 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 8))(v89);
          result = (RakNet *)__ldrex(v91);
        while ( __strex((unsigned int)result - 1, v91) );
        if ( result == (RakNet *)1 )
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v89 + 12))(v89);
    v92 = v129;
    if ( v129 )
      result = (RakNet *)(v129 + 4);
        v93 = __ldrex((unsigned int *)result);
      while ( __strex(v93 - 1, (unsigned int *)result) );
      if ( v93 == 1 )
        v94 = (unsigned int *)(v92 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v92 + 8))(v92);
          result = (RakNet *)__ldrex(v94);
        while ( __strex((unsigned int)result - 1, v94) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v92 + 12))(v92);
    if ( v126 )
      result = (RakNet *)v126();
    v95 = v120;
    if ( v120 )
      result = (RakNet *)(v120 + 4);
        v96 = __ldrex((unsigned int *)result);
      while ( __strex(v96 - 1, (unsigned int *)result) );
      if ( v96 == 1 )
        v97 = (unsigned int *)(v95 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v95 + 8))(v95);
          result = (RakNet *)__ldrex(v97);
        while ( __strex((unsigned int)result - 1, v97) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v95 + 12))(v95);
    v98 = HIDWORD(v118);
    if ( HIDWORD(v118) )
      result = (RakNet *)(HIDWORD(v118) + 4);
        v99 = __ldrex((unsigned int *)result);
      while ( __strex(v99 - 1, (unsigned int *)result) );
      if ( v99 == 1 )
        v100 = (unsigned int *)(v98 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 8))(v98);
          result = (RakNet *)__ldrex(v100);
        while ( __strex((unsigned int)result - 1, v100) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v98 + 12))(v98);
    if ( (_DWORD)v117 )
      result = (RakNet *)((int (*)(void))v117)();
    if ( v114 )
      result = (RakNet *)(v114 + 4);
        v101 = __ldrex((unsigned int *)result);
      while ( __strex(v101 - 1, (unsigned int *)result) );
      if ( v101 == 1 )
        v102 = (unsigned int *)(v114 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v114 + 8))(v114);
          result = (RakNet *)__ldrex(v102);
        while ( __strex((unsigned int)result - 1, v102) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v114 + 12))(v114);
    v103 = v134;
    if ( v134 )
      result = (RakNet *)(v134 + 4);
        v104 = __ldrex((unsigned int *)result);
      while ( __strex(v104 - 1, (unsigned int *)result) );
      if ( v104 == 1 )
        v105 = (unsigned int *)(v103 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v103 + 8))(v103);
          result = (RakNet *)__ldrex(v105);
        while ( __strex((unsigned int)result - 1, v105) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v103 + 12))(v103);
      result = (RakNet *)(HIDWORD(v61) + 4);
        v106 = __ldrex((unsigned int *)result);
      while ( __strex(v106 - 1, (unsigned int *)result) );
      if ( v106 == 1 )
        v107 = (unsigned int *)(HIDWORD(v61) + 8);
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v61) + 8))(HIDWORD(v61));
          result = (RakNet *)__ldrex(v107);
        while ( __strex((unsigned int)result - 1, v107) );
          result = (RakNet *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v61) + 12))(HIDWORD(v61));
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_client>::connection(int a1, char a2, int *a3, pthread_mutex_t *a4, unsigned int a5, int a6)
{
  pthread_mutex_t *v6; // r9@1
  int *v7; // r7@1
  char v8; // r10@1
  int v9; // r4@1
  _DWORD *v10; // r0@1
  _DWORD *v11; // r0@1
  _DWORD *v12; // r7@1
  int *v13; // r0@1
  int v14; // r5@1
  unsigned int *v15; // r0@2
  unsigned int v16; // r1@3
  int v17; // r0@5
  unsigned int *v18; // r1@6
  unsigned int v19; // r2@7
  void *v20; // r1@10
  __int64 v21; // r6@11
  unsigned __int64 v22; // ST14_8@11
  __int64 v23; // r10@11
  int v24; // r0@11
  int v25; // r2@11
  int v26; // r5@11
  unsigned int v27; // r7@11
  unsigned int v28; // r5@11
  unsigned int v29; // r6@11
  int v30; // r0@11
  unsigned __int64 v31; // kr00_8@11
  void *v32; // r2@11
  int v33; // r2@11
  int v34; // r3@11
  unsigned int v35; // r1@11
  int v36; // r2@11
  void *v37; // r7@13
  unsigned int v38; // r5@14
  unsigned int v39; // r6@15
  void *v40; // t1@16
  void **v42; // [sp+1Ch] [bp-7Ch]@10
  pthread_mutex_t *v43; // [sp+20h] [bp-78h]@11
  char v44; // [sp+24h] [bp-74h]@10
  void *ptr; // [sp+28h] [bp-70h]@10
  int v46; // [sp+2Ch] [bp-6Ch]@11
  int v47; // [sp+30h] [bp-68h]@11
  int v48; // [sp+34h] [bp-64h]@11
  int v49; // [sp+38h] [bp-60h]@11
  unsigned int v50; // [sp+3Ch] [bp-5Ch]@11
  unsigned __int64 v51; // [sp+40h] [bp-58h]@11
  unsigned __int64 v52; // [sp+48h] [bp-50h]@11
  int v53; // [sp+54h] [bp-44h]@13
  unsigned int v54; // [sp+58h] [bp-40h]@13
  unsigned int v55; // [sp+5Ch] [bp-3Ch]@13
  unsigned int v56; // [sp+60h] [bp-38h]@13
  int v57; // [sp+64h] [bp-34h]@13
  int v58; // [sp+68h] [bp-30h]@13
  int v59; // [sp+6Ch] [bp-2Ch]@13
  unsigned int v60; // [sp+70h] [bp-28h]@13

  v6 = a4;
  v7 = a3;
  v8 = a2;
  v9 = a1;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::connection(
    a1,
    a2,
    __PAIR__(a5, (unsigned int)a4));
  *(_DWORD *)(v9 + 2288) = 0;
  v10 = j_operator new(0xCu);
  *v10 = websocketpp::connection<websocketpp::config::asio_client>::handle_read_frame;
  v10[1] = 0;
  v10[2] = v9;
  *(_DWORD *)(v9 + 2280) = v10;
  *(_DWORD *)(v9 + 2292) = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(websocketpp::connection<websocketpp::config::asio_client>*,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  *(_DWORD *)(v9 + 2288) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(websocketpp::connection<websocketpp::config::asio_client>*,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  *(_DWORD *)(v9 + 2304) = 0;
  v11 = j_operator new(0xCu);
  *v11 = websocketpp::connection<websocketpp::config::asio_client>::handle_write_frame;
  v11[1] = 0;
  v11[2] = v9;
  *(_DWORD *)(v9 + 2296) = v11;
  *(_DWORD *)(v9 + 2304) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(websocketpp::connection<websocketpp::config::asio_client>*,std::_Placeholder<1>)>>::_M_manager;
  *(_DWORD *)(v9 + 2308) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(websocketpp::connection<websocketpp::config::asio_client>*,std::_Placeholder<1>)>>::_M_invoke;
  sub_21E8AF4((int *)(v9 + 2312), v7);
  *(_DWORD *)(v9 + 2316) = 0;
  *(_DWORD *)(v9 + 2320) = 0;
  *(_DWORD *)(v9 + 2332) = 0;
  *(_DWORD *)(v9 + 2348) = 0;
  *(_DWORD *)(v9 + 2364) = 0;
  *(_DWORD *)(v9 + 2380) = 0;
  *(_DWORD *)(v9 + 2396) = 0;
  *(_DWORD *)(v9 + 2412) = 0;
  *(_DWORD *)(v9 + 2428) = 0;
  *(_DWORD *)(v9 + 2444) = 0;
  *(_DWORD *)(v9 + 2460) = 0;
  *(_DWORD *)(v9 + 2476) = 0;
  *(_DWORD *)(v9 + 2484) = 5000;
  *(_DWORD *)(v9 + 2488) = 5000;
  *(_DWORD *)(v9 + 2492) = 5000;
  *(_DWORD *)(v9 + 2496) = 32000000;
  *(_DWORD *)(v9 + 2500) = 0;
  *(_DWORD *)(v9 + 2504) = 0;
  *(_DWORD *)(v9 + 2508) = 0;
  *(_DWORD *)(v9 + 2512) = 0;
  *(_DWORD *)(v9 + 18912) = 0;
  v12 = j_operator new(8u);
  *v12 = 0;
  v12[1] = 0;
  *(_DWORD *)(v9 + 18920) = v12;
  v13 = j_std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::alloc::message<websocketpp::message_buffer::alloc::message>> *>(
          (_DWORD *)(v9 + 18924),
          (int)v12);
  *v12 = v12;
  v14 = *v13;
  if ( *v13 )
  {
    v15 = (unsigned int *)(v14 + 8);
    __dmb();
    do
      v16 = __ldrex(v15);
    while ( __strex(v16 + 1, v15) );
  }
  v17 = v12[1];
  if ( v17 )
    v18 = (unsigned int *)(v17 + 8);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
  v12[1] = v14;
  *(_DWORD *)(v9 + 18940) = 0;
  *(_DWORD *)(v9 + 18936) = 0;
  *(_DWORD *)(v9 + 18932) = 0;
  *(_DWORD *)(v9 + 18928) = 0;
  *(_DWORD *)(v9 + 18944) = &unk_28898CC;
  *(_DWORD *)(v9 + 18948) = 0;
  *(_DWORD *)(v9 + 18952) = 0;
  j___aeabi_memclr8_1((int)&ptr, 40);
  j_std::_Deque_base<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_initialize_map(
    (int)&ptr,
    0);
  v42 = (void **)(v9 + 18956);
  j___aeabi_memclr4_1(v9 + 18956, 40);
    v9 + 18956,
  v20 = ptr;
  v44 = v8;
  if ( ptr )
    HIDWORD(v21) = *(_DWORD *)(v9 + 18976);
    HIDWORD(v23) = *(_DWORD *)(v9 + 18968);
    v43 = v6;
    LODWORD(v21) = *(_DWORD *)(v9 + 18972);
    v22 = __PAIR__(v21, HIDWORD(v21));
    LODWORD(v23) = *(_DWORD *)(v9 + 18964);
    v24 = v47;
    v25 = v48;
    v26 = v49;
    *(_DWORD *)(v9 + 18976) = v50;
    *(_DWORD *)(v9 + 18972) = v26;
    *(_DWORD *)(v9 + 18968) = v25;
    *(_DWORD *)(v9 + 18964) = v24;
    *(_QWORD *)&v47 = v23;
    *(_QWORD *)&v49 = v21;
    v27 = *(_DWORD *)(v9 + 18992);
    v28 = *(_DWORD *)(v9 + 18988);
    v29 = *(_DWORD *)(v9 + 18984);
    v30 = *(_DWORD *)(v9 + 18980);
    v31 = v51;
    *(_QWORD *)(v9 + 18988) = v52;
    *(_QWORD *)(v9 + 18980) = v31;
    v51 = __PAIR__(v29, v30);
    v52 = __PAIR__(v27, v28);
    v32 = *v42;
    *v42 = v20;
    ptr = v32;
    v33 = *(_DWORD *)(v9 + 18960);
    *(_DWORD *)(v9 + 18960) = v46;
    v34 = v23;
    v46 = v33;
    v36 = HIDWORD(v22);
    v35 = v22;
  else
    HIDWORD(v23) = v48;
    v34 = v47;
    v35 = v50;
    v36 = v49;
    v27 = HIDWORD(v52);
    v28 = v52;
    v29 = HIDWORD(v51);
    v30 = v51;
  v57 = v34;
  v58 = HIDWORD(v23);
  v59 = v36;
  v60 = v35;
  v53 = v30;
  v54 = v29;
  v55 = v28;
  v56 = v27;
  j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_destroy_data_aux(
    (int)&v57,
    (int)&v53);
  v37 = ptr;
    v38 = HIDWORD(v52);
    if ( v50 < HIDWORD(v52) + 4 )
    {
      v39 = v50 - 4;
      do
      {
        v40 = *(void **)(v39 + 4);
        v39 += 4;
        j_operator delete(v40);
      }
      while ( v39 < v38 );
    }
    j_operator delete(v37);
  *(_BYTE *)(v9 + 19024) = 0;
  *(_DWORD *)(v9 + 19020) = 0;
  *(_DWORD *)(v9 + 19016) = 0;
  *(_DWORD *)(v9 + 19012) = 0;
  *(_DWORD *)(v9 + 19008) = 0;
  *(_DWORD *)(v9 + 19004) = 0;
  *(_DWORD *)(v9 + 19000) = 0;
  *(_DWORD *)(v9 + 18996) = 0;
  *(_BYTE *)(v9 + 19025) = 1;
  j_websocketpp::http::parser::request::request((websocketpp::http::parser::request *)(v9 + 19028));
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::response *)(v9 + 19096));
  *(_DWORD *)(v9 + 19168) = 0;
  *(_DWORD *)(v9 + 19172) = 0;
  *(_DWORD *)(v9 + 19176) = &unk_28898CC;
  *(_DWORD *)(v9 + 19180) = 0;
  *(_DWORD *)(v9 + 19184) = 0;
  *(_DWORD *)(v9 + 19188) = 0;
  *(_BYTE *)(v9 + 19192) = v44;
  *(_DWORD *)(v9 + 19196) = v43;
  *(_DWORD *)(v9 + 19200) = a5;
  *(_DWORD *)(v9 + 19204) = a6;
  *(_WORD *)(v9 + 19208) = 1006;
  *(_DWORD *)(v9 + 19212) = &unk_28898CC;
  *(_WORD *)(v9 + 19216) = 1006;
  *(_DWORD *)(v9 + 19220) = &unk_28898CC;
  *(_DWORD *)(v9 + 19224) = 0;
  *(_DWORD *)(v9 + 19228) = ((int (*)(void))byte_21E9640)();
  *(_WORD *)(v9 + 19232) = 0;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    v43,
    1024,
    "connection constructor");
  return v9;
}


int (__fastcall *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::validate_handshake(int a1, int a2, int a3))(_DWORD)
{
  int v3; // r9@1
  const void **v4; // r6@1
  char v5; // r0@2
  signed int v6; // r2@5
  unsigned int v7; // r1@5
  int (__fastcall **v8)(_DWORD); // r0@5
  char v9; // r0@7
  int v10; // r5@11
  int v11; // r0@11
  int v12; // r6@11
  const void **v13; // r2@11
  int v14; // r0@14
  const void **v15; // r2@14
  int v16; // r0@17
  const void **v17; // r2@17
  signed int v18; // r5@19
  void *v19; // r0@21
  unsigned int *v20; // r1@22
  signed int v21; // r2@23
  void *v22; // r0@28
  void *v23; // r0@29
  char v24; // r0@31
  int (__fastcall *result)(_DWORD); // r0@35
  unsigned int *v26; // r1@38
  signed int v27; // r2@39
  unsigned int *v28; // r1@42
  signed int v29; // r2@43
  int v30; // [sp+4h] [bp-34h]@17
  int v31; // [sp+Ch] [bp-2Ch]@14
  int v32; // [sp+14h] [bp-24h]@11

  v3 = a1;
  v4 = (const void **)a3;
  if ( sub_21E7D6C((const void **)(a3 + 56), "GET") )
  {
    v5 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v6 = 18;
    v7 = 0x3FFFFD21u;
    v8 = &GLOBAL_OFFSET_TABLE_;
  }
  else if ( sub_21E7D6C(v4, "HTTP/1.1") )
    v9 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v9 & 1)
    v6 = 19;
  else
    sub_21E94B4((void **)&v32, "Sec-WebSocket-Key1");
    v10 = (int)(v4 + 1);
    v11 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            (int)(v4 + 1),
            &v32);
    v12 = (int)(v4 + 2);
    v13 = (const void **)(v11 + 20);
    if ( v11 == v12 )
      v13 = (const void **)&dword_2880E54;
    if ( sub_21E7D6C(v13, (const char *)&unk_257BC67) )
      sub_21E94B4((void **)&v31, "Sec-WebSocket-Key2");
      v14 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v10,
              &v31);
      v15 = (const void **)(v14 + 20);
      if ( v14 == v12 )
        v15 = (const void **)&dword_2880E54;
      if ( sub_21E7D6C(v15, (const char *)&unk_257BC67) )
      {
        sub_21E94B4((void **)&v30, "Sec-WebSocket-Key3");
        v16 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v10,
                &v30);
        v17 = (const void **)(v16 + 20);
        if ( v16 == v12 )
          v17 = (const void **)&dword_2880E54;
        v18 = 0;
        if ( !sub_21E7D6C(v17, (const char *)&unk_257BC67) )
          v18 = 1;
        v19 = (void *)(v30 - 12);
        if ( (int *)(v30 - 12) != &dword_28898C0 )
        {
          v20 = (unsigned int *)(v30 - 4);
          __dmb();
          do
            v21 = __ldrex(v20);
          while ( __strex(v21 - 1, v20) );
          if ( v21 <= 0 )
            j_j_j_j__ZdlPv_9(v19);
        }
      }
      else
        v18 = 1;
      v22 = (void *)(v31 - 12);
      if ( (int *)(v31 - 12) != &dword_28898C0 )
        v28 = (unsigned int *)(v31 - 4);
        __dmb();
        do
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
    else
      v18 = 1;
    v23 = (void *)(v32 - 12);
    if ( (int *)(v32 - 12) != &dword_28898C0 )
      v26 = (unsigned int *)(v32 - 4);
      __dmb();
      do
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 <= 0 )
        j_j_j_j__ZdlPv_9(v23);
    if ( v18 != 1 )
      *(_DWORD *)v3 = 0;
      result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
      goto LABEL_36;
    v24 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v24 & 1)
    v6 = 21;
  result = v8[v7];
  *(_DWORD *)v3 = v6;
LABEL_36:
  *(_DWORD *)(v3 + 4) = result;
  return result;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(int a1, int a2, int a3, int a4)
{
  int v4; // r8@1
  int v5; // r4@1
  int *v6; // r5@1
  int v7; // r11@1
  int v8; // r0@1
  int v9; // r6@3
  __int64 *v10; // r9@4
  unsigned int *v11; // r7@4
  unsigned int v12; // r0@4
  unsigned int v13; // r1@5
  int v14; // r10@8
  unsigned int v15; // r0@11
  unsigned int v16; // r0@13
  unsigned int *v17; // r4@15
  unsigned int v18; // r0@16
  int (*v19)(void); // r0@19
  void (__fastcall *v20)(__int64 *, int, signed int); // r3@19
  int v21; // r12@21
  int v22; // r1@21
  unsigned int *v23; // r0@22
  unsigned int v24; // r1@23
  __int64 v25; // kr08_8@25
  __int64 v26; // kr10_8@25
  int v27; // r3@25
  unsigned int *result; // r0@25
  int v29; // r4@25
  unsigned int v30; // r1@27
  unsigned int *v31; // r5@29
  int v32; // r4@33
  unsigned int v33; // r1@35
  unsigned int *v34; // r5@37
  int v35; // r4@43
  unsigned int v36; // r1@45
  unsigned int *v37; // r5@47
  int v38; // r4@51
  unsigned int v39; // r1@53
  unsigned int *v40; // r5@55
  __int64 v41; // [sp+10h] [bp-88h]@20
  int (*v42)(void); // [sp+18h] [bp-80h]@19
  int v43; // [sp+1Ch] [bp-7Ch]@20
  int v44; // [sp+20h] [bp-78h]@21
  int v45; // [sp+24h] [bp-74h]@21
  int v46; // [sp+28h] [bp-70h]@25
  int v47; // [sp+2Ch] [bp-6Ch]@25
  int v48; // [sp+30h] [bp-68h]@25
  int v49; // [sp+34h] [bp-64h]@25
  int (__fastcall *v50)(int, int, int, _DWORD *); // [sp+38h] [bp-60h]@25
  int v51; // [sp+3Ch] [bp-5Ch]@25
  __int64 v52; // [sp+40h] [bp-58h]@25
  int (*v53)(void); // [sp+48h] [bp-50h]@25
  int v54; // [sp+4Ch] [bp-4Ch]@25
  int v55; // [sp+50h] [bp-48h]@25
  int v56; // [sp+54h] [bp-44h]@25
  int v57; // [sp+58h] [bp-40h]@25
  int v58; // [sp+5Ch] [bp-3Ch]@25
  __int64 v59; // [sp+60h] [bp-38h]@1
  int v60; // [sp+6Ch] [bp-2Ch]@1
  char v61; // [sp+70h] [bp-28h]@1

  v4 = a1;
  v5 = a2;
  v60 = *(_DWORD *)(a2 + 112);
  v6 = 0;
  v7 = a4;
  v59 = 1000LL * a3;
  *(_DWORD *)a1 = 0;
  v8 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio20basic_deadline_timerINS4_10posix_time5ptimeENS5_11time_traitsIS8_EENS5_22deadline_timer_serviceIS8_SA_EEEESaISD_EJSt17reference_wrapperINS5_10io_serviceEENS4_9date_time18subsecond_durationINS7_13time_durationELx1000EEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
          (_DWORD *)(a1 + 4),
          0,
          (int)&v61,
          (int **)&v60,
          (unsigned __int64 *)&v59);
  if ( v8 )
    v6 = (int *)(*(int (**)(void))(*(_DWORD *)v8 + 16))();
  *(_DWORD *)v4 = v6;
  v9 = *(_DWORD *)(v5 + 4);
  if ( !v9 )
    j_std::__throw_bad_weak_ptr();
  v10 = *(__int64 **)(v5 + 116);
  v11 = (unsigned int *)(v9 + 4);
  v12 = *(_DWORD *)(v9 + 4);
  do
  {
    v13 = v12;
    if ( !v12 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v12 = __ldrex(v11);
  }
  while ( v12 != v13 || __strex(v13 + 1, v11) );
  __dmb();
  v14 = *(_DWORD *)v5;
    v15 = __ldrex(v11);
  while ( __strex(v15 + 1, v11) );
    v16 = __ldrex(v11);
  while ( __strex(v16 - 1, v11) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v9 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
  v19 = 0;
  v42 = 0;
  v20 = *(void (__fastcall **)(__int64 *, int, signed int))(v7 + 8);
  if ( v20 )
    v20(&v41, v7, 2);
    v43 = *(_DWORD *)(v7 + 12);
    v19 = *(int (**)(void))(v7 + 8);
    v42 = *(int (**)(void))(v7 + 8);
  v21 = *(_DWORD *)v4;
  v22 = *(_DWORD *)(v4 + 4);
  v44 = *(_DWORD *)v4;
  v45 = v22;
  if ( v22 )
    v23 = (unsigned int *)(v22 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 + 1, v23) );
    v19 = v42;
    v22 = v45;
    v21 = v44;
  v46 = v14;
  v47 = v9;
  v25 = *v10;
  v48 = *v10;
  v49 = HIDWORD(v25);
  v50 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_timer;
  v51 = 0;
  v26 = v41;
  v41 = v52;
  v52 = v26;
  v53 = v19;
  v27 = v54;
  v54 = v43;
  v55 = v21;
  v43 = v27;
  v44 = 0;
  v56 = v22;
  v57 = v14;
  v47 = 0;
  v58 = v9;
  v45 = 0;
  v46 = 0;
  result = j_boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>::async_wait<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
             *v6,
             (int)(v6 + 2),
             (int)&v48);
  v29 = v58;
  if ( v58 )
    result = (unsigned int *)(v58 + 4);
      v30 = __ldrex(result);
    while ( __strex(v30 - 1, result) );
    if ( v30 == 1 )
    {
      v31 = (unsigned int *)(v29 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v31);
      while ( __strex((unsigned int)result - 1, v31) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
    }
  v32 = v56;
  if ( v56 )
    result = (unsigned int *)(v56 + 4);
      v33 = __ldrex(result);
    while ( __strex(v33 - 1, result) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v32 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        result = (unsigned int *)__ldrex(v34);
      while ( __strex((unsigned int)result - 1, v34) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v32 + 12))(v32);
  if ( v53 )
    result = (unsigned int *)v53();
  v35 = v47;
  if ( v47 )
    result = (unsigned int *)(v47 + 4);
      v36 = __ldrex(result);
    while ( __strex(v36 - 1, result) );
    if ( v36 == 1 )
      v37 = (unsigned int *)(v35 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 8))(v35);
        result = (unsigned int *)__ldrex(v37);
      while ( __strex((unsigned int)result - 1, v37) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v35 + 12))(v35);
  v38 = v45;
  if ( v45 )
    result = (unsigned int *)(v45 + 4);
      v39 = __ldrex(result);
    while ( __strex(v39 - 1, result) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v38 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 8))(v38);
        result = (unsigned int *)__ldrex(v40);
      while ( __strex((unsigned int)result - 1, v40) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v38 + 12))(v38);
  if ( v42 )
    result = (unsigned int *)v42();
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(int a1, unsigned __int64 *a2, __int64 a3)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(a1, a2, a3);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::~hybi00(void *ptr)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_client>::~hybi00(ptr);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::decode_client_key(int a1, int *a2, _DWORD *a3)
{
  int *v3; // r5@1
  _DWORD *v4; // r8@1
  int v5; // r0@1
  unsigned int v6; // r6@1
  unsigned int v7; // r10@2
  int v8; // r11@3
  char *v9; // r0@6
  int v10; // r1@6 OVERLAPPED
  int v11; // r4@6
  unsigned int v12; // r2@6
  char *v13; // r0@9
  unsigned __int32 v14; // r0@12
  bool v15; // zf@12
  char *v16; // r0@16
  unsigned int *v17; // r1@18
  signed int v18; // r2@19
  char *nptr; // [sp+8h] [bp-30h]@1

  v3 = a2;
  v4 = a3;
  sub_21E94B4((void **)&nptr, (const char *)&unk_257BC67);
  v5 = *v3;
  v6 = 0;
  if ( *(_DWORD *)(*v3 - 12) )
  {
    v7 = 0;
    v6 = 0;
    do
    {
      v8 = *(_BYTE *)(v5 + v7);
      if ( v8 == 32 )
      {
        ++v6;
      }
      else if ( (unsigned __int8)(v8 - 48) <= 9u )
        v9 = nptr;
        *(_QWORD *)&v10 = *(_QWORD *)(nptr - 12);
        v11 = v10 + 1;
        if ( v10 + 1 > v12 || *((_DWORD *)nptr - 1) >= 1 )
        {
          sub_21E6FCC((const void **)&nptr, v10 + 1);
          v9 = nptr;
          v10 = *((_DWORD *)nptr - 3);
        }
        v9[v10] = v8;
        v13 = nptr;
        if ( (int *)(nptr - 12) != &dword_28898C0 )
          *((_DWORD *)nptr - 1) = 0;
          *((_DWORD *)v13 - 3) = v11;
          v13[v11] = byte_26C67B8[0];
      v5 = *v3;
      ++v7;
    }
    while ( v7 < *(_DWORD *)(*v3 - 12) );
  }
  v14 = j_strtoul_0(nptr, 0, 10);
  v15 = v6 == 0;
  if ( v6 )
    v15 = v14 == 0;
  if ( v15 )
    *v4 = 0;
  else
    *v4 = __rev(v14 / v6);
  v16 = nptr - 12;
  if ( (int *)(nptr - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(nptr - 4);
    __dmb();
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
}


websocketpp::http::parser::response *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_raw(const void **a1, int a2, const websocketpp::http::parser::response *a3)
{
  const websocketpp::http::parser::response *v3; // r5@1
  const void **v4; // r4@1
  void *v5; // r0@1
  int v6; // r0@2
  const void **v7; // r1@2
  const void **v8; // r0@4
  void *v9; // r0@4
  void *v10; // r0@5
  unsigned int *v12; // r1@7
  signed int v13; // r2@8
  unsigned int *v14; // r1@11
  signed int v15; // r2@12
  unsigned int *v16; // r1@15
  signed int v17; // r2@16
  int v18; // [sp+8h] [bp-78h]@2
  int v19; // [sp+Ch] [bp-74h]@2
  int v20; // [sp+14h] [bp-6Ch]@1
  char v21; // [sp+18h] [bp-68h]@1
  int v22; // [sp+1Ch] [bp-64h]@1
  int v23; // [sp+60h] [bp-20h]@1
  int v24; // [sp+64h] [bp-1Ch]@1

  v3 = a3;
  v4 = a1;
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::response *)&v21, a3);
  sub_21E94B4((void **)&v20, "Sec-WebSocket-Key3");
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
    (int)&v23,
    (int)&v22,
    &v20);
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
    v23,
    v24);
  v5 = (void *)(v20 - 12);
  if ( (int *)(v20 - 12) != &dword_28898C0 )
  {
    v12 = (unsigned int *)(v20 - 4);
    __dmb();
    do
      v13 = __ldrex(v12);
    while ( __strex(v13 - 1, v12) );
    if ( v13 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  }
  j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v19, (int)&v21);
  sub_21E94B4((void **)&v18, "Sec-WebSocket-Key3");
  v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         (int)v3 + 4,
         &v18);
  v7 = (const void **)(v6 + 20);
  if ( (const websocketpp::http::parser::response *)v6 == (const websocketpp::http::parser::response *)((char *)v3 + 8) )
    v7 = (const void **)&dword_2880E54;
  v8 = sub_21E72F0((const void **)&v19, v7);
  *v4 = *v8;
  *v8 = &unk_28898CC;
  v9 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v10 = (void *)(v19 - 12);
  if ( (int *)(v19 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v19 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  return j_websocketpp::http::parser::response::~response((websocketpp::http::parser::response *)&v21);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response_error(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response_error(a1, a2);
}


int __fastcall websocketpp::client<websocketpp::config::asio_tls_client>::connect(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r8@1
  int v5; // r5@1
  int v6; // r9@1
  int v7; // r0@1
  unsigned int *v8; // r0@2
  unsigned int v9; // r1@3
  int v10; // r0@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  int v13; // r7@9
  unsigned int *v14; // r0@10
  unsigned int v15; // r1@11
  _DWORD *v16; // r0@13
  int v17; // r1@13
  int v18; // r6@15
  unsigned int *v19; // r0@16
  unsigned int v20; // r1@17
  unsigned int *v21; // r5@19
  unsigned int v22; // r0@20
  int v23; // r6@23
  unsigned int *v24; // r0@24
  unsigned int v25; // r1@25
  unsigned int *v26; // r5@27
  unsigned int v27; // r0@28
  int result; // r0@31
  _DWORD *v29; // [sp+0h] [bp-40h]@13
  void (*v30)(void); // [sp+8h] [bp-38h]@13
  unsigned int *(__fastcall *v31)(unsigned __int64 **, int); // [sp+Ch] [bp-34h]@13
  int v32; // [sp+10h] [bp-30h]@5
  int v33; // [sp+14h] [bp-2Ch]@5
  int v34; // [sp+18h] [bp-28h]@1
  int v35; // [sp+1Ch] [bp-24h]@1

  v3 = a3;
  v4 = a1;
  v5 = *(_DWORD *)a3;
  v6 = a2;
  v34 = *(_DWORD *)a3;
  v7 = *(_DWORD *)(a3 + 4);
  v35 = v7;
  if ( v7 )
  {
    v8 = (unsigned int *)(v7 + 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 + 1, v8) );
    v5 = *(_DWORD *)a3;
  }
  v32 = *(_DWORD *)(v5 + 19208);
  v10 = *(_DWORD *)(v5 + 19212);
  v33 = v10;
  if ( v10 )
    v11 = (unsigned int *)(v10 + 4);
      v12 = __ldrex(v11);
    while ( __strex(v12 + 1, v11) );
  v13 = *(_DWORD *)(a3 + 4);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 + 1, v14) );
  v16 = j_operator new(0x14u);
  *v16 = websocketpp::client<websocketpp::config::asio_tls_client>::handle_connect;
  v16[1] = 0;
  v17 = (int)(v16 + 2);
  *(_DWORD *)v17 = v5;
  *(_DWORD *)(v17 + 4) = v13;
  *(_DWORD *)(v17 + 8) = v6;
  v29 = v16;
  v30 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::client<websocketpp::config::asio_tls_client>::*)(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::error_code const&)> ()(websocketpp::client<websocketpp::config::asio_tls_client>*,std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
  v31 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::client<websocketpp::config::asio_tls_client>::*)(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::error_code const&)> ()(websocketpp::client<websocketpp::config::asio_tls_client>*,std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::async_connect(
    v6,
    (int)&v34,
    &v32,
    (int)&v29);
  if ( v30 )
    v30();
  v18 = v33;
  if ( v33 )
    v19 = (unsigned int *)(v33 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 == 1 )
    {
      v21 = (unsigned int *)(v18 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
      __dmb();
      do
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      if ( v22 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
    }
  v23 = v35;
  if ( v35 )
    v24 = (unsigned int *)(v35 + 4);
      v25 = __ldrex(v24);
    while ( __strex(v25 - 1, v24) );
    if ( v25 == 1 )
      v26 = (unsigned int *)(v23 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v23 + 8))(v23);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v23 + 12))(v23);
  *(_DWORD *)v4 = *(_DWORD *)v3;
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = 0;
  *(_DWORD *)(v4 + 4) = result;
  *(_DWORD *)v3 = 0;
  return result;
}


websocketpp::http::parser::request *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_data::proxy_data(websocketpp::http::parser::request *a1)
{
  websocketpp::http::parser::request *v1; // r4@1
  int v2; // r2@1
  __int64 v3; // r6@1
  __int64 v4; // kr00_8@1

  v1 = a1;
  j_websocketpp::http::parser::request::request(a1);
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::request *)((char *)v1 + 68));
  v2 = (int)v1 + 140;
  *(_DWORD *)v2 = &unk_28898CC;
  *(_DWORD *)(v2 + 4) = &off_26D40A8;
  *(_DWORD *)(v2 + 8) = 0;
  *((_DWORD *)v1 + 38) = 0;
  *((_DWORD *)v1 + 39) = 0;
  *((_DWORD *)v1 + 40) = 0;
  *((_DWORD *)v1 + 41) = 0;
  *((_DWORD *)v1 + 42) = 0;
  sub_21C9520((unsigned int **)v1 + 43);
  *((_DWORD *)v1 + 36) = &off_276C278;
  *((_DWORD *)v1 + 44) = -1;
  *((_DWORD *)v1 + 45) = 0;
  *((_DWORD *)v1 + 46) = 0;
  *((_DWORD *)v1 + 47) = 0;
  LODWORD(v3) = j_operator new(0x80u);
  v4 = *(_QWORD *)((char *)v1 + 180);
  if ( HIDWORD(v4) != (_DWORD)v4 )
    j___aeabi_memmove_1(v3, v4);
  HIDWORD(v3) = HIDWORD(v4) - v4 + v3;
  j___aeabi_memclr_1(SHIDWORD(v3), 128);
  HIDWORD(v3) += 128;
  if ( (_DWORD)v4 )
    j_operator delete((void *)v4);
  *(_QWORD *)((char *)v1 + 180) = v3;
  *((_DWORD *)v1 + 47) = v3 + 128;
  *((_DWORD *)v1 + 37) = v3;
  *((_DWORD *)v1 + 38) = v3;
  *((_DWORD *)v1 + 39) = v3;
  *((_DWORD *)v1 + 40) = v3;
  *((_DWORD *)v1 + 41) = v3;
  *((_DWORD *)v1 + 42) = v3 + 128;
  *((_DWORD *)v1 + 48) = 5000;
  *((_DWORD *)v1 + 49) = 0;
  *((_DWORD *)v1 + 50) = 0;
  return v1;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::connection(int a1, char a2, pthread_mutex_t *a3, int a4)
{
  int v4; // r4@1
  int v5; // r10@1
  pthread_mutex_t *v6; // r11@1
  char v7; // r7@1
  int v8; // r0@1

  v4 = a1;
  *(_DWORD *)(a1 + 40) = 0;
  v5 = a4;
  v6 = a3;
  v7 = a2;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  v8 = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v4 + 28) = 0;
  *(_DWORD *)(v4 + 32) = 0;
  *(_DWORD *)(v4 + 20) = 0;
  *(_DWORD *)(v4 + 24) = 0;
  *(_DWORD *)(v4 + 12) = 0;
  *(_DWORD *)(v4 + 16) = 0;
  *(_DWORD *)(v4 + 44) = v8;
  *(_DWORD *)(v4 + 48) = 0;
  *(_DWORD *)(v4 + 52) = 0;
  *(_DWORD *)(v4 + 64) = 0;
  *(_DWORD *)(v4 + 80) = 0;
  *(_BYTE *)(v4 + 88) = v7;
  *(_DWORD *)(v4 + 92) = v6;
  *(_DWORD *)(v4 + 96) = v5;
  *(_DWORD *)(v4 + 100) = &unk_28898CC;
  *(_DWORD *)(v4 + 104) = 0;
  *(_DWORD *)(v4 + 108) = 0;
  *(_DWORD *)(v4 + 152) = 0;
  *(_DWORD *)(v4 + 168) = 0;
  *(_BYTE *)(v4 + 1200) = 0;
  *(_BYTE *)(v4 + 2232) = 0;
  *(_DWORD *)(v4 + 2248) = 0;
  *(_DWORD *)(v4 + 2264) = 0;
  *(_DWORD *)(v4 + 2280) = 0;
  *(_DWORD *)(v4 + 2296) = 0;
  *(_DWORD *)(v4 + 2312) = 0;
  *(_DWORD *)(v4 + 140) = 0;
  *(_DWORD *)(v4 + 132) = 0;
  *(_DWORD *)(v4 + 136) = 0;
  *(_DWORD *)(v4 + 124) = 0;
  *(_DWORD *)(v4 + 128) = 0;
  *(_DWORD *)(v4 + 116) = 0;
  *(_DWORD *)(v4 + 120) = 0;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    v6,
    1024,
    "asio con transport constructor");
  return v4;
}


void __fastcall websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request>(int a1, int a2, int *a3)
{
  websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request>(a1, a2, a3);
}


unsigned int __fastcall websocketpp::close::extract_code(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r5@1
  int v4; // r0@1
  int v5; // r1@1
  unsigned int v6; // r5@2
  char v7; // r0@4
  unsigned int v8; // r0@9
  char v9; // r0@11
  bool v10; // zf@16
  char v11; // r0@20

  v2 = a2;
  v3 = a1;
  v4 = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)v2 = 0;
  *(_DWORD *)(v2 + 4) = v4;
  v5 = *(_DWORD *)(*(_DWORD *)v3 - 12);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      v7 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v7 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
      v6 = 1002;
      *(_DWORD *)v2 = 10;
      *(_DWORD *)(v2 + 4) = &websocketpp::error::get_category(void)::instance;
    }
    else
      v6 = __rev(**(_BYTE **)v3 | (*(_BYTE *)(*(_DWORD *)v3 + 1) << 8)) >> 16;
      if ( ((v6 - 1000) & 0xFFE0) >> 5 > 0x7C
        || (v8 = (unsigned __int16)(v6 - 1005), v8 <= 0xA) && (1 << (v6 + 19)) & 0x403 )
        v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
        __dmb();
        if ( !(v9 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        {
          websocketpp::error::get_category(void)::instance = &off_276CE14;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
        }
        *(_DWORD *)v2 = 12;
        *(_DWORD *)(v2 + 4) = &websocketpp::error::get_category(void)::instance;
      if ( (unsigned __int16)(v6 - 1016) < 0x7C0u )
        goto LABEL_27;
      v10 = v6 == 1014;
      if ( v6 != 1014 )
        v10 = v6 == 1004;
      if ( v10 )
LABEL_27:
        v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v11 & 1)
        *(_DWORD *)v2 = 11;
  }
  else
    v6 = 1005;
  return v6;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_shutdown(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r11@1
  pthread_mutex_t *v4; // r0@1
  void (*v5)(void); // r3@3
  void (*v6)(void); // r3@5
  void (*v7)(void); // r3@7
  void (*v8)(void); // r3@9
  void (*v9)(void); // r3@11
  int v10; // r4@13
  unsigned int v11; // r0@14
  unsigned int *v12; // r6@14
  unsigned int v13; // r1@15
  int v14; // r8@18
  unsigned int v15; // r0@21
  unsigned int v16; // r0@23
  unsigned int *v17; // r7@25
  unsigned int v18; // r0@26
  int v19; // r7@29
  void (__fastcall *v20)(int *, int, signed int); // r3@29
  _QWORD *v21; // r0@31
  int v22; // r1@31
  __int64 v23; // kr00_8@31
  int v24; // r7@33
  unsigned int *v25; // r0@34
  unsigned int v26; // r1@35
  unsigned int *v27; // r6@37
  unsigned int v28; // r0@38
  int v29; // r7@41
  unsigned int *v30; // r0@42
  unsigned int v31; // r1@43
  unsigned int *v32; // r6@45
  unsigned int v33; // r0@46
  int v34; // r10@51
  unsigned int v35; // r0@52
  unsigned int *v36; // r6@52
  unsigned int v37; // r1@53
  int v38; // r8@56
  unsigned int v39; // r0@59
  unsigned int v40; // r0@61
  unsigned int *v41; // r7@63
  unsigned int v42; // r0@64
  void (__fastcall *v43)(int *, int, signed int); // r3@67
  unsigned int *v44; // r0@70
  unsigned int v45; // r1@71
  _QWORD *v46; // r0@73
  int (*v47)(void); // r1@73
  __int64 v48; // r2@73
  int v49; // r1@73
  unsigned int *result; // r0@73
  int v51; // r5@75
  unsigned int v52; // r1@77
  unsigned int *v53; // r6@79
  int v54; // r5@83
  unsigned int v55; // r1@85
  unsigned int *v56; // r6@87
  unsigned int v57; // r1@95
  unsigned int *v58; // r5@97
  int v59; // [sp+8h] [bp-98h]@68
  int (*v60)(void); // [sp+10h] [bp-90h]@67
  int v61; // [sp+14h] [bp-8Ch]@68
  __int64 v62; // [sp+18h] [bp-88h]@69
  int v63; // [sp+20h] [bp-80h]@73
  int v64; // [sp+24h] [bp-7Ch]@73
  _QWORD *v65; // [sp+28h] [bp-78h]@73
  int (*v66)(void); // [sp+30h] [bp-70h]@73
  RakNet *(__fastcall *v67)(int, int, int, signed int *); // [sp+38h] [bp-68h]@29
  int v68; // [sp+3Ch] [bp-64h]@29
  int v69; // [sp+40h] [bp-60h]@30
  void (__fastcall *v70)(int *); // [sp+48h] [bp-58h]@29
  int v71; // [sp+4Ch] [bp-54h]@30
  int v72; // [sp+50h] [bp-50h]@31
  int v73; // [sp+54h] [bp-4Ch]@31
  int v74; // [sp+58h] [bp-48h]@31
  int v75; // [sp+5Ch] [bp-44h]@31
  _QWORD *v76; // [sp+64h] [bp-3Ch]@31
  void (__fastcall *v77)(_DWORD); // [sp+6Ch] [bp-34h]@31
  unsigned int *(__fastcall *v78)(unsigned __int64 **, int); // [sp+70h] [bp-30h]@31
  char v79; // [sp+74h] [bp-2Ch]@31
  int v80; // [sp+78h] [bp-28h]@31

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection async_shutdown");
  v5 = *(void (**)(void))(v2 + 2296);
  if ( v5 )
  {
    v5();
    *(_DWORD *)(v2 + 2296) = 0;
    *(_DWORD *)(v2 + 2300) = 0;
  }
  v6 = *(void (**)(void))(v2 + 2312);
  if ( v6 )
    v6();
    *(_DWORD *)(v2 + 2312) = 0;
    *(_DWORD *)(v2 + 2316) = 0;
  v7 = *(void (**)(void))(v2 + 2280);
  if ( v7 )
    v7();
    *(_DWORD *)(v2 + 2280) = 0;
    *(_DWORD *)(v2 + 2284) = 0;
  v8 = *(void (**)(void))(v2 + 2248);
  if ( v8 )
    v8();
    *(_DWORD *)(v2 + 2248) = 0;
    *(_DWORD *)(v2 + 2252) = 0;
  v9 = *(void (**)(void))(v2 + 2264);
  if ( v9 )
    v9();
    *(_DWORD *)(v2 + 2264) = 0;
    *(_DWORD *)(v2 + 2268) = 0;
  v10 = *(_DWORD *)(v2 + 4);
  if ( !v10 )
    j_std::__throw_bad_weak_ptr();
  v11 = *(_DWORD *)(v10 + 4);
  v12 = (unsigned int *)(v10 + 4);
  do
    v13 = v11;
    if ( !v11 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v11 = __ldrex(v12);
  while ( v11 != v13 || __strex(v13 + 1, v12) );
  __dmb();
  v14 = *(_DWORD *)v2;
    v15 = __ldrex(v12);
  while ( __strex(v15 + 1, v12) );
    v16 = __ldrex(v12);
  while ( __strex(v16 - 1, v12) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v10 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  v19 = 0;
  v67 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_shutdown_timeout;
  v68 = 0;
  v70 = 0;
  v20 = *(void (__fastcall **)(int *, int, signed int))(v3 + 8);
  if ( v20 )
    v20(&v69, v3, 2);
    v71 = *(_DWORD *)(v3 + 12);
    v19 = *(_DWORD *)(v3 + 8);
    v70 = *(void (__fastcall **)(int *))(v3 + 8);
  v72 = 0;
  v73 = 0;
  v74 = v14;
  v75 = v10;
  v77 = 0;
  v21 = j_operator new(0x28u);
  *v21 = *(_QWORD *)&v67;
  v21[1] = *(_QWORD *)&v69;
  v22 = v71;
  *((_DWORD *)v21 + 4) = v19;
  *((_DWORD *)v21 + 5) = v22;
  *((_DWORD *)v21 + 6) = 0;
  *((_DWORD *)v21 + 7) = 0;
  *((_DWORD *)v21 + 8) = v14;
  v75 = 0;
  *((_DWORD *)v21 + 9) = v10;
  v74 = 0;
  v76 = v21;
  v77 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v78 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
    (int)&v79,
    v2,
    5000,
    (int)&v76);
  v23 = *(_QWORD *)&v79;
  *(_DWORD *)&v79 = 0;
  v80 = 0;
  if ( v77 )
    v77(&v76);
  v24 = v75;
  if ( v75 )
    v25 = (unsigned int *)(v75 + 4);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 == 1 )
    {
      v27 = (unsigned int *)(v24 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
      __dmb();
      do
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
    }
  v29 = v73;
  if ( v73 )
    v30 = (unsigned int *)(v73 + 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 == 1 )
      v32 = (unsigned int *)(v29 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
  if ( v70 )
    v70(&v69);
  v34 = *(_DWORD *)(v2 + 4);
  if ( !v34 )
  v35 = *(_DWORD *)(v34 + 4);
  v36 = (unsigned int *)(v34 + 4);
    v37 = v35;
    if ( !v35 )
    v35 = __ldrex(v36);
  while ( v35 != v37 || __strex(v37 + 1, v36) );
  v38 = *(_DWORD *)v2;
    v39 = __ldrex(v36);
  while ( __strex(v39 + 1, v36) );
    v40 = __ldrex(v36);
  while ( __strex(v40 - 1, v36) );
  if ( v40 == 1 )
    v41 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v42 = __ldrex(v41);
    while ( __strex(v42 - 1, v41) );
    if ( v42 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v60 = 0;
  v43 = *(void (__fastcall **)(int *, int, signed int))(v3 + 8);
  if ( v43 )
    v43(&v59, v3, 2);
    v61 = *(_DWORD *)(v3 + 12);
    v60 = *(int (**)(void))(v3 + 8);
  v62 = v23;
  if ( HIDWORD(v23) )
    v44 = (unsigned int *)(HIDWORD(v23) + 4);
      v45 = __ldrex(v44);
    while ( __strex(v45 + 1, v44) );
  v63 = v38;
  v64 = v34;
  v66 = 0;
  v46 = j_operator new(0x28u);
  *v46 = (unsigned int)websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_shutdown;
  v46[1] = *(_QWORD *)&v59;
  v47 = v60;
  *((_DWORD *)v46 + 4) = v47;
  HIDWORD(v48) = std::_Function_handler<void ()(boost::system::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  *((_DWORD *)v46 + 5) = v61;
  *((_DWORD *)v46 + 6) = v62;
  v49 = HIDWORD(v62);
  LODWORD(v48) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  HIDWORD(v62) = 0;
  *((_DWORD *)v46 + 7) = v49;
  LODWORD(v62) = 0;
  *((_DWORD *)v46 + 8) = v38;
  v64 = 0;
  *((_DWORD *)v46 + 9) = v34;
  v63 = 0;
  v65 = v46;
  *(_QWORD *)&v66 = v48;
  result = (unsigned int *)j_boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>::async_shutdown<std::function<void ()(boost::system::error_code const&)> &>(
                             *(_DWORD *)(v2 + 28),
                             (int)&v65);
  if ( v66 )
    result = (unsigned int *)v66();
  v51 = v64;
  if ( v64 )
    result = (unsigned int *)(v64 + 4);
      v52 = __ldrex(result);
    while ( __strex(v52 - 1, result) );
    if ( v52 == 1 )
      v53 = (unsigned int *)(v51 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v51 + 8))(v51);
        result = (unsigned int *)__ldrex(v53);
      while ( __strex((unsigned int)result - 1, v53) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v51 + 12))(v51);
  v54 = HIDWORD(v62);
  if ( HIDWORD(v62) )
    result = (unsigned int *)(HIDWORD(v62) + 4);
      v55 = __ldrex(result);
    while ( __strex(v55 - 1, result) );
    if ( v55 == 1 )
      v56 = (unsigned int *)(v54 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 8))(v54);
        result = (unsigned int *)__ldrex(v56);
      while ( __strex((unsigned int)result - 1, v56) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v54 + 12))(v54);
  if ( v60 )
    result = (unsigned int *)v60();
    result = (unsigned int *)(HIDWORD(v23) + 4);
      v57 = __ldrex(result);
    while ( __strex(v57 - 1, result) );
    if ( v57 == 1 )
      v58 = (unsigned int *)(HIDWORD(v23) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v23) + 8))(HIDWORD(v23));
        result = (unsigned int *)__ldrex(v58);
      while ( __strex((unsigned int)result - 1, v58) );
        result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v23) + 12))(HIDWORD(v23));
  return result;
}


void __fastcall websocketpp::processor::hybi07<websocketpp::config::asio_tls_client>::~hybi07(void *ptr)
{
  websocketpp::processor::hybi07<websocketpp::config::asio_tls_client>::~hybi07(ptr);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_read(int a1, _DWORD *a2, int a3)
{
  _DWORD *v3; // r6@1
  int v4; // r5@1
  int v5; // r4@1
  char v6; // r0@3
  char v7; // r0@7
  char v8; // r0@10
  bool v9; // zf@13
  RakNet *result; // r0@19
  int v11; // [sp+0h] [bp-28h]@1
  void *v12; // [sp+4h] [bp-24h]@1

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 48),
    1024,
    "asio con handle_async_read");
  v11 = 0;
  v12 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v3 )
  {
    if ( *v3 == 2 )
    {
      v6 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v6 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v11 = 7;
      v12 = &websocketpp::transport::error::get_category(void)::instance;
    }
    else
      v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      if ( !(v7 & 1)
      v11 = 2;
      v8 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      if ( !(v8 & 1)
      v9 = v12 == &websocketpp::transport::error::get_category(void)::instance;
      if ( v12 == &websocketpp::transport::error::get_category(void)::instance )
        v9 = v11 == 2;
      if ( v9 )
        j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
          v4,
          4,
          "asio async_read_at_least",
          v3);
  }
  if ( *(_DWORD *)(v4 + 2208) )
    result = (RakNet *)(*(int (__fastcall **)(int, int *, int))(v4 + 2212))(v4 + 2200, &v11, v5);
  else
    result = j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 48),
               1024,
               "handle_async_read called with null read handler");
  return result;
}


int __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init(int a1, int a2, int a3)
{
  int v3; // lr@0
  int v4; // r6@1
  int v5; // r7@1
  int v6; // r9@1
  __int64 v7; // r2@1
  int v8; // r0@1
  unsigned int *v9; // r0@2
  unsigned int v10; // r1@3
  unsigned int *v11; // r0@5
  int v12; // r5@5
  unsigned int v13; // r1@7
  unsigned int *v14; // r4@9
  int v15; // r8@13
  int v16; // r12@13
  __int64 v17; // r0@13
  int v18; // r5@15
  void (__fastcall *v19)(AABB *, const Vec3 *, int); // r3@15
  int v20; // r4@16
  int *v21; // r10@16
  void (*v22)(void); // r1@17
  __int64 v23; // r2@20
  int v24; // r5@24
  __int64 *v25; // r6@25
  __int64 *v26; // r0@25
  int *v27; // r10@25
  void (*v28)(void); // r1@26
  void (*v29)(void); // r3@29
  int v31; // [sp+0h] [bp-78h]@25
  void (*v32)(void); // [sp+8h] [bp-70h]@24
  __int64 *v33; // [sp+Ch] [bp-6Ch]@25
  char v34; // [sp+10h] [bp-68h]@16
  void (*v35)(void); // [sp+18h] [bp-60h]@15
  int v36; // [sp+1Ch] [bp-5Ch]@16
  int v37; // [sp+20h] [bp-58h]@13
  int v38; // [sp+24h] [bp-54h]@14
  char v39; // [sp+28h] [bp-50h]@5
  int v40; // [sp+30h] [bp-48h]@1
  int v41; // [sp+34h] [bp-44h]@1
  __int64 v42; // [sp+38h] [bp-40h]@17
  void (*v43)(void); // [sp+40h] [bp-38h]@16
  int v44; // [sp+44h] [bp-34h]@17
  __int64 v45; // [sp+48h] [bp-30h]@25
  void (*v46)(void); // [sp+50h] [bp-28h]@25
  __int64 *v47; // [sp+54h] [bp-24h]@26

  v4 = a2;
  v5 = a3;
  v6 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 108),
    1024,
    "transport::asio::init");
  v40 = *(_DWORD *)v5;
  v8 = *(_DWORD *)(v5 + 4);
  v41 = v8;
  if ( v8 )
  {
    v9 = (unsigned int *)(v8 + 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 + 1, v9) );
  }
  LODWORD(v7) = &v40;
  v11 = (unsigned int *)j_websocketpp::transport::asio::tls_socket::endpoint::init((int)&v39, v4, v7);
  v12 = v41;
  if ( v41 )
    v11 = (unsigned int *)(v41 + 4);
      v13 = __ldrex(v11);
    while ( __strex(v13 - 1, v11) );
    if ( v13 == 1 )
    {
      v14 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
      __dmb();
      do
        v11 = (unsigned int *)__ldrex(v14);
      while ( __strex((unsigned int)v11 - 1, v14) );
      if ( v11 == (unsigned int *)1 )
        v11 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
    }
  v15 = ((int (__fastcall *)(unsigned int *))byte_21E9640)(v11);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init_asio(
    &v37,
    *(_DWORD *)v5,
    *(_DWORD *)(v4 + 64));
  LODWORD(v17) = v37;
  if ( v37 )
    HIDWORD(v17) = v38;
    *(_QWORD *)v6 = v17;
    return v17;
  v18 = *(_DWORD *)v5;
  v35 = 0u;
  v19 = *(void (__fastcall **)(AABB *, const Vec3 *, int))(v4 + 40);
  if ( v19 )
    v19((AABB *)&v34, (const Vec3 *)(v4 + 32), 2);
    v20 = v18 + 144;
    v36 = *(_DWORD *)(v4 + 44);
    v19 = *(void (__fastcall **)(AABB *, const Vec3 *, int))(v4 + 40);
    v43 = 0;
    v21 = (int *)&v43;
    v35 = (void (*)(void))v19;
    if ( v19 )
      v19((AABB *)&v42, (const Vec3 *)&v34, 2);
      v16 = v36;
      v22 = v35;
      v44 = v36;
      v43 = v35;
      v19 = (void (__fastcall *)(AABB *, const Vec3 *, int))HIDWORD(v42);
      v3 = v42;
      goto LABEL_20;
  else
    v43 = 0u;
  v22 = 0;
LABEL_20:
  LODWORD(v23) = *(_QWORD *)v20 >> 32;
  v42 = *(_QWORD *)v20;
  *(_DWORD *)v20 = v3;
  *(_DWORD *)(v20 + 4) = v19;
  HIDWORD(v23) = *(_DWORD *)(v18 + 152);
  *v21 = HIDWORD(v23);
  *(_DWORD *)(v18 + 152) = v22;
  v44 = *(_DWORD *)(v18 + 156);
  *(_DWORD *)(v18 + 156) = v16;
  if ( HIDWORD(v23) )
    ((void (*)(void))HIDWORD(v23))();
  if ( v35 )
    v35();
  v24 = *(_DWORD *)v5;
  v32 = 0u;
  HIDWORD(v23) = *(_DWORD *)(v4 + 56);
  if ( !HIDWORD(v23) )
    v46 = 0u;
    v26 = &v45;
    v27 = (int *)&v46;
    v25 = (__int64 *)(v24 + 160);
    goto LABEL_28;
  ((void (__fastcall *)(RakNet::SystemAddress *))HIDWORD(v23))((RakNet::SystemAddress *)&v31);
  v33 = *(__int64 **)(v4 + 60);
  v25 = (__int64 *)(v24 + 160);
  v46 = 0;
  v26 = &v45;
  v27 = (int *)&v46;
  v32 = (void (*)(void))HIDWORD(v23);
LABEL_28:
    v28 = 0;
    goto LABEL_29;
  ((void (__fastcall *)(RakNet::SystemAddress *))HIDWORD(v23))((RakNet::SystemAddress *)&v45);
  v26 = v33;
  v28 = v32;
  v47 = v33;
  v46 = v32;
  v23 = v45;
LABEL_29:
  v45 = *v25;
  *v25 = v23;
  v29 = *(void (**)(void))(v24 + 168);
  *v27 = (int)v29;
  *(_DWORD *)(v24 + 168) = v28;
  v47 = *(__int64 **)(v24 + 172);
  *(_DWORD *)(v24 + 172) = v26;
  if ( v29 )
    v29();
  if ( v32 )
    v32();
  LODWORD(v17) = 0;
  *(_DWORD *)v6 = 0;
  *(_DWORD *)(v6 + 4) = v15;
  return v17;
}


int __fastcall websocketpp::transport::asio::basic_socket::connection::pre_init(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r4@1
  __int64 v4; // kr00_8@3
  unsigned int *v5; // r0@4
  unsigned int v6; // r2@5
  char v7; // r0@8
  int (__fastcall *v8)(int, int *); // r2@12
  int *v9; // r1@12
  int v10; // r2@13
  void (__fastcall *v11)(int, __int64 *, int); // r3@13
  unsigned int v12; // r1@14
  int v13; // r0@17
  unsigned int *v14; // r1@18
  unsigned int v15; // r2@19
  unsigned int *v16; // r0@23
  unsigned int v17; // r1@24
  int v19; // [sp+4h] [bp-2Ch]@27
  int v20; // [sp+8h] [bp-28h]@27
  int v21; // [sp+Ch] [bp-24h]@11
  void *v22; // [sp+10h] [bp-20h]@11
  __int64 v23; // [sp+14h] [bp-1Ch]@13

  v2 = a1;
  v3 = a2;
  if ( *(_DWORD *)(a1 + 16) == 1 )
  {
    if ( *(_DWORD *)(a1 + 36) )
    {
      v4 = *(_QWORD *)(a1 + 20);
      if ( HIDWORD(v4) )
      {
        v5 = (unsigned int *)(HIDWORD(v4) + 8);
        __dmb();
        do
          v6 = __ldrex(v5);
        while ( __strex(v6 + 1, v5) );
        if ( !*(_DWORD *)(v2 + 36) )
          sub_21E5F48();
        v10 = *(_DWORD *)(v2 + 8);
        v11 = *(void (__fastcall **)(int, __int64 *, int))(v2 + 40);
        v23 = v4;
          v12 = __ldrex(v5);
        while ( __strex(v12 + 1, v5) );
      }
      else
        v10 = *(_DWORD *)(a1 + 8);
        v11 = *(void (__fastcall **)(int, __int64 *, int))(a1 + 40);
        v23 = (unsigned int)v4;
      v11(v2 + 28, &v23, v10);
      v13 = HIDWORD(v23);
      if ( HIDWORD(v23) )
        v14 = (unsigned int *)(HIDWORD(v23) + 8);
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 == 1 )
          (*(void (**)(void))(*(_DWORD *)v13 + 12))();
        v16 = (unsigned int *)(HIDWORD(v4) + 8);
          v17 = __ldrex(v16);
        while ( __strex(v17 - 1, v16) );
        if ( v17 == 1 )
          (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v4) + 12))(HIDWORD(v4));
    }
    *(_DWORD *)(v2 + 16) = 2;
    v19 = 0;
    v20 = ((int (*)(void))byte_21E9640)();
    if ( *(_DWORD *)(v3 + 8) )
      v8 = *(int (__fastcall **)(int, int *))(v3 + 12);
      v9 = &v19;
      return v8(v3, v9);
LABEL_30:
    sub_21E5F48();
  }
  v7 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  __dmb();
  if ( !(v7 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance) )
    websocketpp::transport::asio::socket::get_socket_category(void)::instance = &off_276D2A0;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance);
  v21 = 3;
  v22 = &websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  if ( !*(_DWORD *)(v3 + 8) )
    goto LABEL_30;
  v8 = *(int (__fastcall **)(int, int *))(v3 + 12);
  v9 = &v21;
  return v8(v3, v9);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_server_handshake_response(int a1, int a2, int a3, int a4)
{
  int v4; // r6@1
  int v5; // r7@1
  int v6; // r5@1
  int v7; // r4@1
  int v8; // r0@2
  int v9; // r8@2
  int *v10; // r9@2
  void *v11; // r0@4
  int v12; // r7@5
  unsigned int **v13; // r0@5
  _BYTE *v14; // r6@5
  int v15; // r5@5
  int v16; // r4@5
  int v17; // r0@6
  int *v18; // r5@6
  bool v19; // zf@6
  int *v20; // r0@6
  unsigned int **v21; // r0@9
  _BYTE *v22; // r6@9
  int v23; // r4@9
  int v24; // r5@9
  int v25; // r0@10
  int *v26; // r1@10
  void *v27; // r0@12
  int v28; // r0@14
  const void **v29; // r3@14
  size_t v30; // r2@16
  signed int v31; // r5@17
  char v32; // r0@18
  char v33; // r0@22
  int (__fastcall **v34)(_DWORD); // r0@25
  char v35; // r0@26
  int v36; // r0@30
  void *v37; // r0@32
  char v38; // r0@34
  char *v39; // r0@39
  unsigned int *v40; // r1@41
  signed int v41; // r2@42
  unsigned int *v42; // r1@45
  signed int v43; // r2@46
  unsigned int *v44; // r1@49
  signed int v45; // r2@50
  unsigned int *v46; // r1@53
  signed int v47; // r2@54
  unsigned int *v48; // r1@57
  signed int v49; // r2@58
  int v50; // [sp+8h] [bp-68h]@5
  int v51; // [sp+Ch] [bp-64h]@2
  int v52; // [sp+10h] [bp-60h]@2
  int v53; // [sp+18h] [bp-58h]@14
  int v54; // [sp+1Ch] [bp-54h]@13
  int v55; // [sp+28h] [bp-48h]@10
  void *s1; // [sp+2Ch] [bp-44h]@12
  char v57; // [sp+30h] [bp-40h]@9
  int v58; // [sp+38h] [bp-38h]@6
  char v59; // [sp+3Ch] [bp-34h]@5
  int v60; // [sp+44h] [bp-2Ch]@2

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *(_DWORD *)(a4 + 64) == 101 )
  {
    v52 = a1;
    sub_21E94B4((void **)&v60, "Upgrade");
    v51 = v4 + 4;
    v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           v4 + 4,
           &v60);
    v9 = v4 + 8;
    v10 = (int *)(v8 + 20);
    if ( v8 == v4 + 8 )
      v10 = &dword_2880E54;
    v11 = (void *)(v60 - 12);
    if ( (int *)(v60 - 12) != &dword_28898C0 )
    {
      v40 = (unsigned int *)(v60 - 4);
      __dmb();
      do
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    }
    v12 = v6;
    v50 = v7;
    v13 = sub_21C9520((unsigned int **)&v59);
    v14 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
            *v10,
            (_BYTE *)(*(_DWORD *)(*v10 - 12) + *v10),
            "websocket",
            "",
            (int)v13);
    v15 = *v10;
    v16 = *(_DWORD *)(*v10 - 12);
    sub_21C802C((unsigned int **)&v59);
    if ( v14 == (_BYTE *)(v15 + v16) )
      v33 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v33 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
      v34 = &GLOBAL_OFFSET_TABLE_;
    else
      sub_21E94B4((void **)&v58, "Connection");
      v17 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v51,
              &v58);
      v18 = (int *)(v17 + 20);
      v19 = v17 == v9;
      v20 = (int *)(v58 - 12);
      if ( v19 )
        v18 = &dword_2880E54;
      if ( v20 != &dword_28898C0 )
        v42 = (unsigned int *)(v58 - 4);
        __dmb();
        do
          v43 = __ldrex(v42);
        while ( __strex(v43 - 1, v42) );
        if ( v43 <= 0 )
          j_j_j_j__ZdlPv_9(v20);
      v21 = sub_21C9520((unsigned int **)&v57);
      v22 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
              *v18,
              (_BYTE *)(*(_DWORD *)(*v18 - 12) + *v18),
              "upgrade",
              "",
              (int)v21);
      v23 = *v18;
      v24 = *(_DWORD *)(*v18 - 12);
      sub_21C802C((unsigned int **)&v57);
      if ( v22 != (_BYTE *)(v23 + v24) )
        sub_21E94B4((void **)&v55, "Sec-WebSocket-Key");
        v25 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v12 + 4,
                &v55);
        v26 = (int *)(v25 + 20);
        if ( v25 == v12 + 8 )
          v26 = &dword_2880E54;
        sub_21E8AF4((int *)&s1, v26);
        v27 = (void *)(v55 - 12);
        if ( (int *)(v55 - 12) != &dword_28898C0 )
        {
          v44 = (unsigned int *)(v55 - 4);
          __dmb();
          do
            v45 = __ldrex(v44);
          while ( __strex(v45 - 1, v44) );
          if ( v45 <= 0 )
            j_j_j_j__ZdlPv_9(v27);
        }
        j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake_key(
          (int)&v54,
          v50,
          (const void **)&s1);
        if ( v54 )
          goto LABEL_63;
        sub_21E94B4((void **)&v53, "Sec-WebSocket-Accept");
        v28 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v51,
                &v53);
        v29 = (const void **)(v28 + 20);
        if ( v28 == v9 )
          v29 = (const void **)&dword_2880E54;
        v30 = *((_DWORD *)s1 - 3);
        if ( v30 == *((_DWORD *)*v29 - 3) )
          v31 = j_memcmp_1(s1, *v29, v30) != 0;
        else
          v31 = 1;
        v37 = (void *)(v53 - 12);
        if ( (int *)(v53 - 12) != &dword_28898C0 )
          v48 = (unsigned int *)(v53 - 4);
            v49 = __ldrex(v48);
          while ( __strex(v49 - 1, v48) );
          if ( v49 <= 0 )
            j_j_j_j__ZdlPv_9(v37);
        if ( v31 == 1 )
LABEL_63:
          v38 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          if ( !(v38 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          {
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          }
          *(_DWORD *)v52 = 21;
          *(_DWORD *)(v52 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
          *(_DWORD *)v52 = 0;
          *(_DWORD *)(v52 + 4) = ((int (*)(void))byte_21E9640)();
        v39 = (char *)s1 - 12;
        if ( (int *)((char *)s1 - 12) != &dword_28898C0 )
          v46 = (unsigned int *)((char *)s1 - 4);
            v47 = __ldrex(v46);
          while ( __strex(v47 - 1, v46) );
          if ( v47 <= 0 )
            j_j_j_j__ZdlPv_9(v39);
        return;
      v35 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v35 & 1)
    v36 = *(int *)((char *)v34 + 0xFFFFF484);
    *(_DWORD *)v52 = 21;
    *(_DWORD *)(v52 + 4) = v36;
    return;
  }
  v32 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v32 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  *(_DWORD *)v5 = 20;
  *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(int a1, int a2, int a3, int a4)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(
    a1,
    a2,
    a3,
    a4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::close(int a1, int a2, int *a3, int a4)
{
  websocketpp::connection<websocketpp::config::asio_client>::close(a1, a2, a3, a4);
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::~hybi13(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = a1;
  *(_DWORD *)a1 = &off_276D5CC;
  v2 = *(_DWORD *)(a1 + 56);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = *(_DWORD *)(v1 + 36);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = *(_DWORD *)(v1 + 20);
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  return v1;
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::~hybi00(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14

  v1 = a1;
  *(_DWORD *)a1 = &off_276DA00;
  v2 = *(_DWORD *)(a1 + 32);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = *(_DWORD *)(v1 + 24);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  return v1;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(int a1, unsigned int a2, __int64 a3, int a4)
{
  int v4; // r5@1
  int v5; // r9@1
  int v6; // r10@1
  unsigned int v7; // r11@1
  pthread_mutex_t *v8; // r6@2
  void *v9; // r0@2
  void *v10; // r0@3
  int v11; // r0@7
  char v12; // r0@8
  int result; // r0@12
  void (*v14)(void); // r3@14
  int v15; // r6@18
  void (__fastcall *v16)(int *, int, signed int); // r3@18
  unsigned int *v17; // r1@25
  signed int v18; // r2@26
  unsigned int *v19; // r1@29
  signed int v20; // r2@30
  int v21; // [sp+0h] [bp-130h]@19
  int (*v22)(void); // [sp+8h] [bp-128h]@18
  int v23; // [sp+Ch] [bp-124h]@19
  char v24; // [sp+10h] [bp-120h]@20
  int (*v25)(void); // [sp+1Ch] [bp-114h]@20
  __int64 v26; // [sp+24h] [bp-10Ch]@18
  int v27; // [sp+28h] [bp-108h]@18
  int v28; // [sp+2Ch] [bp-104h]@11
  void *v29; // [sp+30h] [bp-100h]@11
  int v30; // [sp+34h] [bp-FCh]@2
  void **v31; // [sp+38h] [bp-F8h]@2
  int v32; // [sp+3Ch] [bp-F4h]@4
  void **v33; // [sp+40h] [bp-F0h]@2
  void **v34; // [sp+44h] [bp-ECh]@2
  int v35; // [sp+60h] [bp-D0h]@4
  int v36; // [sp+68h] [bp-C8h]@3
  void **v37; // [sp+6Ch] [bp-C4h]@3
  __int64 v38; // [sp+F8h] [bp-38h]@7
  void (*v39)(void); // [sp+100h] [bp-30h]@6
  int v40; // [sp+104h] [bp-2Ch]@7

  v4 = a1;
  v5 = HIDWORD(a3);
  v6 = a3;
  v7 = a2;
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 92) + 5) & 4 )
  {
    sub_21D103C((int)&v31, 24);
    sub_21CBF38((char *)&v33, (int)"asio async_read_at_least: ", 26);
    sub_21CC440((char *)&v33);
    v8 = *(pthread_mutex_t **)(v4 + 92);
    sub_21CFED8(&v30, (int)&v34);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v8, 1024, &v30);
    v9 = (void *)(v30 - 12);
    if ( (int *)(v30 - 12) != &dword_28898C0 )
    {
      v17 = (unsigned int *)(v30 - 4);
      __dmb();
      do
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    }
    v31 = &off_26D3F94;
    v37 = &off_26D3FBC;
    v33 = &off_26D3FA8;
    v34 = &off_27734E8;
    v10 = (void *)(v36 - 12);
    if ( (int *)(v36 - 12) != &dword_28898C0 )
      v19 = (unsigned int *)(v36 - 4);
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 <= 0 )
        j_j_j_j__ZdlPv_9(v10);
    v34 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v35);
    v31 = &off_276D0DC;
    v37 = &off_276D0F0;
    v32 = 0;
    sub_21B6560(&v37);
  }
  if ( *(_DWORD *)(v4 + 2296) )
    v39 = 0;
    HIDWORD(a3) = *(_DWORD *)(a4 + 8);
    if ( HIDWORD(a3) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v38, a4, 2);
      a2 = *(_DWORD *)(a4 + 12);
      v40 = *(_DWORD *)(a4 + 12);
      v11 = *(_DWORD *)(a4 + 8);
      v39 = *(void (**)(void))(a4 + 8);
      a3 = v38;
    else
      v11 = 0;
    v38 = *(_QWORD *)(v4 + 2240);
    *(_QWORD *)(v4 + 2240) = a3;
    v39 = *(void (**)(void))(v4 + 2248);
    v14 = v39;
    *(_DWORD *)(v4 + 2248) = v11;
    v40 = *(_DWORD *)(v4 + 2252);
    *(_DWORD *)(v4 + 2252) = a2;
    if ( v14 )
      v14();
      v11 = *(_DWORD *)(v4 + 2248);
    if ( !v11 )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v4 + 92),
        1024,
        "asio con async_read_at_least called with bad handler");
    v15 = *(_DWORD *)(v4 + 28);
    LODWORD(v26) = v6;
    v27 = v5;
    v22 = 0;
    v16 = *(void (__fastcall **)(int *, int, signed int))(v4 + 2296);
    if ( v16 )
      v16(&v21, v4 + 2288, 2);
      v23 = *(_DWORD *)(v4 + 2300);
      v22 = *(int (**)(void))(v4 + 2296);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v24,
      v4 + 176,
      (int)&v21);
    result = j_boost::asio::async_read<boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>,boost::asio::mutable_buffers_1,boost::asio::detail::transfer_at_least_t,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
               v15,
               &v26,
               v7,
               (int)&v24);
    if ( v25 )
      result = v25();
    if ( v22 )
      result = v22();
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v4 + 92),
      1024,
      "async_read_at_least called after async_shutdown");
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v28 = 10;
    v29 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(a4 + 8) )
      sub_21E5F48();
    result = (*(int (__fastcall **)(int, int *, _DWORD))(a4 + 12))(a4, &v28, 0);
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_uri(int a1, int a2, int a3)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_uri(a1, a2, a3);
}


void **__fastcall websocketpp::processor::error::processor_category::message(websocketpp::processor::error::processor_category *this, int a2, int a3)
{
  void **result; // r0@2

  switch ( a3 )
  {
    case 1:
      result = sub_21E94B4((void **)this, "Generic processor error");
      break;
    case 2:
      result = sub_21E94B4((void **)this, "invalid user input");
    case 3:
      result = sub_21E94B4((void **)this, "Generic protocol violation");
    case 4:
      result = sub_21E94B4((void **)this, "A message was too large");
    case 5:
      result = sub_21E94B4((void **)this, "A payload contained invalid data");
    case 6:
      result = sub_21E94B4((void **)this, "invalid function arguments");
    case 7:
      result = sub_21E94B4((void **)this, "invalid opcode");
    case 8:
      result = sub_21E94B4((void **)this, "Control messages are limited to fewer than 125 characters");
    case 9:
      result = sub_21E94B4((void **)this, "Invalid use of reserved bits");
    case 10:
      result = sub_21E94B4((void **)this, "Control messages cannot be fragmented");
    case 11:
      result = sub_21E94B4((void **)this, "Invalid message continuation");
    case 12:
      result = sub_21E94B4((void **)this, "Clients may not send unmasked frames");
    case 13:
      result = sub_21E94B4((void **)this, "Servers may not send masked frames");
    case 14:
      result = sub_21E94B4((void **)this, "Payload length was not minimally encoded");
    case 15:
      result = sub_21E94B4((void **)this, "64 bit frames are not supported on 32 bit systems");
    case 16:
      result = sub_21E94B4((void **)this, "Invalid UTF8 encoding");
    case 17:
      result = sub_21E94B4((void **)this, "Operation required not implemented functionality");
    case 18:
      result = sub_21E94B4((void **)this, "Invalid HTTP method.");
    case 19:
      result = sub_21E94B4((void **)this, "Invalid HTTP version.");
    case 20:
      result = sub_21E94B4((void **)this, "Invalid HTTP status.");
    case 21:
      result = sub_21E94B4((void **)this, "A required HTTP header is missing");
    case 22:
      result = sub_21E94B4((void **)this, "SHA-1 library error");
    case 23:
      result = sub_21E94B4((void **)this, "The WebSocket protocol version in use does not support this feature");
    case 24:
      result = sub_21E94B4((void **)this, "Reserved close code used");
    case 25:
      result = sub_21E94B4((void **)this, "Invalid close code used");
    case 26:
      result = sub_21E94B4((void **)this, "Using a close reason requires a valid close code");
    case 27:
      result = sub_21E94B4((void **)this, "Error parsing subprotocol header");
    case 28:
      result = sub_21E94B4((void **)this, "Error parsing extension header");
    case 29:
      result = sub_21E94B4((void **)this, "Extensions are disabled");
    case 30:
      result = sub_21E94B4((void **)this, "Short Hybi00 Key 3 read");
    default:
      result = sub_21E94B4((void **)this, "Unknown");
  }
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(__int64 a1, int a2)
{
  int v2; // r4@0
  int v3; // r12@0
  int v4; // lr@0
  int v5; // r8@1
  __int64 v6; // kr00_8@1
  int v7; // r5@1
  void (__fastcall *v8)(int *, int, signed int); // r3@1
  int *v9; // r3@2
  __int64 v10; // r6@4
  int result; // r0@10
  int v12; // [sp+0h] [bp-60h]@2
  int v13; // [sp+4h] [bp-5Ch]@2
  void (*v14)(void); // [sp+8h] [bp-58h]@1
  int v15; // [sp+Ch] [bp-54h]@2
  __int64 v16; // [sp+10h] [bp-50h]@4
  int v17; // [sp+18h] [bp-48h]@2
  int v18; // [sp+1Ch] [bp-44h]@2
  void (*v19)(void); // [sp+20h] [bp-40h]@4
  int v20; // [sp+24h] [bp-3Ch]@2
  __int64 v21; // [sp+28h] [bp-38h]@4
  int v22; // [sp+30h] [bp-30h]@4
  int v23; // [sp+34h] [bp-2Ch]@4
  __int64 v24; // [sp+38h] [bp-28h]@4

  v5 = a1;
  v6 = *(_QWORD *)(HIDWORD(a1) + 112);
  v7 = a2;
  v14 = 0;
  v8 = *(void (__fastcall **)(int *, int, signed int))(a2 + 8);
  if ( v8 )
  {
    v8(&v12, a2, 2);
    HIDWORD(a1) = *(_DWORD *)(v7 + 12);
    v15 = *(_DWORD *)(v7 + 12);
    v9 = &v17;
    LODWORD(a1) = *(_DWORD *)(v7 + 8);
    v14 = *(void (**)(void))(v7 + 8);
    a2 = v18;
    v4 = v17;
    v3 = v20;
    v2 = v13;
    v7 = v12;
  }
  else
    LODWORD(a1) = 0;
  v16 = *(_QWORD *)HIDWORD(v6);
  v10 = v16;
  v12 = v4;
  v13 = a2;
  *v9 = v7;
  v9[1] = v2;
  v15 = v3;
  v21 = v10;
  v22 = v7;
  v23 = v2;
  v19 = 0;
  v20 = HIDWORD(a1);
  v24 = a1;
  j_boost::asio::detail::task_io_service::post<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::function<void ()(void)>,boost::asio::detail::is_continuation_if_running>>(
    *(_DWORD *)(v6 + 4),
    (int)&v21);
  if ( (_DWORD)v24 )
    ((void (*)(void))v24)();
  if ( v19 )
    v19();
  if ( v14 )
    v14();
  *(_DWORD *)v5 = 0;
  result = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v5 + 4) = result;
  return result;
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::start(int a1)
{
  int v1; // r4@1
  char v2; // r0@2
  void *result; // r0@5
  int v4; // r5@6
  unsigned int v5; // r0@7
  unsigned int *v6; // r6@7
  unsigned int v7; // r1@8
  int v8; // r8@11
  unsigned int v9; // r0@12
  unsigned int v10; // r0@14
  unsigned int *v11; // r7@16
  unsigned int v12; // r0@17
  unsigned int v13; // r0@21
  unsigned int v14; // r0@23
  unsigned int *v15; // r7@25
  unsigned int v16; // r0@26
  _DWORD *v17; // r0@29
  __int64 v18; // r2@29
  _DWORD *v26; // [sp+0h] [bp-30h]@29
  int (__fastcall *v27)(void ***, void ***, int); // [sp+8h] [bp-28h]@29
  int (__fastcall *v28)(int *); // [sp+Ch] [bp-24h]@29
  int v29; // [sp+10h] [bp-20h]@5
  void *v30; // [sp+14h] [bp-1Ch]@5

  v1 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection start");
  if ( *(_DWORD *)(v1 + 2544) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v1 + 19236),
      1024,
      "Start called in invalid state");
    v2 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v2 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v29 = 9;
    v30 = &websocketpp::error::get_category(void)::instance;
    result = j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v1, (unsigned __int64 *)&v29);
  }
  else
    *(_DWORD *)(v1 + 2544) = 1;
    v4 = *(_DWORD *)(v1 + 4);
    if ( !v4 )
LABEL_32:
      j_std::__throw_bad_weak_ptr();
    v5 = *(_DWORD *)(v4 + 4);
    v6 = (unsigned int *)(v4 + 4);
    do
      v7 = v5;
      if ( !v5 )
        goto LABEL_32;
      __dmb();
      v5 = __ldrex(v6);
    while ( v5 != v7 || __strex(v7 + 1, v6) );
    v8 = *(_DWORD *)v1;
      v9 = __ldrex(v6);
    while ( __strex(v9 + 1, v6) );
      v10 = __ldrex(v6);
    while ( __strex(v10 - 1, v6) );
    if ( v10 == 1 )
      v11 = (unsigned int *)(v4 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v4 + 8))(v4);
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v4 + 12))(v4);
      v13 = __ldrex(v6);
    while ( __strex(v13 + 1, v6) );
      v14 = __ldrex(v6);
    while ( __strex(v14 - 1, v6) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v4 + 8);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
    v17 = j_operator new(0x10u);
    LODWORD(v18) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
    HIDWORD(v18) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
    *v17 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_transport_init;
    v17[1] = 0;
    v17[2] = v8;
    v17[3] = v4;
    v26 = v17;
    v27 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
    v28 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
    result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init(
                       v1,
                       (int)&v26,
                       v18);
    if ( v27 )
      result = (void *)((int (__cdecl *)(_DWORD **))v27)(&v26);
  return result;
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 19240);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


void __fastcall websocketpp::exception::~exception(int a1)
{
  websocketpp::exception::~exception(a1);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::connection(int a1, char a2, __int64 a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::connection(
           a1,
           a2,
           a3);
}


void **__fastcall websocketpp::transport::asio::error::category::message(websocketpp::transport::asio::error::category *this, int a2, int a3)
{
  void **result; // r0@2

  switch ( a3 )
  {
    case 1:
      result = sub_21E94B4((void **)this, "Generic asio transport policy error");
      break;
    case 2:
      result = sub_21E94B4((void **)this, "async_read_at_least call requested more bytes than buffer can store");
    case 3:
      result = sub_21E94B4((void **)this, "Underlying Transport Error");
    case 4:
      result = sub_21E94B4((void **)this, "Proxy connection failed");
    case 5:
      result = sub_21E94B4((void **)this, "Invalid proxy URI");
    case 6:
      result = sub_21E94B4((void **)this, "Invalid host or service");
    default:
      result = sub_21E94B4((void **)this, "Unknown");
  }
  return result;
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send(int a1, int a2, char *a3, int a4, int a5)
{
  int v5; // r9@1
  int v6; // r4@1
  char *v7; // r6@1
  unsigned int v8; // r7@1
  const void **v9; // r5@1
  unsigned int *v10; // r0@2
  unsigned int v11; // r1@3
  unsigned int *result; // r0@5
  int v13; // r4@5
  unsigned int v14; // r1@7
  unsigned int *v15; // r5@9
  int v16; // r4@13
  unsigned int v17; // r1@15
  unsigned int *v18; // r5@17
  int v19; // [sp+4h] [bp-2Ch]@1
  int v20; // [sp+8h] [bp-28h]@1
  int v21; // [sp+Ch] [bp-24h]@1
  int v22; // [sp+10h] [bp-20h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
    (int)&v21,
    *(_DWORD *)(a2 + 18960),
    a5,
    a4);
  v9 = (const void **)(v21 + 16);
  sub_21E6FCC((const void **)(v21 + 16), *(_DWORD *)(*(_DWORD *)(v21 + 16) - 12) + v8);
  sub_21E7408(v9, v7, v8);
  v19 = v21;
  v20 = v22;
  if ( v22 )
  {
    v10 = (unsigned int *)(v22 + 4);
    __dmb();
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 + 1, v10) );
  }
  result = j_websocketpp::connection<websocketpp::config::asio_tls_client>::send(v5, v6, (int)&v19);
  v13 = v20;
  if ( v20 )
    result = (unsigned int *)(v20 + 4);
      v14 = __ldrex(result);
    while ( __strex(v14 - 1, result) );
    if ( v14 == 1 )
    {
      v15 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v15);
      while ( __strex((unsigned int)result - 1, v15) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
    }
  v16 = v22;
    result = (unsigned int *)(v22 + 4);
      v17 = __ldrex(result);
    while ( __strex(v17 - 1, result) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v16 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
        result = (unsigned int *)__ldrex(v18);
      while ( __strex((unsigned int)result - 1, v18) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
  return result;
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::write_push(int a1, _DWORD *a2)
{
  _DWORD *v2; // r4@1
  int v3; // r5@1
  _DWORD *result; // r0@1
  int v5; // r1@2
  int *v6; // r0@3
  int v7; // r2@3
  unsigned int *v8; // r1@4
  unsigned int v9; // r2@5
  int v10; // r1@7
  int v11; // r6@8
  int v12; // r2@10
  int v13; // r1@10
  unsigned int *v14; // r1@11
  unsigned int v15; // r2@12
  int v16; // r1@14
  int v17; // r1@16
  char *v18; // r6@16
  int v19; // r1@16
  pthread_mutex_t *v20; // r5@16
  void *v21; // r0@16
  void *v22; // r0@17
  unsigned int *v23; // r1@20
  signed int v24; // r2@21
  unsigned int *v25; // r1@24
  signed int v26; // r2@25
  int v27; // [sp+4h] [bp-E4h]@16
  void **v28; // [sp+8h] [bp-E0h]@16
  int v29; // [sp+Ch] [bp-DCh]@18
  void **v30; // [sp+10h] [bp-D8h]@16
  void **v31; // [sp+14h] [bp-D4h]@16
  int v32; // [sp+30h] [bp-B8h]@18
  int v33; // [sp+38h] [bp-B0h]@17
  void **v34; // [sp+3Ch] [bp-ACh]@17

  v2 = a2;
  v3 = a1;
  result = (_DWORD *)*a2;
  if ( *a2 )
  {
    *(_DWORD *)(v3 + 18996) += *(_DWORD *)(result[4] - 12);
    v5 = *(_DWORD *)(v3 + 18980);
    if ( v5 == *(_DWORD *)(v3 + 18988) - 8 )
    {
      v11 = v3 + 18992;
      if ( (unsigned int)(*(_DWORD *)(v3 + 18960) - ((*(_DWORD *)(v3 + 18992) - *(_DWORD *)(v3 + 18956)) >> 2)) <= 1 )
        j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_reallocate_map(
          v3 + 18956,
          1u,
          0);
      *(_DWORD *)(*(_DWORD *)v11 + 4) = j_operator new(0x200u);
      v12 = *(_DWORD *)(v3 + 18980);
      v6 = (int *)(v3 + 18980);
      *(_DWORD *)v12 = *v2;
      v13 = v2[1];
      *(_DWORD *)(v12 + 4) = v13;
      if ( v13 )
      {
        v14 = (unsigned int *)(v13 + 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 + 1, v14) );
      }
      v16 = *(_DWORD *)v11;
      *(_DWORD *)v11 += 4;
      v10 = *(_DWORD *)(v16 + 4);
      *(_DWORD *)(v3 + 18984) = v10;
      *(_DWORD *)(v3 + 18988) = v10 + 512;
    }
    else
      *(_DWORD *)v5 = *v2;
      v7 = v2[1];
      *(_DWORD *)(v5 + 4) = v7;
      if ( v7 )
        v8 = (unsigned int *)(v7 + 4);
          v9 = __ldrex(v8);
        while ( __strex(v9 + 1, v8) );
      v10 = *v6 + 8;
    *v6 = v10;
    result = (_DWORD *)*(_BYTE *)(*(_DWORD *)(v3 + 19196) + 5);
    if ( (unsigned __int8)result & 4 )
      sub_21D103C((int)&v28, 24);
      sub_21CBF38((char *)&v30, (int)"write_push: message count: ", 27);
      v17 = 16 * (*(_DWORD *)(v3 + 18992) - *(_DWORD *)(v3 + 18976))
          + ((*(_DWORD *)(v3 + 18980) - *(_DWORD *)(v3 + 18984)) >> 3)
          + ((*(_DWORD *)(v3 + 18972) - *(_DWORD *)(v3 + 18964)) >> 3)
          - 64;
      v18 = sub_21CC440((char *)&v30);
      sub_21CBF38(v18, (int)" buffer size: ", 14);
      v19 = *(_DWORD *)(v3 + 18996);
      sub_21CC440(v18);
      v20 = *(pthread_mutex_t **)(v3 + 19196);
      sub_21CFED8(&v27, (int)&v31);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v20, 1024, &v27);
      v21 = (void *)(v27 - 12);
      if ( (int *)(v27 - 12) != &dword_28898C0 )
        v23 = (unsigned int *)(v27 - 4);
          v24 = __ldrex(v23);
        while ( __strex(v24 - 1, v23) );
        if ( v24 <= 0 )
          j_j_j_j__ZdlPv_9(v21);
      v28 = &off_26D3F94;
      v34 = &off_26D3FBC;
      v30 = &off_26D3FA8;
      v31 = &off_27734E8;
      v22 = (void *)(v33 - 12);
      if ( (int *)(v33 - 12) != &dword_28898C0 )
        v25 = (unsigned int *)(v33 - 4);
          v26 = __ldrex(v25);
        while ( __strex(v26 - 1, v25) );
        if ( v26 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
      v31 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v32);
      v28 = &off_276D0DC;
      v34 = &off_276D0F0;
      v29 = 0;
      result = sub_21B6560(&v34);
  }
  return result;
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::~hybi00(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14

  v1 = a1;
  *(_DWORD *)a1 = &off_276D44C;
  v2 = *(_DWORD *)(a1 + 32);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = *(_DWORD *)(v1 + 24);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  return v1;
}


int (__fastcall *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_data_frame(int a1, int a2, int *a3, _DWORD *a4))(_DWORD)
{
  int v4; // r6@0
  int v5; // r7@1
  _DWORD *v6; // r5@1
  int v7; // r9@1
  int v8; // r10@1
  bool v9; // zf@1
  char v10; // r0@5
  signed int v11; // r2@8
  unsigned int v12; // r1@8
  int (__fastcall **v13)(_DWORD); // r0@8
  _BYTE *v14; // r0@10
  int *v15; // r7@10
  _BYTE *v16; // t1@10
  int v17; // r1@10
  int v18; // r2@11
  char v19; // r0@15
  char v20; // r0@19
  int (__fastcall *result)(_DWORD); // r0@23
  void *v22; // r0@25
  int v23; // r6@26
  void *v24; // r0@26
  unsigned int *v25; // r1@28
  signed int v26; // r2@29
  unsigned int *v27; // r1@32
  signed int v28; // r2@33
  int v29; // [sp+4h] [bp-3Ch]@26
  int v30; // [sp+Ch] [bp-34h]@25

  v5 = *a3;
  v6 = a4;
  v7 = a2;
  v8 = a1;
  v9 = *a3 == 0;
  if ( *a3 )
  {
    v4 = *a4;
    v9 = *a4 == 0;
  }
  if ( v9 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 6;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_23;
  if ( *(_DWORD *)(v5 + 20) != 1 )
    v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v20 & 1)
    v11 = 7;
LABEL_23:
    result = v13[v12];
    *(_DWORD *)v8 = v11;
    goto LABEL_24;
  v16 = *(_BYTE **)(v5 + 16);
  v15 = (int *)(v5 + 16);
  v14 = v16;
  v17 = *((_DWORD *)v16 - 3);
  if ( v17 )
    v18 = 0;
    while ( 1 )
      v18 = *(&byte_26A8C54[16 * v18] + (byte_26A8C54[*v14] | 0x100));
      if ( v18 == 1 )
        break;
      --v17;
      ++v14;
      if ( !v17 )
      {
        if ( !v18 )
          goto LABEL_25;
      }
    v19 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v19 & 1)
    v11 = 5;
LABEL_25:
  sub_21E91E0((void **)&v30, v7 + 12, 1);
  EntityInteraction::setInteractText((int *)(v4 + 8), &v30);
  v22 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v25 = (unsigned int *)(v30 - 4);
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  EntityInteraction::setInteractText((int *)(*v6 + 16), v15);
  v23 = *v6;
  sub_21E91E0((void **)&v29, v7 + 13, 1);
  sub_21E72F0((const void **)(v23 + 16), (const void **)&v29);
  v24 = (void *)(v29 - 12);
  if ( (int *)(v29 - 12) != &dword_28898C0 )
    v27 = (unsigned int *)(v29 - 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 - 1, v27) );
    if ( v28 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  *(_BYTE *)(*v6 + 24) = 1;
  *(_DWORD *)v8 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
LABEL_24:
  *(_DWORD *)(v8 + 4) = result;
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake(a1, a2, a3, a4, a5);
}


int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(int a1, int a2, int a3, int a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
           a1,
           a2,
           a3,
           a4);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_basic_header(int a1, int a2, int a3, int a4, int a5))(_DWORD)
{
  return websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_basic_header(
           a1,
           a2,
           a3,
           a4,
           a5);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_read(int a1, int a2, int a3)
{
  int v3; // r8@1
  int v4; // r11@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r9@1
  unsigned int v7; // r4@4
  unsigned int v8; // r7@4
  signed int v9; // r1@4
  signed __int64 v10; // r0@9
  bool v11; // zf@9
  bool v12; // zf@12
  signed int v13; // r1@17
  signed int v14; // r6@24
  unsigned __int64 v15; // kr28_8@24
  unsigned int v16; // r3@24
  bool v17; // zf@33
  unsigned __int64 v18; // r0@38
  int v20; // r4@54
  pthread_mutex_t *v21; // r5@57
  const void **v22; // r0@57
  int v23; // r7@57
  void *v24; // r0@58
  char v25; // r0@59
  int (__fastcall *v26)(int, int *); // r2@63
  int *v27; // r1@63
  int v28; // r4@64
  unsigned int v29; // r6@65
  int v30; // r0@65
  pthread_mutex_t *v31; // r7@66
  void *v32; // r0@66
  int v33; // r4@68
  unsigned int *v34; // r0@69
  unsigned int v35; // r1@70
  unsigned int *v36; // r7@72
  unsigned int v37; // r0@73
  char v38; // r0@77
  char v39; // r0@83
  int *v40; // r5@88
  char *v41; // r7@88
  char *v42; // r0@88
  pthread_mutex_t *v43; // r6@88
  void *v44; // r0@88
  char v45; // r0@89
  unsigned int *v46; // r1@94
  signed int v47; // r2@95
  unsigned int *v48; // r1@98
  signed int v49; // r2@99
  void *v50; // r0@102
  int v51; // r0@104
  unsigned int *v52; // r1@105
  signed int v53; // r2@106
  unsigned int *v54; // r1@109
  signed int v55; // r2@110
  unsigned int *v56; // r1@113
  signed int v57; // r2@114
  int v58; // [sp+4h] [bp-1ACh]@92
  void *v59; // [sp+8h] [bp-1A8h]@92
  int v60; // [sp+Ch] [bp-1A4h]@88
  void **v61; // [sp+10h] [bp-1A0h]@88
  int v62; // [sp+14h] [bp-19Ch]@103
  void **v63; // [sp+18h] [bp-198h]@88
  void **v64; // [sp+1Ch] [bp-194h]@88
  int v65; // [sp+40h] [bp-170h]@102
  void **v66; // [sp+44h] [bp-16Ch]@102
  int v67; // [sp+CCh] [bp-E4h]@66
  int v68; // [sp+D0h] [bp-E0h]@86
  void *v69; // [sp+D4h] [bp-DCh]@86
  void **v70; // [sp+D8h] [bp-D8h]@65
  int v71; // [sp+DCh] [bp-D4h]@65
  void **v72; // [sp+E0h] [bp-D0h]@65
  int v73; // [sp+150h] [bp-60h]@65
  __int16 v74; // [sp+154h] [bp-5Ch]@65
  int v75; // [sp+158h] [bp-58h]@65
  int v76; // [sp+15Ch] [bp-54h]@65
  int v77; // [sp+160h] [bp-50h]@65
  int v78; // [sp+164h] [bp-4Ch]@65
  int v79; // [sp+168h] [bp-48h]@80
  void *v80; // [sp+16Ch] [bp-44h]@80
  int v81; // [sp+170h] [bp-40h]@62
  void *v82; // [sp+174h] [bp-3Ch]@62
  int v83; // [sp+178h] [bp-38h]@57
  const void *v84; // [sp+17Ch] [bp-34h]@57
  __int64 v85; // [sp+180h] [bp-30h]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 48);
  v6 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection handle_proxy_read");
  if ( *(_DWORD *)v6 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v3 + 52),
             1,
             "read operation aborted");
  v7 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 60) + 196) + 8) >> 32;
  v8 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 60) + 196) + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v85,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v9 = 0;
  if ( v8 + 2 < 3 )
    v9 = 1;
  if ( (__PAIR__(v7, v8) - 9223372036854775806LL) >> 32 )
    v9 = 0;
  if ( v9 )
  {
    v10 = -6442450945LL;
    v11 = (v8 ^ 0xFFFFFFFE | v7 ^ 0x7FFFFFFF) == 0;
    if ( v8 ^ 0xFFFFFFFE | v7 ^ 0x7FFFFFFF )
      v11 = __PAIR__(v85, HIDWORD(v85)) == -6442450945LL;
    if ( v11 )
      goto LABEL_52;
    LODWORD(v10) = 0x7FFFFFFF;
    HIDWORD(v10) = v7 ^ 0x7FFFFFFF | ~v8;
    v12 = HIDWORD(v10) == 0;
    if ( !HIDWORD(v10) )
      v12 = (HIDWORD(v85) ^ 0x7FFFFFFF | ~(_DWORD)v85) == 0;
    if ( v12 )
    {
      HIDWORD(v10) = -2;
    }
    v17 = (v7 ^ 0x80000000 | v8) == 0;
    if ( !(v7 ^ 0x80000000 | v8) )
      v17 = __PAIR__(v85, HIDWORD(v85)) == 0x80000000LL;
    if ( v17 )
      v10 = -6442450945LL;
  }
  else
    v13 = 0;
    if ( (unsigned int)(v85 + 2) < 3 )
      v13 = 1;
    if ( (unsigned __int64)(v85 - 9223372036854775806LL) >> 32 )
      v13 = 0;
    if ( !v13 )
      v14 = 0;
      LODWORD(v10) = (__PAIR__(v7, v8) - v85) >> 32;
      HIDWORD(v10) = v8 - v85;
      v15 = __PAIR__(v7, v8) - v85 + 2;
      v16 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v16 = 1;
      if ( (unsigned int)v15 > 2 )
        v14 = 1;
        v14 = v16;
      if ( v14 )
      {
        if ( (signed int)v10 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v3 + 52),
                   1,
                   "read operation aborted");
        goto LABEL_54;
      }
    if ( __PAIR__(v85, HIDWORD(v85)) == -6442450945LL )
  v18 = __PAIR__(v7, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_121;
  if ( __PAIR__(v85, HIDWORD(v85)) == 0x80000000LL )
    v10 = -2147483649LL;
    goto LABEL_52;
  LODWORD(v10) = 0x7FFFFFFF;
  if ( !(HIDWORD(v85) ^ 0x7FFFFFFF | ~(_DWORD)v85) )
    v10 = 0x80000000LL;
  HIDWORD(v10) = -2;
  v7 = (__PAIR__(v7, v8) - v85) >> 32;
  v8 -= v85;
  if ( __PAIR__(v7, v8) != 9223372036854775806LL )
LABEL_121:
    if ( !(v7 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v10) = -1;
    if ( !(v8 | v7 ^ 0x80000000) )
      HIDWORD(v10) = v8 | v7 ^ 0x80000000;
      LODWORD(v10) = 2147483648;
LABEL_52:
  if ( v10 == 0x80000000LL )
LABEL_54:
  v20 = *(_DWORD *)(*(_DWORD *)(v3 + 60) + 196);
  sub_21B09F0();
  if ( *(_BYTE *)(v20 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v20 + 52),
      *(_DWORD *)v20 + 20,
      v20 + 20,
      -1);
    *(_BYTE *)(v20 + 16) = 0;
  if ( *(_DWORD *)v6 )
    v21 = *(pthread_mutex_t **)(v3 + 52);
    (*(void (__fastcall **)(int *))(**(_DWORD **)(v6 + 4) + 12))(&v83);
    v22 = sub_21E82D8((const void **)&v83, 0, (unsigned int)"asio handle_proxy_read error: ", (_BYTE *)0x1E);
    v84 = *v22;
    v23 = (int)v84;
    *v22 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v21, 4, (int *)&v84);
    if ( (int *)(v23 - 12) != &dword_28898C0 )
      v46 = (unsigned int *)(v23 - 4);
      __dmb();
      do
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v23 - 12));
    v24 = (void *)(v83 - 12);
    if ( (int *)(v83 - 12) != &dword_28898C0 )
      v48 = (unsigned int *)(v83 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    v25 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v25 & 1) )
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v81 = 3;
    v82 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( *(_DWORD *)(v4 + 8) )
      v26 = *(int (__fastcall **)(int, int *))(v4 + 12);
      v27 = &v81;
      return (RakNet *)v26(v4, v27);
    goto LABEL_117;
  v28 = *(_DWORD *)(v3 + 60);
  if ( !v28 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 52),
      2,
      "assertion failed: !m_proxy_data in asio::connection::handle_proxy_read");
    v38 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v38 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v79 = 1;
    v80 = &websocketpp::transport::asio::error::get_category(void)::instance;
      v27 = &v79;
LABEL_117:
    sub_21E5F48();
  sub_21B6308((int)&v72);
  v29 = 0xFFFFF1D0;
  v73 = 0;
  v74 = 0;
  v77 = 0;
  v78 = 0;
  v75 = 0;
  v76 = 0;
  v70 = &off_26D3BDC;
  v71 = 0;
  v72 = &off_26D3BF0;
  sub_21B5AD4((int)&v72, v28 + 144);
  j_websocketpp::http::parser::response::consume(
    (websocketpp::http::parser::response *)(*(_DWORD *)(v3 + 60) + 68),
    (char *)&v70);
  v30 = *(_DWORD *)(v3 + 60);
  if ( (*(_DWORD *)(v30 + 136) & 0xFFFFFFFE) == 2 )
    v31 = *(pthread_mutex_t **)(v3 + 48);
    j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v67, v30 + 68);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v31, 1024, &v67);
    v32 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v52 = (unsigned int *)(v67 - 4);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 <= 0 )
        j_j_j_j__ZdlPv_9(v32);
    if ( *(_DWORD *)(*(_DWORD *)(v3 + 60) + 132) == 200 )
      *(_DWORD *)(v3 + 60) = 0;
      v33 = *(_DWORD *)(v3 + 64);
      *(_DWORD *)(v3 + 64) = 0;
      if ( v33 )
        v34 = (unsigned int *)(v33 + 4);
        __dmb();
        do
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 == 1 )
        {
          v36 = (unsigned int *)(v33 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
          __dmb();
          do
            v37 = __ldrex(v36);
          while ( __strex(v37 - 1, v36) );
          if ( v37 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
        }
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::post_init(v3);
    else
      v40 = (int *)&v61;
      sub_21D103C((int)&v61, 24);
      sub_21CBF38((char *)&v63, (int)"Proxy connection error: ", 24);
      v41 = (char *)sub_21CC43C(&v63, *(_DWORD *)(*(_DWORD *)(v3 + 60) + 132));
      sub_21CBF38(v41, (int)" (", 2);
      v42 = sub_21CBF38(
              v41,
              *(_DWORD *)(*(_DWORD *)(v3 + 60) + 116),
              *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 60) + 116) - 12));
      sub_21CBF38(v42, (int)")", 1);
      v43 = *(pthread_mutex_t **)(v3 + 52);
      sub_21CFED8(&v60, (int)&v64);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v43, 4, &v60);
      v44 = (void *)(v60 - 12);
      if ( (int *)(v60 - 12) != &dword_28898C0 )
        v54 = (unsigned int *)(v60 - 4);
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 <= 0 )
          j_j_j_j__ZdlPv_9(v44);
      v45 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v45 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        v40 = (int *)&v61;
      v58 = 4;
      v59 = &websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !*(_DWORD *)(v4 + 8) )
        sub_21E5F48();
      (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v58);
      v61 = &off_26D3F94;
      v66 = &off_26D3FBC;
      v63 = &off_26D3FA8;
      v64 = &off_27734E8;
      v50 = (void *)(v65 - 12);
      if ( (int *)(v65 - 12) != &dword_28898C0 )
        v56 = (unsigned int *)(v65 - 4);
          v57 = __ldrex(v56);
        while ( __strex(v57 - 1, v56) );
        if ( v57 <= 0 )
          j_j_j_j__ZdlPv_9(v50);
      v64 = &off_26D40A8;
      sub_21C802C((unsigned int **)v40 + 10);
      v61 = &off_276D0DC;
      v66 = &off_276D0F0;
      v62 = 0;
      sub_21B6560(v40 + 13);
      v29 = 0xFFFFF1D0;
    v39 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v39 & 1)
    v68 = 1;
    v69 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v68);
  v51 = *(int *)((char *)&GLOBAL_OFFSET_TABLE_ + v29);
  v70 = (void **)(v51 + 12);
  v72 = (void **)(v51 + 32);
  return (RakNet *)sub_21B6560(&v72);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_pre_init(int a1, _DWORD *a2)
{
  int v2; // r5@1
  _DWORD *v3; // r7@1
  pthread_mutex_t *v4; // r0@1
  __int64 v5; // kr00_8@4
  unsigned int *v6; // r0@5
  unsigned int v7; // r2@6
  void (__fastcall *v8)(int, __int64 *); // r2@9
  unsigned int v9; // r1@10
  int v10; // r0@13
  unsigned int *v11; // r1@14
  unsigned int v12; // r2@15
  unsigned int *v13; // r0@19
  unsigned int v14; // r1@20
  __int64 v15; // [sp+4h] [bp-1Ch]@9

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection handle pre_init");
  if ( *(_DWORD *)(v2 + 152) )
  {
    v5 = *(_QWORD *)(v2 + 124);
    if ( HIDWORD(v5) )
    {
      v6 = (unsigned int *)(HIDWORD(v5) + 8);
      __dmb();
      do
        v7 = __ldrex(v6);
      while ( __strex(v7 + 1, v6) );
      if ( !*(_DWORD *)(v2 + 152) )
        sub_21E5F48();
      v8 = *(void (__fastcall **)(int, __int64 *))(v2 + 156);
      v15 = v5;
        v9 = __ldrex(v6);
      while ( __strex(v9 + 1, v6) );
    }
    else
      v15 = (unsigned int)v5;
    v8(v2 + 144, &v15);
    v10 = HIDWORD(v15);
    if ( HIDWORD(v15) )
      v11 = (unsigned int *)(HIDWORD(v15) + 8);
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      v13 = (unsigned int *)(HIDWORD(v5) + 8);
        v14 = __ldrex(v13);
      while ( __strex(v14 - 1, v13) );
      if ( v14 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v5) + 12))(HIDWORD(v5));
  }
  if ( *v3 )
    if ( !*(_DWORD *)(v2 + 2280) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, _DWORD *))(v2 + 2284))(v2 + 2272, v3);
  if ( *(_DWORD *)(*(_DWORD *)(v2 + 100) - 12) )
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_write(v2);
  else
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::post_init(v2);
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_message(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r4@1
  int v4; // r0@2
  __int64 v5; // r8@2
  unsigned int *v6; // r0@3
  unsigned int v7; // r1@4
  int v8; // r7@6
  unsigned int *v9; // r0@7
  unsigned int v10; // r1@8
  unsigned int *v11; // r6@10
  unsigned int v12; // r0@11
  int v13; // r6@15
  unsigned int *v14; // r0@16
  unsigned int v15; // r1@17
  unsigned int *v16; // r7@19
  unsigned int v17; // r0@20
  int result; // r0@22
  unsigned int *v19; // r0@24
  unsigned int v20; // r1@25
  unsigned int *v21; // r7@27

  v2 = a2;
  v3 = a1;
  if ( !(*(int (__fastcall **)(int))(*(_DWORD *)a2 + 56))(a2) )
  {
    result = 0;
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 4) = 0;
    return result;
  }
  v4 = *(_DWORD *)(v2 + 72);
  v5 = *(_QWORD *)v4;
  if ( *(_QWORD *)v4 >> 32 )
    v6 = (unsigned int *)(HIDWORD(v5) + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
    v4 = *(_DWORD *)(v2 + 72);
  *(_DWORD *)v4 = 0;
  v8 = *(_DWORD *)(v4 + 4);
  *(_DWORD *)(v4 + 4) = 0;
  if ( v8 )
    v9 = (unsigned int *)(v8 + 4);
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v8 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
    }
  if ( *(_DWORD *)(v5 + 20) < 8 )
    *(_DWORD *)(v2 + 32) = 0;
    v13 = *(_DWORD *)(v2 + 36);
    *(_DWORD *)(v2 + 36) = 0;
    if ( !v13 )
      goto LABEL_31;
    v19 = (unsigned int *)(v13 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 != 1 )
    v21 = (unsigned int *)(v13 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      v17 = __ldrex(v21);
    while ( __strex(v17 - 1, v21) );
  else
    *(_DWORD *)(v2 + 52) = 0;
    v13 = *(_DWORD *)(v2 + 56);
    *(_DWORD *)(v2 + 56) = 0;
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 != 1 )
    v16 = (unsigned int *)(v13 + 8);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
  __dmb();
  if ( v17 == 1 )
    (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
LABEL_31:
  result = 0;
  *(_DWORD *)(v2 + 92) = 0;
  *(_DWORD *)(v2 + 24) = 2;
  *(_WORD *)(v2 + 12) = 0;
  *(_DWORD *)(v2 + 84) = 0;
  *(_DWORD *)(v2 + 80) = 0;
  *(_DWORD *)(v2 + 76) = 0;
  *(_QWORD *)v3 = v5;
  return result;
}


void *__fastcall websocketpp::processor::hybi08<websocketpp::config::asio_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(int a1, unsigned int a2, __int64 a3, int a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
           a1,
           a2,
           a3,
           a4);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_post_init_timeout(int a1, int a2, int a3, _DWORD *a4)
{
  int v4; // r5@1
  _DWORD *v5; // r6@1
  int v6; // r4@1
  char v7; // r0@2
  int v9; // r5@9
  int v10; // [sp+0h] [bp-28h]@1
  void *v11; // [sp+4h] [bp-24h]@1
  int v12; // [sp+8h] [bp-20h]@9
  void *v13; // [sp+Ch] [bp-1Ch]@9

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v10 = 0;
  v11 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 48),
               1024,
               "asio post init timer cancelled");
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_post_init_timeout",
      v5);
    *(_QWORD *)&v10 = *(_QWORD *)v5;
  }
  else
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v10 = 9;
    v11 = &websocketpp::transport::error::get_category(void)::instance;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 48),
    1024,
    "Asio transport post-init timed out");
  v9 = *(_DWORD *)(v4 + 8);
  v12 = 0;
  v13 = sub_21B09F0();
  if ( *(_DWORD *)v9 == -1 )
    v12 = 9;
    v13 = sub_21B09F0();
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v12, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v9 + 16) + 20),
    *(_DWORD *)v9,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v9 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v10);
}


void __fastcall websocketpp::http::exception::~exception(int a1)
{
  int v1; // r4@1
  int v2; // r1@1
  void *v3; // r0@1
  int v4; // r1@2
  void *v5; // r0@2
  int v6; // r1@3
  void *v7; // r0@3
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  unsigned int *v10; // r1@9
  signed int v11; // r2@10
  unsigned int *v12; // r1@13
  signed int v13; // r2@14

  v1 = a1;
  *(_DWORD *)a1 = &off_276D304;
  v2 = *(_DWORD *)(a1 + 12);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  v4 = *(_DWORD *)(v1 + 8);
  v5 = (void *)(v4 - 12);
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v10 = (unsigned int *)(v4 - 4);
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  v6 = *(_DWORD *)(v1 + 4);
  v7 = (void *)(v6 - 12);
  if ( (int *)(v6 - 12) != &dword_28898C0 )
    v12 = (unsigned int *)(v6 - 4);
      v13 = __ldrex(v12);
    while ( __strex(v13 - 1, v12) );
    if ( v13 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  j_std::exception::~exception();
  j_operator delete((void *)v1);
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::post_init(int a1)
{
  int v1; // r11@1
  pthread_mutex_t *v2; // r0@1
  int v3; // r4@3
  unsigned int v4; // r0@4
  unsigned int *v5; // r6@4
  unsigned int v6; // r1@5
  int v7; // r9@8
  unsigned int v8; // r0@11
  unsigned int v9; // r0@13
  unsigned int *v10; // r5@15
  unsigned int v11; // r0@16
  int v12; // r5@19
  void (__fastcall *v13)(int *, int, signed int); // r3@19
  _QWORD *v14; // r0@21
  int v15; // r1@21
  __int64 v16; // kr00_8@21
  int v17; // r7@23
  unsigned int *v18; // r0@24
  unsigned int v19; // r1@25
  unsigned int *v20; // r6@27
  unsigned int v21; // r0@28
  int v22; // r7@31
  unsigned int *v23; // r0@32
  unsigned int v24; // r1@33
  unsigned int *v25; // r6@35
  unsigned int v26; // r0@36
  int v27; // r7@41
  unsigned int v28; // r0@42
  unsigned int *v29; // r10@42
  unsigned int v30; // r1@43
  unsigned int v31; // r0@49
  unsigned int v32; // r0@51
  unsigned int *v33; // r6@53
  unsigned int v34; // r0@54
  void (__fastcall *v35)(int *, int, signed int); // r3@57
  unsigned int *v36; // r0@60
  unsigned int v37; // r1@61
  _QWORD *v38; // r0@63
  int v39; // r5@63
  int (*v40)(void); // r0@63
  __int64 v41; // r1@63
  int v42; // r0@63
  unsigned int *result; // r0@63
  int v44; // r5@65
  unsigned int v45; // r1@67
  unsigned int *v46; // r6@69
  int v47; // r5@73
  unsigned int v48; // r1@75
  unsigned int *v49; // r6@77
  unsigned int v50; // r1@85
  unsigned int *v51; // r5@87
  int v52; // [sp+Ch] [bp-ACh]@46
  int v53; // [sp+18h] [bp-A0h]@58
  int (*v54)(void); // [sp+20h] [bp-98h]@57
  int v55; // [sp+24h] [bp-94h]@58
  __int64 v56; // [sp+28h] [bp-90h]@59
  int v57; // [sp+30h] [bp-88h]@63
  int v58; // [sp+34h] [bp-84h]@63
  int v59; // [sp+38h] [bp-80h]@63
  int (*v60)(void); // [sp+40h] [bp-78h]@63
  RakNet *(__fastcall *v61)(int, int, int, _DWORD *); // [sp+48h] [bp-70h]@19
  int v62; // [sp+4Ch] [bp-6Ch]@19
  int v63; // [sp+50h] [bp-68h]@20
  void (__fastcall *v64)(int *); // [sp+58h] [bp-60h]@19
  int v65; // [sp+5Ch] [bp-5Ch]@20
  int v66; // [sp+60h] [bp-58h]@21
  int v67; // [sp+64h] [bp-54h]@21
  int v68; // [sp+68h] [bp-50h]@21
  int v69; // [sp+6Ch] [bp-4Ch]@21
  _QWORD *v70; // [sp+74h] [bp-44h]@21
  void (__fastcall *v71)(_DWORD); // [sp+7Ch] [bp-3Ch]@21
  unsigned int *(__fastcall *v72)(unsigned __int64 **, int); // [sp+80h] [bp-38h]@21
  __int64 v73; // [sp+84h] [bp-34h]@21
  int v74; // [sp+8Ch] [bp-2Ch]@63
  int v75; // [sp+90h] [bp-28h]@63

  v1 = a1;
  v2 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v2->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v2,
      1024,
      "asio connection post_init");
  v3 = *(_DWORD *)(v1 + 4);
  if ( !v3 )
    j_std::__throw_bad_weak_ptr();
  v4 = *(_DWORD *)(v3 + 4);
  v5 = (unsigned int *)(v3 + 4);
  do
  {
    v6 = v4;
    if ( !v4 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v4 = __ldrex(v5);
  }
  while ( v4 != v6 || __strex(v6 + 1, v5) );
  __dmb();
  v7 = *(_DWORD *)v1;
    v8 = __ldrex(v5);
  while ( __strex(v8 + 1, v5) );
    v9 = __ldrex(v5);
  while ( __strex(v9 - 1, v5) );
  if ( v9 == 1 )
    v10 = (unsigned int *)(v3 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v3 + 8))(v3);
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v3 + 12))(v3);
  v12 = 0;
  v61 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_post_init_timeout;
  v62 = 0;
  v64 = 0;
  v13 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2240);
  if ( v13 )
    v13(&v63, v1 + 2232, 2);
    v65 = *(_DWORD *)(v1 + 2244);
    v12 = *(_DWORD *)(v1 + 2240);
    v64 = *(void (__fastcall **)(int *))(v1 + 2240);
  v66 = 0;
  v67 = 0;
  v68 = v7;
  v69 = v3;
  v71 = 0;
  v14 = j_operator new(0x28u);
  *v14 = *(_QWORD *)&v61;
  v14[1] = *(_QWORD *)&v63;
  v15 = v65;
  *((_DWORD *)v14 + 4) = v12;
  *((_DWORD *)v14 + 5) = v15;
  *((_DWORD *)v14 + 6) = 0;
  *((_DWORD *)v14 + 7) = 0;
  *((_DWORD *)v14 + 8) = v7;
  v69 = 0;
  *((_DWORD *)v14 + 9) = v3;
  v68 = 0;
  v70 = v14;
  v71 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v72 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
    (int)&v73,
    v1,
    5000,
    (int)&v70);
  v16 = v73;
  v73 = 0LL;
  if ( v71 )
    v71(&v70);
  v17 = v69;
  if ( v69 )
    v18 = (unsigned int *)(v69 + 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 == 1 )
    {
      v20 = (unsigned int *)(v17 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
      __dmb();
      do
        v21 = __ldrex(v20);
      while ( __strex(v21 - 1, v20) );
      if ( v21 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
    }
  v22 = v67;
  if ( v67 )
    v23 = (unsigned int *)(v67 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 == 1 )
      v25 = (unsigned int *)(v22 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 8))(v22);
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  if ( v64 )
    v64(&v63);
  v27 = *(_DWORD *)(v1 + 4);
  if ( !v27 )
  v28 = *(_DWORD *)(v27 + 4);
  v29 = (unsigned int *)(v27 + 4);
    v30 = v28;
    if ( !v28 )
    v28 = __ldrex(v29);
  while ( v28 != v30 || __strex(v30 + 1, v29) );
  v52 = *(_DWORD *)v1;
    v31 = __ldrex(v29);
  while ( __strex(v31 + 1, v29) );
    v32 = __ldrex(v29);
  while ( __strex(v32 - 1, v29) );
  if ( v32 == 1 )
    v33 = (unsigned int *)(v27 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
  v54 = 0;
  v35 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2240);
  if ( v35 )
    v35(&v53, v1 + 2232, 2);
    v55 = *(_DWORD *)(v1 + 2244);
    v54 = *(int (**)(void))(v1 + 2240);
  v56 = v16;
  if ( HIDWORD(v16) )
    v36 = (unsigned int *)(HIDWORD(v16) + 4);
      v37 = __ldrex(v36);
    while ( __strex(v37 + 1, v36) );
  v57 = v52;
  v58 = v27;
  v60 = 0;
  v38 = j_operator new(0x28u);
  v39 = (int)v38;
  *v38 = (unsigned int)websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_post_init;
  v38[1] = *(_QWORD *)&v53;
  v40 = v54;
  *(_DWORD *)(v39 + 16) = v40;
  HIDWORD(v41) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  *(_DWORD *)(v39 + 20) = v55;
  *(_DWORD *)(v39 + 24) = v56;
  v42 = HIDWORD(v56);
  LODWORD(v41) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  HIDWORD(v56) = 0;
  *(_DWORD *)(v39 + 28) = v42;
  LODWORD(v56) = 0;
  *(_DWORD *)(v39 + 32) = v52;
  v58 = 0;
  *(_DWORD *)(v39 + 36) = v27;
  v57 = 0;
  v59 = v39;
  *(_QWORD *)&v60 = v41;
  v74 = 0;
  v75 = ((int (*)(void))byte_21E9640)();
  result = j_std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)>::_M_call<std::shared_ptr&<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>&,std::function<void ()(std::error_code const&)>&,std::error_code const&>(
             (unsigned __int64 *)v39,
             (_DWORD *)(v39 + 32),
             v39 + 32,
             v39 + 24,
             v39 + 8,
             (int)&v74);
  if ( v60 )
    result = (unsigned int *)v60();
  v44 = v58;
  if ( v58 )
    result = (unsigned int *)(v58 + 4);
      v45 = __ldrex(result);
    while ( __strex(v45 - 1, result) );
    if ( v45 == 1 )
      v46 = (unsigned int *)(v44 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
        result = (unsigned int *)__ldrex(v46);
      while ( __strex((unsigned int)result - 1, v46) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
  v47 = HIDWORD(v56);
  if ( HIDWORD(v56) )
    result = (unsigned int *)(HIDWORD(v56) + 4);
      v48 = __ldrex(result);
    while ( __strex(v48 - 1, result) );
    if ( v48 == 1 )
      v49 = (unsigned int *)(v47 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v47 + 8))(v47);
        result = (unsigned int *)__ldrex(v49);
      while ( __strex((unsigned int)result - 1, v49) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v47 + 12))(v47);
  if ( v54 )
    result = (unsigned int *)v54();
    result = (unsigned int *)(HIDWORD(v16) + 4);
      v50 = __ldrex(result);
    while ( __strex(v50 - 1, result) );
    if ( v50 == 1 )
      v51 = (unsigned int *)(HIDWORD(v16) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v16) + 8))(HIDWORD(v16));
        result = (unsigned int *)__ldrex(v51);
      while ( __strex((unsigned int)result - 1, v51) );
        result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v16) + 12))(HIDWORD(v16));
  return result;
}


int __fastcall websocketpp::http::parser::response::consume(websocketpp::http::parser::response *a1, char *a2)
{
  websocketpp::http::parser::response *v2; // r8@1
  char *v3; // r5@1
  int v4; // r4@1
  unsigned int v5; // r0@1
  int v6; // r6@2
  int v7; // r3@4
  int v8; // r0@5
  __int64 v9; // kr00_8@6
  int v10; // r0@6
  bool v11; // zf@9
  char v13; // [sp+3h] [bp-1h]@8
  int v14; // [sp+4h] [bp+0h]@6
  RakNet *v15; // [sp+204h] [bp+200h]@1

  v2 = a1;
  v3 = a2;
  v4 = 0u;
  v15 = _stack_chk_guard;
  v5 = *(_DWORD *)(*(_DWORD *)a2 - 12);
  if ( !*(_DWORD *)&a2[v5 + 20] )
  {
    do
    {
      v6 = *(_DWORD *)&v3[v5 + 124];
      if ( !v6 )
        sub_21E5824();
      if ( *(_BYTE *)(v6 + 28) )
      {
        v7 = *(_BYTE *)(v6 + 39);
      }
      else
        sub_21B50F0(v6);
        (*(void (__cdecl **)(void *))(*(_DWORD *)v6 + 24))((void *)v6);
        v7 = v8;
      sub_21BB2B8((int)v3, &v14, 512, v7);
      v9 = *(_QWORD *)v3;
      v10 = *(_DWORD *)&v3[*(_DWORD *)(*(_QWORD *)v3 - 12) + 20];
      if ( !(v10 & 7) )
        if ( v10 & 1 )
          break;
        *(&v13 + HIDWORD(v9)) = 10;
      v5 = j_websocketpp::http::parser::response::consume(v2, (const char *)&v14, HIDWORD(v9));
      v11 = v5 == HIDWORD(v9);
      v4 += v5;
      if ( v5 == HIDWORD(v9) )
        v5 = *(_DWORD *)(*(_DWORD *)v3 - 12);
        v11 = *(_DWORD *)&v3[v5 + 20] == 0;
    }
    while ( v11 );
  }
  if ( _stack_chk_guard != v15 )
    j___stack_chk_fail_1(_stack_chk_guard - v15);
  return v4;
}


void **__fastcall websocketpp::transport::asio::socket::socket_category::message(websocketpp::transport::asio::socket::socket_category *this, int a2, int a3)
{
  void **result; // r0@2

  switch ( a3 )
  {
    case 1:
      result = sub_21E94B4((void **)this, "Security policy error");
      break;
    case 2:
      result = sub_21E94B4((void **)this, "Socket component error");
    case 3:
      result = sub_21E94B4((void **)this, "Invalid state");
    case 4:
      result = sub_21E94B4((void **)this, "Invalid or empty TLS context supplied");
    case 5:
      result = sub_21E94B4((void **)this, "TLS handshake timed out");
    case 6:
      result = sub_21E94B4((void **)this, "Pass through from socket policy");
    case 7:
      result = sub_21E94B4((void **)this, "Required tls_init handler not present.");
    case 8:
      result = sub_21E94B4((void **)this, "TLS handshake failed");
    default:
      result = sub_21E94B4((void **)this, "Unknown");
  }
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
           a1,
           a2,
           a3,
           a4);
}


int __fastcall websocketpp::client<websocketpp::config::asio_client>::connect(int a1, int a2, int a3)
{
  int v3; // r4@1
  int v4; // r8@1
  int v5; // r5@1
  int v6; // r9@1
  int v7; // r0@1
  unsigned int *v8; // r0@2
  unsigned int v9; // r1@3
  int v10; // r0@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  int v13; // r7@9
  unsigned int *v14; // r0@10
  unsigned int v15; // r1@11
  _DWORD *v16; // r0@13
  int v17; // r1@13
  int v18; // r6@15
  unsigned int *v19; // r0@16
  unsigned int v20; // r1@17
  unsigned int *v21; // r5@19
  unsigned int v22; // r0@20
  int v23; // r6@23
  unsigned int *v24; // r0@24
  unsigned int v25; // r1@25
  unsigned int *v26; // r5@27
  unsigned int v27; // r0@28
  int result; // r0@31
  _DWORD *v29; // [sp+0h] [bp-40h]@13
  void (*v30)(void); // [sp+8h] [bp-38h]@13
  unsigned int *(__fastcall *v31)(unsigned __int64 **, int); // [sp+Ch] [bp-34h]@13
  int v32; // [sp+10h] [bp-30h]@5
  int v33; // [sp+14h] [bp-2Ch]@5
  int v34; // [sp+18h] [bp-28h]@1
  int v35; // [sp+1Ch] [bp-24h]@1

  v3 = a3;
  v4 = a1;
  v5 = *(_DWORD *)a3;
  v6 = a2;
  v34 = *(_DWORD *)a3;
  v7 = *(_DWORD *)(a3 + 4);
  v35 = v7;
  if ( v7 )
  {
    v8 = (unsigned int *)(v7 + 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 + 1, v8) );
    v5 = *(_DWORD *)a3;
  }
  v32 = *(_DWORD *)(v5 + 19168);
  v10 = *(_DWORD *)(v5 + 19172);
  v33 = v10;
  if ( v10 )
    v11 = (unsigned int *)(v10 + 4);
      v12 = __ldrex(v11);
    while ( __strex(v12 + 1, v11) );
  v13 = *(_DWORD *)(a3 + 4);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 + 1, v14) );
  v16 = j_operator new(0x14u);
  *v16 = websocketpp::client<websocketpp::config::asio_client>::handle_connect;
  v16[1] = 0;
  v17 = (int)(v16 + 2);
  *(_DWORD *)v17 = v5;
  *(_DWORD *)(v17 + 4) = v13;
  *(_DWORD *)(v17 + 8) = v6;
  v29 = v16;
  v30 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::client<websocketpp::config::asio_client>::*)(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::error_code const&)> ()(websocketpp::client<websocketpp::config::asio_client>*,std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
  v31 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::client<websocketpp::config::asio_client>::*)(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::error_code const&)> ()(websocketpp::client<websocketpp::config::asio_client>*,std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::async_connect(
    v6,
    (int)&v34,
    &v32,
    (int)&v29);
  if ( v30 )
    v30();
  v18 = v33;
  if ( v33 )
    v19 = (unsigned int *)(v33 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 == 1 )
    {
      v21 = (unsigned int *)(v18 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
      __dmb();
      do
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      if ( v22 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
    }
  v23 = v35;
  if ( v35 )
    v24 = (unsigned int *)(v35 + 4);
      v25 = __ldrex(v24);
    while ( __strex(v25 - 1, v24) );
    if ( v25 == 1 )
      v26 = (unsigned int *)(v23 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v23 + 8))(v23);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v23 + 12))(v23);
  *(_DWORD *)v4 = *(_DWORD *)v3;
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = 0;
  *(_DWORD *)(v4 + 4) = result;
  *(_DWORD *)v3 = 0;
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_close(int a1, int a2, unsigned int a3, int *a4, int a5)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_close(a1, a2, a3, a4, a5);
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_send_http_request(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r4@1
  pthread_mutex_t **v4; // r10@1
  int v5; // r0@2
  int v6; // r0@3
  void *result; // r0@4
  signed int v8; // r6@7
  char v9; // r0@8
  int (__fastcall **v10)(_DWORD); // r0@11
  char v11; // r0@12
  char v12; // r0@18
  bool v13; // zf@22
  int v14; // r5@28
  unsigned int v15; // r0@29
  unsigned int *v16; // r7@29
  unsigned int v17; // r1@30
  int v18; // r9@33
  unsigned int v19; // r0@34
  unsigned int v20; // r0@36
  unsigned int *v21; // r6@38
  unsigned int v22; // r0@39
  unsigned int v23; // r0@43
  unsigned int v24; // r0@45
  unsigned int *v25; // r6@47
  unsigned int v26; // r0@48
  _DWORD *v27; // r0@51
  __int64 v28; // r2@51
  _DWORD *v29; // [sp+8h] [bp-38h]@51
  int (*v30)(void); // [sp+10h] [bp-30h]@51
  int (__fastcall *v31)(int *); // [sp+14h] [bp-2Ch]@51
  __int64 v32; // [sp+18h] [bp-28h]@1

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "handle_send_http_request");
  v4 = (pthread_mutex_t **)(v3 + 19236);
  v32 = *v2;
  if ( (_DWORD)v32 )
    goto LABEL_18;
  v5 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2548));
  if ( v5 )
    sub_21E5E14(v5);
  v6 = *(_DWORD *)(v3 + 2540);
  if ( v6 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "handle_send_http_request invoked after connection was closed");
    return (void *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2548));
  }
  if ( v6 )
    v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v10 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v3 + 2544) == 3 )
      v8 = 0;
      *(_DWORD *)(v3 + 2544) = 4;
      goto LABEL_17;
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v8 = 9;
  LODWORD(v32) = 9;
  HIDWORD(v32) = *(int (__fastcall **)(_DWORD))((char *)v10 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2548));
  if ( v8 )
LABEL_18:
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v32) != &websocketpp::transport::error::get_category(void)::instance )
      goto LABEL_58;
    v13 = (_DWORD)v32 == 7;
    if ( (_DWORD)v32 == 7 )
      v13 = *(_DWORD *)(v3 + 2540) == 3;
    if ( v13 )
      result = (void *)j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                         *v4,
                         1024,
                         "got (expected) eof/state error from closed con");
    else
LABEL_58:
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
        v3,
        16,
        "handle_send_http_request",
        &v32);
      result = j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v3, (unsigned __int64 *)&v32);
    return result;
  v14 = *(_DWORD *)(v3 + 4);
  if ( !v14 )
LABEL_54:
    j_std::__throw_bad_weak_ptr();
  v15 = *(_DWORD *)(v14 + 4);
  v16 = (unsigned int *)(v14 + 4);
  do
    v17 = v15;
    if ( !v15 )
      goto LABEL_54;
    v15 = __ldrex(v16);
  while ( v15 != v17 || __strex(v17 + 1, v16) );
  __dmb();
  v18 = *(_DWORD *)v3;
    v19 = __ldrex(v16);
  while ( __strex(v19 + 1, v16) );
    v20 = __ldrex(v16);
  while ( __strex(v20 - 1, v16) );
  if ( v20 == 1 )
    v21 = (unsigned int *)(v14 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 8))(v14);
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 12))(v14);
    v23 = __ldrex(v16);
  while ( __strex(v23 + 1, v16) );
    v24 = __ldrex(v16);
  while ( __strex(v24 - 1, v16) );
  if ( v24 == 1 )
    v25 = (unsigned int *)(v14 + 8);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 == 1 )
  v27 = j_operator new(0x10u);
  *v27 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_http_response;
  v27[1] = 0;
  v27[2] = v18;
  v27[3] = v14;
  v29 = v27;
  v30 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  v31 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  LODWORD(v28) = v3 + 2556;
  HIDWORD(v28) = 0x4000;
  result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
                     v3,
                     1u,
                     v28,
                     (int)&v29);
  if ( v30 )
    result = (void *)v30();
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::extract_subprotocols(int a1, int a2, int a3, int a4)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::extract_subprotocols(a1, a2, a3, a4);
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


websocketpp::http::parser::response *__fastcall websocketpp::http::parser::response::response(websocketpp::http::parser::response *this)
{
  websocketpp::http::parser::response *v1; // r4@1
  char *v2; // r1@1
  _DWORD *v3; // r0@1
  int v4; // r2@1
  websocketpp::http::parser::response *result; // r0@3

  v1 = this;
  *(_DWORD *)this = &unk_28898CC;
  *((_DWORD *)this + 2) = 0;
  v2 = (char *)this + 8;
  *((_DWORD *)v2 + 1) = 0;
  *((_DWORD *)v2 + 2) = 0;
  *((_DWORD *)v2 + 3) = 0;
  *((_DWORD *)v2 + 4) = 0;
  *((_DWORD *)v2 + 2) = v2;
  *((_DWORD *)v2 + 3) = v2;
  *((_DWORD *)v2 + 5) = 0;
  *((_DWORD *)v2 + 6) = &unk_28898CC;
  *((_DWORD *)v2 + 7) = 0;
  *((_DWORD *)v2 + 8) = 32000000;
  *((_DWORD *)v2 + 9) = 0;
  *((_DWORD *)v2 + 10) = &unk_28898CC;
  *((_DWORD *)v2 + 11) = 0;
  v3 = j_operator new(0x10u);
  *v3 = &off_276D210;
  v3[1] = 1;
  v3[2] = 1;
  v3[3] = &unk_28898CC;
  v4 = (int)(v3 + 3);
  if ( !v3 )
    v4 = 0;
  *((_DWORD *)v1 + 14) = v4;
  *((_DWORD *)v1 + 15) = v3;
  result = v1;
  *((_DWORD *)v1 + 16) = 0;
  *((_DWORD *)v1 + 17) = 0;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy(int a1, int *a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  unsigned int *v5; // r0@1
  int v6; // r1@2
  int v7; // r6@4
  unsigned int v8; // r1@6
  unsigned int *v9; // r5@8
  int v10; // r5@12
  unsigned int v11; // r1@14
  unsigned int *v12; // r6@16
  int result; // r0@20
  int v14; // [sp+8h] [bp-18h]@1

  v3 = a1;
  v4 = a3;
  EntityInteraction::setInteractText((int *)(a1 + 100), a2);
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9transport4asio10connectionINS4_6config15asio_tls_client16transport_configEE10proxy_dataESaISC_EJEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(&v14);
  v5 = (unsigned int *)v14;
  if ( v14 )
  {
    v6 = (*(int (**)(void))(*(_DWORD *)v14 + 16))();
    v5 = (unsigned int *)v14;
  }
  else
    v6 = 0;
  v14 = 0;
  *(_DWORD *)(v3 + 104) = v6;
  v7 = *(_DWORD *)(v3 + 108);
  *(_DWORD *)(v3 + 108) = v5;
  if ( v7 )
    v5 = (unsigned int *)(v7 + 4);
    __dmb();
    do
      v8 = __ldrex(v5);
    while ( __strex(v8 - 1, v5) );
    if ( v8 == 1 )
    {
      v9 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      __dmb();
      do
        v5 = (unsigned int *)__ldrex(v9);
      while ( __strex((unsigned int)v5 - 1, v9) );
      if ( v5 == (unsigned int *)1 )
        v5 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
  v10 = v14;
    v5 = (unsigned int *)(v14 + 4);
      v11 = __ldrex(v5);
    while ( __strex(v11 - 1, v5) );
    if ( v11 == 1 )
      v12 = (unsigned int *)(v10 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        v5 = (unsigned int *)__ldrex(v12);
      while ( __strex((unsigned int)v5 - 1, v12) );
        v5 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  result = ((int (__fastcall *)(unsigned int *))byte_21E9640)(v5);
  *(_DWORD *)v4 = 0;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


char *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::client_handshake_request(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r8@1
  int v6; // r9@1
  int v7; // r6@1
  int *v8; // r7@1
  void *v9; // r0@1
  void *v10; // r0@2
  void *v11; // r0@3
  void *v12; // r0@4
  void *v13; // r0@5
  void *v14; // r0@6
  int v15; // r6@7
  int *v16; // r0@7
  void *v17; // r0@7
  void *v18; // r0@8
  int *v19; // r0@9
  void *v20; // r0@9
  void *v21; // r0@10
  int v22; // r9@12
  int *v23; // r4@12
  int *v24; // r8@12
  int v25; // t1@14
  int *v26; // r0@15
  void *v27; // r0@15
  void *v28; // r0@16
  void *v29; // r0@17
  int *v30; // r0@19
  void *v31; // r0@19
  void *v32; // r0@20
  char *result; // r0@21
  unsigned int *v34; // r1@23
  signed int v35; // r2@24
  unsigned int *v36; // r1@27
  signed int v37; // r2@28
  unsigned int *v38; // r1@31
  signed int v39; // r2@32
  unsigned int *v40; // r1@35
  signed int v41; // r2@36
  unsigned int *v42; // r1@39
  signed int v43; // r2@40
  unsigned int *v44; // r1@43
  signed int v45; // r2@44
  unsigned int *v46; // r1@47
  signed int v47; // r2@48
  unsigned int *v48; // r1@51
  signed int v49; // r2@52
  unsigned int *v50; // r1@55
  signed int v51; // r2@56
  unsigned int *v52; // r1@59
  signed int v53; // r2@60
  unsigned int *v54; // r1@63
  signed int v55; // r2@64
  unsigned int *v56; // r1@67
  signed int v57; // r2@68
  unsigned int *v58; // r1@71
  signed int v59; // r2@72
  unsigned int *v60; // r1@75
  signed int v61; // r2@76
  unsigned int *v62; // r1@79
  signed int v63; // r2@80
  int v64; // [sp+0h] [bp-158h]@9
  int v65; // [sp+4h] [bp-154h]@19
  int v66; // [sp+Ch] [bp-14Ch]@19
  int v67; // [sp+10h] [bp-148h]@15
  int v68; // [sp+18h] [bp-140h]@15
  void **v69; // [sp+1Ch] [bp-13Ch]@12
  void **v70; // [sp+20h] [bp-138h]@15
  int v71; // [sp+3Ch] [bp-11Ch]@18
  int v72; // [sp+44h] [bp-114h]@17
  void **v73; // [sp+48h] [bp-110h]@17
  int v74; // [sp+D0h] [bp-88h]@9
  int v75; // [sp+D8h] [bp-80h]@9
  int v76; // [sp+E0h] [bp-78h]@7
  int v77; // [sp+E8h] [bp-70h]@7
  int v78; // [sp+F0h] [bp-68h]@5
  int v79; // [sp+F8h] [bp-60h]@5
  int v80; // [sp+100h] [bp-58h]@3
  int v81; // [sp+108h] [bp-50h]@3
  int v82; // [sp+110h] [bp-48h]@2
  int v83; // [sp+118h] [bp-40h]@1
  unsigned __int8 v84[4]; // [sp+120h] [bp-38h]@19
  int v85; // [sp+124h] [bp-34h]@19
  int v86; // [sp+128h] [bp-30h]@19
  int v87; // [sp+12Ch] [bp-2Ch]@19
  RakNet *v88; // [sp+130h] [bp-28h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  v88 = _stack_chk_guard;
  sub_21E94B4((void **)&v83, "GET");
  j_websocketpp::http::parser::request::set_method(v7, &v83);
  v9 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
  {
    v34 = (unsigned int *)(v83 - 4);
    __dmb();
    do
      v35 = __ldrex(v34);
    while ( __strex(v35 - 1, v34) );
    if ( v35 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  }
  EntityInteraction::setInteractText((int *)(v7 + 60), (int *)(*v8 + 8));
  sub_21E94B4((void **)&v82, "HTTP/1.1");
  EntityInteraction::setInteractText((int *)v7, &v82);
  v10 = (void *)(v82 - 12);
  if ( (int *)(v82 - 12) != &dword_28898C0 )
    v36 = (unsigned int *)(v82 - 4);
      v37 = __ldrex(v36);
    while ( __strex(v37 - 1, v36) );
    if ( v37 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  sub_21E94B4((void **)&v81, "Upgrade");
  sub_21E94B4((void **)&v80, "websocket");
  j_websocketpp::http::parser::parser::append_header(v7, &v81, (const void **)&v80);
  v11 = (void *)(v80 - 12);
  if ( (int *)(v80 - 12) != &dword_28898C0 )
    v38 = (unsigned int *)(v80 - 4);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v12 = (void *)(v81 - 12);
  if ( (int *)(v81 - 12) != &dword_28898C0 )
    v40 = (unsigned int *)(v81 - 4);
      v41 = __ldrex(v40);
    while ( __strex(v41 - 1, v40) );
    if ( v41 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  sub_21E94B4((void **)&v79, "Connection");
  sub_21E94B4((void **)&v78, "Upgrade");
  j_websocketpp::http::parser::parser::append_header(v7, &v79, (const void **)&v78);
  v13 = (void *)(v78 - 12);
  if ( (int *)(v78 - 12) != &dword_28898C0 )
    v42 = (unsigned int *)(v78 - 4);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  v14 = (void *)(v79 - 12);
  if ( (int *)(v79 - 12) != &dword_28898C0 )
    v44 = (unsigned int *)(v79 - 4);
      v45 = __ldrex(v44);
    while ( __strex(v45 - 1, v44) );
    if ( v45 <= 0 )
      j_j_j_j__ZdlPv_9(v14);
  sub_21E94B4((void **)&v77, "Sec-WebSocket-Version");
  sub_21E94B4((void **)&v76, "13");
  v15 = v7 + 4;
  v16 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 v15,
                 &v77);
  EntityInteraction::setInteractText(v16, &v76);
  v17 = (void *)(v76 - 12);
  if ( (int *)(v76 - 12) != &dword_28898C0 )
    v46 = (unsigned int *)(v76 - 4);
      v47 = __ldrex(v46);
    while ( __strex(v47 - 1, v46) );
    if ( v47 <= 0 )
      j_j_j_j__ZdlPv_9(v17);
  v18 = (void *)(v77 - 12);
  if ( (int *)(v77 - 12) != &dword_28898C0 )
    v48 = (unsigned int *)(v77 - 4);
      v49 = __ldrex(v48);
    while ( __strex(v49 - 1, v48) );
    if ( v49 <= 0 )
      j_j_j_j__ZdlPv_9(v18);
  sub_21E94B4((void **)&v75, "Host");
  j_websocketpp::uri::get_host_port((websocketpp::uri *)&v74, *v8);
  v19 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 &v75);
  EntityInteraction::setInteractText(v19, &v74);
  v64 = v6;
  v20 = (void *)(v74 - 12);
  if ( (int *)(v74 - 12) != &dword_28898C0 )
    v50 = (unsigned int *)(v74 - 4);
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  v21 = (void *)(v75 - 12);
  if ( (int *)(v75 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v75 - 4);
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9(v21);
  if ( (unsigned int)*(_QWORD *)a5 != *(_QWORD *)a5 >> 32 )
    v22 = v5;
    sub_21D0A10((int)&v69, 16);
    v23 = *(int **)a5;
    sub_21CBF38((char *)&v69, **(_DWORD **)a5, *(_DWORD *)(**(_DWORD **)a5 - 12));
    v24 = v23 + 1;
    while ( v24 != *(int **)(a5 + 4) )
    {
      sub_21CBF38((char *)&v69, (int)", ", 2);
      v25 = *v24;
      ++v24;
      sub_21CBF38((char *)&v69, v25, *(_DWORD *)(v25 - 12));
    }
    sub_21E94B4((void **)&v68, "Sec-WebSocket-Protocol");
    sub_21CFED8(&v67, (int)&v70);
    v5 = v22;
    v26 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v15,
                   &v68);
    EntityInteraction::setInteractText(v26, &v67);
    v27 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v58 = (unsigned int *)(v67 - 4);
      __dmb();
      do
        v59 = __ldrex(v58);
      while ( __strex(v59 - 1, v58) );
      if ( v59 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
    v28 = (void *)(v68 - 12);
    if ( (int *)(v68 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v68 - 4);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    v69 = &off_26D3F44;
    v73 = &off_26D3F58;
    v70 = &off_27734E8;
    v29 = (void *)(v72 - 12);
    if ( (int *)(v72 - 12) != &dword_28898C0 )
      v62 = (unsigned int *)(v72 - 4);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 <= 0 )
        j_j_j_j__ZdlPv_9(v29);
    v70 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v71);
    sub_21B6560(&v73);
  *(_DWORD *)v84 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v85 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v86 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v87 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  sub_21E94B4((void **)&v66, "Sec-WebSocket-Key");
  j_websocketpp::base64_encode((websocketpp *)&v65, v84, 0x10u);
  v30 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 &v66);
  EntityInteraction::setInteractText(v30, &v65);
  v31 = (void *)(v65 - 12);
  if ( (int *)(v65 - 12) != &dword_28898C0 )
    v54 = (unsigned int *)(v65 - 4);
      v55 = __ldrex(v54);
    while ( __strex(v55 - 1, v54) );
    if ( v55 <= 0 )
      j_j_j_j__ZdlPv_9(v31);
  v32 = (void *)(v66 - 12);
  if ( (int *)(v66 - 12) != &dword_28898C0 )
    v56 = (unsigned int *)(v66 - 4);
      v57 = __ldrex(v56);
    while ( __strex(v57 - 1, v56) );
    if ( v57 <= 0 )
      j_j_j_j__ZdlPv_9(v32);
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v88);
  if ( _stack_chk_guard != v88 )
    j___stack_chk_fail_1((int)result);
  return result;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_uri(int a1, int a2, int a3)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_uri(a1, a2, a3);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::extract_subprotocols(int a1, int a2, int a3, int a4)
{
  int v4; // r8@1
  int v5; // r5@1
  int v6; // r4@1
  int v7; // r11@1
  int v8; // r0@1
  int v9; // r7@1
  int *v10; // r3@1
  int v11; // r4@3
  void *v12; // r0@3
  int v13; // r0@5
  int v14; // r4@5
  int v15; // r0@6
  int v16; // r1@6
  int v17; // r0@7
  int v18; // r1@7
  signed int v19; // r4@7
  void *v20; // r0@12
  char v21; // r0@14
  int v22; // r4@17
  int *v23; // r6@17
  unsigned int *v24; // r1@19
  signed int v25; // r2@20
  int *v26; // r0@23
  __int64 v27; // r6@28
  int *v28; // r4@29
  __int64 v29; // r0@30
  unsigned int *v30; // r1@36
  signed int v31; // r2@37
  int *v32; // r0@40
  unsigned int *v33; // r1@47
  signed int v34; // r2@48
  unsigned int *v35; // r1@51
  signed int v36; // r2@52
  int v37; // [sp+8h] [bp-40h]@5
  int *v38; // [sp+Ch] [bp-3Ch]@5
  int *v39; // [sp+10h] [bp-38h]@5
  int v40; // [sp+14h] [bp-34h]@5
  int v41; // [sp+1Ch] [bp-2Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a3;
  sub_21E94B4((void **)&v41, "Sec-WebSocket-Protocol");
  v7 = v6 + 4;
  v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v6 + 4,
         &v41);
  v9 = v6 + 8;
  v10 = (int *)(v8 + 20);
  if ( v8 == v6 + 8 )
    v10 = &dword_2880E54;
  v11 = *(_DWORD *)(*v10 - 12);
  v12 = (void *)(v41 - 12);
  if ( (int *)(v41 - 12) != &dword_28898C0 )
  {
    v33 = (unsigned int *)(v41 - 4);
    __dmb();
    do
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  }
  if ( !v11 )
    goto LABEL_45;
  v38 = 0;
  v39 = 0;
  v40 = 0;
  sub_21E94B4((void **)&v37, "Sec-WebSocket-Protocol");
  v13 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v7,
          &v37);
  v14 = v13;
  if ( v13 == v9 )
    v19 = 0;
  else
    v15 = *(_DWORD *)(v13 + 20);
    v16 = *(_DWORD *)(v15 - 12);
    if ( v16 )
    {
      v17 = j_websocketpp::http::parser::extract_parameters<__gnu_cxx::__normal_iterator<char const*,std::string>>(
              v15,
              (_BYTE *)(v16 + v15),
              (int)&v38);
      v18 = *(_DWORD *)(v14 + 20);
      v19 = 0;
      if ( v17 == v18 )
        v19 = 1;
    }
    else
  v20 = (void *)(v37 - 12);
  if ( (int *)(v37 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v37 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  if ( !v19 )
    v27 = *(_QWORD *)&v38;
    if ( v38 != v39 )
      v28 = v38;
      do
      {
        v29 = *(_QWORD *)(v5 + 4);
        if ( (_DWORD)v29 == HIDWORD(v29) )
        {
          j_std::vector<std::string,std::allocator<std::string>>::_M_emplace_back_aux<std::string const&>(
            (unsigned __int64 *)v5,
            v28);
        }
        else
          sub_21E8AF4((int *)v29, v28);
          *(_DWORD *)(v5 + 4) += 4;
        v28 += 7;
      }
      while ( (int *)HIDWORD(v27) != v28 );
      if ( (_DWORD)v27 != HIDWORD(v27) )
        do
          j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
            v27 + 4,
            *(_DWORD *)(v27 + 12));
          v32 = (int *)(*(_DWORD *)v27 - 12);
          if ( v32 != &dword_28898C0 )
          {
            v30 = (unsigned int *)(*(_DWORD *)v27 - 4);
            __dmb();
            do
              v31 = __ldrex(v30);
            while ( __strex(v31 - 1, v30) );
            if ( v31 <= 0 )
              j_j_j_j__ZdlPv_9(v32);
          }
          LODWORD(v27) = v27 + 28;
        while ( (_DWORD)v27 != HIDWORD(v27) );
        LODWORD(v27) = v38;
    if ( (_DWORD)v27 )
      j_operator delete((void *)v27);
LABEL_45:
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = ((int (*)(void))byte_21E9640)();
    return;
  v21 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v21 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  *(_DWORD *)v4 = 27;
  *(_DWORD *)(v4 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  v23 = v39;
  v22 = (int)v38;
  if ( v38 != v39 )
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
        v22 + 4,
        *(_DWORD *)(v22 + 12));
      v26 = (int *)(*(_DWORD *)v22 - 12);
      if ( v26 != &dword_28898C0 )
        v24 = (unsigned int *)(*(_DWORD *)v22 - 4);
        __dmb();
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 <= 0 )
          j_j_j_j__ZdlPv_9(v26);
      v22 += 28;
    while ( (int *)v22 != v23 );
    v22 = (int)v38;
  if ( v22 )
    j_operator delete((void *)v22);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_shutdown(int a1, int *a2, int a3, int *a4)
{
  int *v4; // r11@1
  int v5; // r9@1
  int v6; // r8@1
  int *v7; // r10@1
  unsigned int v8; // r4@2
  unsigned int v9; // r6@2
  signed int v10; // r1@2
  signed __int64 v11; // r0@7
  bool v12; // zf@7
  bool v13; // zf@10
  signed int v14; // r1@15
  unsigned __int64 v15; // kr28_8@22
  signed int v16; // r6@22
  unsigned int v17; // r3@22
  bool v18; // zf@31
  unsigned __int64 v19; // r0@36
  int v21; // r4@52
  int v22; // r2@54
  pthread_mutex_t *v23; // r0@55
  int v24; // [sp+0h] [bp-38h]@58
  __int64 v25; // [sp+8h] [bp-30h]@2

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *a4 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 92),
             1024,
             "async_shutdown cancelled");
  v9 = *(_QWORD *)(*a2 + 8) >> 32;
  v8 = *(_QWORD *)(*a2 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v25,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v10 = 0;
  if ( v8 + 2 < 3 )
    v10 = 1;
  if ( (__PAIR__(v9, v8) - 9223372036854775806LL) >> 32 )
    v10 = 0;
  if ( v10 )
  {
    v11 = -6442450945LL;
    v12 = (v8 ^ 0xFFFFFFFE | v9 ^ 0x7FFFFFFF) == 0;
    if ( v8 ^ 0xFFFFFFFE | v9 ^ 0x7FFFFFFF )
      v12 = __PAIR__(v25, HIDWORD(v25)) == -6442450945LL;
    if ( v12 )
      goto LABEL_50;
    LODWORD(v11) = 0x7FFFFFFF;
    HIDWORD(v11) = v9 ^ 0x7FFFFFFF | ~v8;
    v13 = HIDWORD(v11) == 0;
    if ( !HIDWORD(v11) )
      v13 = (HIDWORD(v25) ^ 0x7FFFFFFF | ~(_DWORD)v25) == 0;
    if ( v13 )
    {
      HIDWORD(v11) = -2;
    }
    v18 = (v9 ^ 0x80000000 | v8) == 0;
    if ( !(v9 ^ 0x80000000 | v8) )
      v18 = __PAIR__(v25, HIDWORD(v25)) == 0x80000000LL;
    if ( v18 )
      v11 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v25 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v25 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      LODWORD(v11) = (__PAIR__(v9, v8) - v25) >> 32;
      HIDWORD(v11) = v8 - v25;
      v15 = __PAIR__(v9, v8) - v25 + 2;
      v16 = 0;
      v17 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v17 = 1;
      if ( (unsigned int)v15 > 2 )
        v16 = 1;
        v16 = v17;
      if ( v16 )
      {
        if ( (signed int)v11 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v5 + 92),
                   1024,
                   "async_shutdown cancelled");
        goto LABEL_52;
      }
    if ( __PAIR__(v25, HIDWORD(v25)) == -6442450945LL )
  v19 = __PAIR__(v9, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v19) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v19) = 1;
  if ( HIDWORD(v19) )
    LODWORD(v19) = 0;
  if ( (_DWORD)v19 )
    goto LABEL_65;
  if ( __PAIR__(v25, HIDWORD(v25)) == 0x80000000LL )
    v11 = -2147483649LL;
    goto LABEL_50;
  LODWORD(v11) = 0x7FFFFFFF;
  if ( !(HIDWORD(v25) ^ 0x7FFFFFFF | ~(_DWORD)v25) )
    v11 = 0x80000000LL;
  HIDWORD(v11) = -2;
  v9 = (__PAIR__(v9, v8) - v25) >> 32;
  v8 -= v25;
  if ( __PAIR__(v9, v8) != 9223372036854775806LL )
LABEL_65:
    if ( !(v9 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v11) = -1;
    if ( !(v8 | v9 ^ 0x80000000) )
      HIDWORD(v11) = v8 | v9 ^ 0x80000000;
      LODWORD(v11) = 2147483648;
LABEL_50:
  if ( v11 == 0x80000000LL )
LABEL_52:
  v21 = *v7;
  sub_21B09F0();
  if ( *(_BYTE *)(v21 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v21 + 52),
      *(_DWORD *)v21 + 20,
      v21 + 20,
      -1);
    *(_BYTE *)(v21 + 16) = 0;
  LODWORD(v25) = 0;
  HIDWORD(v25) = ((int (*)(void))byte_21E9640)();
  v22 = *v4;
  if ( *v4 )
    if ( v22 != 107 )
      j_websocketpp::transport::asio::tls_socket::connection::translate_ec((int)&v24, v5, v22, (void *)v4[1]);
      v25 = *(_QWORD *)&v24;
      if ( v24 != 8 )
        j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
          v5,
          4,
          "asio async_shutdown",
          v4);
    v23 = *(pthread_mutex_t **)(v5 + 92);
    if ( *((_BYTE *)&v23->__align + 5) & 4 )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        v23,
        1024,
        "asio con handle_async_shutdown");
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, __int64 *))(v6 + 12))(v6, &v25);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_request(int a1)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_request(a1);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(void **a1, int a2)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::get_remote_endpoint(
    a1,
    a2);
}


void *__fastcall websocketpp::processor::hybi07<websocketpp::config::asio_tls_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_client>::read_handshake(int a1, unsigned int a2)
{
  unsigned int v2; // r11@1
  int v3; // r5@1
  int v4; // r7@1
  int v5; // r9@2
  int *v6; // r10@2
  unsigned int v7; // r0@3
  unsigned int *v8; // r4@3
  unsigned int v9; // r1@4
  int v10; // r11@7
  unsigned int v11; // r0@8
  unsigned int v12; // r0@10
  unsigned int *v13; // r6@12
  unsigned int v14; // r0@13
  unsigned int v15; // r0@17
  unsigned int v16; // r0@19
  unsigned int *v17; // r6@21
  unsigned int v18; // r0@22
  _DWORD *v19; // r0@25
  __int64 v20; // r0@25
  int v21; // r6@25
  unsigned int *v22; // r0@26
  unsigned int v23; // r1@27
  unsigned int *v24; // r4@29
  unsigned int v25; // r0@30
  int v26; // r6@33
  unsigned int *v27; // r0@34
  unsigned int v28; // r1@35
  unsigned int *v29; // r4@37
  unsigned int v30; // r0@38
  int v31; // r6@44
  unsigned int v32; // r0@45
  unsigned int *v33; // r4@45
  unsigned int v34; // r1@46
  int v35; // r8@49
  unsigned int v36; // r0@50
  unsigned int v37; // r0@52
  unsigned int *v38; // r7@54
  unsigned int v39; // r0@55
  unsigned int v40; // r0@59
  unsigned int v41; // r0@61
  unsigned int *v42; // r7@63
  unsigned int v43; // r0@64
  _DWORD *v44; // r0@67
  __int64 v45; // r2@67
  int result; // r0@67
  unsigned int v54; // [sp+8h] [bp-50h]@3
  _DWORD *v55; // [sp+Ch] [bp-4Ch]@67
  int (*v56)(void); // [sp+14h] [bp-44h]@67
  int (__fastcall *v57)(int *); // [sp+18h] [bp-40h]@67
  _DWORD *v58; // [sp+1Ch] [bp-3Ch]@25
  void (*v59)(void); // [sp+24h] [bp-34h]@25
  int (__fastcall *v60)(int *); // [sp+28h] [bp-30h]@25
  char v61; // [sp+2Ch] [bp-2Ch]@25
  int v62; // [sp+30h] [bp-28h]@25

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection read");
  v4 = *(_DWORD *)(v3 + 2484);
  if ( v4 <= 0 )
  {
    v6 = (int *)(v3 + 4);
  }
  else
    v5 = *(_DWORD *)(v3 + 4);
    if ( !v5 )
      goto LABEL_70;
    v54 = v2;
    v7 = *(_DWORD *)(v5 + 4);
    v8 = (unsigned int *)(v5 + 4);
    do
    {
      v9 = v7;
      if ( !v7 )
        goto LABEL_70;
      __dmb();
      v7 = __ldrex(v8);
    }
    while ( v7 != v9 || __strex(v9 + 1, v8) );
    __dmb();
    v10 = *(_DWORD *)v3;
      v11 = __ldrex(v8);
    while ( __strex(v11 + 1, v8) );
      v12 = __ldrex(v8);
    while ( __strex(v12 - 1, v8) );
    if ( v12 == 1 )
      v13 = (unsigned int *)(v5 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v5 + 8))(v5);
      do
        v14 = __ldrex(v13);
      while ( __strex(v14 - 1, v13) );
      if ( v14 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v5 + 12))(v5);
      v15 = __ldrex(v8);
    while ( __strex(v15 + 1, v8) );
      v16 = __ldrex(v8);
    while ( __strex(v16 - 1, v8) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v5 + 8);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
    v19 = j_operator new(0x10u);
    *v19 = websocketpp::connection<websocketpp::config::asio_client>::handle_open_handshake_timeout;
    v19[1] = 0;
    v19[2] = v10;
    v19[3] = v5;
    v58 = v19;
    v59 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
    v60 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
      (int)&v61,
      v3,
      v4,
      (int)&v58);
    v20 = *(_QWORD *)&v61;
    *(_DWORD *)&v61 = 0;
    v62 = 0;
    v2 = v54;
    *(_DWORD *)(v3 + 18928) = v20;
    v21 = *(_DWORD *)(v3 + 18932);
    *(_DWORD *)(v3 + 18932) = HIDWORD(v20);
    if ( v21 )
      v22 = (unsigned int *)(v21 + 4);
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 == 1 )
      {
        v24 = (unsigned int *)(v21 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 8))(v21);
        __dmb();
        do
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 12))(v21);
      }
    v26 = v62;
    if ( v62 )
      v27 = (unsigned int *)(v62 + 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        v29 = (unsigned int *)(v26 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
    if ( v59 )
      v59();
  v31 = *v6;
  if ( !*v6 )
LABEL_70:
    j_std::__throw_bad_weak_ptr();
  v32 = *(_DWORD *)(v31 + 4);
  v33 = (unsigned int *)(v31 + 4);
  do
    v34 = v32;
    if ( !v32 )
    v32 = __ldrex(v33);
  while ( v32 != v34 || __strex(v34 + 1, v33) );
  __dmb();
  v35 = *(_DWORD *)v3;
    v36 = __ldrex(v33);
  while ( __strex(v36 + 1, v33) );
    v37 = __ldrex(v33);
  while ( __strex(v37 - 1, v33) );
  if ( v37 == 1 )
    v38 = (unsigned int *)(v31 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 8))(v31);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 12))(v31);
    v40 = __ldrex(v33);
  while ( __strex(v40 + 1, v33) );
    v41 = __ldrex(v33);
  while ( __strex(v41 - 1, v33) );
  if ( v41 == 1 )
    v42 = (unsigned int *)(v31 + 8);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 == 1 )
  v44 = j_operator new(0x10u);
  *v44 = websocketpp::connection<websocketpp::config::asio_client>::handle_read_handshake;
  v44[1] = 0;
  v44[2] = v35;
  v44[3] = v31;
  v55 = v44;
  v56 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
  v57 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
  LODWORD(v45) = v3 + 2516;
  HIDWORD(v45) = 0x4000;
  result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
             v3,
             v2,
             v45,
             (int)&v55);
  if ( v56 )
    result = v56();
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_read(int a1, int a2)
{
  int v2; // r7@1
  int v3; // r4@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r6@3
  unsigned int v6; // r9@4
  int v7; // r5@4
  __int64 *v8; // r10@5
  int v9; // r8@5
  unsigned int v10; // r0@5
  unsigned int *v11; // r6@5
  unsigned int v12; // r1@6
  int v13; // r5@11
  char v14; // r0@13
  int v15; // r11@9
  unsigned int v16; // r0@19
  unsigned int v17; // r0@21
  unsigned int *v18; // r7@23
  unsigned int v19; // r0@24
  void (__fastcall *v20)(__int64 *, int, signed int); // r3@27
  int v21; // r0@28
  void (*v22)(void); // r1@28
  __int64 v23; // r2@28
  __int64 v24; // r2@30
  int v25; // r1@30
  int v26; // r4@30
  unsigned int *v27; // r0@31
  unsigned int v28; // r1@32
  unsigned int *v29; // r6@34
  unsigned int v30; // r0@35
  int v31; // r4@40
  unsigned int *v32; // r0@41
  unsigned int v33; // r1@42
  unsigned int *v34; // r5@44
  unsigned int v35; // r0@45
  void *v36; // r0@50
  unsigned int *v37; // r1@52
  signed int v38; // r2@53
  __int64 v39; // [sp+0h] [bp-80h]@27
  __int64 v40; // [sp+8h] [bp-78h]@28
  void (*v41)(void); // [sp+10h] [bp-70h]@27
  int v42; // [sp+14h] [bp-6Ch]@28
  int v43; // [sp+18h] [bp-68h]@30
  int v44; // [sp+1Ch] [bp-64h]@30
  __int64 v45; // [sp+20h] [bp-60h]@30
  __int64 v46; // [sp+28h] [bp-58h]@30
  __int64 v47; // [sp+30h] [bp-50h]@30
  void (*v48)(void); // [sp+38h] [bp-48h]@30
  int v49; // [sp+3Ch] [bp-44h]@30
  int v50; // [sp+40h] [bp-40h]@30
  int v51; // [sp+44h] [bp-3Ch]@30
  int v52; // [sp+4Ch] [bp-34h]@4
  int v53; // [sp+50h] [bp-30h]@16
  void *v54; // [sp+54h] [bp-2Ch]@16

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection proxy_read");
  v5 = *(_DWORD *)(v2 + 60);
  if ( v5 )
  {
    v6 = *(_DWORD *)(v2 + 8);
    sub_21E94B4((void **)&v52, "\r\n\r\n");
    v7 = *(_DWORD *)(v2 + 4);
    if ( !v7 )
      j_std::__throw_bad_weak_ptr();
    v8 = *(__int64 **)(v2 + 72);
    v9 = v5 + 144;
    v10 = *(_DWORD *)(v7 + 4);
    v11 = (unsigned int *)(v7 + 4);
    do
    {
      v12 = v10;
      if ( !v10 )
        j_std::__throw_bad_weak_ptr();
      __dmb();
      v10 = __ldrex(v11);
    }
    while ( v10 != v12 || __strex(v12 + 1, v11) );
    __dmb();
    v15 = *(_DWORD *)v2;
      v16 = __ldrex(v11);
    while ( __strex(v16 + 1, v11) );
      v17 = __ldrex(v11);
    while ( __strex(v17 - 1, v11) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      do
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    LODWORD(v39) = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_read;
    HIDWORD(v39) = 0;
    v41 = 0;
    v20 = *(void (__fastcall **)(__int64 *, int, signed int))(v3 + 8);
    if ( v20 )
      v20(&v40, v3, 2);
      v21 = *(_DWORD *)(v3 + 12);
      v42 = *(_DWORD *)(v3 + 12);
      v22 = *(void (**)(void))(v3 + 8);
      v41 = *(void (**)(void))(v3 + 8);
      v23 = v39;
    else
      HIDWORD(v23) = 0;
      v21 = v42;
      LODWORD(v23) = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_read;
      v22 = 0;
    v43 = v15;
    v44 = v7;
    v45 = *v8;
    v46 = v23;
    v24 = v40;
    v40 = v47;
    v47 = v24;
    v48 = v22;
    v25 = v49;
    v49 = v21;
    v50 = v15;
    v44 = 0;
    v51 = v7;
    *(_QWORD *)&v42 = (unsigned int)v25;
    j_boost::asio::async_read_until<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::allocator<char>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
      __PAIR__(v9, v6),
      &v52,
      (int)&v45);
    v26 = v51;
    if ( v51 )
      v27 = (unsigned int *)(v51 + 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
      {
        v29 = (unsigned int *)(v26 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
        __dmb();
        do
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      }
    if ( v48 )
      v48();
    v31 = v44;
    if ( v44 )
      v32 = (unsigned int *)(v44 + 4);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        v34 = (unsigned int *)(v31 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 8))(v31);
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v31 + 12))(v31);
    if ( v41 )
      v41();
    v36 = (void *)(v52 - 12);
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v37 = (unsigned int *)(v52 - 4);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v36);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v2 + 52),
      2,
      "assertion failed: !m_proxy_data in asio::connection::proxy_read");
    v13 = *(_DWORD *)(*(_DWORD *)(v2 + 60) + 196);
    sub_21B09F0();
    if ( *(_BYTE *)(v13 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v13 + 52),
        *(_DWORD *)v13 + 20,
        v13 + 20,
        -1);
      *(_BYTE *)(v13 + 16) = 0;
    v14 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v14 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v53 = 1;
    v54 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v3 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v3 + 12))(v3, &v53);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_close_handshake_timeout(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  unsigned __int64 *v3; // r5@1
  char v4; // r0@1
  unsigned __int64 v5; // kr00_8@4
  bool v6; // zf@4
  pthread_mutex_t *v7; // r5@7
  const void **v8; // r0@8
  int v9; // r7@8
  void *v10; // r0@9
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  char v13; // r0@15
  unsigned int *v14; // r1@20
  signed int v15; // r2@21
  signed int v16; // [sp+0h] [bp-28h]@18
  void *v17; // [sp+4h] [bp-24h]@18
  int v18; // [sp+8h] [bp-20h]@8
  const void *v19; // [sp+Ch] [bp-1Ch]@8

  v2 = a1;
  v3 = a2;
  v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
  __dmb();
  if ( !(v4 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
  {
    websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
  }
  v5 = *v3;
  v6 = *v3 >> 32 == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
  if ( (_UNKNOWN *)(*v3 >> 32) == &websocketpp::transport::error::get_category(void)::instance )
    v6 = (_DWORD)v5 == 5;
  if ( v6 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v2 + 19196),
      1024,
      "asio close handshake timer cancelled");
  else
    v7 = *(pthread_mutex_t **)(v2 + 19196);
    if ( (_DWORD)v5 )
    {
      (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v5) + 12))(&v18);
      v8 = sub_21E82D8(
             (const void **)&v18,
             0,
             (unsigned int)"asio open handle_close_handshake_timeout error: ",
             (_BYTE *)0x30);
      v19 = *v8;
      v9 = (int)v19;
      *v8 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, (int *)&v19);
      if ( (int *)(v9 - 12) != &dword_28898C0 )
      {
        v14 = (unsigned int *)(v9 - 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v9 - 12));
      }
      v10 = (void *)(v18 - 12);
      if ( (int *)(v18 - 12) != &dword_28898C0 )
        v11 = (unsigned int *)(v18 - 4);
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
    }
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v2 + 19196),
        1024,
        "asio close handshake timer expired");
      v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v13 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v16 = 23;
      v17 = &websocketpp::error::get_category(void)::instance;
      j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v2, (unsigned __int64 *)&v16);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy_basic_auth(int a1, int *a2, const void **a3, int a4)
{
  int v4; // r5@1
  int v5; // r9@1
  const void **v6; // r6@1
  int *v7; // r0@2
  const void **v8; // r0@2
  const unsigned __int8 *v9; // r7@2
  _DWORD *v10; // r6@2
  int *v11; // r6@2
  unsigned int v12; // t1@2
  const void **v13; // r0@2
  void *v14; // r0@2
  void *v15; // r0@4
  int v16; // r5@5
  int *v17; // r0@5
  void *v18; // r0@5
  int v19; // r0@6
  char *v20; // r0@6
  char v21; // r0@8
  unsigned int *v22; // r1@12
  signed int v23; // r2@13
  unsigned int *v24; // r0@16
  signed int v25; // r1@17
  unsigned int *v26; // r1@20
  signed int v27; // r2@21
  unsigned int *v28; // r1@24
  signed int v29; // r2@25
  unsigned int *v30; // r1@28
  signed int v31; // r2@29
  int v32; // [sp+8h] [bp-30h]@5
  int v33; // [sp+Ch] [bp-2Ch]@2
  int v34; // [sp+10h] [bp-28h]@2
  char *v35; // [sp+14h] [bp-24h]@2

  v4 = a1;
  v5 = a4;
  v6 = a3;
  if ( *(_DWORD *)(a1 + 60) )
  {
    v7 = sub_21E8AF4(&v33, a2);
    sub_21E7408((const void **)v7, ":", 1u);
    v8 = sub_21E72F0((const void **)&v33, v6);
    v9 = (const unsigned __int8 *)*v8;
    v10 = *v8;
    *v8 = &unk_28898CC;
    v12 = *(v10 - 3);
    v11 = v10 - 3;
    j_websocketpp::base64_encode((websocketpp *)&v34, v9, v12);
    v13 = sub_21E82D8((const void **)&v34, 0, (unsigned int)"Basic ", (_BYTE *)6);
    v35 = (char *)*v13;
    *v13 = &unk_28898CC;
    v14 = (void *)(v34 - 12);
    if ( (int *)(v34 - 12) != &dword_28898C0 )
    {
      v22 = (unsigned int *)(v34 - 4);
      __dmb();
      do
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    }
    if ( v11 != &dword_28898C0 )
      v24 = (unsigned int *)(v9 - 4);
        v25 = __ldrex(v24);
      while ( __strex(v25 - 1, v24) );
      if ( v25 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    v15 = (void *)(v33 - 12);
    if ( (int *)(v33 - 12) != &dword_28898C0 )
      v26 = (unsigned int *)(v33 - 4);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v16 = *(_DWORD *)(v4 + 60);
    sub_21E94B4((void **)&v32, "Proxy-Authorization");
    v17 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v16 + 4,
                   &v32);
    EntityInteraction::setInteractText(v17, (int *)&v35);
    v18 = (void *)(v32 - 12);
    if ( (int *)(v32 - 12) != &dword_28898C0 )
      v28 = (unsigned int *)(v32 - 4);
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    v19 = ((int (*)(void))byte_21E9640)();
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = v19;
    v20 = v35 - 12;
    if ( (int *)(v35 - 12) != &dword_28898C0 )
      v30 = (unsigned int *)(v35 - 4);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
  }
  else
    v21 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 9;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_pong(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_response(a1, a2);
}


unsigned int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::consume(int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // r11@0
  int v5; // r9@1
  unsigned int v6; // r6@1
  int v7; // r8@1
  int v8; // r7@1
  int v9; // r0@1
  unsigned int v10; // r5@1
  int v11; // r0@1
  int v12; // r0@6
  signed int v13; // r1@7
  unsigned int v14; // r0@8
  int v15; // r4@8
  __int64 v16; // r0@12
  int v17; // r1@13
  int v18; // r0@13
  unsigned int v19; // r3@14
  signed int v20; // r0@17
  unsigned int v21; // r0@19
  unsigned int v22; // r2@19
  signed int v23; // r0@25
  char v24; // r1@28
  int v25; // r0@36
  int v26; // r0@38
  signed int v27; // r2@39
  int v28; // r0@39
  signed int v29; // r1@49
  unsigned int v30; // r0@49
  unsigned int v31; // r2@53
  signed int v32; // r0@54
  int v33; // r12@55
  int v34; // r0@56
  const void **v35; // r0@57
  int v36; // t1@57
  signed int v37; // r1@58
  int v38; // r1@59
  signed int v39; // r1@60
  int v40; // r0@60
  __int64 v41; // kr00_8@65
  unsigned int *v42; // r2@66
  unsigned int v43; // r3@67
  int v44; // r4@69
  unsigned int *v45; // r0@70
  unsigned int v46; // r1@71
  unsigned int *v47; // r10@73
  unsigned int v48; // r0@74
  int v49; // r10@77
  unsigned int *v50; // r0@78
  unsigned int v51; // r1@79
  unsigned int *v52; // r4@81
  unsigned int v53; // r0@82
  int v54; // r0@85
  signed int v55; // r0@87
  int v56; // r12@88
  signed int v57; // r2@89
  int v58; // r1@89
  signed int v59; // r1@95
  int v60; // r0@95
  __int64 v61; // kr08_8@100
  unsigned int *v62; // r2@101
  unsigned int v63; // r3@102
  int v64; // r4@104
  unsigned int *v65; // r0@105
  unsigned int v66; // r1@106
  unsigned int *v67; // r10@108
  unsigned int v68; // r0@109
  int v69; // r10@112
  unsigned int *v70; // r0@113
  unsigned int v71; // r1@114
  unsigned int *v72; // r4@116
  unsigned int v73; // r0@117
  char v74; // r0@124
  char v76; // r0@129
  int (__fastcall **v77)(_DWORD); // r0@132
  char v78; // r0@133
  unsigned int v79; // r1@137
  signed int v80; // r2@137
  char v81; // r0@138
  int (__fastcall *v82)(_DWORD); // r0@142
  int v83; // [sp+8h] [bp-60h]@73
  int v84; // [sp+8h] [bp-60h]@108
  _WORD *v85; // [sp+14h] [bp-54h]@2
  int *v86; // [sp+18h] [bp-50h]@2
  char v87; // [sp+20h] [bp-48h]@87
  int v88; // [sp+24h] [bp-44h]@100
  char v89; // [sp+28h] [bp-40h]@54
  int v90; // [sp+2Ch] [bp-3Ch]@65
  __int64 v91; // [sp+30h] [bp-38h]@13
  char v92; // [sp+38h] [bp-30h]@38

  v5 = a4;
  v6 = a3;
  v7 = a2;
  v8 = a1;
  v9 = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = v9;
  v10 = 0;
  v11 = *(_DWORD *)(v8 + 92);
  if ( (v11 & 0xFFFFFFFE) == 4 )
    return v10;
  v85 = (_WORD *)(v8 + 76);
  v86 = (int *)(v8 + 32);
  v10 = 0u;
  while ( 2 )
  {
    if ( v10 >= v6 && *(_DWORD *)(v8 + 24) )
      return v10;
    switch ( v11 )
    {
      case 0:
        v12 = *(_DWORD *)(v8 + 24);
        if ( v10 == v6 )
        {
          v13 = 0;
        }
        else
          if ( !v12 )
            goto LABEL_36;
          v24 = *(_BYTE *)(v7 + v10);
          if ( v6 - v10 < 2 )
          {
            if ( v12 == 2 )
            {
              *(_BYTE *)(v8 + 12) = v24;
              *(_DWORD *)(v8 + 24) = 1;
              ++v10;
              goto LABEL_122;
            }
          }
          else if ( v12 == 2 )
            *(_BYTE *)(v8 + 12) = v24;
            *(_BYTE *)(v8 + 13) = *(_BYTE *)(v7 + v10 + 1);
            *(_DWORD *)(v8 + 24) = 0;
            v10 += 2;
          --v12;
          *(_BYTE *)(v8 + 13) = v24;
          v13 = 1;
          *(_DWORD *)(v8 + 24) = v12;
        v10 += v13;
        if ( v12 )
          goto LABEL_122;
LABEL_36:
        v25 = 0;
        if ( !*(_DWORD *)(v8 + 32) )
          v25 = 1;
        j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_basic_header(
          (int)&v92,
          v8,
          v8 + 12,
          *(_BYTE *)(v8 + 5),
          v25);
        v26 = *(_DWORD *)&v92;
        *(_QWORD *)v5 = *(_QWORD *)&v92;
        if ( !v26 )
          v27 = 0;
          *(_DWORD *)(v8 + 92) = 1;
          *(_DWORD *)(v8 + 28) = 0;
          v28 = *(_BYTE *)(v8 + 13);
          if ( (v28 & 0x7F) == 127 )
            v27 = 8;
          if ( (v28 & 0x7F) == 126 )
            v27 = 2;
          if ( v28 < 0 )
            v27 |= 4u;
          *(_DWORD *)(v8 + 24) = v27;
        return v10;
      case 1:
        v14 = *(_DWORD *)(v8 + 24);
        v15 = v6 - v10;
        if ( v14 <= v6 - v10 )
          v15 = *(_DWORD *)(v8 + 24);
        if ( v15 )
          j___aeabi_memmove_1(*(_DWORD *)(v8 + 28) + v8 + 76, v7 + v10);
          v14 = *(_DWORD *)(v8 + 24);
        v10 += v15;
        LODWORD(v16) = v14 - v15;
        HIDWORD(v16) = *(_DWORD *)(v8 + 28) + v15;
        *(_QWORD *)(v8 + 24) = v16;
        if ( (_DWORD)v16 )
        v17 = *(_DWORD *)(v8 + 84);
        v4 = v4 & 0xFFFF0000 | *(_WORD *)(v8 + 12);
        j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_extended_header(
          (int)&v91,
          v4,
          *(_DWORD *)(v8 + 76),
          *(_DWORD *)(v8 + 80));
        v18 = v91;
        *(_QWORD *)v5 = v91;
        if ( v18 )
          return v10;
        *(_DWORD *)(v8 + 92) = 3;
        v19 = *(_BYTE *)(v8 + 13) & 0x7F;
        if ( v19 >= 0x7E )
          if ( (unsigned __int8)v19 == 126 )
            v19 = __rev(*v85) >> 16;
          else
            v29 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
            v19 = *(_DWORD *)v85;
            v30 = *(_DWORD *)(v8 + 80);
            if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
              v29 = 1;
              websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
            if ( v29 != 2 )
              v19 = __rev(v30);
        *(_DWORD *)(v8 + 24) = v19;
        v31 = *(_BYTE *)(v8 + 12) & 0xF;
        if ( v31 >= 8 )
          j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
            (int)&v89,
            *(_DWORD *)(v8 + 16),
            v31,
            v19);
          v32 = *(_BYTE *)(v8 + 13);
          if ( v32 <= -1 )
            v39 = 0;
            v40 = v32 & 0x7F;
            if ( v40 == 127 )
              v39 = 8;
            if ( v40 == 126 )
              v39 = 2;
            v33 = *(_DWORD *)(v8 + v39 + 76);
            v33 = 0;
          v41 = *(_QWORD *)&v89;
          if ( v90 )
            v42 = (unsigned int *)(v90 + 4);
            __dmb();
            do
              v43 = __ldrex(v42);
            while ( __strex(v43 + 1, v42) );
          *(_DWORD *)(v8 + 52) = v41;
          v44 = *(_DWORD *)(v8 + 56);
          *(_DWORD *)(v8 + 56) = HIDWORD(v41);
          if ( v44 )
            v45 = (unsigned int *)(v44 + 4);
              v46 = __ldrex(v45);
            while ( __strex(v46 - 1, v45) );
            if ( v46 == 1 )
              v83 = v33;
              v47 = (unsigned int *)(v44 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
              __dmb();
              do
                v48 = __ldrex(v47);
              while ( __strex(v48 - 1, v47) );
              v33 = v83;
              if ( v48 == 1 )
              {
                (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
                v33 = v83;
              }
          *(_DWORD *)(v8 + 60) = v33;
          *(_DWORD *)(v8 + 64) = 0;
          *(_DWORD *)(v8 + 68) = 0;
          v49 = v90;
            v50 = (unsigned int *)(v90 + 4);
              v51 = __ldrex(v50);
            while ( __strex(v51 - 1, v50) );
            if ( v51 == 1 )
              v52 = (unsigned int *)(v49 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 8))(v49);
                v53 = __ldrex(v52);
              while ( __strex(v53 - 1, v52) );
              if ( v53 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 12))(v49);
          v54 = v8 + 52;
          goto LABEL_121;
        v34 = *v86;
        if ( *v86 )
          v36 = *(_DWORD *)(v34 + 16);
          v35 = (const void **)(v34 + 16);
          if ( *(_DWORD *)(v36 - 12) + v19 <= *(_DWORD *)(v8 + 8) )
            v37 = *(_BYTE *)(v8 + 13);
            if ( v37 <= -1 )
              v57 = 0;
              v58 = v37 & 0x7F;
              if ( v58 == 127 )
                v57 = 8;
              if ( v58 == 126 )
                v57 = 2;
              v38 = *(_DWORD *)(v8 + v57 + 76);
            else
              v38 = 0;
            *(_DWORD *)(v8 + 40) = v38;
            sub_21E6FCC(v35, *((_DWORD *)*v35 - 3) + v19);
            goto LABEL_120;
          v76 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          __dmb();
          if ( !(v76 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          v77 = &GLOBAL_OFFSET_TABLE_;
          if ( v19 <= *(_DWORD *)(v8 + 8) )
            j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
              (int)&v87,
              *(_DWORD *)(v8 + 16),
              v31,
              v19);
            v55 = *(_BYTE *)(v8 + 13);
            if ( v55 <= -1 )
              v59 = 0;
              v60 = v55 & 0x7F;
              if ( v60 == 127 )
                v59 = 8;
              if ( v60 == 126 )
                v59 = 2;
              v56 = *(_DWORD *)(v8 + v59 + 76);
              v56 = 0;
            v61 = *(_QWORD *)&v87;
            if ( v88 )
              v62 = (unsigned int *)(v88 + 4);
                v63 = __ldrex(v62);
              while ( __strex(v63 + 1, v62) );
            *(_DWORD *)(v8 + 32) = v61;
            v64 = *(_DWORD *)(v8 + 36);
            *(_DWORD *)(v8 + 36) = HIDWORD(v61);
            if ( v64 )
              v65 = (unsigned int *)(v64 + 4);
                v66 = __ldrex(v65);
              while ( __strex(v66 - 1, v65) );
              if ( v66 == 1 )
                v84 = v56;
                v67 = (unsigned int *)(v64 + 8);
                (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 8))(v64);
                __dmb();
                do
                  v68 = __ldrex(v67);
                while ( __strex(v68 - 1, v67) );
                v56 = v84;
                if ( v68 == 1 )
                {
                  (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 12))(v64);
                  v56 = v84;
                }
            *(_DWORD *)(v8 + 40) = v56;
            *(_DWORD *)(v8 + 44) = 0;
            *(_DWORD *)(v8 + 48) = 0;
            v69 = v88;
              v70 = (unsigned int *)(v88 + 4);
                v71 = __ldrex(v70);
              while ( __strex(v71 - 1, v70) );
              if ( v71 == 1 )
                v72 = (unsigned int *)(v69 + 8);
                (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 8))(v69);
                  v73 = __ldrex(v72);
                while ( __strex(v73 - 1, v72) );
                if ( v73 == 1 )
                  (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 12))(v69);
                  v54 = v8 + 32;
LABEL_121:
                  *(_DWORD *)(v8 + 72) = v54;
                  goto LABEL_122;
LABEL_120:
            v54 = v8 + 32;
            goto LABEL_121;
          v78 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          if ( !(v78 & 1)
        v79 = 0x3FFFFD21u;
        v80 = 4;
        goto LABEL_142;
      case 2:
        v20 = 3;
        goto LABEL_18;
      case 3:
        v21 = *(_DWORD *)(v8 + 24);
        v22 = v6 - v10;
        if ( v6 - v10 >= v21 )
          v22 = *(_DWORD *)(v8 + 24);
        if ( !v22 )
          goto LABEL_24;
        v10 += j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_payload_bytes(
                 v8,
                 (char *)(v7 + v10),
                 v22,
                 v5);
        if ( *(_DWORD *)v5 )
LABEL_24:
        if ( v21 )
        v23 = *(_BYTE *)(v8 + 12);
        if ( v23 > -1 )
          *(_DWORD *)(v8 + 92) = 0;
          *(_DWORD *)(v8 + 24) = 2;
          *(_WORD *)(v8 + 12) = 0;
          *(_DWORD *)(v8 + 84) = 0;
          *(_DWORD *)(v8 + 80) = 0;
          *(_DWORD *)v85 = 0;
LABEL_122:
          v11 = *(_DWORD *)(v8 + 92);
          if ( (v11 & 0xFFFFFFFE) == 4 )
            return v10;
          continue;
        if ( (v23 & 0xF) != 1 || !*(_DWORD *)(*(_DWORD *)(v8 + 72) + 12) )
          v20 = 4;
LABEL_18:
          *(_DWORD *)(v8 + 92) = v20;
        v81 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v81 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        v80 = 16;
        v77 = &GLOBAL_OFFSET_TABLE_;
LABEL_142:
        v82 = v77[v79];
        *(_DWORD *)v5 = v80;
        *(_DWORD *)(v5 + 4) = v82;
      default:
        v74 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v74 & 1)
        v10 = 0;
        *(_DWORD *)v5 = 1;
        *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
    }
  }
}


void __fastcall websocketpp::http::exception::~exception(int a1)
{
  websocketpp::http::exception::~exception(a1);
}


void __fastcall websocketpp::transport::asio::error::category::~category(websocketpp::transport::asio::error::category *this)
{
  websocketpp::transport::asio::error::category::~category(this);
}


void **__fastcall websocketpp::uri::uri(void **a1, int a2, int *a3, const void **a4)
{
  void **v4; // r4@1
  int v5; // r5@1
  int *v6; // r6@1
  const char *v7; // r1@1
  const void **v8; // r7@1
  int v9; // r1@3
  int *v10; // r0@3
  signed __int16 v11; // r0@6

  v4 = a1;
  v5 = a2;
  v6 = a3;
  v7 = "ws";
  v8 = a4;
  if ( v5 )
    v7 = "wss";
  sub_21E94B4(a1, v7);
  sub_21E8AF4((int *)v4 + 1, v6);
  v9 = sub_21E7D6C(v8, (const char *)&unk_257BC67);
  v10 = (int *)(v4 + 2);
  if ( v9 )
    sub_21E8AF4(v10, (int *)v8);
  else
    sub_21E94B4((void **)v10, "/");
  v11 = 80;
    v11 = 443;
  *((_WORD *)v4 + 6) = v11;
  *((_BYTE *)v4 + 14) = v5;
  *((_BYTE *)v4 + 15) = 1;
  return v4;
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_data_frame(int a1, int a2, int *a3, _DWORD *a4)
{
  int v4; // r9@0
  int v5; // r8@1
  unsigned int v6; // r11@1
  _DWORD *v7; // r10@1
  int v8; // r2@1
  bool v9; // zf@1
  char v10; // r0@5
  signed int v11; // r2@8
  unsigned int v12; // r1@8
  int (__fastcall **v13)(_DWORD); // r0@8
  signed int v14; // r12@9
  char v15; // r0@10
  int v16; // r3@14
  unsigned int v17; // r0@14
  int v18; // r7@15
  int v19; // r5@16
  char v20; // r0@20
  int v21; // r0@24
  int result; // r0@25
  int v23; // r3@29
  char v24; // r2@29
  int v25; // r6@29
  char v26; // r2@31
  int v27; // r1@36
  signed int v28; // r2@36
  signed int v29; // r7@38
  unsigned int v30; // r0@44
  const void **v31; // r5@46
  int v32; // r7@48
  int v33; // r4@48
  void *v34; // r0@48
  unsigned int *v35; // r1@49
  signed int v36; // r2@50
  int v37; // r2@53
  signed int v38; // r0@53
  unsigned int v39; // r1@53
  signed int v40; // r6@55
  int v41; // r11@59
  unsigned int v42; // r1@61
  int v43; // r4@65
  void *v44; // r0@65
  const void **v45; // r6@67
  const void *v46; // r7@68
  char *v47; // r1@70
  int *v48; // r5@71
  int *v49; // r6@71
  unsigned int v50; // r1@71
  unsigned int v51; // r12@71
  int *v52; // r0@72
  int *v53; // r2@72
  unsigned int v54; // r3@72
  int v55; // t1@73
  int v56; // r3@74
  signed int v57; // r3@76
  const void *v58; // r0@79
  int v59; // r5@79
  unsigned int *v60; // r1@84
  signed int v61; // r2@85
  int v62; // [sp+0h] [bp-68h]@48
  signed int v63; // [sp+4h] [bp-64h]@36
  const void **v64; // [sp+8h] [bp-60h]@15
  int v65; // [sp+Ch] [bp-5Ch]@48
  int v66; // [sp+10h] [bp-58h]@65
  __int16 v67; // [sp+14h] [bp-54h]@29
  int v68; // [sp+18h] [bp-50h]@44
  unsigned int v69; // [sp+1Ch] [bp-4Ch]@46
  int v70; // [sp+20h] [bp-48h]@36
  int v71; // [sp+24h] [bp-44h]@36
  int v72; // [sp+28h] [bp-40h]@36
  int v73; // [sp+30h] [bp-38h]@53
  int v74; // [sp+34h] [bp-34h]@53
  int v75; // [sp+38h] [bp-30h]@53
  RakNet *v76; // [sp+40h] [bp-28h]@1

  v5 = a1;
  v6 = 0xFFFF46E4;
  v7 = a4;
  v76 = _stack_chk_guard;
  v8 = *a3;
  v9 = v8 == 0;
  if ( v8 )
  {
    v4 = *a4;
    v9 = *a4 == 0;
  }
  if ( v9 )
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 6;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_24;
  v14 = *(_DWORD *)(v8 + 20);
  if ( v14 >= 8 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v11 = 7;
LABEL_24:
    v21 = (int)v13[v12];
    *(_DWORD *)v5 = v11;
    goto LABEL_25;
  v16 = *(_DWORD *)(v8 + 16);
  v17 = *(_DWORD *)(v16 - 12);
  if ( v14 == 1 )
    v64 = (const void **)(v8 + 16);
    v18 = 0;
    if ( v17 )
      v19 = 0;
      while ( 1 )
      {
        v19 = *(&byte_26A8C54[16 * v19] + (byte_26A8C54[*(_BYTE *)(v16 + v18)] | 0x100));
        if ( v19 == 1 )
          break;
        if ( v17 == ++v18 )
        {
          if ( !v19 )
            goto LABEL_29;
        }
      }
      v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v20 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      v11 = 5;
      v12 = 0x3FFFFD21u;
      v13 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_24;
    v17 = 0;
  else
LABEL_29:
  v23 = *(_BYTE *)(v8 + 25);
  v24 = 0;
  v25 = *(_BYTE *)(a2 + 5);
  v67 = 0;
  if ( v23 )
    v24 = -128;
    LOBYTE(v67) = -128;
  LOBYTE(v67) = v24 | v14 & 0xF;
  v26 = 127;
  if ( v17 < 0x10000 )
    v26 = 126;
  if ( v17 < 0x7E )
    v26 = v17;
  if ( v25 )
    v27 = 0;
    HIBYTE(v67) = v26;
    v28 = 0;
    v63 = v14;
    v72 = 0;
    v70 = 0;
    v71 = 0;
    if ( v17 < 0x10000 )
      v28 = 6;
    v29 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v17 < 0x7E )
      v28 = 8;
    if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
      v29 = 1;
      websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
    if ( v29 == 2 )
      v27 = v17;
    v30 = __rev(v17);
    v68 = v27;
      v30 = 0;
    v31 = v64;
    v69 = v30;
    if ( v28 != 8 )
      j___aeabi_memcpy_1((int)&v70, (int)&v68 + v28, 8 - v28);
    v32 = (int)&v65;
    v33 = *v7;
    j_websocketpp::frame::prepare_header((const void **)&v65, &v67, (char *)&v70);
    EntityInteraction::setInteractText((int *)(v33 + 8), &v65);
    v62 = v25;
    v34 = (void *)(v65 - 12);
    if ( (int *)(v65 - 12) != &dword_28898C0 )
      v35 = (unsigned int *)(v65 - 4);
      do
        v36 = __ldrex(v35);
        v32 = __strex(v36 - 1, v35);
      while ( v32 );
      if ( v36 <= 0 )
        j_j_j_j__ZdlPv_9(v34);
    v62 = 0;
    HIBYTE(v67) = v26 | 0x80;
    v32 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(a2 + 88));
    v37 = 0;
    v38 = 0;
    v39 = *((_DWORD *)*v64 - 3);
    v75 = 0;
    v73 = 0;
    v74 = 0;
    if ( v39 < 0x10000 )
      v38 = 6;
    v40 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v39 < 0x7E )
      v38 = 8;
      v40 = 1;
    v41 = 8 - v38;
    if ( v40 == 2 )
      v37 = v39;
    v42 = __rev(v39);
    v68 = v37;
      v42 = 0;
    v69 = v42;
    if ( v38 != 8 )
      j___aeabi_memcpy_1((int)&v73, (int)&v68 + v38, 8 - v38);
    *(int *)((char *)&v73 + v41) = v32;
    v43 = *v7;
    j_websocketpp::frame::prepare_header((const void **)&v66, &v67, (char *)&v73);
    EntityInteraction::setInteractText((int *)(v43 + 8), &v66);
    v6 = 0xFFFF46E4;
    v44 = (void *)(v66 - 12);
    if ( (int *)(v66 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v66 - 4);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v44);
  v45 = (const void **)(v4 + 16);
  sub_21E849C((char *)(v4 + 16), *((_DWORD *)*v31 - 3), 0);
  if ( v62 )
    v46 = *v31;
    if ( *((_DWORD *)*v31 - 1) <= -1 )
      v47 = (char *)*v31;
    else
      sub_21E8010(v31);
      v46 = *v31;
      if ( *((_DWORD *)*v31 - 1) < 0 )
        v47 = (char *)*v31;
      else
        sub_21E8010(v31);
    v58 = *v45;
    v59 = (int)&v47[*((_DWORD *)v47 - 3)];
    if ( *((_DWORD *)*v45 - 1) > -1 )
      sub_21E8010(v45);
      v58 = *v45;
    v57 = v63;
    if ( (const void *)v59 != v46 )
      j___aeabi_memmove_1((int)v58, (int)v46);
      v57 = v63;
    v68 = v32;
    v48 = (int *)*v31;
    v49 = (int *)*v45;
    v50 = *(v48 - 3);
    v51 = v50 >> 2;
    if ( 0 != v50 >> 2 )
      v52 = v48;
      v53 = v49;
      v54 = v50 >> 2;
        v55 = *v52;
        ++v52;
        --v54;
        *v53 = v55 ^ v32;
        ++v53;
      while ( v54 );
    v56 = 4 * v51;
    if ( 4 * v51 < v50 )
        *((_BYTE *)v49 + v56) = *((_BYTE *)v48 + v56) ^ *(_BYTE *)(v56 & 3 | (unsigned int)&v68);
        ++v56;
      while ( v50 != v56 );
  *(_BYTE *)(*v7 + 24) = 1;
  *(_DWORD *)(*v7 + 20) = v57;
  *(_DWORD *)v5 = 0;
  v21 = ((int (*)(void))byte_21E9640)();
LABEL_25:
  *(_DWORD *)(v5 + 4) = v21;
  result = **(_DWORD **)((char *)&GLOBAL_OFFSET_TABLE_ + v6) - (_DWORD)v76;
  if ( **(RakNet ***)((char *)&GLOBAL_OFFSET_TABLE_ + v6) != v76 )
    j___stack_chk_fail_1(result);
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(int a1, int a2, int a3, int a4)
{
  int v4; // r5@1
  int v5; // r6@1
  __int64 *v6; // r8@2
  __int64 v7; // r0@2
  __int64 v8; // r2@3
  char v9; // r0@4
  __int64 v10; // r0@9
  int v11; // r0@10
  int v12; // r1@11
  void (*v13)(void); // r3@13
  int v14; // r6@15
  void (__fastcall *v15)(char *, int, signed int); // r3@15
  char v16; // [sp+4h] [bp-5Ch]@16
  void (*v17)(void); // [sp+Ch] [bp-54h]@15
  int v18; // [sp+10h] [bp-50h]@16
  char v19; // [sp+14h] [bp-4Ch]@17
  void (*v20)(void); // [sp+20h] [bp-40h]@17
  __int64 v21; // [sp+28h] [bp-38h]@2
  int v22; // [sp+30h] [bp-30h]@7
  void *v23; // [sp+34h] [bp-2Ch]@7
  __int64 v24; // [sp+38h] [bp-28h]@11
  void (*v25)(void); // [sp+40h] [bp-20h]@10
  int v26; // [sp+44h] [bp-1Ch]@11

  v4 = a1;
  v5 = a4;
  if ( *(_DWORD *)(a1 + 2312) )
  {
    v21 = *(_QWORD *)&a2;
    v6 = (__int64 *)(a1 + 132);
    v7 = *(_QWORD *)(a1 + 136);
    if ( (_DWORD)v7 == HIDWORD(v7) )
    {
      HIDWORD(v10) = &v21;
      LODWORD(v10) = v4 + 132;
      j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v10);
    }
    else
      LODWORD(v8) = HIDWORD(v21);
      *(_QWORD *)v7 = v21;
      *(_DWORD *)(v4 + 136) += 8;
    v11 = 0;
    v25 = 0;
    HIDWORD(v8) = *(_DWORD *)(v5 + 8);
    if ( HIDWORD(v8) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(v8))(&v24, v5, 2);
      v11 = *(_DWORD *)(v5 + 12);
      v26 = *(_DWORD *)(v5 + 12);
      v12 = *(_DWORD *)(v5 + 8);
      v25 = *(void (**)(void))(v5 + 8);
      v8 = v24;
      v12 = 0;
    v24 = *(_QWORD *)(v4 + 2256);
    *(_QWORD *)(v4 + 2256) = v8;
    v25 = *(void (**)(void))(v4 + 2264);
    v13 = v25;
    *(_DWORD *)(v4 + 2264) = v12;
    v26 = *(_DWORD *)(v4 + 2268);
    *(_DWORD *)(v4 + 2268) = v11;
    if ( v13 )
      v13();
    v14 = *(_DWORD *)(v4 + 28);
    v17 = 0;
    v15 = *(void (__fastcall **)(char *, int, signed int))(v4 + 2312);
    if ( v15 )
      v15(&v16, v4 + 2304, 2);
      v18 = *(_DWORD *)(v4 + 2316);
      v17 = *(void (**)(void))(v4 + 2312);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v19,
      v4 + 1208,
      (int)&v16);
    j_boost::asio::async_write<boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
      v14,
      v6,
      (int)&v19);
    if ( v20 )
      v20();
    if ( v17 )
      v17();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 92),
      1024,
      "async_write (single) called after async_shutdown");
    v9 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v22 = 10;
    v23 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v5 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v5 + 12))(v5, &v22);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_close(int a1, int a2, unsigned int a3, int *a4, int a5)
{
  unsigned int v5; // r7@1
  int v6; // r8@1
  int *v7; // r6@1
  int v8; // r5@1
  bool v9; // zf@2
  char v10; // r0@6
  signed int v11; // r2@9
  unsigned int v12; // r1@9
  int (__fastcall **v13)(_DWORD); // r0@9
  int (__fastcall *v14)(_DWORD); // r0@10
  unsigned __int16 v15; // r3@12
  signed int v16; // r1@12
  unsigned int v17; // r2@12
  bool v18; // cf@14
  signed int v19; // r2@14
  signed int v20; // r0@14
  char v21; // r0@20
  int v22; // r0@24
  unsigned int v23; // r1@24
  char v24; // r0@26
  char v25; // r0@31
  _BYTE *v26; // r0@35
  _BYTE *v27; // r0@37
  int v28; // r6@39
  int v29; // r0@39
  int v30; // r7@39
  int v31; // r0@44
  unsigned int *v32; // r0@45
  unsigned int v33; // r1@46
  int v34; // r4@48
  unsigned int *v35; // r0@49
  unsigned int v36; // r1@50
  unsigned int *v37; // r5@52
  unsigned int v38; // r0@53
  char *v39; // r0@56
  unsigned int *v40; // r1@57
  signed int v41; // r2@58
  int v42; // [sp+4h] [bp-2Ch]@44
  int v43; // [sp+8h] [bp-28h]@44
  _BYTE *v44; // [sp+Ch] [bp-24h]@35

  v5 = a3;
  v6 = a1;
  v7 = a4;
  v8 = a2;
  if ( (unsigned __int16)(a3 - 1016) < 0x7C0u )
    goto LABEL_63;
  v9 = a3 == 1014;
  if ( a3 != 1014 )
    v9 = a3 == 1004;
  if ( v9 )
  {
LABEL_63:
    v10 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v11 = 24;
    v12 = 0x3FFFFD21u;
    v13 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_10;
  }
  v15 = a3 - 1005;
  v16 = 0;
  v17 = (unsigned __int16)(a3 - 1000);
  if ( v5 != 1015 )
    v16 = 1;
  v18 = v17 >= 0xFA0;
  v19 = 0;
  v20 = 0;
  if ( !v18 )
    v19 = 1;
  if ( v15 > 1u )
    v20 = 1;
  if ( v5 != 1005 && !(v20 & v19 & v16) )
    v21 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v21 & 1) )
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
    v11 = 25;
LABEL_10:
    v14 = v13[v12];
    *(_DWORD *)v6 = v11;
    *(_DWORD *)(v6 + 4) = v14;
    return;
  v22 = *v7;
  v23 = *(_DWORD *)(*v7 - 12);
  if ( v5 == 1005 )
    if ( v23 )
      v24 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v24 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      v11 = 26;
      v12 = 0x3FFFFD21u;
      v13 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_10;
    v44 = &unk_28898CC;
  else
    if ( v23 >= 0x7C )
      v25 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v25 & 1)
      v11 = 8;
    sub_21E849C((char *)&v44, *(_DWORD *)(v22 - 12) + 2, 0);
    v26 = v44;
    if ( *((_DWORD *)v44 - 1) >= 0 )
      sub_21E8010((const void **)&v44);
      v26 = v44;
    *v26 = __rev16(v5);
    v27 = v44;
      v27 = v44;
    v27[1] = __rev(v5) >> 24;
    v28 = *v7;
    v29 = (int)v44;
    v30 = *(_DWORD *)(v28 - 12);
    if ( *((_DWORD *)v44 - 1) > -1 )
      v29 = (int)v44;
    if ( v30 )
      j___aeabi_memmove_1(v29 + 2, v28);
  v42 = *(_DWORD *)a5;
  v31 = *(_DWORD *)(a5 + 4);
  v43 = v31;
  if ( v31 )
    v32 = (unsigned int *)(v31 + 4);
    do
      v33 = __ldrex(v32);
    while ( __strex(v33 + 1, v32) );
  j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_control(v6, v8, 8, (int *)&v44, &v42);
  v34 = v43;
  if ( v43 )
    v35 = (unsigned int *)(v43 + 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 == 1 )
      v37 = (unsigned int *)(v34 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      do
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v39 = v44 - 12;
  if ( (int *)(v44 - 12) != &dword_28898C0 )
    v40 = (unsigned int *)(v44 - 4);
      v41 = __ldrex(v40);
    while ( __strex(v41 - 1, v40) );
    if ( v41 <= 0 )
      j_j_j_j__ZdlPv_9(v39);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::log_open_result(int a1)
{
  int v1; // r6@1
  signed int v2; // r7@2
  const char *v3; // r1@4
  int v4; // r2@6
  char *v5; // r0@8
  void *v6; // r0@8
  char *v7; // r0@10
  int v8; // r0@11
  int *v9; // r1@11
  void *v10; // r0@13
  unsigned int i; // r2@15
  unsigned int v12; // r7@16
  int v13; // r4@19
  _DWORD *v14; // r7@19
  char *v15; // r7@19
  int v16; // t1@19
  char *v17; // r0@19
  char *v18; // r0@20
  _BYTE *v19; // r0@21
  char *v20; // r0@22
  int v21; // r0@23
  char *v22; // r0@26
  void *v23; // r0@26
  pthread_mutex_t *v24; // r4@27
  void *v25; // r0@27
  void *v26; // r0@28
  void *v27; // r0@29
  unsigned int *v29; // r1@31
  signed int v30; // r2@32
  unsigned int *v31; // r1@35
  signed int v32; // r2@36
  unsigned int *v33; // r1@39
  signed int v34; // r2@40
  unsigned int *v35; // r1@43
  signed int v36; // r2@44
  unsigned int *v37; // r1@47
  signed int v38; // r2@48
  unsigned int *v39; // r1@51
  signed int v40; // r2@52
  unsigned int *v41; // r0@55
  signed int v42; // r1@56
  unsigned int *v43; // r1@59
  signed int v44; // r2@60
  unsigned int *v45; // r1@63
  signed int v46; // r2@64
  unsigned int *v47; // r1@67
  signed int v48; // r2@68
  int v49; // [sp+8h] [bp-110h]@27
  int v50; // [sp+10h] [bp-108h]@24
  char *v51; // [sp+18h] [bp-100h]@15
  _BYTE *v52; // [sp+20h] [bp-F8h]@15
  _DWORD *v53; // [sp+24h] [bp-F4h]@15
  int v54; // [sp+2Ch] [bp-ECh]@11
  int v55; // [sp+30h] [bp-E8h]@13
  int v56; // [sp+34h] [bp-E4h]@8
  void **v57; // [sp+38h] [bp-E0h]@1
  int v58; // [sp+3Ch] [bp-DCh]@30
  void **v59; // [sp+40h] [bp-D8h]@8
  void **v60; // [sp+44h] [bp-D4h]@27
  int v61; // [sp+60h] [bp-B8h]@30
  int v62; // [sp+68h] [bp-B0h]@29
  void **v63; // [sp+6Ch] [bp-ACh]@29

  v1 = a1;
  sub_21D103C((int)&v57, 24);
  if ( j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v1 + 19068) )
    v2 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v1 + 19068);
  else
    v2 = -1;
  v3 = "WebSocket";
  if ( v2 == -1 )
    v3 = "HTTP";
  v4 = 9;
    v4 = 4;
  sub_21CBF38((char *)&v59, (int)v3, v4);
  sub_21CBF38((char *)&v59, (int)" Connection ", 12);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(
    (void **)&v56,
    v1);
  v5 = sub_21CBF38((char *)&v59, v56, *(_DWORD *)(v56 - 12));
  sub_21CBF38(v5, (int)" ", 1);
  v6 = (void *)(v56 - 12);
  if ( (int *)(v56 - 12) != &dword_28898C0 )
  {
    v29 = (unsigned int *)(v56 - 4);
    __dmb();
    do
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  if ( v2 != -1 )
    sub_21CBF38((char *)&v59, (int)"v", 1);
    v7 = (char *)sub_21CC43C(&v59, v2);
    sub_21CBF38(v7, (int)" ", 1);
  sub_21E94B4((void **)&v54, "User-Agent");
  v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v1 + 19072,
         &v54);
  v9 = (int *)(v8 + 20);
  if ( v8 == v1 + 0x4A84 )
    v9 = &dword_2880E54;
  sub_21E8AF4(&v55, v9);
  v10 = (void *)(v54 - 12);
  if ( (int *)(v54 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v54 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  if ( sub_21E7D6C((const void **)&v55, (const char *)&unk_257BC67) )
    sub_21CBF38((char *)&v59, (int)"\"", 1);
    sub_21E8AF4((int *)&v53, &v55);
    sub_21E94B4((void **)&v52, "\"");
    sub_21E94B4((void **)&v51, (const char *)&unk_25DA29F);
    for ( i = 0; ; i = *((_DWORD *)v51 - 3) + v12 )
    {
      v12 = sub_21E76A0((int *)&v53, v52, i, *((_DWORD *)v52 - 3));
      if ( v12 == -1 )
        break;
      sub_21E91FC((const void **)&v53, v12, *((_DWORD *)v52 - 3), v51, *((_BYTE **)v51 - 3));
    }
    v13 = (int)v53;
    v14 = v53;
    v53 = &unk_28898CC;
    v16 = *(v14 - 3);
    v15 = (char *)(v14 - 3);
    v17 = sub_21CBF38((char *)&v59, v13, v16);
    sub_21CBF38(v17, (int)"\" ", 2);
    if ( (int *)v15 != &dword_28898C0 )
      v41 = (unsigned int *)(v13 - 4);
      __dmb();
      do
        v42 = __ldrex(v41);
      while ( __strex(v42 - 1, v41) );
      if ( v42 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v18 = v51 - 12;
    if ( (int *)(v51 - 12) != &dword_28898C0 )
      v43 = (unsigned int *)(v51 - 4);
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    v19 = v52 - 12;
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v45 = (unsigned int *)(v52 - 4);
        v46 = __ldrex(v45);
      while ( __strex(v46 - 1, v45) );
      if ( v46 <= 0 )
        j_j_j_j__ZdlPv_9(v19);
    v20 = (char *)(v53 - 3);
    if ( v53 - 3 != &dword_28898C0 )
      v47 = v53 - 1;
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    sub_21CBF38((char *)&v59, (int)"\"\" ", 3);
  v21 = *(_DWORD *)(v1 + 19208);
  if ( v21 )
    sub_21E8AF4(&v50, (int *)(v21 + 8));
    sub_21E94B4((void **)&v50, "NULL");
  v22 = sub_21CBF38((char *)&v59, v50, *(_DWORD *)(v50 - 12));
  sub_21CBF38(v22, (int)" ", 1);
  v23 = (void *)(v50 - 12);
  if ( (int *)(v50 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v50 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v23);
  sub_21CC43C(&v59, *(_DWORD *)(v1 + 19200));
  v24 = *(pthread_mutex_t **)(v1 + 19236);
  sub_21CFED8(&v49, (int)&v60);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v24, 1, &v49);
  v25 = (void *)(v49 - 12);
  if ( (int *)(v49 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v49 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = (void *)(v55 - 12);
  if ( (int *)(v55 - 12) != &dword_28898C0 )
    v37 = (unsigned int *)(v55 - 4);
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  v57 = &off_26D3F94;
  v63 = &off_26D3FBC;
  v59 = &off_26D3FA8;
  v60 = &off_27734E8;
  v27 = (void *)(v62 - 12);
  if ( (int *)(v62 - 12) != &dword_28898C0 )
    v39 = (unsigned int *)(v62 - 4);
      v40 = __ldrex(v39);
    while ( __strex(v40 - 1, v39) );
    if ( v40 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v60 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v61);
  v57 = &off_276D0DC;
  v63 = &off_276D0F0;
  v58 = 0;
  return sub_21B6560(&v63);
}


int (__fastcall *__fastcall websocketpp::transport::asio::tls_socket::connection::init_asio(int a1, int a2, int *a3, int a4, char a5))(_DWORD)
{
  int v5; // r5@1
  int v6; // r11@1
  int v7; // r8@1
  int *v8; // r9@1
  __int64 v9; // kr00_8@2
  unsigned int *v10; // r0@3
  unsigned int v11; // r2@4
  char v12; // r0@7
  signed int v13; // r2@10
  unsigned int v14; // r1@10
  int (__fastcall **v15)(_DWORD); // r0@10
  void (__fastcall *v16)(char *, int, __int64 *); // r3@11
  unsigned int v17; // r1@12
  int v18; // r0@15
  unsigned int *v19; // r1@16
  unsigned int v20; // r2@17
  __int64 v21; // r0@20
  int v22; // r4@20
  unsigned int *v23; // r0@21
  unsigned int v24; // r1@22
  unsigned int *v25; // r7@24
  unsigned int v26; // r0@25
  int v27; // r7@28
  unsigned int *v28; // r0@29
  unsigned int v29; // r1@30
  unsigned int *v30; // r4@32
  unsigned int v31; // r0@33
  unsigned int *v32; // r0@37
  unsigned int v33; // r1@38
  int v34; // r0@42
  int v35; // r1@43
  char v36; // r0@44
  int (__fastcall *result)(_DWORD); // r0@48
  int v38; // r6@50
  unsigned int *v39; // r0@51
  unsigned int v40; // r1@52
  unsigned int *v41; // r4@54
  unsigned int v42; // r0@55
  int v43; // r6@58
  unsigned int *v44; // r0@59
  unsigned int v45; // r1@60
  unsigned int *v46; // r4@62
  unsigned int v47; // r0@63
  int v48; // r6@66
  int v49; // r7@66
  unsigned int *v50; // r0@68
  unsigned int v51; // r1@69
  unsigned int *v52; // r0@72
  unsigned int v53; // r1@73
  unsigned int *v54; // r4@75
  unsigned int v55; // r0@76
  int v56; // [sp+8h] [bp-40h]@42
  int v57; // [sp+Ch] [bp-3Ch]@42
  int v58; // [sp+10h] [bp-38h]@42
  char v59; // [sp+14h] [bp-34h]@15
  int v60; // [sp+18h] [bp-30h]@20
  __int64 v61; // [sp+1Ch] [bp-2Ch]@11

  v5 = a2;
  v6 = a1;
  v7 = a4;
  v8 = a3;
  if ( !*(_DWORD *)(a2 + 80) )
  {
    v12 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
    __dmb();
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance) )
    {
      websocketpp::transport::asio::socket::get_socket_category(void)::instance = &off_276D2A0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance);
    }
    v13 = 7;
    v14 = 0x3FFFFD56u;
    v15 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_48;
  }
  v9 = *(_QWORD *)(a2 + 48);
  if ( HIDWORD(v9) )
    v10 = (unsigned int *)(HIDWORD(v9) + 8);
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 + 1, v10) );
    if ( !*(_DWORD *)(a2 + 80) )
      sub_21E5F48();
    v16 = *(void (__fastcall **)(char *, int, __int64 *))(a2 + 84);
    v61 = v9;
      v17 = __ldrex(v10);
    while ( __strex(v17 + 1, v10) );
  else
    v61 = (unsigned int)v9;
  v16(&v59, v5 + 72, &v61);
  v18 = HIDWORD(v61);
  if ( HIDWORD(v61) )
    v19 = (unsigned int *)(HIDWORD(v61) + 8);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 == 1 )
      (*(void (**)(void))(*(_DWORD *)v18 + 12))();
  v21 = *(_QWORD *)&v59;
  *(_DWORD *)&v59 = 0;
  v60 = 0;
  *(_DWORD *)(v5 + 20) = v21;
  v22 = *(_DWORD *)(v5 + 24);
  *(_DWORD *)(v5 + 24) = HIDWORD(v21);
  if ( v22 )
    v23 = (unsigned int *)(v22 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 == 1 )
      v25 = (unsigned int *)(v22 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 8))(v22);
      __dmb();
      do
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  v27 = v60;
  if ( v60 )
    v28 = (unsigned int *)(v60 + 4);
      v29 = __ldrex(v28);
    while ( __strex(v29 - 1, v28) );
    if ( v29 == 1 )
      v30 = (unsigned int *)(v27 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
    v32 = (unsigned int *)(HIDWORD(v9) + 8);
      v33 = __ldrex(v32);
    while ( __strex(v33 - 1, v32) );
    if ( v33 == 1 )
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v9) + 12))(HIDWORD(v9));
  if ( !*(_DWORD *)(v5 + 20) )
    v36 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
    if ( !(v36 & 1)
    v13 = 4;
LABEL_48:
    result = v15[v14];
    *(_DWORD *)v6 = v13;
    goto LABEL_81;
  v56 = *(_DWORD *)(v5 + 20);
  v57 = 0;
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio3ssl6streamINS5_19basic_stream_socketINS5_2ip3tcpENS5_21stream_socket_serviceISA_EEEEEESaISE_EJRNS5_10io_serviceESt17reference_wrapperINS6_7contextEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
    &v58,
    0,
    (int)&v61,
    v8,
    (_DWORD ***)&v56);
  v34 = v58;
  if ( v58 )
    v35 = (*(int (**)(void))(*(_DWORD *)v58 + 16))();
    v34 = v58;
    v35 = 0;
  v58 = 0;
  *(_DWORD *)(v5 + 28) = v35;
  v38 = *(_DWORD *)(v5 + 32);
  *(_DWORD *)(v5 + 32) = v34;
  if ( v38 )
    v39 = (unsigned int *)(v38 + 4);
      v40 = __ldrex(v39);
    while ( __strex(v40 - 1, v39) );
    if ( v40 == 1 )
      v41 = (unsigned int *)(v38 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 8))(v38);
        v42 = __ldrex(v41);
      while ( __strex(v42 - 1, v41) );
      if ( v42 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 12))(v38);
  v43 = v58;
    v44 = (unsigned int *)(v58 + 4);
      v45 = __ldrex(v44);
    while ( __strex(v45 - 1, v44) );
    if ( v45 == 1 )
      v46 = (unsigned int *)(v43 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v43 + 8))(v43);
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v43 + 12))(v43);
  *(_DWORD *)(v5 + 8) = v8;
  *(_DWORD *)(v5 + 12) = *(_DWORD *)v7;
  v48 = *(_DWORD *)(v5 + 16);
  v49 = *(_DWORD *)(v7 + 4);
  if ( v49 != v48 )
    if ( v49 )
      v50 = (unsigned int *)(v49 + 4);
        v51 = __ldrex(v50);
      while ( __strex(v51 + 1, v50) );
      v48 = *(_DWORD *)(v5 + 16);
    if ( v48 )
      v52 = (unsigned int *)(v48 + 4);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 == 1 )
      {
        v54 = (unsigned int *)(v48 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v48 + 8))(v48);
        __dmb();
        do
          v55 = __ldrex(v54);
        while ( __strex(v55 - 1, v54) );
        if ( v55 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v48 + 12))(v48);
      }
    *(_DWORD *)(v5 + 16) = v49;
  *(_BYTE *)(v5 + 36) = a5;
  *(_DWORD *)v6 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
LABEL_81:
  *(_DWORD *)(v6 + 4) = result;
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(int a1, unsigned __int64 *a2, __int64 a3)
{
  int v3; // r4@1
  int v4; // r8@1
  unsigned __int64 *v5; // r6@1
  __int64 *v6; // r5@2
  __int64 v7; // r0@3
  int v8; // r0@7
  int v9; // r1@8
  char v10; // r0@9
  __int64 v11; // kr08_8@15
  void (*v12)(void); // r3@15
  int v13; // r5@17
  void (__fastcall *v14)(char *, int, signed int); // r3@17
  char v15; // [sp+4h] [bp-64h]@18
  void (*v16)(void); // [sp+Ch] [bp-5Ch]@17
  int v17; // [sp+10h] [bp-58h]@18
  char v18; // [sp+14h] [bp-54h]@19
  void (*v19)(void); // [sp+20h] [bp-48h]@19
  __int64 v20; // [sp+28h] [bp-40h]@3
  int v21; // [sp+30h] [bp-38h]@12
  void *v22; // [sp+34h] [bp-34h]@12
  char v23; // [sp+38h] [bp-30h]@8
  int v24; // [sp+3Ch] [bp-2Ch]@15
  void (*v25)(void); // [sp+40h] [bp-28h]@7
  int v26; // [sp+44h] [bp-24h]@8

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( *(_DWORD *)(a1 + 2272) )
  {
    v6 = (__int64 *)*a2;
    if ( v6 != (__int64 *)(*a2 >> 32) )
    {
      do
      {
        v20 = *v6;
        v7 = *(_QWORD *)(v3 + 92);
        if ( (_DWORD)v7 == HIDWORD(v7) )
        {
          LODWORD(v7) = v3 + 88;
          j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v7);
        }
        else
          LODWORD(a3) = HIDWORD(v20);
          *(_QWORD *)v7 = v20;
          *(_DWORD *)(v3 + 92) += 8;
        ++v6;
      }
      while ( v6 != *((__int64 **)v5 + 1) );
    }
    v8 = 0;
    v25 = 0;
    HIDWORD(a3) = *(_DWORD *)(v4 + 8);
    if ( HIDWORD(a3) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v23, v4, 2);
      v8 = *(_DWORD *)(v4 + 12);
      v26 = *(_DWORD *)(v4 + 12);
      v9 = *(_DWORD *)(v4 + 8);
      v25 = *(void (**)(void))(v4 + 8);
      a3 = *(_QWORD *)&v23;
    else
      v9 = 0;
    v11 = *(_QWORD *)(v3 + 2216);
    *(_DWORD *)&v23 = *(_QWORD *)(v3 + 2216);
    v24 = HIDWORD(v11);
    *(_QWORD *)(v3 + 2216) = a3;
    v25 = *(void (**)(void))(v3 + 2224);
    v12 = v25;
    *(_DWORD *)(v3 + 2224) = v9;
    v26 = *(_DWORD *)(v3 + 2228);
    *(_DWORD *)(v3 + 2228) = v8;
    if ( v12 )
      v12();
    v13 = *(_DWORD *)(v3 + 8);
    v16 = 0;
    v14 = *(void (__fastcall **)(char *, int, signed int))(v3 + 2272);
    if ( v14 )
      v14(&v15, v3 + 2264, 2);
      v17 = *(_DWORD *)(v3 + 2276);
      v16 = *(void (**)(void))(v3 + 2272);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v18,
      v3 + 1168,
      (int)&v15);
    j_boost::asio::async_write<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
      v13,
      (__int64 *)(v3 + 88),
      (int)&v18);
    if ( v19 )
      v19();
    if ( v16 )
      v16();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 48),
      1024,
      "async_write (vector) called after async_shutdown");
    v10 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v21 = 10;
    v22 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v21);
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_connect_timeout(int a1, int a2, int a3, int a4, signed int *a5)
{
  int v5; // r6@1
  int v6; // r4@1
  int v7; // r5@1
  signed int *v8; // r7@1
  char v9; // r0@2
  int v11; // r5@9
  void *v12; // r0@12
  signed int v13; // [sp+0h] [bp-30h]@5
  void *v14; // [sp+4h] [bp-2Ch]@5
  int v15; // [sp+8h] [bp-28h]@1
  int v16; // [sp+Ch] [bp-24h]@1
  int v17; // [sp+10h] [bp-20h]@9
  void *v18; // [sp+14h] [bp-1Ch]@9

  v5 = a1;
  v6 = a4;
  v7 = a2;
  v8 = a5;
  v15 = 0;
  v16 = ((int (*)(void))byte_21E9640)();
  if ( *a5 )
  {
    if ( *a5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v5 + 108),
               1024,
               "asio handle_connect_timeout timer cancelled");
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
      v5,
      1,
      "asio handle_connect_timeout",
      a5);
  }
  else
    v9 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v8 = &v13;
    v13 = 9;
    v14 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v15 = *(_QWORD *)v8;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v5 + 108),
    1024,
    "TCP connect timed out");
  v11 = *(_DWORD *)(*(_DWORD *)v7 + 28);
  v17 = 0;
  v18 = sub_21B09F0();
  if ( *(_DWORD *)v11 == -1 )
    v12 = sub_21B09F0();
    v17 = 9;
    v18 = v12;
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v17, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v11 + 16) + 20),
    *(_DWORD *)v11,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v11 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v15);
}


void __fastcall websocketpp::http::parser::parser::process_header(int a1, _BYTE *a2, _BYTE *a3)
{
  websocketpp::http::parser::parser::process_header(a1, a2, a3);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::process_handshake_request(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_client>::process_handshake_request(a1, a2);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::close(int a1, int a2, int *a3, int a4)
{
  int v4; // r7@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r6@1
  int v7; // r4@1
  int *v8; // r5@1
  unsigned int v9; // r3@3
  int v10; // r0@5
  unsigned int v11; // r2@8
  bool v12; // cf@8
  bool v13; // zf@8
  int v14; // r2@8
  char v15; // r0@11
  void *v16; // r0@15
  unsigned int *v17; // r1@17
  signed int v18; // r2@18
  char v19; // [sp+8h] [bp-28h]@10
  int v20; // [sp+10h] [bp-20h]@5

  v4 = a1;
  v5 = *(pthread_mutex_t **)(a1 + 19236);
  v6 = a2;
  v7 = a4;
  v8 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "connection close");
  v9 = *(_DWORD *)(*v8 - 12);
  if ( v9 > 0x7B )
    v9 = 123;
  sub_21E9040((void **)&v20, v8, 0, v9);
  v10 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v10 )
    sub_21E5E14(v10);
  if ( *(_DWORD *)(v4 + 2540) == 1 )
  {
    v11 = (unsigned __int16)(v6 - 1002);
    v12 = v11 >= 9;
    v13 = v11 == 9;
    v14 = 0;
    if ( v13 || !v12 )
      v14 = (0x2E1u >> (v6 + 22)) & 1;
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_close_frame((int)&v19, v4, v6, &v20, 0, v14);
    *(_QWORD *)v7 = *(_QWORD *)&v19;
  }
  else
    v15 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v15 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v7 = 9;
    *(_DWORD *)(v7 + 4) = &websocketpp::error::get_category(void)::instance;
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
  v16 = (void *)(v20 - 12);
  if ( (int *)(v20 - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(v20 - 4);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_control(int a1, int a2, signed int a3, int *a4, _DWORD *a5)
{
  int v5; // r10@1
  unsigned int v6; // r11@1
  int *v7; // r9@1
  _DWORD *v8; // r4@1
  int v9; // r7@1
  int v10; // r0@1
  size_t v11; // r1@3
  char v12; // r0@4
  signed int v13; // r2@7
  unsigned int v14; // r1@7
  int (__fastcall **v15)(_DWORD); // r0@7
  char v16; // r0@8
  char v17; // r0@12
  int v18; // r0@16
  int result; // r0@17
  int v20; // r6@19
  char v21; // r3@19
  signed int v22; // r8@21
  unsigned int v23; // r0@22
  signed int v24; // r2@24
  unsigned int v25; // r1@28
  int v26; // r5@34
  void *v27; // r0@34
  int v28; // r5@35
  const void *v29; // r0@35
  int v30; // r6@35
  int v31; // r7@39
  unsigned int v32; // r0@39
  signed int v33; // r2@41
  unsigned int v34; // r1@45
  int v35; // r5@51
  void *v36; // r0@51
  int v37; // r6@52
  _BYTE *v38; // r5@52
  unsigned int v39; // r1@52
  unsigned int v40; // r12@52
  int *v41; // r0@53
  _DWORD *v42; // r2@53
  unsigned int v43; // r3@53
  int v44; // t1@54
  int v45; // r0@55
  unsigned int *v46; // r1@59
  signed int v47; // r2@60
  unsigned int *v48; // r1@63
  signed int v49; // r2@64
  const void **v50; // [sp+0h] [bp-60h]@21
  int v51; // [sp+4h] [bp-5Ch]@34
  int v52; // [sp+8h] [bp-58h]@51
  char v53; // [sp+Ch] [bp-54h]@19
  char v54; // [sp+Dh] [bp-53h]@19
  unsigned int v55; // [sp+10h] [bp-50h]@30
  unsigned int v56; // [sp+14h] [bp-4Ch]@32
  int v57; // [sp+18h] [bp-48h]@22
  int v58; // [sp+1Ch] [bp-44h]@22
  int v59; // [sp+20h] [bp-40h]@22
  int v60; // [sp+28h] [bp-38h]@39
  int v61; // [sp+2Ch] [bp-34h]@39
  int v62; // [sp+30h] [bp-30h]@39
  RakNet *v63; // [sp+38h] [bp-28h]@1

  v5 = a1;
  v6 = 0xFFFF46E4;
  v7 = a4;
  v8 = a5;
  v9 = a2;
  v63 = _stack_chk_guard;
  v10 = *a5;
  if ( !*a5 )
  {
    v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v16 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v13 = 6;
    v14 = 0x3FFFFD21u;
    v15 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_16;
  }
  if ( a3 <= 7 )
    v17 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v17 & 1)
    v13 = 7;
  v11 = *(_DWORD *)(*a4 - 12);
  if ( v11 >= 0x7E )
    v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v12 & 1)
    v13 = 8;
LABEL_16:
    v18 = (int)v15[v14];
    *(_DWORD *)v5 = v13;
    goto LABEL_17;
  v20 = *(_BYTE *)(v9 + 5);
  v21 = 0;
  v54 = 0;
  v53 = a3 & 0xF | 0x80;
  if ( !v20 )
    v21 = -128;
    v54 = -128;
  v50 = (const void **)(v10 + 16);
  v54 = v21 | v11;
  v22 = 0;
  sub_21E849C((char *)(v10 + 16), v11, 0);
  if ( v20 )
    v23 = *(_DWORD *)(*v7 - 12);
    v59 = 0;
    v57 = 0;
    v58 = 0;
    if ( v23 < 0x10000 )
      v22 = 6;
    v24 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v23 < 0x7E )
      v22 = 8;
    if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
      v24 = 1;
      websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
    v25 = __rev(v23);
    if ( v24 != 2 )
      v23 = 0;
    v55 = v23;
    if ( v24 == 2 )
      v25 = 0;
    v56 = v25;
    if ( v22 != 8 )
      j___aeabi_memcpy_1((int)&v57, (int)&v55 + v22, 8 - v22);
    v26 = *a5;
    j_websocketpp::frame::prepare_header((const void **)&v51, &v53, (char *)&v57);
    EntityInteraction::setInteractText((int *)(v26 + 8), &v51);
    v27 = (void *)(v51 - 12);
    if ( (int *)(v51 - 12) != &dword_28898C0 )
      v46 = (unsigned int *)(v51 - 4);
      __dmb();
      do
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
    v28 = *v7;
    v29 = *v50;
    v30 = *(_DWORD *)(*v7 - 12);
    if ( *((_DWORD *)*v50 - 1) > -1 )
      sub_21E8010(v50);
      v29 = *v50;
    if ( v30 )
      j___aeabi_memmove_1((int)v29, v28);
  else
    v31 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v9 + 88));
    v32 = *(_DWORD *)(*v7 - 12);
    v62 = 0;
    v60 = 0;
    v61 = 0;
    if ( v32 < 0x10000 )
    v33 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v32 < 0x7E )
      v33 = 1;
    v34 = __rev(v32);
    if ( v33 != 2 )
      v32 = 0;
    v55 = v32;
    if ( v33 == 2 )
      v34 = 0;
    v56 = v34;
      j___aeabi_memcpy_1((int)&v60, (int)&v55 + v22, 8 - v22);
    *(int *)((char *)&v60 + 8 - v22) = v31;
    v35 = *a5;
    j_websocketpp::frame::prepare_header((const void **)&v52, &v53, (char *)&v60);
    EntityInteraction::setInteractText((int *)(v35 + 8), &v52);
    v36 = (void *)(v52 - 12);
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v48 = (unsigned int *)(v52 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v36);
    v55 = v31;
    v37 = *v7;
    v38 = *v50;
    v39 = *(_DWORD *)(*v7 - 12);
    v40 = v39 >> 2;
    if ( v39 >> 2 )
      v41 = (int *)*v7;
      v42 = *v50;
      v43 = v39 >> 2;
      {
        v44 = *v41;
        ++v41;
        --v43;
        *v42 = v44 ^ v31;
        ++v42;
      }
      while ( v43 );
    v45 = 4 * v40;
    if ( 4 * v40 < v39 )
        v38[v45] = *(_BYTE *)(v37 + v45) ^ *(_BYTE *)(v45 & 3 | (unsigned int)&v55);
        ++v45;
      while ( v39 != v45 );
    v6 = 0xFFFF46E4;
    v8 = a5;
  *(_BYTE *)(*v8 + 24) = 1;
  *(_DWORD *)v5 = 0;
  v18 = ((int (*)(void))byte_21E9640)();
LABEL_17:
  *(_DWORD *)(v5 + 4) = v18;
  result = **(_DWORD **)((char *)&GLOBAL_OFFSET_TABLE_ + v6) - (_DWORD)v63;
  if ( **(RakNet ***)((char *)&GLOBAL_OFFSET_TABLE_ + v6) != v63 )
    j___stack_chk_fail_1(result);
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_connect_timeout(int a1, int a2, int a3, int a4, signed int *a5)
{
  int v5; // r6@1
  int v6; // r4@1
  int v7; // r5@1
  signed int *v8; // r7@1
  char v9; // r0@2
  int v11; // r5@9
  void *v12; // r0@12
  signed int v13; // [sp+0h] [bp-30h]@5
  void *v14; // [sp+4h] [bp-2Ch]@5
  int v15; // [sp+8h] [bp-28h]@1
  int v16; // [sp+Ch] [bp-24h]@1
  int v17; // [sp+10h] [bp-20h]@9
  void *v18; // [sp+14h] [bp-1Ch]@9

  v5 = a1;
  v6 = a4;
  v7 = a2;
  v8 = a5;
  v15 = 0;
  v16 = ((int (*)(void))byte_21E9640)();
  if ( *a5 )
  {
    if ( *a5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v5 + 92),
               1024,
               "asio handle_connect_timeout timer cancelled");
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
      v5,
      1,
      "asio handle_connect_timeout",
      a5);
  }
  else
    v9 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v8 = &v13;
    v13 = 9;
    v14 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v15 = *(_QWORD *)v8;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v5 + 92),
    1024,
    "TCP connect timed out");
  v11 = *(_DWORD *)(*(_DWORD *)v7 + 8);
  v17 = 0;
  v18 = sub_21B09F0();
  if ( *(_DWORD *)v11 == -1 )
    v12 = sub_21B09F0();
    v17 = 9;
    v18 = v12;
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v17, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v11 + 16) + 20),
    *(_DWORD *)v11,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v11 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v15);
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_frame(int a1, __int64 *a2, int a3)
{
  int v3; // r8@1
  int v4; // r4@1
  pthread_mutex_t **v5; // r5@3
  char *v6; // r7@4
  pthread_mutex_t *v7; // r7@4
  void *v8; // r0@4
  void *v9; // r0@5
  int v10; // r7@8
  unsigned int v11; // r9@8
  pthread_mutex_t *v12; // r6@11
  int *v13; // r2@11
  void *v14; // r0@11
  void *v15; // r0@12
  int v16; // r0@14
  unsigned int *v17; // r0@17
  unsigned int v18; // r1@18
  int v19; // r6@20
  unsigned int *v20; // r0@21
  unsigned int v21; // r1@22
  unsigned int *v22; // r7@24
  unsigned int v23; // r0@25
  int v24; // r1@31
  unsigned int *v25; // r0@32
  unsigned int v26; // r1@33
  unsigned int *v27; // r0@36
  unsigned int v28; // r1@37
  int v29; // r6@39
  unsigned int *v30; // r0@40
  unsigned int v31; // r1@41
  unsigned int *v32; // r7@43
  unsigned int v33; // r0@44
  int v34; // r0@47
  unsigned int *v35; // r1@48
  unsigned int v36; // r2@49
  int v37; // r6@53
  unsigned int *v38; // r0@54
  unsigned int v39; // r1@55
  int v40; // r4@57
  unsigned int *v41; // r7@57
  unsigned int v42; // r0@58
  unsigned int *v43; // r1@63
  signed int v44; // r2@64
  bool v45; // nf@65
  int *v46; // r2@65
  unsigned int *v47; // r1@68
  signed int v48; // r2@69
  unsigned int *v49; // r1@72
  signed int v50; // r2@73
  int *v51; // r2@74
  unsigned int *v52; // r1@77
  signed int v53; // r2@78
  unsigned int *v54; // r1@81
  signed int v55; // r2@82
  unsigned int *v56; // r1@86
  signed int v57; // r2@87
  _DWORD *v58; // r0@90
  char *v59; // r0@92
  pthread_mutex_t *v60; // r6@92
  void *v61; // r0@92
  void *v62; // r0@93
  int v63; // r11@95
  int v64; // r4@95
  pthread_mutex_t *v65; // r7@96
  void *v66; // r0@96
  void *v67; // r0@97
  unsigned int v68; // r5@100 OVERLAPPED
  void *v69; // r6@100 OVERLAPPED
  char v70; // r0@100
  signed __int16 v71; // r6@104
  char v72; // r0@105
  char v73; // r0@109
  bool v74; // zf@112
  int v75; // r0@116
  int v76; // r1@118
  signed int v77; // r2@120
  const char *v78; // r1@120
  RakNet *result; // r0@121
  __int64 *v80; // r5@123
  const char *v81; // r2@123
  int v82; // r0@123
  int v83; // r0@124
  int *v84; // r1@124
  int v85; // r0@125
  char v86; // r0@130
  bool v87; // zf@133
  unsigned int *v88; // r1@142
  signed int v89; // r2@143
  unsigned int *v90; // r1@146
  signed int v91; // r2@147
  void *v92; // r0@156
  unsigned int *v93; // r1@159
  signed int v94; // r2@160
  char v95; // r0@163
  bool v96; // zf@166
  char v97; // r0@173
  unsigned int v98; // [sp+64h] [bp-37Ch]@91
  int *v99; // [sp+68h] [bp-378h]@8
  int v100; // [sp+6Ch] [bp-374h]@16
  int v101; // [sp+70h] [bp-370h]@16
  int v102; // [sp+74h] [bp-36Ch]@35
  int v103; // [sp+78h] [bp-368h]@35
  int v104; // [sp+7Ch] [bp-364h]@31
  int v105; // [sp+80h] [bp-360h]@31
  int v106; // [sp+84h] [bp-35Ch]@14
  int v107; // [sp+88h] [bp-358h]@16
  int v108; // [sp+8Ch] [bp-354h]@11
  void **v109; // [sp+90h] [bp-350h]@11
  int v110; // [sp+94h] [bp-34Ch]@13
  void **v111; // [sp+98h] [bp-348h]@11
  void **v112; // [sp+9Ch] [bp-344h]@11
  int v113; // [sp+B8h] [bp-328h]@13
  int v114; // [sp+C0h] [bp-320h]@12
  void **v115; // [sp+C4h] [bp-31Ch]@12
  int v116; // [sp+14Ch] [bp-294h]@156
  RakNet *v117; // [sp+150h] [bp-290h]@100
  int v118; // [sp+154h] [bp-28Ch]@100
  int v119; // [sp+158h] [bp-288h]@72
  void **v120; // [sp+15Ch] [bp-284h]@96
  int v121; // [sp+160h] [bp-280h]@98
  void **v122; // [sp+164h] [bp-27Ch]@96
  void **v123; // [sp+168h] [bp-278h]@96
  int v124; // [sp+184h] [bp-25Ch]@98
  int v125; // [sp+18Ch] [bp-254h]@77
  void **v126; // [sp+190h] [bp-250h]@97
  int v127; // [sp+218h] [bp-1C8h]@95
  int v128; // [sp+21Ch] [bp-1C4h]@95
  int v129; // [sp+220h] [bp-1C0h]@63
  void **v130; // [sp+224h] [bp-1BCh]@92
  int v131; // [sp+228h] [bp-1B8h]@94
  void **v132; // [sp+22Ch] [bp-1B4h]@92
  void **v133; // [sp+230h] [bp-1B0h]@92
  int v134; // [sp+24Ch] [bp-194h]@94
  int v135; // [sp+254h] [bp-18Ch]@68
  void **v136; // [sp+258h] [bp-188h]@93
  int v137; // [sp+2E0h] [bp-100h]@4
  void **v138; // [sp+2E4h] [bp-FCh]@4
  int v139; // [sp+2E8h] [bp-F8h]@6
  void **v140; // [sp+2ECh] [bp-F4h]@4
  void **v141; // [sp+2F0h] [bp-F0h]@4
  int v142; // [sp+30Ch] [bp-D4h]@6
  int v143; // [sp+314h] [bp-CCh]@5
  void **v144; // [sp+318h] [bp-C8h]@5
  int v145; // [sp+3A0h] [bp-40h]@171
  int v146; // [sp+3A4h] [bp-3Ch]@171
  int v147; // [sp+3A8h] [bp-38h]@125
  int v148; // [sp+3ACh] [bp-34h]@125
  __int64 v149; // [sp+3B0h] [bp-30h]@1

  v3 = a1;
  v4 = a3;
  v149 = *a2;
  if ( (_DWORD)v149 )
    goto LABEL_109;
  if ( *(_DWORD *)(a1 + 2544) != 7 )
  {
    v72 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v72 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    LODWORD(v149) = 9;
    HIDWORD(v149) = &websocketpp::error::get_category(void)::instance;
LABEL_109:
    v73 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v73 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v74 = HIDWORD(v149) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
    if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::transport::error::get_category(void)::instance )
      v74 = (_DWORD)v149 == 7;
    if ( v74 )
      v75 = *(_DWORD *)(v3 + 2540);
      if ( v75 == 2 )
      {
        if ( !*(_BYTE *)(v3 + 19232) )
        {
          v147 = 0;
          v85 = ((int (*)(void))byte_21E9640)();
          v84 = &v147;
          v148 = v85;
LABEL_126:
          v83 = v3;
          return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(
                             v83,
                             (unsigned __int64 *)v84);
        }
        v76 = 16;
LABEL_123:
        v80 = &v149;
        v81 = "handle_read_frame";
        v82 = v3;
LABEL_124:
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(v82, v76, v81, v80);
        v83 = v3;
        v84 = (int *)v80;
        return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(
                           v83,
                           (unsigned __int64 *)v84);
      }
      if ( v75 != 3 )
        goto LABEL_123;
      v77 = 0xFFE645E7;
      v78 = (const char *)&GLOBAL_OFFSET_TABLE_;
    else
      v86 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v86 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v87 = HIDWORD(v149) == (_DWORD)&websocketpp::error::get_category(void)::instance;
      if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::error::get_category(void)::instance )
        v87 = (_DWORD)v149 == 9;
      if ( !v87 )
        v95 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
        __dmb();
        if ( !(v95 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
          websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
        v96 = HIDWORD(v149) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
        if ( (_UNKNOWN *)HIDWORD(v149) == &websocketpp::transport::error::get_category(void)::instance )
          v96 = (_DWORD)v149 == 8;
        if ( !v96 )
          v97 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
          __dmb();
          if ( !(v97 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
          {
            websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
          }
          v76 = 16;
          if ( (_DWORD)v149 == 10 )
            v76 = 4;
          if ( (_UNKNOWN *)HIDWORD(v149) != &websocketpp::transport::error::get_category(void)::instance )
            v76 = 16;
          goto LABEL_123;
        if ( *(_DWORD *)(v3 + 2540) == 3 )
          v145 = 0;
          v146 = ((int (*)(void))byte_21E9640)();
          v84 = &v145;
          goto LABEL_126;
      if ( *(_DWORD *)(v3 + 2540) != 3 )
      v77 = -1686017;
    return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
             *(pthread_mutex_t **)(v3 + 19236),
             1024,
             &v78[v77]);
  }
  v5 = (pthread_mutex_t **)(a1 + 19236);
  if ( *(_BYTE *)(*(_DWORD *)(a1 + 19236) + 5) & 4 )
    sub_21D103C((int)&v138, 24);
    sub_21CBF38((char *)&v140, (int)"p = ", 4);
    v6 = sub_21CC440((char *)&v140);
    sub_21CBF38(v6, (int)" bytes transferred = ", 21);
    sub_21CC440(v6);
    v7 = *v5;
    sub_21CFED8(&v137, (int)&v141);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, &v137);
    v8 = (void *)(v137 - 12);
    if ( (int *)(v137 - 12) != &dword_28898C0 )
      v88 = (unsigned int *)(v137 - 4);
      do
        v89 = __ldrex(v88);
      while ( __strex(v89 - 1, v88) );
      if ( v89 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    v138 = &off_26D3F94;
    v144 = &off_26D3FBC;
    v140 = &off_26D3FA8;
    v141 = &off_27734E8;
    v9 = (void *)(v143 - 12);
    if ( (int *)(v143 - 12) != &dword_28898C0 )
      v90 = (unsigned int *)(v143 - 4);
        v91 = __ldrex(v90);
      while ( __strex(v91 - 1, v90) );
      if ( v91 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    v141 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v142);
    v138 = &off_276D0DC;
    v144 = &off_276D0F0;
    v139 = 0;
    sub_21B6560(&v144);
  if ( !v4 )
    return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::read_frame(v3);
  v10 = v3 + 18988;
  v11 = 0;
  v99 = &dword_28898C0;
  while ( 1 )
    v58 = (_DWORD *)*((_BYTE *)&(*v5)->__align + 5);
    if ( (unsigned __int8)v58 & 4 )
      sub_21D103C((int)&v130, 24);
      sub_21CBF38((char *)&v132, (int)"calling consume with ", 21);
      v59 = sub_21CC440((char *)&v132);
      sub_21CBF38(v59, (int)" bytes", 6);
      v60 = *v5;
      sub_21CFED8(&v129, (int)&v133);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v60, 1024, &v129);
      v46 = v99;
      v61 = (void *)(v129 - 12);
      v98 = v4;
      if ( (int *)(v129 - 12) != v99 )
        v43 = (unsigned int *)(v129 - 4);
        do
          v44 = __ldrex(v43);
        while ( __strex(v44 - 1, v43) );
        v74 = v44 == 0;
        v45 = v44 < 0;
        v46 = v99;
        if ( v45 || v74 )
          j_j_j_j__ZdlPv_9(v61);
          v46 = v99;
      v99 = v46;
      v130 = &off_26D3F94;
      v136 = &off_26D3FBC;
      v132 = &off_26D3FA8;
      v133 = &off_27734E8;
      v62 = (void *)(v135 - 12);
      if ( (int *)(v135 - 12) != v46 )
        v47 = (unsigned int *)(v135 - 4);
          v48 = __ldrex(v47);
        while ( __strex(v48 - 1, v47) );
        if ( v48 <= 0 )
          j_j_j_j__ZdlPv_9(v62);
      v133 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v134);
      v130 = &off_276D0DC;
      v136 = &off_276D0F0;
      v131 = 0;
      v58 = sub_21B6560(&v136);
    v127 = 0;
    v63 = ((int (__fastcall *)(_DWORD *))byte_21E9640)(v58);
    v64 = v10;
    v128 = v63;
    v11 += (*(int (**)(void))(**(_DWORD **)v10 + 52))();
    if ( *((_BYTE *)&(*v5)->__align + 5) & 4 )
      sub_21D103C((int)&v120, 24);
      sub_21CBF38((char *)&v122, (int)"bytes left after consume: ", 26);
      sub_21CC440((char *)&v122);
      v65 = *v5;
      sub_21CFED8(&v119, (int)&v123);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v65, 1024, &v119);
      v51 = v99;
      v66 = (void *)(v119 - 12);
      if ( (int *)(v119 - 12) != v99 )
        v49 = (unsigned int *)(v119 - 4);
          v50 = __ldrex(v49);
        while ( __strex(v50 - 1, v49) );
        v74 = v50 == 0;
        v45 = v50 < 0;
        v51 = v99;
          j_j_j_j__ZdlPv_9(v66);
          v51 = v99;
      v99 = v51;
      v120 = &off_26D3F94;
      v126 = &off_26D3FBC;
      v122 = &off_26D3FA8;
      v123 = &off_27734E8;
      v67 = (void *)(v125 - 12);
      if ( (int *)(v125 - 12) != v51 )
        v52 = (unsigned int *)(v125 - 4);
          v53 = __ldrex(v52);
        while ( __strex(v53 - 1, v52) );
        if ( v53 <= 0 )
          j_j_j_j__ZdlPv_9(v67);
      v123 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v124);
      v120 = &off_276D0DC;
      v126 = &off_276D0F0;
      v121 = 0;
      sub_21B6560(&v126);
    if ( v127 )
      break;
    v10 = v64;
    if ( (*(int (**)(void))(**(_DWORD **)v64 + 56))() == 1 )
      if ( *((_BYTE *)&(*v5)->__align + 5) & 4 )
        sub_21D103C((int)&v109, 24);
        sub_21CBF38((char *)&v111, (int)"Complete message received. Dispatching", 38);
        v12 = *v5;
        sub_21CFED8(&v108, (int)&v112);
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v12, 1024, &v108);
        v13 = v99;
        v14 = (void *)(v108 - 12);
        if ( (int *)(v108 - 12) != v99 )
          v54 = (unsigned int *)(v108 - 4);
          do
            v55 = __ldrex(v54);
          while ( __strex(v55 - 1, v54) );
          v74 = v55 == 0;
          v45 = v55 < 0;
          v13 = v99;
          if ( v45 || v74 )
            j_j_j_j__ZdlPv_9(v14);
            v13 = v99;
        v99 = v13;
        v109 = &off_26D3F94;
        v115 = &off_26D3FBC;
        v111 = &off_26D3FA8;
        v112 = &off_27734E8;
        v15 = (void *)(v114 - 12);
        if ( (int *)(v114 - 12) != v13 )
          v56 = (unsigned int *)(v114 - 4);
            v57 = __ldrex(v56);
          while ( __strex(v57 - 1, v56) );
          if ( v57 <= 0 )
            j_j_j_j__ZdlPv_9(v15);
        v112 = &off_26D40A8;
        sub_21C802C((unsigned int **)&v113);
        v109 = &off_276D0DC;
        v115 = &off_276D0F0;
        v110 = 0;
        sub_21B6560(&v115);
      (*(void (__fastcall **)(MinecraftUnitTest::TestClassBase *))(**(_DWORD **)v64 + 60))((MinecraftUnitTest::TestClassBase *)&v106);
      v16 = v106;
      if ( v106 )
        if ( *(_DWORD *)(v106 + 20) <= 7 )
          if ( *(_DWORD *)(v3 + 2540) == 1 )
            if ( *(_DWORD *)(v3 + 2516) )
            {
              v104 = *(_DWORD *)(v3 + 2356);
              v24 = *(_DWORD *)(v3 + 2360);
              v105 = v24;
              if ( v24 )
              {
                v25 = (unsigned int *)(v24 + 8);
                __dmb();
                do
                  v26 = __ldrex(v25);
                while ( __strex(v26 + 1, v25) );
                v16 = v106;
              }
              v102 = v16;
              v103 = v107;
              if ( v107 )
                v27 = (unsigned int *)(v107 + 4);
                  v28 = __ldrex(v27);
                while ( __strex(v28 + 1, v27) );
              j_std::function<void ()(std::weak_ptr<void>,std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>)>::operator()(
                v3 + 2508,
                (int)&v104,
                (int)&v102);
              v29 = v103;
              if ( v103 )
                v30 = (unsigned int *)(v103 + 4);
                  v31 = __ldrex(v30);
                while ( __strex(v31 - 1, v30) );
                if ( v31 == 1 )
                {
                  v32 = (unsigned int *)(v29 + 8);
                  (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
                  __dmb();
                  do
                    v33 = __ldrex(v32);
                  while ( __strex(v33 - 1, v32) );
                  v10 = v64;
                  if ( v33 == 1 )
                    (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
                }
              v34 = v105;
              if ( v105 )
                v35 = (unsigned int *)(v105 + 8);
                  v36 = __ldrex(v35);
                while ( __strex(v36 - 1, v35) );
                if ( v36 == 1 )
                  (*(void (**)(void))(*(_DWORD *)v34 + 12))();
            }
          else
            j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
              *(pthread_mutex_t **)(v3 + 19240),
              8,
              "got non-close frame while closing");
        else
          v100 = v106;
          v101 = v107;
          if ( v107 )
            v17 = (unsigned int *)(v107 + 4);
            __dmb();
            do
              v18 = __ldrex(v17);
            while ( __strex(v18 + 1, v17) );
          j_websocketpp::connection<websocketpp::config::asio_tls_client>::process_control_frame(v3, (int)&v100);
          v19 = v101;
          if ( v101 )
            v20 = (unsigned int *)(v101 + 4);
              v21 = __ldrex(v20);
            while ( __strex(v21 - 1, v20) );
            if ( v21 == 1 )
              v22 = (unsigned int *)(v19 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 8))(v19);
              __dmb();
              do
                v23 = __ldrex(v22);
              while ( __strex(v23 - 1, v22) );
              v10 = v64;
              if ( v23 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 12))(v19);
      else
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          *v5,
          1024,
          "null message from m_processor");
      v37 = v107;
      if ( v107 )
        v38 = (unsigned int *)(v107 + 4);
          v39 = __ldrex(v38);
        while ( __strex(v39 - 1, v38) );
        if ( v39 == 1 )
          v40 = v10;
          v41 = (unsigned int *)(v37 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 8))(v37);
            v42 = __ldrex(v41);
          while ( __strex(v42 - 1, v41) );
          v10 = v40;
          if ( v42 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 12))(v37);
    v4 = v98;
    if ( v11 >= v98 )
      return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::read_frame(v3);
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(v3, 16, "consume", &v127);
  v117 = 0;
  v118 = v63;
  *(_QWORD *)&v68 = *(_QWORD *)&v127;
  v70 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v70 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  if ( v69 != &websocketpp::processor::error::get_processor_category(void)::instance )
    v71 = 0;
    goto LABEL_156;
  if ( v68 > 0x19 )
    goto LABEL_183;
  if ( (1 << v68) & 0x3003F88 )
    v71 = 1002;
  if ( (1 << v68) & 0x10020 )
    v71 = 1007;
  if ( v68 != 4 )
LABEL_183:
    v71 = 1011;
  else
    v71 = 1009;
LABEL_156:
  (*(void (__fastcall **)(int *))(*(_DWORD *)v128 + 12))(&v116);
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::close(v3, (unsigned __int16)v71, &v116, (int)&v117);
  v92 = (void *)(v116 - 12);
  if ( (int *)(v116 - 12) != &dword_28898C0 )
    v93 = (unsigned int *)(v116 - 4);
    do
      v94 = __ldrex(v93);
    while ( __strex(v94 - 1, v93) );
    if ( v94 <= 0 )
      j_j_j_j__ZdlPv_9(v92);
  result = v117;
  if ( v117 )
    v80 = (__int64 *)&v117;
    v81 = "Protocol error close frame ";
    v82 = v3;
    v76 = 32;
    goto LABEL_124;
  return result;
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_send_http_response(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r11@1
  pthread_mutex_t **v4; // r9@1
  int v5; // r0@2
  int v6; // r0@3
  signed int v8; // r6@7
  char v9; // r0@8
  int (__fastcall **v10)(_DWORD); // r0@11
  char v11; // r0@12
  char v12; // r0@18
  bool v13; // zf@22
  int v14; // r0@27
  unsigned __int64 *v15; // r1@27
  int v16; // r7@30
  int v17; // r5@33
  unsigned int *v18; // r0@34
  unsigned int v19; // r1@35
  unsigned int *v20; // r6@37
  unsigned int v21; // r0@38
  int v22; // r5@43
  int v23; // r1@43
  unsigned int *v24; // r0@44
  unsigned int v25; // r2@45
  pthread_mutex_t *v26; // r5@50
  const void **v27; // r0@50
  int v28; // r7@50
  void *v29; // r0@51
  char v30; // r0@52
  pthread_mutex_t *v31; // r6@56
  void *v32; // r0@56
  void *v33; // r0@57
  void (__fastcall *v34)(int, int *); // r2@60
  unsigned int v35; // r1@61
  int v36; // r0@64
  unsigned int *v37; // r1@65
  unsigned int v38; // r2@66
  unsigned int *v39; // r0@70
  unsigned int v40; // r1@71
  unsigned int *v41; // r1@75
  signed int v42; // r2@76
  unsigned int *v43; // r1@79
  signed int v44; // r2@80
  unsigned int *v45; // r1@83
  signed int v46; // r2@84
  unsigned int *v47; // r1@87
  signed int v48; // r2@88
  int v49; // [sp+0h] [bp-108h]@74
  int v50; // [sp+4h] [bp-104h]@74
  int v51; // [sp+8h] [bp-100h]@50
  const void *v52; // [sp+Ch] [bp-FCh]@50
  int v53; // [sp+10h] [bp-F8h]@56
  void **v54; // [sp+14h] [bp-F4h]@56
  int v55; // [sp+18h] [bp-F0h]@58
  void **v56; // [sp+1Ch] [bp-ECh]@56
  void **v57; // [sp+20h] [bp-E8h]@56
  int v58; // [sp+3Ch] [bp-CCh]@58
  int v59; // [sp+44h] [bp-C4h]@57
  void **v60; // [sp+48h] [bp-C0h]@57
  __int64 v61; // [sp+D0h] [bp-38h]@1
  int v62; // [sp+DCh] [bp-2Ch]@60
  int v63; // [sp+E0h] [bp-28h]@60

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "handle_send_http_response");
  v4 = (pthread_mutex_t **)(v3 + 19236);
  v61 = *v2;
  if ( (_DWORD)v61 )
    goto LABEL_18;
  v5 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2548));
  if ( v5 )
    sub_21E5E14(v5);
  v6 = *(_DWORD *)(v3 + 2540);
  if ( v6 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "handle_send_http_response invoked after connection was closed");
    return (RakNet *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2548));
  }
  if ( v6 )
    v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v10 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v3 + 2544) == 6 )
      v8 = 0;
      goto LABEL_17;
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v8 = 9;
  LODWORD(v61) = 9;
  HIDWORD(v61) = *(int (__fastcall **)(_DWORD))((char *)v10 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2548));
  if ( v8 )
LABEL_18:
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v12 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v61) == &websocketpp::transport::error::get_category(void)::instance )
      v13 = (_DWORD)v61 == 7;
      if ( (_DWORD)v61 == 7 )
        v13 = *(_DWORD *)(v3 + 2540) == 3;
      if ( v13 )
        return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                 *v4,
                 1024,
                 "got (expected) eof/state error from closed con");
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      v3,
      16,
      "handle_send_http_response",
      &v61);
    v14 = v3;
    v15 = (unsigned __int64 *)&v61;
    return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v14, v15);
  v16 = *(_DWORD *)(v3 + 18968);
  if ( v16 )
    sub_21B09F0();
    if ( *(_BYTE *)(v16 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v16 + 52),
        *(_DWORD *)v16 + 20,
        v16 + 20,
        -1);
      *(_BYTE *)(v16 + 16) = 0;
    *(_DWORD *)(v3 + 18968) = 0;
    v17 = *(_DWORD *)(v3 + 18972);
    *(_DWORD *)(v3 + 18972) = 0;
    if ( v17 )
      v18 = (unsigned int *)(v17 + 4);
      __dmb();
      do
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
      {
        v20 = (unsigned int *)(v17 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
        __dmb();
        do
          v21 = __ldrex(v20);
        while ( __strex(v21 - 1, v20) );
        if ( v21 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
      }
  if ( *(_DWORD *)(v3 + 19200) != 101 )
    if ( *(_BYTE *)(v3 + 19272) )
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_http_result(v3);
      if ( *(_DWORD *)(v3 + 19264) )
        v26 = *v4;
        (*(void (__fastcall **)(int *))(**(_DWORD **)(v3 + 19268) + 12))(&v51);
        v27 = sub_21E82D8(
                (const void **)&v51,
                0,
                (unsigned int)"got to writing HTTP results with m_ec set: ",
                (_BYTE *)0x2B);
        v52 = *v27;
        v28 = (int)v52;
        *v27 = &unk_28898CC;
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          v26,
          1024,
          (int *)&v52);
        if ( (int *)(v28 - 12) != &dword_28898C0 )
        {
          v41 = (unsigned int *)(v28 - 4);
          __dmb();
          do
            v42 = __ldrex(v41);
          while ( __strex(v42 - 1, v41) );
          if ( v42 <= 0 )
            j_j_j_j__ZdlPv_9((void *)(v28 - 12));
        }
        v29 = (void *)(v51 - 12);
        if ( (int *)(v51 - 12) != &dword_28898C0 )
          v43 = (unsigned int *)(v51 - 4);
            v44 = __ldrex(v43);
          while ( __strex(v44 - 1, v43) );
          if ( v44 <= 0 )
            j_j_j_j__ZdlPv_9(v29);
      v30 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v30 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      *(_DWORD *)(v3 + 19264) = 21;
      *(_DWORD *)(v3 + 19268) = &websocketpp::error::get_category(void)::instance;
    else
      sub_21D103C((int)&v54, 24);
      sub_21CBF38((char *)&v56, (int)"Handshake ended with HTTP error: ", 33);
      sub_21CC43C(&v56, *(_DWORD *)(v3 + 19200));
      v31 = *(pthread_mutex_t **)(v3 + 19240);
      sub_21CFED8(&v53, (int)&v57);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v31, 16, &v53);
      v32 = (void *)(v53 - 12);
      if ( (int *)(v53 - 12) != &dword_28898C0 )
        v45 = (unsigned int *)(v53 - 4);
          v46 = __ldrex(v45);
        while ( __strex(v46 - 1, v45) );
        if ( v46 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      v54 = &off_26D3F94;
      v60 = &off_26D3FBC;
      v56 = &off_26D3FA8;
      v57 = &off_27734E8;
      v33 = (void *)(v59 - 12);
      if ( (int *)(v59 - 12) != &dword_28898C0 )
        v47 = (unsigned int *)(v59 - 4);
          v48 = __ldrex(v47);
        while ( __strex(v48 - 1, v47) );
        if ( v48 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v57 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v58);
      v54 = &off_276D0DC;
      v60 = &off_276D0F0;
      v55 = 0;
      sub_21B6560(&v60);
    v15 = (unsigned __int64 *)(v3 + 19264);
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_open_result(v3);
  *(_DWORD *)(v3 + 2540) = 1;
  *(_DWORD *)(v3 + 2544) = 7;
  if ( *(_DWORD *)(v3 + 2372) )
    v22 = *(_DWORD *)(v3 + 2360);
    v23 = *(_DWORD *)(v3 + 2356);
    if ( v22 )
      v24 = (unsigned int *)(v22 + 8);
        v25 = __ldrex(v24);
      while ( __strex(v25 + 1, v24) );
      if ( !*(_DWORD *)(v3 + 2372) )
        sub_21E5F48();
      v34 = *(void (__fastcall **)(int, int *))(v3 + 2376);
      v62 = v23;
      v63 = v22;
        v35 = __ldrex(v24);
      while ( __strex(v35 + 1, v24) );
      v62 = *(_DWORD *)(v3 + 2356);
      v63 = 0;
    v34(v3 + 2364, &v62);
    v36 = v63;
    if ( v63 )
      v37 = (unsigned int *)(v63 + 8);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 == 1 )
        (*(void (**)(void))(*(_DWORD *)v36 + 12))();
      v39 = (unsigned int *)(v22 + 8);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  v49 = 0;
  v50 = ((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  return j_websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_frame(
           v3,
           (__int64 *)&v49,
           *(_DWORD *)(v3 + 18940));
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_open_handshake_timeout(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  unsigned __int64 *v3; // r5@1
  char v4; // r0@1
  unsigned __int64 v5; // kr00_8@4
  bool v6; // zf@4
  pthread_mutex_t *v7; // r5@7
  const void **v8; // r0@8
  int v9; // r7@8
  void *v10; // r0@9
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  char v13; // r0@15
  unsigned int *v14; // r1@20
  signed int v15; // r2@21
  signed int v16; // [sp+0h] [bp-28h]@18
  void *v17; // [sp+4h] [bp-24h]@18
  int v18; // [sp+8h] [bp-20h]@8
  const void *v19; // [sp+Ch] [bp-1Ch]@8

  v2 = a1;
  v3 = a2;
  v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
  __dmb();
  if ( !(v4 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
  {
    websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
  }
  v5 = *v3;
  v6 = *v3 >> 32 == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
  if ( (_UNKNOWN *)(*v3 >> 32) == &websocketpp::transport::error::get_category(void)::instance )
    v6 = (_DWORD)v5 == 5;
  if ( v6 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v2 + 19196),
      1024,
      "open handshake timer cancelled");
  else
    v7 = *(pthread_mutex_t **)(v2 + 19196);
    if ( (_DWORD)v5 )
    {
      (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v5) + 12))(&v18);
      v8 = sub_21E82D8(
             (const void **)&v18,
             0,
             (unsigned int)"open handle_open_handshake_timeout error: ",
             (_BYTE *)0x2A);
      v19 = *v8;
      v9 = (int)v19;
      *v8 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, (int *)&v19);
      if ( (int *)(v9 - 12) != &dword_28898C0 )
      {
        v14 = (unsigned int *)(v9 - 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v9 - 12));
      }
      v10 = (void *)(v18 - 12);
      if ( (int *)(v18 - 12) != &dword_28898C0 )
        v11 = (unsigned int *)(v18 - 4);
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
    }
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v2 + 19196),
        1024,
        "open handshake timer expired");
      v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v13 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v16 = 22;
      v17 = &websocketpp::error::get_category(void)::instance;
      j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v2, (unsigned __int64 *)&v16);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_server_handshake_response(int a1, int a2, int a3, int a4)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_server_handshake_response(
    a1,
    a2,
    a3,
    a4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::process_handshake_request(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::process_handshake_request(a1, a2);
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_shutdown(int a1, int a2)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_shutdown(
           a1,
           a2);
}


unsigned int __fastcall websocketpp::http::parser::request::consume(websocketpp::http::parser::request *this, const char *a2, unsigned int a3)
{
  websocketpp::http::parser::request *v3; // r5@1
  unsigned int v4; // r9@1
  const char *v5; // r8@1
  _BYTE **v6; // r4@6
  _BYTE *v7; // r11@6
  int *v8; // r4@10
  int v9; // r0@10
  _BYTE *v10; // r6@12
  size_t v11; // r4@12
  unsigned int v12; // r0@12
  int *v13; // r7@13
  int v14; // r0@13
  int v15; // r7@15
  int v16; // r0@16
  char *v17; // r5@19
  int *v18; // r0@19
  int v19; // r3@19
  int *v20; // r6@21
  int v21; // r0@21
  int v22; // r0@27
  const void **v23; // r2@27
  int v24; // r4@29
  void *v25; // r0@29
  int *v26; // r4@31
  int v27; // r0@31
  int v28; // r2@33
  int v29; // r6@33
  int v30; // r10@33
  int v31; // r7@41
  unsigned int *v32; // r0@34
  unsigned int v33; // r1@35
  unsigned int *v34; // r4@37
  unsigned int v35; // r0@38
  char *v37; // r5@45
  int *v38; // r0@45
  int v39; // r3@45
  unsigned int *v40; // r1@48
  signed int v41; // r2@49
  int v42; // [sp+Ch] [bp-5Ch]@45
  int v43; // [sp+14h] [bp-54h]@45
  int v44; // [sp+1Ch] [bp-4Ch]@45
  int v45; // [sp+24h] [bp-44h]@27
  int v46; // [sp+2Ch] [bp-3Ch]@19
  int v47; // [sp+34h] [bp-34h]@19
  int v48; // [sp+3Ch] [bp-2Ch]@19

  v3 = this;
  v4 = a3;
  v5 = a2;
  if ( !*((_BYTE *)this + 64) )
  {
    if ( *((_DWORD *)this + 9) )
    {
      v4 = j_websocketpp::http::parser::parser::process_body(this, a2, a3);
      if ( *((_DWORD *)v3 + 9) )
        return v4;
    }
    else
      sub_21E7408(*((const void ***)this + 12), (char *)a2, a3);
      v6 = (_BYTE **)*((_DWORD *)v3 + 12);
      v7 = *v6;
      if ( *((_DWORD *)*v6 - 1) > -1 )
      {
        sub_21E8010(*((const void ***)v3 + 12));
        v7 = *v6;
      }
      while ( 1 )
        v8 = (int *)*((_DWORD *)v3 + 12);
        v9 = *v8;
        if ( *(_DWORD *)(*v8 - 4) >= 0 )
        {
          sub_21E8010(*((const void ***)v3 + 12));
          v9 = *v8;
        }
        v10 = j_std::__search<__gnu_cxx::__normal_iterator<char *,std::string>,char const*,__gnu_cxx::__ops::_Iter_equal_to_iter>(
                v7,
                (_BYTE *)(*(_DWORD *)(v9 - 12) + v9),
                "\r\n",
                "");
        v11 = v10 - v7;
        v12 = *((_DWORD *)v3 + 7) + v10 - v7 + 3;
        *((_DWORD *)v3 + 7) = v12;
        if ( v12 > 0x3E80 )
          v17 = j_j___cxa_allocate_exception_0(20);
          sub_21E94B4((void **)&v48, "Maximum header size exceeded.");
          sub_21E94B4((void **)&v47, (const char *)&unk_257BC67);
          v18 = (int *)sub_21E94B4((void **)&v46, (const char *)&unk_257BC67);
          j_websocketpp::http::exception::exception((int)v17, &v48, 431, &v47, v18);
          j_j___cxa_throw_0(
            (int)v17,
            (int)&`typeinfo for'websocketpp::http::exception,
            (int)websocketpp::http::exception::~exception,
            v19);
        v13 = (int *)*((_DWORD *)v3 + 12);
        v14 = *v13;
        if ( *(_DWORD *)(*v13 - 4) >= 0 )
          v14 = *v13;
        v15 = v14 + *(_DWORD *)(v14 - 12);
        if ( v10 == (_BYTE *)v15 )
          v20 = (int *)*((_DWORD *)v3 + 12);
          v21 = *v20;
          if ( *(_DWORD *)(*v20 - 4) > -1 )
          {
            sub_21E8010(*((const void ***)v3 + 12));
            v21 = *v20;
          }
          if ( (_BYTE *)v15 != v7 )
            j___aeabi_memmove_1(v21, (int)v7);
          sub_21E849C(*((char **)v3 + 12), v11, 0);
          *((_DWORD *)v3 + 7) -= *(_DWORD *)(**((_DWORD **)v3 + 12) - 12);
          return v4;
        v16 = *(_DWORD *)(*((_DWORD *)v3 + 14) - 12);
        if ( v10 == v7 )
          break;
        if ( v16 )
          j_websocketpp::http::parser::parser::process_header((int)v3, v7, v10);
          v7 = v10 + 2;
        else
          j_websocketpp::http::parser::request::process((int)v3, v7, v10);
      if ( !v16 )
        goto LABEL_54;
      sub_21E94B4((void **)&v45, "Host");
      v22 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              (int)v3 + 4,
              &v45);
      v23 = (const void **)(v22 + 20);
      if ( (websocketpp::http::parser::request *)v22 == (websocketpp::http::parser::request *)((char *)v3 + 8) )
        v23 = (const void **)&dword_2880E54;
      v24 = sub_21E7D6C(v23, (const char *)&unk_257BC67);
      v25 = (void *)(v45 - 12);
      if ( (int *)(v45 - 12) != &dword_28898C0 )
        v40 = (unsigned int *)(v45 - 4);
        __dmb();
        do
          v41 = __ldrex(v40);
        while ( __strex(v41 - 1, v40) );
        if ( v41 <= 0 )
          j_j_j_j__ZdlPv_9(v25);
      if ( !v24 )
LABEL_54:
        v37 = j_j___cxa_allocate_exception_0(20);
        sub_21E94B4((void **)&v44, "Incomplete Request");
        sub_21E94B4((void **)&v43, (const char *)&unk_257BC67);
        v38 = (int *)sub_21E94B4((void **)&v42, (const char *)&unk_257BC67);
        j_websocketpp::http::exception::exception((int)v37, &v44, 400, &v43, v38);
        j_j___cxa_throw_0(
          (int)v37,
          (int)&`typeinfo for'websocketpp::http::exception,
          (int)websocketpp::http::exception::~exception,
          v39);
      v26 = (int *)*((_DWORD *)v3 + 12);
      v27 = *v26;
      if ( *(_DWORD *)(*v26 - 4) >= 0 )
        v27 = *v26;
      v28 = *(_DWORD *)(v27 - 12);
      *((_DWORD *)v3 + 12) = 0;
      v29 = *((_DWORD *)v3 + 13);
      v30 = v27 + v28;
      *((_DWORD *)v3 + 13) = 0;
      if ( v29 )
        v32 = (unsigned int *)(v29 + 4);
          v33 = __ldrex(v32);
        while ( __strex(v33 - 1, v32) );
        if ( v33 == 1 )
          v34 = (unsigned int *)(v29 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
          __dmb();
          do
            v35 = __ldrex(v34);
          while ( __strex(v35 - 1, v34) );
          if ( v35 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
      v31 = (int)&v7[v4 + 2];
      if ( j_websocketpp::http::parser::parser::prepare_body(v3) != 1 )
        v4 = v31 - v30;
        *((_BYTE *)v3 + 64) = 1;
      v4 = j_websocketpp::http::parser::parser::process_body(v3, &v5[v31 - v30], v4 - (v31 - v30)) + v31 - v30;
    *((_BYTE *)v3 + 64) = 1;
    return v4;
  }
  return 0;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_write(int a1)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_write(a1);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_extended_header(int a1, int a2, unsigned int a3, unsigned int a4, unsigned int a5))(_DWORD)
{
  return websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_extended_header(
           a1,
           a2,
           a3,
           a4,
           a5);
}


int __fastcall websocketpp::transport::asio::tls_socket::connection::pre_init(int a1, int a2)
{
  int v2; // r5@1
  __int64 v3; // kr00_8@2
  unsigned int *v4; // r1@3
  unsigned int v5; // r2@4
  int v6; // r2@7
  void (__fastcall *v7)(int, __int64 *, int); // r3@7
  unsigned int v8; // r4@8
  int v9; // r0@11
  unsigned int *v10; // r1@12
  unsigned int v11; // r2@13
  unsigned int *v12; // r0@17
  unsigned int v13; // r1@18
  int v15; // [sp+4h] [bp-24h]@21
  int v16; // [sp+8h] [bp-20h]@21
  __int64 v17; // [sp+Ch] [bp-1Ch]@7

  v2 = a2;
  if ( *(_DWORD *)(a1 + 64) )
  {
    v3 = *(_QWORD *)(a1 + 48);
    if ( HIDWORD(v3) )
    {
      v4 = (unsigned int *)(HIDWORD(v3) + 8);
      __dmb();
      do
        v5 = __ldrex(v4);
      while ( __strex(v5 + 1, v4) );
      if ( !*(_DWORD *)(a1 + 64) )
        sub_21E5F48();
      v6 = *(_DWORD *)(a1 + 28);
      v7 = *(void (__fastcall **)(int, __int64 *, int))(a1 + 68);
      v17 = v3;
        v8 = __ldrex(v4);
      while ( __strex(v8 + 1, v4) );
    }
    else
      v17 = (unsigned int)v3;
    v7(a1 + 56, &v17, v6);
    v9 = HIDWORD(v17);
    if ( HIDWORD(v17) )
      v10 = (unsigned int *)(HIDWORD(v17) + 8);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (**)(void))(*(_DWORD *)v9 + 12))();
      v12 = (unsigned int *)(HIDWORD(v3) + 8);
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v3) + 12))(HIDWORD(v3));
  }
  v15 = 0;
  v16 = ((int (*)(void))byte_21E9640)();
  if ( !*(_DWORD *)(v2 + 8) )
    sub_21E5F48();
  return (*(int (__fastcall **)(int, int *))(v2 + 12))(v2, &v15);
}


void __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::async_connect(int a1, int a2, int *a3, int a4)
{
  int v4; // r10@1
  int v5; // r11@1
  int *v6; // r7@1
  int v7; // r4@1
  int v8; // r0@2
  int v9; // r1@3
  int v10; // r6@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  unsigned int *v13; // r5@9
  unsigned int v14; // r0@10
  int v15; // r6@13
  unsigned int *v16; // r0@14
  unsigned int v17; // r1@15
  unsigned int *v18; // r5@17
  unsigned int v19; // r0@18
  unsigned int v20; // r8@21
  int v21; // r0@23
  void *v22; // r0@24
  int v23; // r6@25
  pthread_mutex_t *v24; // r7@25
  const void **v25; // r0@26
  const void **v26; // r0@26
  int v27; // r5@26
  char *v28; // r0@27
  char *v29; // r0@28
  int v30; // r8@29
  void (__fastcall *v31)(int *, int, signed int); // r3@29
  _QWORD *v32; // r0@31
  int v33; // r1@31
  int v34; // r7@31 OVERLAPPED
  int v35; // r8@31 OVERLAPPED
  int v36; // r6@33
  unsigned int *v37; // r0@34
  unsigned int v38; // r1@35
  unsigned int *v39; // r5@37
  unsigned int v40; // r0@38
  int *v41; // r10@43
  __int64 v42; // kr00_8@43
  unsigned int *v43; // r0@44
  unsigned int v44; // r1@45
  void (__fastcall *v45)(__int64 *, int, signed int); // r3@47
  int v46; // r11@49
  unsigned int *v47; // r0@50
  unsigned int v48; // r1@51
  int v49; // r1@53
  int v50; // r0@53
  unsigned int *v51; // r0@54
  unsigned int v52; // r1@55
  __int64 v53; // r2@57
  int v54; // r4@57
  unsigned int *v55; // r0@58
  unsigned int v56; // r1@59
  unsigned int *v57; // r7@61
  unsigned int v58; // r0@62
  int v59; // r4@65
  unsigned int *v60; // r0@66
  unsigned int v61; // r1@67
  unsigned int *v62; // r7@69
  unsigned int v63; // r0@70
  int v64; // r4@75
  unsigned int *v65; // r0@76
  unsigned int v66; // r1@77
  unsigned int *v67; // r6@79
  unsigned int v68; // r0@80
  int v69; // r4@83
  unsigned int *v70; // r0@84
  unsigned int v71; // r1@85
  unsigned int *v72; // r6@87
  unsigned int v73; // r0@88
  unsigned int *v74; // r0@94
  unsigned int v75; // r1@95
  unsigned int *v76; // r4@97
  unsigned int v77; // r0@98
  unsigned int *v78; // r0@102
  unsigned int v79; // r1@103
  unsigned int *v80; // r4@105
  unsigned int v81; // r0@106
  void *v82; // r0@109
  void *v83; // r0@110
  unsigned int *v84; // r1@111
  signed int v85; // r2@112
  int v86; // r6@117
  void *v87; // r0@117
  char v88; // r0@122
  int v89; // r4@128
  unsigned int *v90; // r0@129
  unsigned int v91; // r1@130
  unsigned int *v92; // r5@132
  unsigned int v93; // r0@133
  char *v94; // r0@136
  char *v95; // r0@137
  void *v96; // r0@138
  void *v97; // r0@140
  int v98; // r6@141
  unsigned int *v99; // r0@142
  unsigned int v100; // r1@143
  unsigned int *v101; // r5@145
  unsigned int v102; // r0@146
  unsigned int *v103; // r1@149
  signed int v104; // r2@150
  unsigned int *v105; // r1@153
  signed int v106; // r2@154
  unsigned int *v107; // r1@157
  signed int v108; // r2@158
  unsigned int *v109; // r1@161
  signed int v110; // r2@162
  unsigned int *v111; // r1@165
  signed int v112; // r2@166
  unsigned int *v113; // r1@169
  signed int v114; // r2@170
  unsigned int *v115; // r1@173
  signed int v116; // r2@174
  unsigned int *v117; // r1@177
  signed int v118; // r2@178
  unsigned int *v119; // r1@181
  signed int v120; // r2@182
  unsigned int *v121; // r1@185
  signed int v122; // r2@186
  int v123; // [sp+4h] [bp-14Ch]@33
  __int64 v124; // [sp+10h] [bp-140h]@48
  void (*v125)(void); // [sp+18h] [bp-138h]@47
  int v126; // [sp+1Ch] [bp-134h]@48
  int v127; // [sp+20h] [bp-130h]@49
  int v128; // [sp+24h] [bp-12Ch]@49
  int v129; // [sp+28h] [bp-128h]@53
  int v130; // [sp+2Ch] [bp-124h]@53
  int v131; // [sp+30h] [bp-120h]@57
  __int64 v132; // [sp+38h] [bp-118h]@57
  __int64 v133; // [sp+40h] [bp-110h]@57
  __int64 v134; // [sp+48h] [bp-108h]@57
  void (*v135)(void); // [sp+50h] [bp-100h]@57
  int v136; // [sp+54h] [bp-FCh]@57
  int v137; // [sp+58h] [bp-F8h]@57
  int v138; // [sp+5Ch] [bp-F4h]@57
  int v139; // [sp+60h] [bp-F0h]@57
  int v140; // [sp+64h] [bp-ECh]@57
  int v141; // [sp+68h] [bp-E8h]@57
  RakNet *(__fastcall *v142)(int, int, int, signed int *); // [sp+70h] [bp-E0h]@29
  int v143; // [sp+74h] [bp-DCh]@29
  int v144; // [sp+78h] [bp-D8h]@30
  void (__fastcall *v145)(int *); // [sp+80h] [bp-D0h]@29
  int v146; // [sp+84h] [bp-CCh]@30
  int v147; // [sp+88h] [bp-C8h]@31
  int v148; // [sp+8Ch] [bp-C4h]@31
  int v149; // [sp+90h] [bp-C0h]@31
  _QWORD *v150; // [sp+94h] [bp-BCh]@31
  void (__fastcall *v151)(_DWORD); // [sp+9Ch] [bp-B4h]@31
  unsigned int *(__fastcall *v152)(unsigned __int64 **, int); // [sp+A0h] [bp-B0h]@31
  __int64 v153; // [sp+A4h] [bp-ACh]@31
  char *v154; // [sp+ACh] [bp-A4h]@26
  char *v155; // [sp+B0h] [bp-A0h]@26
  const void *v156; // [sp+B4h] [bp-9Ch]@26
  int v157; // [sp+B8h] [bp-98h]@25
  int v158; // [sp+BCh] [bp-94h]@25
  int v159; // [sp+C0h] [bp-90h]@25
  signed int v160; // [sp+C4h] [bp-8Ch]@25
  int v161; // [sp+C8h] [bp-88h]@25
  int v162; // [sp+CCh] [bp-84h]@25
  int v163; // [sp+D0h] [bp-80h]@25
  int v164; // [sp+D4h] [bp-7Ch]@25
  int v165; // [sp+D8h] [bp-78h]@25
  int v166; // [sp+DCh] [bp-74h]@25
  int v167; // [sp+E0h] [bp-70h]@140
  int v168; // [sp+E4h] [bp-6Ch]@117
  char v169; // [sp+E8h] [bp-68h]@117
  int v170; // [sp+F0h] [bp-60h]@125
  void *v171; // [sp+F4h] [bp-5Ch]@125
  int v172; // [sp+F8h] [bp-58h]@22
  int v173; // [sp+FCh] [bp-54h]@22
  int v174; // [sp+100h] [bp-50h]@22
  int v175; // [sp+104h] [bp-4Ch]@22
  int v176; // [sp+108h] [bp-48h]@24
  char *v177; // [sp+10Ch] [bp-44h]@21
  _DWORD *v178; // [sp+110h] [bp-40h]@21
  int v179; // [sp+114h] [bp-3Ch]@2
  int v180; // [sp+118h] [bp-38h]@2
  int v181; // [sp+11Ch] [bp-34h]@2
  int v182; // [sp+120h] [bp-30h]@2
  char v183; // [sp+124h] [bp-2Ch]@22

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v7 = a2;
  if ( !*(_DWORD *)(a1 + 64) )
  {
    v180 = *(_DWORD *)(a1 + 48);
    v181 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio2ip14basic_resolverINS6_3tcpENS6_16resolver_serviceIS8_EEEESaISB_EJSt17reference_wrapperINS5_10io_serviceEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v182,
      0,
      (int)&v179,
      (unsigned int)&v180);
    v8 = v182;
    if ( v182 )
    {
      v9 = (*(int (**)(void))(*(_DWORD *)v182 + 16))();
      v8 = v182;
    }
    else
      v9 = 0;
    v182 = 0;
    *(_DWORD *)(v4 + 64) = v9;
    v10 = *(_DWORD *)(v4 + 68);
    *(_DWORD *)(v4 + 68) = v8;
    if ( v10 )
      v11 = (unsigned int *)(v10 + 4);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v10 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      }
    v15 = v182;
      v16 = (unsigned int *)(v182 + 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        v18 = (unsigned int *)(v15 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
          v19 = __ldrex(v18);
        while ( __strex(v19 - 1, v18) );
        if ( v19 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
  }
  sub_21E8AF4(&v179, (int *)(*(_DWORD *)v7 + 56));
  v20 = 0xFFFF4420;
  v177 = (char *)&unk_28898CC;
  v178 = &unk_28898CC;
  if ( *(_DWORD *)(v179 - 12) )
    v174 = 0;
    v175 = ((int (*)(void))byte_21E9640)();
    v172 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v173,
      (int)&v183,
      (const void **)&v179);
    if ( v173 )
      v21 = (*(int (**)(void))(*(_DWORD *)v173 + 16))();
      v21 = 0;
    v172 = v21;
    if ( !*(_BYTE *)(v21 + 15) )
      v88 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v88 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
      v170 = 5;
      v171 = &websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !*(_DWORD *)(v5 + 8) )
        sub_21E5F48();
      (*(void (__fastcall **)(int, int *))(v5 + 12))(v5, &v170);
      goto LABEL_128;
    v86 = *(_DWORD *)v7;
    j_websocketpp::uri::get_authority((websocketpp::uri *)&v168, *v6);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_init(
      (int)&v169,
      v86,
      &v168);
    *(_QWORD *)&v174 = *(_QWORD *)&v169;
    v87 = (void *)(v168 - 12);
    if ( (int *)(v168 - 12) != &dword_28898C0 )
      v111 = (unsigned int *)(v168 - 4);
        v112 = __ldrex(v111);
      while ( __strex(v112 - 1, v111) );
      if ( v112 <= 0 )
        j_j_j_j__ZdlPv_9(v87);
    if ( v174 )
      (*(void (__fastcall **)(int))(v5 + 12))(v5);
LABEL_128:
      v89 = v173;
      if ( v173 )
        v90 = (unsigned int *)(v173 + 4);
          v91 = __ldrex(v90);
        while ( __strex(v91 - 1, v90) );
        if ( v91 == 1 )
        {
          v92 = (unsigned int *)(v89 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 8))(v89);
          __dmb();
          do
            v93 = __ldrex(v92);
          while ( __strex(v93 - 1, v92) );
          if ( v93 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 12))(v89);
        }
      goto LABEL_136;
    EntityInteraction::setInteractText((int *)&v178, (int *)(v172 + 4));
    j_websocketpp::uri::get_port_str((websocketpp::uri *)&v167, v172);
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)&v177,
      &v167);
    v97 = (void *)(v167 - 12);
    if ( (int *)(v167 - 12) != &dword_28898C0 )
      v121 = (unsigned int *)(v167 - 4);
        v122 = __ldrex(v121);
      while ( __strex(v122 - 1, v121) );
      if ( v122 <= 0 )
        j_j_j_j__ZdlPv_9(v97);
    v98 = v173;
      v99 = (unsigned int *)(v173 + 4);
        v100 = __ldrex(v99);
      while ( __strex(v100 - 1, v99) );
      if ( v100 == 1 )
        v101 = (unsigned int *)(v98 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 8))(v98);
          v102 = __ldrex(v101);
        while ( __strex(v102 - 1, v101) );
        if ( v102 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 12))(v98);
  else
    EntityInteraction::setInteractText((int *)&v178, (int *)(*v6 + 4));
    j_websocketpp::uri::get_port_str((websocketpp::uri *)&v176, *v6);
      &v176);
    v22 = (void *)(v176 - 12);
    if ( (int *)(v176 - 12) != &dword_28898C0 )
      v113 = (unsigned int *)(v176 - 4);
        v114 = __ldrex(v113);
      while ( __strex(v114 - 1, v113) );
      if ( v114 <= 0 )
        j_j_j_j__ZdlPv_9(v22);
  sub_21E8AF4(&v165, (int *)&v178);
  sub_21E8AF4(&v166, (int *)&v177);
  v23 = 0;
  v157 = 1024;
  v158 = 0;
  v159 = 1;
  v164 = 0;
  v162 = 0;
  v163 = 0;
  v160 = 6;
  v161 = 0;
  v24 = *(pthread_mutex_t **)(v4 + 92);
  if ( *((_BYTE *)&v24->__align + 5) & 4 )
    v154 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v154, *(v178 - 3) + 31);
    sub_21E7408((const void **)&v154, "starting async DNS resolve for ", 0x1Fu);
    sub_21E72F0((const void **)&v154, (const void **)&v178);
    v25 = sub_21E7408((const void **)&v154, ":", 1u);
    v155 = (char *)*v25;
    *v25 = &unk_28898CC;
    v26 = sub_21E72F0((const void **)&v155, (const void **)&v177);
    v156 = *v26;
    v27 = (int)v156;
    *v26 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v24, 1024, (int *)&v156);
    if ( (int *)(v27 - 12) != &dword_28898C0 )
      v115 = (unsigned int *)(v27 - 4);
        v116 = __ldrex(v115);
      while ( __strex(v116 - 1, v115) );
      if ( v116 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v27 - 12));
    v28 = v155 - 12;
    if ( (int *)(v155 - 12) != &dword_28898C0 )
      v117 = (unsigned int *)(v155 - 4);
        v118 = __ldrex(v117);
      while ( __strex(v118 - 1, v117) );
      if ( v118 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    v29 = v154 - 12;
    if ( (int *)(v154 - 12) != &dword_28898C0 )
      v119 = (unsigned int *)(v154 - 4);
        v120 = __ldrex(v119);
      while ( __strex(v120 - 1, v119) );
      if ( v120 <= 0 )
        j_j_j_j__ZdlPv_9(v29);
  v30 = *(_DWORD *)v7;
  v142 = websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_resolve_timeout;
  v143 = 0;
  v145 = 0;
  v31 = *(void (__fastcall **)(int *, int, signed int))(v5 + 8);
  if ( v31 )
    v31(&v144, v5, 2);
    v146 = *(_DWORD *)(v5 + 12);
    v23 = *(_DWORD *)(v5 + 8);
    v145 = *(void (__fastcall **)(int *))(v5 + 8);
  v147 = 0;
  v148 = 0;
  v149 = v4;
  v151 = 0;
  v32 = j_operator new(0x24u);
  *v32 = *(_QWORD *)&v142;
  v32[1] = *(_QWORD *)&v144;
  v33 = v146;
  *((_DWORD *)v32 + 4) = v23;
  *((_DWORD *)v32 + 5) = v33;
  *((_DWORD *)v32 + 6) = 0;
  *((_DWORD *)v32 + 7) = 0;
  *((_DWORD *)v32 + 8) = v4;
  v150 = v32;
  v151 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v152 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
    (int)&v153,
    v30,
    5000,
    (int)&v150);
  *(_QWORD *)&v34 = v153;
  v153 = 0LL;
  if ( v151 )
    v151(&v150);
  v36 = v148;
  v123 = v4;
  if ( v148 )
    v37 = (unsigned int *)(v148 + 4);
    __dmb();
    do
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 == 1 )
      v39 = (unsigned int *)(v36 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v36 + 8))(v36);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v36 + 12))(v36);
  if ( v145 )
    v145(&v144);
  v41 = *(int **)(v4 + 64);
  v42 = *(_QWORD *)(*(_DWORD *)v7 + 72);
  if ( HIDWORD(v42) )
    v43 = (unsigned int *)(HIDWORD(v42) + 4);
      v44 = __ldrex(v43);
    while ( __strex(v44 + 1, v43) );
  v125 = 0;
  v45 = *(void (__fastcall **)(__int64 *, int, signed int))(v5 + 8);
  if ( v45 )
    v45(&v124, v5, 2);
    v126 = *(_DWORD *)(v5 + 12);
    v125 = *(void (**)(void))(v5 + 8);
  v127 = v34;
  v46 = v35;
  v128 = v35;
  if ( v35 )
    v47 = (unsigned int *)(v35 + 4);
      v48 = __ldrex(v47);
    while ( __strex(v48 + 1, v47) );
  v49 = *(_DWORD *)v7;
  v129 = *(_DWORD *)v7;
  v50 = *(_DWORD *)(v7 + 4);
  v130 = v50;
  if ( v50 )
    v51 = (unsigned int *)(v50 + 4);
      v52 = __ldrex(v51);
    while ( __strex(v52 + 1, v51) );
    v50 = v130;
    v49 = v129;
  v131 = v123;
  v132 = *(_QWORD *)v42;
  v133 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_resolve;
  v53 = v124;
  v124 = v134;
  v134 = v53;
  v135 = v125;
  LODWORD(v53) = v126;
  v126 = v136;
  v136 = v53;
  v137 = v127;
  LODWORD(v53) = v128;
  v127 = 0;
  v128 = 0;
  v138 = v53;
  v139 = v49;
  v129 = 0;
  v130 = 0;
  v140 = v50;
  v141 = v123;
  j_boost::asio::ip::resolver_service<boost::asio::ip::tcp>::async_resolve<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&,boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp>)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
    *v41,
    (int)(v41 + 1),
    (int)&v157,
    (int)&v132);
  v54 = v140;
  if ( v140 )
    v55 = (unsigned int *)(v140 + 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 == 1 )
      v57 = (unsigned int *)(v54 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 8))(v54);
        v58 = __ldrex(v57);
      while ( __strex(v58 - 1, v57) );
      if ( v58 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 12))(v54);
  v59 = v138;
  if ( v138 )
    v60 = (unsigned int *)(v138 + 4);
      v61 = __ldrex(v60);
    while ( __strex(v61 - 1, v60) );
    if ( v61 == 1 )
      v62 = (unsigned int *)(v59 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v59 + 8))(v59);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v59 + 12))(v59);
  if ( v135 )
    v135();
  v64 = v130;
  if ( v130 )
    v65 = (unsigned int *)(v130 + 4);
      v66 = __ldrex(v65);
    while ( __strex(v66 - 1, v65) );
    if ( v66 == 1 )
      v67 = (unsigned int *)(v64 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 8))(v64);
        v68 = __ldrex(v67);
      while ( __strex(v68 - 1, v67) );
      if ( v68 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 12))(v64);
  v69 = v128;
  if ( v128 )
    v70 = (unsigned int *)(v128 + 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 == 1 )
      v72 = (unsigned int *)(v69 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 8))(v69);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 12))(v69);
  if ( v125 )
    v125();
    v74 = (unsigned int *)(HIDWORD(v42) + 4);
      v75 = __ldrex(v74);
    while ( __strex(v75 - 1, v74) );
    if ( v75 == 1 )
      v76 = (unsigned int *)(HIDWORD(v42) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v42) + 8))(HIDWORD(v42));
        v77 = __ldrex(v76);
      while ( __strex(v77 - 1, v76) );
      if ( v77 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v42) + 12))(HIDWORD(v42));
  if ( v46 )
    v78 = (unsigned int *)(v46 + 4);
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 == 1 )
      v80 = (unsigned int *)(v46 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 8))(v46);
        v81 = __ldrex(v80);
      while ( __strex(v81 - 1, v80) );
      if ( v81 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 12))(v46);
  v82 = (void *)(v166 - 12);
  if ( (int *)(v166 - 12) != &dword_28898C0 )
    v109 = (unsigned int *)(v166 - 4);
      v110 = __ldrex(v109);
    while ( __strex(v110 - 1, v109) );
    if ( v110 <= 0 )
      j_j_j_j__ZdlPv_9(v82);
  v83 = (void *)(v165 - 12);
  if ( (int *)(v165 - 12) != &dword_28898C0 )
    v84 = (unsigned int *)(v165 - 4);
      v85 = __ldrex(v84);
    while ( __strex(v85 - 1, v84) );
    if ( v85 <= 0 )
      j_j_j_j__ZdlPv_9(v83);
LABEL_136:
  v94 = v177 - 12;
  if ( v177 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v103 = (unsigned int *)(v177 - 4);
      v104 = __ldrex(v103);
    while ( __strex(v104 - 1, v103) );
    if ( v104 <= 0 )
      j_j_j_j__ZdlPv_9(v94);
  v95 = (char *)(v178 - 3);
  if ( (char *)(v178 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v105 = v178 - 1;
      v106 = __ldrex(v105);
    while ( __strex(v106 - 1, v105) );
    if ( v106 <= 0 )
      j_j_j_j__ZdlPv_9(v95);
  v96 = (void *)(v179 - 12);
  if ( (int (__fastcall *)(_DWORD))(v179 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v107 = (unsigned int *)(v179 - 4);
      v108 = __ldrex(v107);
    while ( __strex(v108 - 1, v107) );
    if ( v108 <= 0 )
      j_j_j_j__ZdlPv_9(v96);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_response(int a1, int a2)
{
  websocketpp::connection<websocketpp::config::asio_client>::send_http_response(a1, a2);
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::get_message(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r4@1
  int v4; // r0@2
  __int64 v5; // r8@2
  unsigned int *v6; // r0@3
  unsigned int v7; // r1@4
  int v8; // r7@6
  unsigned int *v9; // r0@7
  unsigned int v10; // r1@8
  unsigned int *v11; // r6@10
  unsigned int v12; // r0@11
  int v13; // r6@15
  unsigned int *v14; // r0@16
  unsigned int v15; // r1@17
  unsigned int *v16; // r7@19
  unsigned int v17; // r0@20
  int result; // r0@22
  unsigned int *v19; // r0@24
  unsigned int v20; // r1@25
  unsigned int *v21; // r7@27

  v2 = a2;
  v3 = a1;
  if ( !(*(int (__fastcall **)(int))(*(_DWORD *)a2 + 56))(a2) )
  {
    result = 0;
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 4) = 0;
    return result;
  }
  v4 = *(_DWORD *)(v2 + 72);
  v5 = *(_QWORD *)v4;
  if ( *(_QWORD *)v4 >> 32 )
    v6 = (unsigned int *)(HIDWORD(v5) + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
    v4 = *(_DWORD *)(v2 + 72);
  *(_DWORD *)v4 = 0;
  v8 = *(_DWORD *)(v4 + 4);
  *(_DWORD *)(v4 + 4) = 0;
  if ( v8 )
    v9 = (unsigned int *)(v8 + 4);
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v8 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
    }
  if ( *(_DWORD *)(v5 + 20) < 8 )
    *(_DWORD *)(v2 + 32) = 0;
    v13 = *(_DWORD *)(v2 + 36);
    *(_DWORD *)(v2 + 36) = 0;
    if ( !v13 )
      goto LABEL_31;
    v19 = (unsigned int *)(v13 + 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 != 1 )
    v21 = (unsigned int *)(v13 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      v17 = __ldrex(v21);
    while ( __strex(v17 - 1, v21) );
  else
    *(_DWORD *)(v2 + 52) = 0;
    v13 = *(_DWORD *)(v2 + 56);
    *(_DWORD *)(v2 + 56) = 0;
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 != 1 )
    v16 = (unsigned int *)(v13 + 8);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
  __dmb();
  if ( v17 == 1 )
    (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
LABEL_31:
  result = 0;
  *(_DWORD *)(v2 + 92) = 0;
  *(_DWORD *)(v2 + 24) = 2;
  *(_WORD *)(v2 + 12) = 0;
  *(_DWORD *)(v2 + 84) = 0;
  *(_DWORD *)(v2 + 80) = 0;
  *(_DWORD *)(v2 + 76) = 0;
  *(_QWORD *)v3 = v5;
  return result;
}


websocketpp::http::parser::response *__fastcall websocketpp::http::parser::response::~response(websocketpp::http::parser::response *this)
{
  websocketpp::http::parser::response *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r1@9
  void *v8; // r0@9
  int v9; // r1@10
  void *v10; // r0@10
  int *v11; // r0@11
  unsigned int *v13; // r1@13
  signed int v14; // r2@14
  unsigned int *v15; // r1@17
  signed int v16; // r2@18
  unsigned int *v17; // r1@21
  signed int v18; // r2@22

  v1 = this;
  v2 = *((_DWORD *)this + 15);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = *((_DWORD *)v1 + 12);
  v8 = (void *)(v7 - 12);
  if ( (int *)(v7 - 12) != &dword_28898C0 )
    v13 = (unsigned int *)(v7 - 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  v9 = *((_DWORD *)v1 + 8);
  v10 = (void *)(v9 - 12);
  if ( (int *)(v9 - 12) != &dword_28898C0 )
    v15 = (unsigned int *)(v9 - 4);
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
    (int)v1 + 4,
    *((_DWORD *)v1 + 3));
  v11 = (int *)(*(_DWORD *)v1 - 12);
  if ( v11 != &dword_28898C0 )
    v17 = (unsigned int *)(*(_DWORD *)v1 - 4);
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  return v1;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_close(int a1, int a2, int a3, int a4, int a5)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_client>::prepare_close(a1, a2, a3, a4, a5);
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::get_message(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r1@1
  unsigned int *v4; // r0@2
  unsigned int v5; // r1@3
  int v6; // r5@4
  unsigned int *v7; // r0@5
  unsigned int v8; // r1@6
  unsigned int *v9; // r6@8
  unsigned int v10; // r0@9
  int result; // r0@13

  v2 = a2;
  *(_DWORD *)a1 = *(_DWORD *)(a2 + 28);
  v3 = *(_DWORD *)(a2 + 32);
  *(_DWORD *)(a1 + 4) = v3;
  if ( v3 )
  {
    v4 = (unsigned int *)(v3 + 4);
    __dmb();
    do
      v5 = __ldrex(v4);
    while ( __strex(v5 + 1, v4) );
    v6 = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(v2 + 28) = 0;
    *(_DWORD *)(v2 + 32) = 0;
    if ( v6 )
    {
      v7 = (unsigned int *)(v6 + 4);
      __dmb();
      do
        v8 = __ldrex(v7);
      while ( __strex(v8 - 1, v7) );
      if ( v8 == 1 )
      {
        v9 = (unsigned int *)(v6 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 8))(v6);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 12))(v6);
      }
    }
  }
  else
  result = 0;
  *(_DWORD *)(v2 + 16) = 0;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::connection(int a1, char a2, pthread_mutex_t *a3, int a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::connection(
           a1,
           a2,
           a3,
           a4);
}


_DWORD *__fastcall websocketpp::uri::get_port_str(websocketpp::uri *this, int a2)
{
  int v2; // r6@1
  int *v3; // r5@1
  int v4; // r1@1
  void *v5; // r0@1
  unsigned int *v7; // r1@3
  signed int v8; // r2@4
  void **v9; // [sp+0h] [bp-D0h]@1
  int v10; // [sp+4h] [bp-CCh]@2
  void **v11; // [sp+8h] [bp-C8h]@1
  void **v12; // [sp+Ch] [bp-C4h]@1
  int v13; // [sp+28h] [bp-A8h]@2
  int v14; // [sp+30h] [bp-A0h]@1
  void **v15; // [sp+34h] [bp-9Ch]@1

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v9, 24);
  v4 = *(_WORD *)(v2 + 12);
  sub_21CC440((char *)&v11);
  sub_21CFED8(v3, (int)&v12);
  v9 = &off_26D3F94;
  v15 = &off_26D3FBC;
  v11 = &off_26D3FA8;
  v12 = &off_27734E8;
  v5 = (void *)(v14 - 12);
  if ( (int *)(v14 - 12) != &dword_28898C0 )
  {
    v7 = (unsigned int *)(v14 - 4);
    __dmb();
    do
      v8 = __ldrex(v7);
    while ( __strex(v8 - 1, v7) );
    if ( v8 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  }
  v12 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v13);
  v9 = &off_276D0DC;
  v15 = &off_276D0F0;
  v10 = 0;
  return sub_21B6560(&v15);
}


void __fastcall websocketpp::http::parser::parser::process_header(int a1, _BYTE *a2, _BYTE *a3)
{
  int v3; // r8@1
  _BYTE *v4; // r7@1
  _BYTE *v5; // r5@1
  _BYTE *v6; // r0@1
  _BYTE *v7; // r6@1
  int v8; // r10@3
  _DWORD *v9; // r0@3
  int *v10; // r4@3
  _BYTE *v11; // r9@3
  char *v12; // r5@5
  int *v13; // r0@5
  int v14; // r3@5
  _BYTE *v15; // r7@11
  int v16; // r4@12
  _DWORD *v17; // r0@12
  int *v18; // r6@12
  _BYTE *v19; // r5@12
  void *v20; // r0@18
  _BYTE *v21; // r0@19
  void *v22; // r0@20
  _BYTE *v23; // r0@21
  unsigned int *v24; // r1@23
  signed int v25; // r2@24
  unsigned int *v26; // r1@27
  signed int v27; // r2@28
  unsigned int *v28; // r1@31
  signed int v29; // r2@32
  unsigned int *v30; // r1@35
  signed int v31; // r2@36
  _BYTE *v32; // [sp+Ch] [bp-54h]@18
  int v33; // [sp+10h] [bp-50h]@18
  _BYTE *v34; // [sp+18h] [bp-48h]@11
  int v35; // [sp+1Ch] [bp-44h]@11
  int v36; // [sp+24h] [bp-3Ch]@5
  int v37; // [sp+2Ch] [bp-34h]@5
  int v38; // [sp+34h] [bp-2Ch]@5

  v3 = a1;
  v4 = a2;
  v5 = a3;
  v6 = j_std::__search<__gnu_cxx::__normal_iterator<char *,std::string>,char const*,__gnu_cxx::__ops::_Iter_equal_to_iter>(
         a2,
         a3,
         ":",
         "");
  v7 = v6;
  if ( v6 == v5 )
  {
    v12 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v38, "Invalid header line");
    sub_21E94B4((void **)&v37, (const char *)&unk_257BC67);
    v13 = (int *)sub_21E94B4((void **)&v36, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v12, &v38, 400, &v37, v13);
    j_j___cxa_throw_0(
      (int)v12,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v14);
  }
  if ( v4 == v6 )
    v11 = &unk_28898CC;
  else
    v8 = v6 - v4;
    v9 = sub_21E7E80(v6 - v4, 0);
    v10 = v9;
    v11 = v9 + 3;
    if ( v8 == 1 )
      *v11 = *v4;
    else
      j___aeabi_memcpy_1((int)(v9 + 3), (int)v4, v7 - v4);
    if ( v10 != &dword_28898C0 )
    {
      v10[2] = 0;
      *v10 = v8;
      v11[v8] = byte_26C67B8[0];
    }
  v34 = v11;
  j_websocketpp::http::parser::strip_lws(&v35, &v34);
  v15 = v7 + 1;
  if ( v7 + 1 == v5 )
    v19 = &unk_28898CC;
    v16 = v5 - v15;
    v17 = sub_21E7E80(v5 - v15, 0);
    v18 = v17;
    v19 = v17 + 3;
    if ( v16 == 1 )
      *v19 = *v15;
      j___aeabi_memcpy_1((int)(v17 + 3), (int)v15, v16);
    if ( v18 != &dword_28898C0 )
      v18[2] = 0;
      *v18 = v16;
      v19[v16] = byte_26C67B8[0];
  v32 = v19;
  j_websocketpp::http::parser::strip_lws(&v33, &v32);
  j_websocketpp::http::parser::parser::append_header(v3, &v35, (const void **)&v33);
  v20 = (void *)(v33 - 12);
  if ( (int *)(v33 - 12) != &dword_28898C0 )
    v24 = (unsigned int *)(v33 - 4);
    __dmb();
    do
      v25 = __ldrex(v24);
    while ( __strex(v25 - 1, v24) );
    if ( v25 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  v21 = v32 - 12;
  if ( (int *)(v32 - 12) != &dword_28898C0 )
    v26 = (unsigned int *)(v32 - 4);
      v27 = __ldrex(v26);
    while ( __strex(v27 - 1, v26) );
    if ( v27 <= 0 )
      j_j_j_j__ZdlPv_9(v21);
  v22 = (void *)(v35 - 12);
  if ( (int *)(v35 - 12) != &dword_28898C0 )
    v28 = (unsigned int *)(v35 - 4);
      v29 = __ldrex(v28);
    while ( __strex(v29 - 1, v28) );
    if ( v29 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v23 = v34 - 12;
  if ( (int *)(v34 - 12) != &dword_28898C0 )
    v30 = (unsigned int *)(v34 - 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 <= 0 )
      j_j_j_j__ZdlPv_9(v23);
}


char *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake_key(int a1, int a2, const void **a3)
{
  int v3; // r4@1
  websocketpp::sha1 **v4; // r5@1
  unsigned __int8 *v5; // r3@1
  void *v6; // r0@1
  char *result; // r0@2
  unsigned int *v8; // r1@4
  signed int v9; // r2@5
  int v10; // [sp+0h] [bp-38h]@1
  char v11; // [sp+8h] [bp-30h]@1
  RakNet *v12; // [sp+1Ch] [bp-1Ch]@1

  v3 = a1;
  v4 = (websocketpp::sha1 **)a3;
  v12 = _stack_chk_guard;
  sub_21E7408(a3, "258EAFA5-E914-47DA-95CA-C5AB0DC85B11", 0x24u);
  j_websocketpp::sha1::calc(*v4, *((const void **)*v4 - 3), (unsigned int)&v11, v5);
  j_websocketpp::base64_encode((websocketpp *)&v10, (const unsigned __int8 *)&v11, 0x14u);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id((int *)v4, &v10);
  v6 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v12);
  if ( _stack_chk_guard != v12 )
    j___stack_chk_fail_1((int)result);
  return result;
}


void __fastcall websocketpp::processor::hybi08<websocketpp::config::asio_tls_client>::~hybi08(void *ptr)
{
  websocketpp::processor::hybi08<websocketpp::config::asio_tls_client>::~hybi08(ptr);
}


char *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::add_subprotocol(int a1, int *a2, int a3)
{
  int v3; // r7@1
  char v4; // r0@2
  signed int v5; // r2@5
  unsigned int v6; // r1@5
  int (__fastcall **v7)(_DWORD); // r0@5
  int v8; // r2@6
  signed int v9; // r3@6
  int v10; // r12@7
  signed int v11; // r3@7
  int v12; // r4@8
  bool v13; // zf@9
  _BYTE *v14; // r3@9
  bool v15; // zf@12
  int v16; // r3@16
  char v17; // r0@27
  char *result; // r0@31
  int v19; // r4@33

  v3 = a3;
  if ( *(_BYTE *)(a1 + 19232) )
  {
    v4 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v4 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v5 = 19;
    v6 = 0x3FFFFD01u;
    v7 = &GLOBAL_OFFSET_TABLE_;
LABEL_31:
    result = (char *)v7[v6];
    *(_DWORD *)v3 = v5;
    *(_DWORD *)(v3 + 4) = result;
    return result;
  }
  v8 = *a2;
  v9 = *(_DWORD *)(*a2 - 12);
  if ( !v9 )
LABEL_27:
    v17 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v17 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    v5 = 14;
    goto LABEL_31;
  v10 = v8 + v9;
  v11 = v9 >> 2;
  if ( v11 >= 1 )
    v12 = v11 + 1;
    do
      v13 = byte_26A94BF[*(_BYTE *)v8] == 0;
      v14 = (_BYTE *)v8;
      if ( byte_26A94BF[*(_BYTE *)v8] )
        v14 = (_BYTE *)(v8 + 1);
        v13 = byte_26A94BF[*(_BYTE *)(v8 + 1)] == 0;
      if ( v13 )
        goto LABEL_26;
      v14 = (_BYTE *)(v8 + 2);
      v15 = byte_26A94BF[*(_BYTE *)(v8 + 2)] == 0;
      if ( byte_26A94BF[*(_BYTE *)(v8 + 2)] )
        v14 = (_BYTE *)(v8 + 3);
        v15 = byte_26A94BF[*(_BYTE *)(v8 + 3)] == 0;
      if ( v15 )
      --v12;
      v8 += 4;
    while ( v12 > 1 );
  v16 = v10 - v8;
  if ( v10 - v8 == 1 )
    v14 = (_BYTE *)v8;
    goto LABEL_25;
  if ( v16 == 2 )
  else
    if ( v16 != 3 )
      goto LABEL_32;
    if ( !byte_26A94BF[*(_BYTE *)v8] )
      goto LABEL_26;
    v14 = (_BYTE *)(v8 + 1);
  if ( byte_26A94BF[*v14] )
    ++v14;
LABEL_25:
    if ( byte_26A94BF[*v14] )
LABEL_26:
  if ( v14 != (_BYTE *)v10 )
    goto LABEL_27;
LABEL_32:
  if ( *(_DWORD *)(a1 + 0x4B18) == *(_DWORD *)(a1 + 0x4B1C) )
    result = j_j_j__ZNSt6vectorISsSaISsEE19_M_emplace_back_auxIJRKSsEEEvDpOT__6((unsigned __int64 *)(a1 + 19220), a2);
    v19 = a1 + 0x4B18;
    sub_21E8AF4(*(int **)(a1 + 0x4B18), a2);
    result = (char *)(*(_DWORD *)v19 + 4);
    *(_DWORD *)v19 = result;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::dispatch(__int64 a1, int a2)
{
  int v2; // r4@0
  int v3; // r12@0
  int v4; // lr@0
  int v5; // r8@1
  __int64 v6; // kr00_8@1
  int v7; // r5@1
  void (__fastcall *v8)(int *, int, signed int); // r3@1
  int *v9; // r3@2
  __int64 v10; // r6@4
  int result; // r0@10
  int v12; // [sp+0h] [bp-60h]@2
  int v13; // [sp+4h] [bp-5Ch]@2
  void (*v14)(void); // [sp+8h] [bp-58h]@1
  int v15; // [sp+Ch] [bp-54h]@2
  __int64 v16; // [sp+10h] [bp-50h]@4
  int v17; // [sp+18h] [bp-48h]@2
  int v18; // [sp+1Ch] [bp-44h]@2
  void (*v19)(void); // [sp+20h] [bp-40h]@4
  int v20; // [sp+24h] [bp-3Ch]@2
  __int64 v21; // [sp+28h] [bp-38h]@4
  int v22; // [sp+30h] [bp-30h]@4
  int v23; // [sp+34h] [bp-2Ch]@4
  __int64 v24; // [sp+38h] [bp-28h]@4

  v5 = a1;
  v6 = *(_QWORD *)(HIDWORD(a1) + 68);
  v7 = a2;
  v14 = 0;
  v8 = *(void (__fastcall **)(int *, int, signed int))(a2 + 8);
  if ( v8 )
  {
    v8(&v12, a2, 2);
    HIDWORD(a1) = *(_DWORD *)(v7 + 12);
    v15 = *(_DWORD *)(v7 + 12);
    v9 = &v17;
    LODWORD(a1) = *(_DWORD *)(v7 + 8);
    v14 = *(void (**)(void))(v7 + 8);
    a2 = v18;
    v4 = v17;
    v3 = v20;
    v2 = v13;
    v7 = v12;
  }
  else
    LODWORD(a1) = 0;
  v16 = *(_QWORD *)HIDWORD(v6);
  v10 = v16;
  v12 = v4;
  v13 = a2;
  *v9 = v7;
  v9[1] = v2;
  v15 = v3;
  v21 = v10;
  v22 = v7;
  v23 = v2;
  v19 = 0;
  v20 = HIDWORD(a1);
  v24 = a1;
  j_boost::asio::detail::task_io_service::post<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::function<void ()(void)>,boost::asio::detail::is_continuation_if_running>>(
    *(_DWORD *)(v6 + 4),
    (int)&v21);
  if ( (_DWORD)v24 )
    ((void (*)(void))v24)();
  if ( v19 )
    v19();
  if ( v14 )
    v14();
  *(_DWORD *)v5 = 0;
  result = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v5 + 4) = result;
  return result;
}


unsigned int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_pong(int a1, int a2, int *a3, int a4)
{
  int *v4; // r5@1
  int v5; // r2@1
  unsigned int *v6; // r2@2
  unsigned int v7; // r3@3
  unsigned int *result; // r0@5
  int v9; // r4@5
  unsigned int v10; // r1@7
  unsigned int *v11; // r5@9
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1

  v4 = a3;
  v12 = *(_DWORD *)a4;
  v5 = *(_DWORD *)(a4 + 4);
  v13 = v5;
  if ( v5 )
  {
    v6 = (unsigned int *)(v5 + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
  }
  result = (unsigned int *)j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_control(
                             a1,
                             a2,
                             10,
                             v4,
                             &v12);
  v9 = v13;
  if ( v13 )
    result = (unsigned int *)(v13 + 4);
      v10 = __ldrex(result);
    while ( __strex(v10 - 1, result) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v11);
      while ( __strex((unsigned int)result - 1, v11) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    }
  return result;
}


int __fastcall websocketpp::http::exception::exception(int a1, int *a2, int a3, int *a4, int *a5)
{
  int v5; // r4@1
  int v6; // r8@1
  int *v7; // r5@1

  v5 = a1;
  v6 = a3;
  v7 = a4;
  *(_DWORD *)a1 = &off_276D304;
  sub_21E8AF4((int *)(a1 + 4), a2);
  sub_21E8AF4((int *)(v5 + 8), v7);
  sub_21E8AF4((int *)(v5 + 12), a5);
  *(_DWORD *)(v5 + 16) = v6;
  return v5;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_server_handshake_response(int a1, int a2, int a3, int a4)
{
  int v4; // r6@1
  int v5; // r7@1
  int v6; // r5@1
  int v7; // r4@1
  int v8; // r0@2
  int v9; // r8@2
  int *v10; // r9@2
  void *v11; // r0@4
  int v12; // r7@5
  unsigned int **v13; // r0@5
  _BYTE *v14; // r6@5
  int v15; // r5@5
  int v16; // r4@5
  int v17; // r0@6
  int *v18; // r5@6
  bool v19; // zf@6
  int *v20; // r0@6
  unsigned int **v21; // r0@9
  _BYTE *v22; // r6@9
  int v23; // r4@9
  int v24; // r5@9
  int v25; // r0@10
  int *v26; // r1@10
  void *v27; // r0@12
  int v28; // r0@14
  const void **v29; // r3@14
  size_t v30; // r2@16
  signed int v31; // r5@17
  char v32; // r0@18
  char v33; // r0@22
  int (__fastcall **v34)(_DWORD); // r0@25
  char v35; // r0@26
  int v36; // r0@30
  void *v37; // r0@32
  char v38; // r0@34
  char *v39; // r0@39
  unsigned int *v40; // r1@41
  signed int v41; // r2@42
  unsigned int *v42; // r1@45
  signed int v43; // r2@46
  unsigned int *v44; // r1@49
  signed int v45; // r2@50
  unsigned int *v46; // r1@53
  signed int v47; // r2@54
  unsigned int *v48; // r1@57
  signed int v49; // r2@58
  int v50; // [sp+8h] [bp-68h]@5
  int v51; // [sp+Ch] [bp-64h]@2
  int v52; // [sp+10h] [bp-60h]@2
  int v53; // [sp+18h] [bp-58h]@14
  int v54; // [sp+1Ch] [bp-54h]@13
  int v55; // [sp+28h] [bp-48h]@10
  void *s1; // [sp+2Ch] [bp-44h]@12
  char v57; // [sp+30h] [bp-40h]@9
  int v58; // [sp+38h] [bp-38h]@6
  char v59; // [sp+3Ch] [bp-34h]@5
  int v60; // [sp+44h] [bp-2Ch]@2

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *(_DWORD *)(a4 + 64) == 101 )
  {
    v52 = a1;
    sub_21E94B4((void **)&v60, "Upgrade");
    v51 = v4 + 4;
    v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           v4 + 4,
           &v60);
    v9 = v4 + 8;
    v10 = (int *)(v8 + 20);
    if ( v8 == v4 + 8 )
      v10 = &dword_2880E54;
    v11 = (void *)(v60 - 12);
    if ( (int *)(v60 - 12) != &dword_28898C0 )
    {
      v40 = (unsigned int *)(v60 - 4);
      __dmb();
      do
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    }
    v12 = v6;
    v50 = v7;
    v13 = sub_21C9520((unsigned int **)&v59);
    v14 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
            *v10,
            (_BYTE *)(*(_DWORD *)(*v10 - 12) + *v10),
            "websocket",
            "",
            (int)v13);
    v15 = *v10;
    v16 = *(_DWORD *)(*v10 - 12);
    sub_21C802C((unsigned int **)&v59);
    if ( v14 == (_BYTE *)(v15 + v16) )
      v33 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v33 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
      v34 = &GLOBAL_OFFSET_TABLE_;
    else
      sub_21E94B4((void **)&v58, "Connection");
      v17 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v51,
              &v58);
      v18 = (int *)(v17 + 20);
      v19 = v17 == v9;
      v20 = (int *)(v58 - 12);
      if ( v19 )
        v18 = &dword_2880E54;
      if ( v20 != &dword_28898C0 )
        v42 = (unsigned int *)(v58 - 4);
        __dmb();
        do
          v43 = __ldrex(v42);
        while ( __strex(v43 - 1, v42) );
        if ( v43 <= 0 )
          j_j_j_j__ZdlPv_9(v20);
      v21 = sub_21C9520((unsigned int **)&v57);
      v22 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
              *v18,
              (_BYTE *)(*(_DWORD *)(*v18 - 12) + *v18),
              "upgrade",
              "",
              (int)v21);
      v23 = *v18;
      v24 = *(_DWORD *)(*v18 - 12);
      sub_21C802C((unsigned int **)&v57);
      if ( v22 != (_BYTE *)(v23 + v24) )
        sub_21E94B4((void **)&v55, "Sec-WebSocket-Key");
        v25 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v12 + 4,
                &v55);
        v26 = (int *)(v25 + 20);
        if ( v25 == v12 + 8 )
          v26 = &dword_2880E54;
        sub_21E8AF4((int *)&s1, v26);
        v27 = (void *)(v55 - 12);
        if ( (int *)(v55 - 12) != &dword_28898C0 )
        {
          v44 = (unsigned int *)(v55 - 4);
          __dmb();
          do
            v45 = __ldrex(v44);
          while ( __strex(v45 - 1, v44) );
          if ( v45 <= 0 )
            j_j_j_j__ZdlPv_9(v27);
        }
        j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_handshake_key(
          (int)&v54,
          v50,
          (const void **)&s1);
        if ( v54 )
          goto LABEL_63;
        sub_21E94B4((void **)&v53, "Sec-WebSocket-Accept");
        v28 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v51,
                &v53);
        v29 = (const void **)(v28 + 20);
        if ( v28 == v9 )
          v29 = (const void **)&dword_2880E54;
        v30 = *((_DWORD *)s1 - 3);
        if ( v30 == *((_DWORD *)*v29 - 3) )
          v31 = j_memcmp_1(s1, *v29, v30) != 0;
        else
          v31 = 1;
        v37 = (void *)(v53 - 12);
        if ( (int *)(v53 - 12) != &dword_28898C0 )
          v48 = (unsigned int *)(v53 - 4);
            v49 = __ldrex(v48);
          while ( __strex(v49 - 1, v48) );
          if ( v49 <= 0 )
            j_j_j_j__ZdlPv_9(v37);
        if ( v31 == 1 )
LABEL_63:
          v38 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
          if ( !(v38 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          {
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          }
          *(_DWORD *)v52 = 21;
          *(_DWORD *)(v52 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
          *(_DWORD *)v52 = 0;
          *(_DWORD *)(v52 + 4) = ((int (*)(void))byte_21E9640)();
        v39 = (char *)s1 - 12;
        if ( (int *)((char *)s1 - 12) != &dword_28898C0 )
          v46 = (unsigned int *)((char *)s1 - 4);
            v47 = __ldrex(v46);
          while ( __strex(v47 - 1, v46) );
          if ( v47 <= 0 )
            j_j_j_j__ZdlPv_9(v39);
        return;
      v35 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v35 & 1)
    v36 = *(int *)((char *)v34 + 0xFFFFF484);
    *(_DWORD *)v52 = 21;
    *(_DWORD *)(v52 + 4) = v36;
    return;
  }
  v32 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v32 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  *(_DWORD *)v5 = 20;
  *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
}


void __fastcall websocketpp::transport::asio::error::category::~category(websocketpp::transport::asio::error::category *this)
{
  void *v1; // r0@1

  v1 = (void *)nullsub_3(this);
  j_j_j__ZdlPv_8(v1);
}


char *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::client_handshake_request(int a1, int a2, int a3, int *a4, int a5)
{
  return websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::client_handshake_request(
           a1,
           a2,
           a3,
           a4,
           a5);
}


int __fastcall websocketpp::transport::asio::tls_socket::endpoint::init(int a1, int a2, __int64 a3)
{
  int v3; // r12@0
  int *v4; // r9@1
  int v5; // r8@1
  int v6; // r7@1
  int v7; // r5@1
  __int64 *v8; // r6@2
  int *v9; // r10@2
  void (*v10)(void); // r1@3
  void (*v11)(void); // r3@6
  int v12; // r6@10
  __int64 *v13; // r5@11
  __int64 *v14; // r0@11
  int *v15; // r9@11
  void (*v16)(void); // r1@12
  void (*v17)(void); // r3@15
  int result; // r0@19
  int v19; // [sp+0h] [bp-60h]@11
  void (*v20)(void); // [sp+8h] [bp-58h]@10
  __int64 *v21; // [sp+Ch] [bp-54h]@11
  char v22; // [sp+10h] [bp-50h]@2
  void (*v23)(void); // [sp+18h] [bp-48h]@1
  int v24; // [sp+1Ch] [bp-44h]@2
  __int64 v25; // [sp+20h] [bp-40h]@3
  void (*v26)(void); // [sp+28h] [bp-38h]@2
  int v27; // [sp+2Ch] [bp-34h]@3
  __int64 v28; // [sp+30h] [bp-30h]@11
  void (*v29)(void); // [sp+38h] [bp-28h]@11
  __int64 *v30; // [sp+3Ch] [bp-24h]@12

  v4 = (int *)a3;
  v5 = a1;
  v6 = *(_DWORD *)a3;
  v7 = a2;
  v23 = 0;
  HIDWORD(a3) = *(_DWORD *)(a2 + 8);
  if ( HIDWORD(a3) )
  {
    ((void (__fastcall *)(_DWORD))HIDWORD(a3))(&v22);
    v8 = (__int64 *)(v6 + 56);
    v24 = *(_DWORD *)(v7 + 12);
    HIDWORD(a3) = *(_DWORD *)(v7 + 8);
    v26 = 0;
    v9 = (int *)&v26;
    v23 = (void (*)(void))HIDWORD(a3);
    if ( HIDWORD(a3) )
    {
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v25, &v22, 2);
      v3 = v24;
      v10 = v23;
      v27 = v24;
      v26 = v23;
      a3 = v25;
      goto LABEL_6;
    }
  }
  else
  v10 = 0;
LABEL_6:
  v25 = *v8;
  *v8 = a3;
  v11 = *(void (**)(void))(v6 + 64);
  *v9 = (int)v11;
  *(_DWORD *)(v6 + 64) = v10;
  v27 = *(_DWORD *)(v6 + 68);
  *(_DWORD *)(v6 + 68) = v3;
  if ( v11 )
    v11();
  if ( v23 )
    v23();
  v12 = *v4;
  v20 = 0;
  HIDWORD(a3) = *(_DWORD *)(v7 + 24);
    ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v19, v7 + 16, 2);
    v21 = *(__int64 **)(v7 + 28);
    HIDWORD(a3) = *(_DWORD *)(v7 + 24);
    v13 = (__int64 *)(v12 + 72);
    v29 = 0;
    v14 = &v28;
    v15 = (int *)&v29;
    v20 = (void (*)(void))HIDWORD(a3);
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v28, &v19, 2);
      v14 = v21;
      v16 = v20;
      v30 = v21;
      v29 = v20;
      a3 = v28;
      goto LABEL_15;
  v16 = 0;
LABEL_15:
  v28 = *v13;
  *v13 = a3;
  v17 = *(void (**)(void))(v12 + 80);
  *v15 = (int)v17;
  *(_DWORD *)(v12 + 80) = v16;
  v30 = *(__int64 **)(v12 + 84);
  *(_DWORD *)(v12 + 84) = v14;
  if ( v17 )
    v17();
  if ( v20 )
    v20();
  *(_DWORD *)v5 = 0;
  result = ((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v5 + 4) = result;
  return result;
}


_DWORD *__fastcall websocketpp::http::parser::parser::raw_headers(websocketpp::http::parser::parser *this, int a2)
{
  int v2; // r4@1
  int *v3; // r9@1
  int i; // r7@1
  char *v5; // r5@2
  char *v6; // r0@2
  void *v7; // r0@3
  unsigned int *v9; // r1@5
  signed int v10; // r2@6
  void **v11; // [sp+4h] [bp-E4h]@1
  int v12; // [sp+8h] [bp-E0h]@4
  void **v13; // [sp+Ch] [bp-DCh]@2
  void **v14; // [sp+10h] [bp-D8h]@3
  int v15; // [sp+2Ch] [bp-BCh]@4
  int v16; // [sp+34h] [bp-B4h]@3
  void **v17; // [sp+38h] [bp-B0h]@3

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v11, 24);
  for ( i = *(_DWORD *)(v2 + 16); i != v2 + 8; i = sub_21D4820(i) )
  {
    v5 = sub_21CBF38((char *)&v13, *(_DWORD *)(i + 16), *(_DWORD *)(*(_DWORD *)(i + 16) - 12));
    sub_21CBF38(v5, (int)": ", 2);
    v6 = sub_21CBF38(v5, *(_DWORD *)(i + 20), *(_DWORD *)(*(_DWORD *)(i + 20) - 12));
    sub_21CBF38(v6, (int)"\r\n", 2);
  }
  sub_21CFED8(v3, (int)&v14);
  v11 = &off_26D3F94;
  v17 = &off_26D3FBC;
  v13 = &off_26D3FA8;
  v14 = &off_27734E8;
  v7 = (void *)(v16 - 12);
  if ( (int *)(v16 - 12) != &dword_28898C0 )
    v9 = (unsigned int *)(v16 - 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  v14 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v15);
  v11 = &off_276D0DC;
  v17 = &off_276D0F0;
  v12 = 0;
  return sub_21B6560(&v17);
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_terminate(int a1, int a2, _DWORD *a3)
{
  int v3; // r4@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r5@1
  _DWORD *v6; // r6@1
  int v7; // r6@7
  int v8; // r1@7
  unsigned int *v9; // r0@8
  unsigned int v10; // r2@9
  char v11; // r0@13
  int v12; // r6@19
  int v13; // r1@19
  unsigned int *v14; // r0@20
  unsigned int v15; // r2@21
  void (__fastcall *v16)(int, int *); // r2@25
  unsigned int v17; // r1@26
  int v18; // r0@29
  unsigned int *v19; // r1@30
  unsigned int v20; // r2@31
  unsigned int *v21; // r0@35
  unsigned int v22; // r1@36
  unsigned int *result; // r0@40
  int v24; // r7@41
  unsigned int v25; // r0@42
  unsigned int *v26; // r5@42
  unsigned int v27; // r1@43
  int v28; // r8@46
  unsigned int v29; // r0@50
  unsigned int v30; // r0@52
  unsigned int *v31; // r6@54
  unsigned int v32; // r0@55
  unsigned int v33; // r0@59
  unsigned int v34; // r0@61
  unsigned int *v35; // r6@63
  unsigned int v36; // r0@64
  int (__fastcall *v37)(int, int *); // r2@69
  int v38; // r4@69
  unsigned int v39; // r1@71
  unsigned int *v40; // r5@73
  void (__fastcall *v41)(int, int *); // r2@77
  unsigned int v42; // r1@78
  int v43; // r0@81
  unsigned int *v44; // r1@82
  unsigned int v45; // r2@83
  unsigned int *v46; // r0@87
  unsigned int v47; // r1@88
  int v48; // [sp+10h] [bp-38h]@77
  int v49; // [sp+14h] [bp-34h]@77
  int v50; // [sp+18h] [bp-30h]@25
  int v51; // [sp+1Ch] [bp-2Ch]@25
  int v52; // [sp+20h] [bp-28h]@69
  int v53; // [sp+24h] [bp-24h]@69

  v3 = a1;
  v4 = *(pthread_mutex_t **)(a1 + 19236);
  v5 = a2;
  v6 = a3;
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "connection handle_terminate");
  if ( *v6 )
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      v3,
      1,
      "handle_terminate",
      v6);
  if ( v5 == 2 )
  {
    if ( *(_DWORD *)(v3 + 2388) )
    {
      v7 = *(_DWORD *)(v3 + 2360);
      v8 = *(_DWORD *)(v3 + 2356);
      if ( v7 )
      {
        v9 = (unsigned int *)(v7 + 8);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 + 1, v9) );
        if ( !*(_DWORD *)(v3 + 2388) )
          sub_21E5F48();
        v16 = *(void (__fastcall **)(int, int *))(v3 + 2392);
        v50 = v8;
        v51 = v7;
          v17 = __ldrex(v9);
        while ( __strex(v17 + 1, v9) );
      }
      else
        v50 = *(_DWORD *)(v3 + 2356);
        v51 = 0;
      v16(v3 + 2380, &v50);
      v18 = v51;
      if ( v51 )
        v19 = (unsigned int *)(v51 + 8);
          v20 = __ldrex(v19);
        while ( __strex(v20 - 1, v19) );
        if ( v20 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
        v21 = (unsigned int *)(v7 + 8);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_close_result(v3);
  }
  else if ( v5 == 1 )
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    if ( (*(_UNKNOWN **)(v3 + 19268) != &websocketpp::error::get_category(void)::instance
       || *(_DWORD *)(v3 + 19264) != 21)
      && *(_DWORD *)(v3 + 2404) )
      v12 = *(_DWORD *)(v3 + 2360);
      v13 = *(_DWORD *)(v3 + 2356);
      if ( v12 )
        v14 = (unsigned int *)(v12 + 8);
          v15 = __ldrex(v14);
        while ( __strex(v15 + 1, v14) );
        if ( !*(_DWORD *)(v3 + 2404) )
        v41 = *(void (__fastcall **)(int, int *))(v3 + 2408);
        v48 = v13;
        v49 = v12;
          v42 = __ldrex(v14);
        while ( __strex(v42 + 1, v14) );
        v48 = *(_DWORD *)(v3 + 2356);
        v49 = 0;
      v41(v3 + 2396, &v48);
      v43 = v49;
      if ( v49 )
        v44 = (unsigned int *)(v49 + 8);
          v45 = __ldrex(v44);
        while ( __strex(v45 - 1, v44) );
        if ( v45 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v43 + 12))(v43);
        v46 = (unsigned int *)(v12 + 8);
          v47 = __ldrex(v46);
        while ( __strex(v47 - 1, v46) );
        if ( v47 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 19240),
      16,
      "Unknown terminate_status");
  result = (unsigned int *)18952;
  if ( *(_DWORD *)(v3 + 18952) )
    v24 = *(_DWORD *)(v3 + 4);
    if ( !v24 )
      j_std::__throw_bad_weak_ptr();
    v25 = *(_DWORD *)(v24 + 4);
    v26 = (unsigned int *)(v24 + 4);
    do
      v27 = v25;
      if ( !v25 )
        j_std::__throw_bad_weak_ptr();
      __dmb();
      v25 = __ldrex(v26);
    while ( v25 != v27 || __strex(v27 + 1, v26) );
    v28 = *(_DWORD *)v3;
      v29 = __ldrex(v26);
    while ( __strex(v29 + 1, v26) );
      v30 = __ldrex(v26);
    while ( __strex(v30 - 1, v26) );
    if ( v30 == 1 )
      v31 = (unsigned int *)(v24 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
      do
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
      v33 = __ldrex(v26);
    while ( __strex(v33 + 1, v26) );
      v34 = __ldrex(v26);
    while ( __strex(v34 - 1, v26) );
    if ( v34 == 1 )
      v35 = (unsigned int *)(v24 + 8);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 == 1 )
    if ( !*(_DWORD *)(v3 + 18952) )
      sub_21E5F48();
    v37 = *(int (__fastcall **)(int, int *))(v3 + 18956);
    v52 = v28;
    v53 = v24;
    result = (unsigned int *)v37(v3 + 18944, &v52);
    v38 = v53;
    if ( v53 )
      result = (unsigned int *)(v53 + 4);
        v39 = __ldrex(result);
      while ( __strex(v39 - 1, result) );
      if ( v39 == 1 )
        v40 = (unsigned int *)(v38 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 8))(v38);
          result = (unsigned int *)__ldrex(v40);
        while ( __strex((unsigned int)result - 1, v40) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v38 + 12))(v38);
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_write(int a1, int a2, _DWORD *a3)
{
  int v3; // r5@1
  int v4; // r8@1
  pthread_mutex_t *v5; // r0@1
  _DWORD *v6; // r9@1
  unsigned int v7; // r4@4
  unsigned int v8; // r7@4
  signed int v9; // r1@4
  signed __int64 v10; // r0@9
  bool v11; // zf@9
  bool v12; // zf@12
  signed int v13; // r1@17
  signed int v14; // r6@24
  unsigned __int64 v15; // kr20_8@24
  unsigned int v16; // r3@24
  bool v17; // zf@33
  unsigned __int64 v18; // r0@38
  int v19; // r4@55
  char v20; // r0@57
  void (__fastcall *v21)(int *, int, signed int); // r3@62
  int v22; // [sp+0h] [bp-40h]@63
  void (*v23)(void); // [sp+8h] [bp-38h]@62
  int v24; // [sp+Ch] [bp-34h]@63
  int v25; // [sp+10h] [bp-30h]@60
  void *v26; // [sp+14h] [bp-2Ch]@60
  __int64 v27; // [sp+18h] [bp-28h]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 48);
  v6 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection handle_proxy_write");
  *(_DWORD *)(v3 + 92) = *(_DWORD *)(v3 + 88);
  if ( *v6 == 125 )
    goto LABEL_53;
  v7 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 60) + 196) + 8) >> 32;
  v8 = *(_QWORD *)(*(_DWORD *)(*(_DWORD *)(v3 + 60) + 196) + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v27,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v9 = 0;
  if ( v8 + 2 < 3 )
    v9 = 1;
  if ( (__PAIR__(v7, v8) - 9223372036854775806LL) >> 32 )
    v9 = 0;
  if ( v9 )
  {
    v10 = -6442450945LL;
    v11 = (v7 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE) == 0;
    if ( v7 ^ 0x7FFFFFFF | v8 ^ 0xFFFFFFFE )
      v11 = -6442450945LL == __PAIR__(v27, HIDWORD(v27));
    if ( v11 )
      goto LABEL_52;
    LODWORD(v10) = 0x7FFFFFFF;
    HIDWORD(v10) = v7 ^ 0x7FFFFFFF | ~v8;
    v12 = HIDWORD(v10) == 0;
    if ( !HIDWORD(v10) )
      v12 = (HIDWORD(v27) ^ 0x7FFFFFFF | ~(_DWORD)v27) == 0;
    if ( v12 )
    {
      HIDWORD(v10) = -2;
    }
    v17 = (v7 ^ 0x80000000 | v8) == 0;
    if ( !(v7 ^ 0x80000000 | v8) )
      v17 = (HIDWORD(v27) ^ 0x80000000 | (unsigned int)v27) == 0;
    if ( v17 )
      v10 = -6442450945LL;
  }
  else
    v13 = 0;
    if ( (unsigned int)(v27 + 2) < 3 )
      v13 = 1;
    if ( (unsigned __int64)(v27 - 9223372036854775806LL) >> 32 )
      v13 = 0;
    if ( !v13 )
      v14 = 0;
      LODWORD(v10) = (__PAIR__(v7, v8) - v27) >> 32;
      HIDWORD(v10) = v8 - v27;
      v15 = __PAIR__(v7, v8) - v27 + 2;
      v16 = HIDWORD(v15) + 2147483648;
      if ( HIDWORD(v15) != 0x80000000 )
        v16 = 1;
      if ( (unsigned int)v15 > 2 )
        v14 = 1;
        v14 = v16;
      if ( v14 )
      {
        if ( (signed int)v10 <= -1 )
          goto LABEL_53;
        goto LABEL_54;
      }
    if ( v27 == 9223372036854775806LL )
  v18 = __PAIR__(v7, v8) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v8 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_70;
  if ( !(HIDWORD(v27) ^ 0x80000000 | (unsigned int)v27) )
    v10 = -2147483649LL;
    goto LABEL_52;
  LODWORD(v10) = 0x7FFFFFFF;
  if ( !(HIDWORD(v27) ^ 0x7FFFFFFF | ~(_DWORD)v27) )
    v10 = 0x80000000LL;
  HIDWORD(v10) = -2;
  v7 = (__PAIR__(v7, v8) - v27) >> 32;
  v8 -= v27;
  if ( __PAIR__(v7, v8) != 9223372036854775806LL )
LABEL_70:
    if ( !(v7 ^ 0x7FFFFFFF | ~v8) )
      HIDWORD(v10) = -1;
    if ( !(v8 | v7 ^ 0x80000000) )
      HIDWORD(v10) = v8 | v7 ^ 0x80000000;
      LODWORD(v10) = 2147483648;
LABEL_52:
  if ( v10 == 0x80000000LL )
LABEL_53:
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v3 + 52),
      1,
      "write operation aborted");
    return;
LABEL_54:
  if ( *v6 )
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
      v3,
      4,
      "asio handle_proxy_write",
      v6);
    v19 = *(_DWORD *)(*(_DWORD *)(v3 + 60) + 196);
    sub_21B09F0();
    if ( *(_BYTE *)(v19 + 16) )
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v19 + 52),
        *(_DWORD *)v19 + 20,
        v19 + 20,
        -1);
      *(_BYTE *)(v19 + 16) = 0;
    v20 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v20 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v25 = 3;
    v26 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v25);
    v23 = 0;
    v21 = *(void (__fastcall **)(int *, int, signed int))(v4 + 8);
    if ( v21 )
      v21(&v22, v4, 2);
      v24 = *(_DWORD *)(v4 + 12);
      v23 = *(void (**)(void))(v4 + 8);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_read(
      (int)&v22);
    if ( v23 )
      v23();
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::append_header(int a1, _DWORD *a2, const void **a3)
{
  websocketpp::connection<websocketpp::config::asio_tls_client>::append_header(a1, a2, a3);
}


_DWORD *__fastcall websocketpp::uri::get_authority(websocketpp::uri *this, int a2)
{
  int v2; // r6@1
  int *v3; // r5@1
  char *v4; // r7@1
  int v5; // r1@1
  void *v6; // r0@1
  unsigned int *v8; // r1@3
  signed int v9; // r2@4
  void **v10; // [sp+4h] [bp-D4h]@1
  int v11; // [sp+8h] [bp-D0h]@2
  void **v12; // [sp+Ch] [bp-CCh]@1
  void **v13; // [sp+10h] [bp-C8h]@1
  int v14; // [sp+2Ch] [bp-ACh]@2
  int v15; // [sp+34h] [bp-A4h]@1
  void **v16; // [sp+38h] [bp-A0h]@1

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v10, 24);
  v4 = sub_21CBF38((char *)&v12, *(_DWORD *)(v2 + 4), *(_DWORD *)(*(_DWORD *)(v2 + 4) - 12));
  sub_21CBF38(v4, (int)":", 1);
  v5 = *(_WORD *)(v2 + 12);
  sub_21CC440(v4);
  sub_21CFED8(v3, (int)&v13);
  v10 = &off_26D3F94;
  v16 = &off_26D3FBC;
  v12 = &off_26D3FA8;
  v13 = &off_27734E8;
  v6 = (void *)(v15 - 12);
  if ( (int *)(v15 - 12) != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v15 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  v13 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v14);
  v10 = &off_276D0DC;
  v16 = &off_276D0F0;
  v11 = 0;
  return sub_21B6560(&v16);
}


int __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::~endpoint(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  boost::asio::io_service *v7; // r0@11
  boost::asio::io_service *v8; // r0@12
  int v9; // r5@13
  unsigned int *v10; // r0@14
  unsigned int v11; // r1@15
  unsigned int *v12; // r6@17
  unsigned int v13; // r0@18
  int v14; // r5@21
  unsigned int *v15; // r0@22
  unsigned int v16; // r1@23
  unsigned int *v17; // r6@25
  unsigned int v18; // r0@26
  int v19; // r5@29
  unsigned int *v20; // r0@30
  unsigned int v21; // r1@31
  unsigned int *v22; // r6@33
  unsigned int v23; // r0@34
  void (*v24)(void); // r3@37
  void (*v25)(void); // r3@39
  void (*v26)(void); // r3@41
  void (__fastcall *v27)(int, int, signed int); // r3@43

  v1 = a1;
  *(_DWORD *)(a1 + 72) = 0;
  v2 = *(_DWORD *)(a1 + 76);
  *(_DWORD *)(a1 + 76) = 0;
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  if ( *(_DWORD *)(v1 + 112) )
    if ( !*(_BYTE *)(v1 + 68) )
      v7 = *(boost::asio::io_service **)(v1 + 64);
      if ( v7 )
      {
        v8 = j_boost::asio::io_service::~io_service(v7);
        j_operator delete((void *)v8);
      }
  v9 = *(_DWORD *)(v1 + 92);
  if ( v9 )
    v10 = (unsigned int *)(v9 + 4);
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 == 1 )
      v12 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
  v14 = *(_DWORD *)(v1 + 84);
  if ( v14 )
    v15 = (unsigned int *)(v14 + 4);
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v14 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 8))(v14);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 12))(v14);
  v19 = *(_DWORD *)(v1 + 76);
  if ( v19 )
    v20 = (unsigned int *)(v19 + 4);
      v21 = __ldrex(v20);
    while ( __strex(v21 - 1, v20) );
    if ( v21 == 1 )
      v22 = (unsigned int *)(v19 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 8))(v19);
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 12))(v19);
  v24 = *(void (**)(void))(v1 + 56);
  if ( v24 )
    v24();
  v25 = *(void (**)(void))(v1 + 40);
  if ( v25 )
    v25();
  v26 = *(void (**)(void))(v1 + 24);
  if ( v26 )
    v26();
  v27 = *(void (__fastcall **)(int, int, signed int))(v1 + 8);
  if ( v27 )
    v27(v1, v1, 3);
  return v1;
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_basic_header(int a1, int a2, int a3, int a4, int a5))(_DWORD)
{
  int v5; // r1@1
  int v6; // r4@1
  unsigned int v7; // r0@1
  char v8; // r0@3
  signed int v9; // r2@6
  unsigned int v10; // r1@6
  int (__fastcall **v11)(_DWORD); // r0@6
  char v12; // r0@9
  char v13; // r0@13
  int (__fastcall *result)(_DWORD); // r0@18
  char v15; // r0@21
  char v16; // r0@27
  bool v17; // zf@31
  char v18; // r0@35
  signed int v19; // r1@41
  char v20; // r0@45
  signed int v21; // r0@49
  char v22; // r0@51
  char v23; // r0@57

  v5 = *(_BYTE *)a3;
  v6 = a1;
  v7 = v5 & 0xF;
  if ( v7 >= 8 && (*(_BYTE *)(a3 + 1) & 0x7Eu) >= 0x7E )
  {
    v8 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v8 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      {
        websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      }
    }
    v9 = 8;
    v10 = 0x3FFFFD21u;
    v11 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_18;
  }
  if ( v5 & 0x40 )
    v13 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v13 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    goto LABEL_17;
  if ( v5 & 0x30 )
    v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v12 & 1)
LABEL_17:
    v9 = 9;
LABEL_18:
    result = v11[v10];
    *(_DWORD *)v6 = v9;
    *(_DWORD *)(v6 + 4) = result;
    return result;
  if ( v7 <= 0xF && (1 << v7) & 0xF8F8 )
    v15 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v15 & 1)
    v9 = 7;
  if ( v7 < 8 )
    v17 = v7 == 0;
    if ( !(v5 & 0xF) )
      v17 = a5 == 1;
    if ( v17 )
      v18 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v18 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      v11 = &GLOBAL_OFFSET_TABLE_;
      goto LABEL_39;
  else if ( v5 >= 0 )
    v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v16 & 1)
    v9 = 10;
  if ( !a5 )
    v19 = 0;
    if ( v7 < 8 )
      v19 = 1;
    if ( v7 && v19 == 1 )
      v20 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v20 & 1)
LABEL_39:
      v10 = 0x3FFFFD21u;
      v9 = 11;
      goto LABEL_18;
  v21 = *(_BYTE *)(a3 + 1);
  if ( a4 == 1 )
    if ( v21 >= 0 )
      v22 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      if ( !(v22 & 1)
      v9 = 12;
  else if ( v21 <= -1 )
    v23 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v23 & 1)
    v9 = 13;
  *(_DWORD *)v6 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v6 + 4) = result;
  return result;
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::log_http_result(int a1)
{
  int *v1; // r11@1
  int v2; // r6@1
  int *v3; // r8@2
  int v4; // r0@3
  int v5; // r8@3
  const void **v6; // r2@3
  int v7; // r0@6
  int *v8; // r1@6
  signed int v9; // r11@8
  char *v10; // r5@10
  char *v11; // r5@10
  char *v12; // r5@10
  int v13; // r0@10
  char *v14; // r5@13
  char *v15; // r4@13
  char *v16; // r4@13
  int v17; // r1@13
  unsigned int v18; // r7@13
  void *v19; // r0@13
  void *v20; // r0@14
  void *v21; // r0@15
  void *v22; // r0@17
  void *v23; // r0@18
  int v24; // r0@19
  int *v25; // r1@19
  void *v26; // r0@21
  unsigned int i; // r2@23
  unsigned int v28; // r5@24
  int v29; // r5@27
  int (__fastcall *v30)(_DWORD); // r4@27
  char *v31; // r4@27
  int v32; // t1@27
  char *v33; // r0@27
  char *v34; // r0@28
  _BYTE *v35; // r0@29
  char *v36; // r0@30
  pthread_mutex_t *v37; // r4@31
  void *v38; // r0@31
  void *v39; // r0@32
  void *v40; // r0@33
  unsigned int *v42; // r1@35
  signed int v43; // r2@36
  unsigned int *v44; // r1@39
  signed int v45; // r2@40
  unsigned int *v46; // r1@43
  signed int v47; // r2@44
  unsigned int *v48; // r1@47
  signed int v49; // r2@48
  unsigned int *v50; // r1@51
  signed int v51; // r2@52
  unsigned int *v52; // r1@55
  signed int v53; // r2@56
  unsigned int *v54; // r1@59
  signed int v55; // r2@60
  unsigned int *v56; // r1@63
  signed int v57; // r2@64
  unsigned int *v58; // r1@67
  signed int v59; // r2@68
  unsigned int *v60; // r0@71
  signed int v61; // r1@72
  unsigned int *v62; // r1@75
  signed int v63; // r2@76
  unsigned int *v64; // r1@79
  signed int v65; // r2@80
  unsigned int *v66; // r1@83
  signed int v67; // r2@84
  int v68; // [sp+Ch] [bp-48h]@31
  char *v69; // [sp+14h] [bp-40h]@23
  _BYTE *v70; // [sp+1Ch] [bp-38h]@23
  int (__fastcall *v71)(_DWORD); // [sp+20h] [bp-34h]@23
  int v72; // [sp+28h] [bp-2Ch]@19
  int v73; // [sp+2Ch] [bp-28h]@21
  int v74; // [sp+34h] [bp-20h]@11
  int v75; // [sp+38h] [bp-1Ch]@10
  int v76; // [sp+40h] [bp-14h]@6
  int v77; // [sp+4Ch] [bp-8h]@3
  int v78; // [sp+50h] [bp-4h]@8
  void **v79; // [sp+54h] [bp+0h]@1
  int v80; // [sp+58h] [bp+4h]@34
  int v81; // [sp+5Ch] [bp+8h]@2
  void **v82; // [sp+60h] [bp+Ch]@31
  int v83; // [sp+84h] [bp+30h]@33
  void **v84; // [sp+88h] [bp+34h]@33

  v1 = (int *)&v79;
  v2 = a1;
  sub_21D103C((int)&v79, 24);
  if ( j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 19068) == 1 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v2 + 19236),
      1024,
      "Call to log_http_result for WebSocket");
    v3 = &v81;
  }
  else
    sub_21E94B4((void **)&v77, "host");
    v4 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           v2 + 19072,
           &v77);
    v5 = v2 + 0x4A84;
    v6 = (const void **)(v4 + 20);
    if ( v4 == v2 + 0x4A84 )
      v6 = (const void **)&dword_2880E54;
    if ( sub_21E7D6C(v6, (const char *)&unk_257BC67) )
    {
      sub_21E94B4((void **)&v76, "host");
      v7 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
             v2 + 19072,
             &v76);
      v8 = (int *)(v7 + 20);
      if ( v7 == v5 )
        v8 = &dword_2880E54;
      sub_21E8AF4(&v78, v8);
      v9 = 1;
    }
    else
      sub_21E94B4((void **)&v78, "-");
      v9 = 0;
    v10 = sub_21CBF38((char *)&v81, v78, *(_DWORD *)(v78 - 12));
    sub_21CBF38(v10, (int)" ", 1);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(
      (void **)&v75,
      v2);
    v11 = sub_21CBF38(v10, v75, *(_DWORD *)(v75 - 12));
    sub_21CBF38(v11, (int)" \"", 2);
    v12 = sub_21CBF38(v11, *(_DWORD *)(v2 + 19124), *(_DWORD *)(*(_DWORD *)(v2 + 19124) - 12));
    sub_21CBF38(v12, (int)" ", 1);
    v13 = *(_DWORD *)(v2 + 19208);
    if ( v13 )
      sub_21E8AF4(&v74, (int *)(v13 + 8));
      sub_21E94B4((void **)&v74, "-");
    v14 = sub_21CBF38(v12, v74, *(_DWORD *)(v74 - 12));
    sub_21CBF38(v14, (int)" ", 1);
    v15 = sub_21CBF38(v14, *(_DWORD *)(v2 + 19068), *(_DWORD *)(*(_DWORD *)(v2 + 19068) - 12));
    sub_21CBF38(v15, (int)"\" ", 2);
    v16 = (char *)sub_21CC43C(v15, *(_DWORD *)(v2 + 19200));
    sub_21CBF38(v16, (int)" ", 1);
    v17 = *(_DWORD *)(*(_DWORD *)(v2 + 19168) - 12);
    sub_21CC440(v16);
    v18 = 0xFFFF4420;
    v19 = (void *)(v74 - 12);
    if ( (int *)(v74 - 12) != &dword_28898C0 )
      v44 = (unsigned int *)(v74 - 4);
      __dmb();
      do
        v45 = __ldrex(v44);
      while ( __strex(v45 - 1, v44) );
      v18 = 0xFFFF4420;
      if ( v45 <= 0 )
        j_j_j_j__ZdlPv_9(v19);
    v20 = (void *)(v75 - 12);
    if ( (int (__fastcall *)(_DWORD))(v75 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v46 = (unsigned int *)(v75 - 4);
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    v21 = (void *)(v78 - 12);
    if ( (int (__fastcall *)(_DWORD))(v78 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v48 = (unsigned int *)(v78 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v21);
    if ( v9 == 1 )
      v22 = (void *)(v76 - 12);
      if ( (int (__fastcall *)(_DWORD))(v76 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      {
        v58 = (unsigned int *)(v76 - 4);
        __dmb();
        do
          v59 = __ldrex(v58);
        while ( __strex(v59 - 1, v58) );
        if ( v59 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
      }
    v1 = (int *)&v79;
    v23 = (void *)(v77 - 12);
    if ( (int (__fastcall *)(_DWORD))(v77 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v50 = (unsigned int *)(v77 - 4);
        v51 = __ldrex(v50);
      while ( __strex(v51 - 1, v50) );
      if ( v51 <= 0 )
        j_j_j_j__ZdlPv_9(v23);
    sub_21E94B4((void **)&v72, "User-Agent");
    v24 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v2 + 19072,
            &v72);
    v25 = (int *)(v24 + 20);
    if ( v24 == v5 )
      v25 = &dword_2880E54;
    sub_21E8AF4(&v73, v25);
    v26 = (void *)(v72 - 12);
    if ( (int (__fastcall *)(_DWORD))(v72 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v52 = (unsigned int *)(v72 - 4);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 <= 0 )
        j_j_j_j__ZdlPv_9(v26);
    if ( sub_21E7D6C((const void **)&v73, (const char *)&unk_257BC67) )
      sub_21CBF38((char *)&v81, (int)" \"", 2);
      sub_21E8AF4((int *)&v71, &v73);
      sub_21E94B4((void **)&v70, "\"");
      sub_21E94B4((void **)&v69, (const char *)&unk_25DA29F);
      for ( i = 0; ; i = *((_DWORD *)v69 - 3) + v28 )
        v28 = sub_21E76A0((int *)&v71, v70, i, *((_DWORD *)v70 - 3));
        if ( v28 == -1 )
          break;
        sub_21E91FC((const void **)&v71, v28, *((_DWORD *)v70 - 3), v69, *((_BYTE **)v69 - 3));
      v29 = (int)v71;
      v30 = v71;
      v71 = (int (__fastcall *)(_DWORD))(*(char **)((char *)&GLOBAL_OFFSET_TABLE_ + v18) + 12);
      v32 = *((_DWORD *)v30 - 3);
      v31 = (char *)v30 - 12;
      v33 = sub_21CBF38((char *)&v81, v29, v32);
      sub_21CBF38(v33, (int)"\" ", 2);
      if ( v31 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v60 = (unsigned int *)(v29 - 4);
          v61 = __ldrex(v60);
        while ( __strex(v61 - 1, v60) );
        if ( v61 <= 0 )
          j_j_j_j__ZdlPv_9(v31);
      v34 = v69 - 12;
      if ( v69 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v62 = (unsigned int *)(v69 - 4);
          v63 = __ldrex(v62);
        while ( __strex(v63 - 1, v62) );
        if ( v63 <= 0 )
          j_j_j_j__ZdlPv_9(v34);
      v35 = v70 - 12;
      if ( v70 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
        v64 = (unsigned int *)(v70 - 4);
          v65 = __ldrex(v64);
        while ( __strex(v65 - 1, v64) );
        if ( v65 <= 0 )
          j_j_j_j__ZdlPv_9(v35);
      v36 = (char *)v71 - 12;
      if ( (int (__fastcall *)(_DWORD))((char *)v71 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_
                                                                                          + v18) )
        v66 = (unsigned int *)((char *)v71 - 4);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        if ( v67 <= 0 )
          j_j_j_j__ZdlPv_9(v36);
      sub_21CBF38((char *)&v81, (int)" \"\" ", 4);
    v37 = *(pthread_mutex_t **)(v2 + 19236);
    sub_21CFED8(&v68, (int)&v82);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v37, 4096, &v68);
    v38 = (void *)(v68 - 12);
    if ( (int (__fastcall *)(_DWORD))(v68 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v54 = (unsigned int *)(v68 - 4);
        v55 = __ldrex(v54);
      while ( __strex(v55 - 1, v54) );
      if ( v55 <= 0 )
        j_j_j_j__ZdlPv_9(v38);
    v39 = (void *)(v73 - 12);
    if ( (int (__fastcall *)(_DWORD))(v73 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v18) )
      v56 = (unsigned int *)(v73 - 4);
        v57 = __ldrex(v56);
      while ( __strex(v57 - 1, v56) );
      if ( v57 <= 0 )
        j_j_j_j__ZdlPv_9(v39);
  v79 = &off_26D3F94;
  v84 = &off_26D3FBC;
  *v3 = (int)&off_26D3FA8;
  v82 = &off_27734E8;
  v40 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
    v42 = (unsigned int *)(v83 - 4);
    __dmb();
    do
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 <= 0 )
      j_j_j_j__ZdlPv_9(v40);
  v82 = &off_26D40A8;
  sub_21C802C((unsigned int **)v1 + 10);
  v79 = &off_276D0DC;
  v84 = &off_276D0F0;
  v80 = 0;
  return sub_21B6560(v1 + 13);
}


_DWORD *__fastcall websocketpp::http::parser::response::process(int a1, _BYTE *a2, _BYTE *a3)
{
  _BYTE *v3; // r9@1
  _BYTE *v4; // r5@1
  int v5; // r8@1
  int v6; // r1@1
  _BYTE *v7; // r0@1
  int v8; // r1@2
  int v9; // r2@3
  _BYTE *v10; // r7@3
  bool v11; // zf@3
  int v12; // r2@6
  bool v13; // zf@6
  int v14; // r1@10
  int v15; // r10@25
  _DWORD *v16; // r0@25
  int *v17; // r6@25
  _BYTE *v18; // r4@25
  char *v19; // r5@27
  int *v20; // r0@27
  int v21; // r3@27
  _BYTE *v22; // r0@33
  _BYTE *v23; // r5@34
  int v24; // r1@34
  int v25; // r0@34
  int v26; // r1@35
  int v27; // r2@36
  _BYTE *v28; // r10@36
  bool v29; // zf@36
  int v30; // r2@39
  bool v31; // zf@39
  int v32; // r1@43
  int v33; // r4@55
  _DWORD *v34; // r0@55
  int *v35; // r6@55
  _BYTE *v36; // r7@55
  char *v37; // r5@57
  int *v38; // r0@57
  int v39; // r3@57
  char *v40; // r0@64
  char *v41; // r6@65
  int *v42; // r0@65
  int v43; // r3@65
  int v44; // r11@67
  _BYTE *v45; // r5@67
  int v46; // r6@68
  _DWORD *v47; // r0@68
  int *v48; // r7@68
  _BYTE *v49; // r4@68
  unsigned int *v50; // r1@70
  signed int v51; // r2@71
  _BYTE *v52; // r0@78
  void *v53; // r0@79
  unsigned int *v55; // r1@81
  signed int v56; // r2@82
  unsigned int *v57; // r1@85
  signed int v58; // r2@86
  unsigned int *v59; // r1@89
  signed int v60; // r2@90
  _BYTE *v61; // [sp+8h] [bp-140h]@78
  int v62; // [sp+10h] [bp-138h]@65
  int v63; // [sp+18h] [bp-130h]@65
  int v64; // [sp+20h] [bp-128h]@65
  _BYTE *v65; // [sp+28h] [bp-120h]@63
  void **v66; // [sp+2Ch] [bp-11Ch]@63
  int v67; // [sp+30h] [bp-118h]@80
  void **v68; // [sp+34h] [bp-114h]@79
  int v69; // [sp+50h] [bp-F8h]@80
  int v70; // [sp+58h] [bp-F0h]@79
  void **v71; // [sp+5Ch] [bp-ECh]@79
  int v72; // [sp+E4h] [bp-64h]@64
  int v73; // [sp+ECh] [bp-5Ch]@57
  int v74; // [sp+F4h] [bp-54h]@57
  int v75; // [sp+FCh] [bp-4Ch]@57
  _BYTE *v76; // [sp+104h] [bp-44h]@33
  int v77; // [sp+10Ch] [bp-3Ch]@27
  int v78; // [sp+114h] [bp-34h]@27
  int v79; // [sp+11Ch] [bp-2Ch]@27

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = (a3 - a2) >> 2;
  v7 = v4;
  if ( v6 < 1 )
  {
LABEL_10:
    v14 = v3 - v7;
    if ( v3 - v7 == 1 )
    {
      v10 = v7;
    }
    else
      if ( v14 == 2 )
      {
        v10 = v7;
      }
      else
        if ( v14 != 3 )
        {
          v10 = v3;
          goto LABEL_23;
        }
        if ( *v7 == 32 )
        v10 = v7 + 1;
      if ( *v10 == 32 )
        goto LABEL_23;
      ++v10;
    if ( *v10 != 32 )
      v10 = v3;
  }
  else
    v8 = v6 + 1;
    v7 = v4;
    while ( 1 )
      v9 = *v7;
      v11 = v9 == 32;
      if ( v9 != 32 )
        v11 = v7[1] == 32;
      if ( v11 )
        break;
      v10 = v7 + 2;
      v12 = v7[2];
      v13 = v12 == 32;
      if ( v12 != 32 )
        v10 = v7 + 3;
        v13 = v7[3] == 32;
      if ( v13 )
      --v8;
      v7 += 4;
      if ( v8 <= 1 )
        goto LABEL_10;
LABEL_23:
  if ( v10 == v3 )
    v19 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v79, "Invalid response line");
    sub_21E94B4((void **)&v78, (const char *)&unk_257BC67);
    v20 = (int *)sub_21E94B4((void **)&v77, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v19, &v79, 400, &v78, v20);
    j_j___cxa_throw_0(
      (int)v19,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v21);
  if ( v4 == v10 )
    v18 = &unk_28898CC;
    v15 = v10 - v4;
    v16 = sub_21E7E80(v10 - v4, 0);
    v17 = v16;
    v18 = v16 + 3;
    if ( v10 - v4 == 1 )
      *v18 = *v4;
      j___aeabi_memcpy_1((int)(v16 + 3), (int)v4, v10 - v4);
    if ( v17 != &dword_28898C0 )
      v17[2] = 0;
      *v17 = v15;
      v18[v15] = byte_26C67B8[0];
  v76 = v18;
  EntityInteraction::setInteractText((int *)v5, (int *)&v76);
  v22 = v76 - 12;
  if ( (int *)(v76 - 12) != &dword_28898C0 )
    v50 = (unsigned int *)(v76 - 4);
    __dmb();
    do
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v23 = v10 + 1;
  v24 = (v3 - (v10 + 1)) >> 2;
  v25 = (int)(v10 + 1);
  if ( v24 < 1 )
LABEL_43:
    v32 = (int)&v3[-v25];
    if ( &v3[-v25] == (_BYTE *)1 )
      v28 = (_BYTE *)v25;
      if ( v32 == 2 )
        v28 = (_BYTE *)v25;
        if ( v32 != 3 )
          goto LABEL_57;
        if ( *(_BYTE *)v25 == 32 )
          goto LABEL_53;
        v28 = (_BYTE *)(v25 + 1);
      if ( *v28 == 32 )
        goto LABEL_53;
      ++v28;
    if ( *v28 == 32 )
      goto LABEL_53;
LABEL_57:
    v37 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v75, "Invalid request line");
    sub_21E94B4((void **)&v74, (const char *)&unk_257BC67);
    v38 = (int *)sub_21E94B4((void **)&v73, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v37, &v75, 400, &v74, v38);
      (int)v37,
      v39);
  v26 = v24 + 1;
  while ( 1 )
    v27 = *(_BYTE *)v25;
    v28 = (_BYTE *)v25;
    v29 = v27 == 32;
    if ( v27 != 32 )
      v28 = (_BYTE *)(v25 + 1);
      v29 = *(_BYTE *)(v25 + 1) == 32;
    if ( v29 )
      break;
    v28 = (_BYTE *)(v25 + 2);
    v30 = *(_BYTE *)(v25 + 2);
    v31 = v30 == 32;
    if ( v30 != 32 )
      v28 = (_BYTE *)(v25 + 3);
      v31 = *(_BYTE *)(v25 + 3) == 32;
    if ( v31 )
    --v26;
    v25 += 4;
    if ( v26 <= 1 )
      goto LABEL_43;
LABEL_53:
  if ( v28 == v3 )
    goto LABEL_57;
  if ( v23 == v28 )
    v36 = &unk_28898CC;
    v33 = v28 - v23;
    v34 = sub_21E7E80(v28 - v23, 0);
    v35 = v34;
    v36 = v34 + 3;
    if ( v28 - v23 == 1 )
      *v36 = *v23;
      j___aeabi_memcpy_1((int)(v34 + 3), (int)v23, v28 - v23);
    if ( v35 != &dword_28898C0 )
      v35[2] = 0;
      *v35 = v33;
      v36[v33] = byte_26C67B8[0];
  v65 = v36;
  sub_21D0618((int)&v66, (unsigned int *)&v65, 8);
  if ( (int *)(v36 - 12) != &dword_28898C0 )
    v55 = (unsigned int *)(v36 - 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 <= 0 )
      j_j_j_j__ZdlPv_9(v36 - 12);
  v40 = sub_21B79F4((char *)&v66, &v72);
  if ( v40[*(_DWORD *)(*(_DWORD *)v40 - 12) + 20] & 5 )
    v41 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v64, "Unable to parse response code");
    sub_21E94B4((void **)&v63, (const char *)&unk_257BC67);
    v42 = (int *)sub_21E94B4((void **)&v62, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v41, &v64, 400, &v63, v42);
      (int)v41,
      v43);
  v44 = v72;
  v45 = v28 + 1;
  if ( v28 + 1 == v3 )
    v49 = &unk_28898CC;
    v46 = v3 - v45;
    v47 = sub_21E7E80(v3 - v45, 0);
    v48 = v47;
    v49 = v47 + 3;
    if ( v3 - v45 == 1 )
      *v49 = *v45;
      j___aeabi_memcpy_1((int)(v47 + 3), (int)v45, v3 - v45);
    if ( v48 != &dword_28898C0 )
      v48[2] = 0;
      *v48 = v46;
      v49[v46] = byte_26C67B8[0];
  v61 = v49;
  *(_DWORD *)(v5 + 64) = v44;
  EntityInteraction::setInteractText((int *)(v5 + 48), (int *)&v61);
  v52 = v61 - 12;
  if ( (int *)(v61 - 12) != &dword_28898C0 )
    v57 = (unsigned int *)(v61 - 4);
      v58 = __ldrex(v57);
    while ( __strex(v58 - 1, v57) );
    if ( v58 <= 0 )
      j_j_j_j__ZdlPv_9(v52);
  v66 = &off_26D3F0C;
  v71 = &off_26D3F20;
  v68 = &off_27734E8;
  v53 = (void *)(v70 - 12);
  if ( (int *)(v70 - 12) != &dword_28898C0 )
    v59 = (unsigned int *)(v70 - 4);
      v60 = __ldrex(v59);
    while ( __strex(v60 - 1, v59) );
    if ( v60 <= 0 )
      j_j_j_j__ZdlPv_9(v53);
  v68 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v69);
  v66 = &off_276CFCC;
  v71 = &off_276CFE0;
  v67 = 0u;
  return sub_21B6560(&v71);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_read(int a1, int a2)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_read(a1, a2);
}


int (__fastcall *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::validate_handshake(int a1, int a2, int a3))(_DWORD)
{
  int v3; // r9@1
  const void **v4; // r6@1
  char v5; // r0@2
  signed int v6; // r2@5
  unsigned int v7; // r1@5
  int (__fastcall **v8)(_DWORD); // r0@5
  char v9; // r0@7
  int v10; // r5@11
  int v11; // r0@11
  int v12; // r6@11
  const void **v13; // r2@11
  int v14; // r0@14
  const void **v15; // r2@14
  int v16; // r0@17
  const void **v17; // r2@17
  signed int v18; // r5@19
  void *v19; // r0@21
  unsigned int *v20; // r1@22
  signed int v21; // r2@23
  void *v22; // r0@28
  void *v23; // r0@29
  char v24; // r0@31
  int (__fastcall *result)(_DWORD); // r0@35
  unsigned int *v26; // r1@38
  signed int v27; // r2@39
  unsigned int *v28; // r1@42
  signed int v29; // r2@43
  int v30; // [sp+4h] [bp-34h]@17
  int v31; // [sp+Ch] [bp-2Ch]@14
  int v32; // [sp+14h] [bp-24h]@11

  v3 = a1;
  v4 = (const void **)a3;
  if ( sub_21E7D6C((const void **)(a3 + 56), "GET") )
  {
    v5 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v6 = 18;
    v7 = 0x3FFFFD21u;
    v8 = &GLOBAL_OFFSET_TABLE_;
  }
  else if ( sub_21E7D6C(v4, "HTTP/1.1") )
    v9 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v9 & 1)
    v6 = 19;
  else
    sub_21E94B4((void **)&v32, "Sec-WebSocket-Key1");
    v10 = (int)(v4 + 1);
    v11 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            (int)(v4 + 1),
            &v32);
    v12 = (int)(v4 + 2);
    v13 = (const void **)(v11 + 20);
    if ( v11 == v12 )
      v13 = (const void **)&dword_2880E54;
    if ( sub_21E7D6C(v13, (const char *)&unk_257BC67) )
      sub_21E94B4((void **)&v31, "Sec-WebSocket-Key2");
      v14 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v10,
              &v31);
      v15 = (const void **)(v14 + 20);
      if ( v14 == v12 )
        v15 = (const void **)&dword_2880E54;
      if ( sub_21E7D6C(v15, (const char *)&unk_257BC67) )
      {
        sub_21E94B4((void **)&v30, "Sec-WebSocket-Key3");
        v16 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v10,
                &v30);
        v17 = (const void **)(v16 + 20);
        if ( v16 == v12 )
          v17 = (const void **)&dword_2880E54;
        v18 = 0;
        if ( !sub_21E7D6C(v17, (const char *)&unk_257BC67) )
          v18 = 1;
        v19 = (void *)(v30 - 12);
        if ( (int *)(v30 - 12) != &dword_28898C0 )
        {
          v20 = (unsigned int *)(v30 - 4);
          __dmb();
          do
            v21 = __ldrex(v20);
          while ( __strex(v21 - 1, v20) );
          if ( v21 <= 0 )
            j_j_j_j__ZdlPv_9(v19);
        }
      }
      else
        v18 = 1;
      v22 = (void *)(v31 - 12);
      if ( (int *)(v31 - 12) != &dword_28898C0 )
        v28 = (unsigned int *)(v31 - 4);
        __dmb();
        do
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
    else
      v18 = 1;
    v23 = (void *)(v32 - 12);
    if ( (int *)(v32 - 12) != &dword_28898C0 )
      v26 = (unsigned int *)(v32 - 4);
      __dmb();
      do
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 <= 0 )
        j_j_j_j__ZdlPv_9(v23);
    if ( v18 != 1 )
      *(_DWORD *)v3 = 0;
      result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
      goto LABEL_36;
    v24 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v24 & 1)
    v6 = 21;
  result = v8[v7];
  *(_DWORD *)v3 = v6;
LABEL_36:
  *(_DWORD *)(v3 + 4) = result;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_timer(int a1, int a2, int a3, _DWORD *a4)
{
  int v4; // r4@1
  int (__fastcall *v5)(int, int *); // r2@3
  int *v6; // r1@3
  char v7; // r0@5
  char v8; // r0@10
  int v10; // [sp+0h] [bp-28h]@2
  int v11; // [sp+4h] [bp-24h]@2
  int v12; // [sp+8h] [bp-20h]@13
  void *v13; // [sp+Ch] [bp-1Ch]@13
  int v14; // [sp+10h] [bp-18h]@8
  void *v15; // [sp+14h] [bp-14h]@8

  v4 = a3;
  if ( *a4 )
  {
    if ( *a4 == 125 )
    {
      v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v7 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v14 = 5;
      v15 = &websocketpp::transport::error::get_category(void)::instance;
      if ( *(_DWORD *)(v4 + 8) )
        v5 = *(int (__fastcall **)(int, int *))(v4 + 12);
        v6 = &v14;
        return v5(v4, v6);
    }
    else
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
        a1,
        4,
        "asio handle_timer",
        a4);
      v8 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v8 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
      v12 = 3;
      v13 = &websocketpp::transport::asio::error::get_category(void)::instance;
        v6 = &v12;
LABEL_16:
    sub_21E5F48();
  }
  v10 = 0;
  v11 = ((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( !*(_DWORD *)(v4 + 8) )
    goto LABEL_16;
  v5 = *(int (__fastcall **)(int, int *))(v4 + 12);
  v6 = &v10;
  return v5(v4, v6);
}


int __fastcall websocketpp::md5::md5_hash_string(char *a1, int *a2)
{
  char *v2; // r8@1
  unsigned int v3; // r10@1
  int v4; // r5@1
  unsigned int v5; // r6@1
  int v6; // r9@3
  unsigned int v7; // r11@3
  int v8; // r4@3
  unsigned int v9; // r1@8
  signed int v10; // r3@8
  unsigned int v11; // r5@8
  int v12; // r7@10
  int v13; // r6@13
  char *v14; // r6@16
  int v15; // r9@19
  unsigned int v16; // r11@19
  int v17; // r4@19
  __int64 v18; // kr08_8@24
  unsigned int v19; // r7@24
  int v20; // r6@27
  int *v21; // r9@30
  char *v22; // r7@30
  unsigned int v23; // r6@30
  int v24; // r11@31
  unsigned int v25; // r10@31
  int v26; // r5@31
  int v27; // r0@33
  int v28; // r0@38
  int v29; // r1@40
  int v30; // r2@40
  int v31; // r3@40
  int result; // r0@40
  __int64 v33; // [sp+0h] [bp-98h]@1
  unsigned int v34; // [sp+8h] [bp-90h]@1
  unsigned int v35; // [sp+Ch] [bp-8Ch]@1
  unsigned int v36; // [sp+10h] [bp-88h]@1
  unsigned int v37; // [sp+14h] [bp-84h]@1
  int v38; // [sp+18h] [bp-80h]@7
  __int16 v39; // [sp+58h] [bp-40h]@38
  char v40; // [sp+5Ah] [bp-3Eh]@38
  char v41; // [sp+5Bh] [bp-3Dh]@38
  __int16 v42; // [sp+5Ch] [bp-3Ch]@38
  char v43; // [sp+5Eh] [bp-3Ah]@38
  char v44; // [sp+5Fh] [bp-39h]@38
  __int16 v45; // [sp+60h] [bp-38h]@38
  char v46; // [sp+62h] [bp-36h]@38
  char v47; // [sp+63h] [bp-35h]@38
  __int16 v48; // [sp+64h] [bp-34h]@38
  char v49; // [sp+66h] [bp-32h]@38
  char v50; // [sp+67h] [bp-31h]@38
  __int16 v51; // [sp+68h] [bp-30h]@8
  char v52; // [sp+6Ah] [bp-2Eh]@8
  __int16 v53; // [sp+6Bh] [bp-2Dh]@8
  char v54; // [sp+6Dh] [bp-2Bh]@8
  char v55; // [sp+6Eh] [bp-2Ah]@8
  char v56; // [sp+6Fh] [bp-29h]@8
  RakNet *v57; // [sp+70h] [bp-28h]@1

  v2 = a1;
  v3 = 0xFFFF46E4;
  v57 = _stack_chk_guard;
  v33 = 0LL;
  v34 = 1732584193;
  v35 = -271733879;
  v36 = -1732584194;
  v37 = 271733878;
  v4 = *a2;
  v5 = *(_DWORD *)(*a2 - 12);
  if ( v5 )
  {
    v33 = 8LL * v5;
    if ( v5 < 0x40 )
    {
LABEL_7:
      j___aeabi_memcpy_1((int)&v38, v4, v5);
      goto LABEL_8;
    }
    v6 = v5 - 64;
    v7 = (v5 - 64) & 0xFFFFFFC0;
    v8 = v4;
    do
      sub_2052F64((int)&v33, v8);
      v5 -= 64;
      v8 += 64;
    while ( v5 > 0x3F );
    if ( v6 != v7 )
      v5 = v6 - v7;
      v4 += v7 + 64;
      goto LABEL_7;
  }
LABEL_8:
  v9 = v33;
  v10 = 1;
  v51 = v33;
  v52 = (unsigned int)v33 >> 16;
  v53 = *(_WORD *)((char *)&v33 + 3);
  v54 = BYTE5(v33);
  v55 = HIDWORD(v33) >> 16;
  v56 = BYTE7(v33);
  v11 = ((55 - (unsigned __int8)((unsigned int)v33 >> 3)) & 0x3F) + 1;
  LODWORD(v33) = v33 + 8 * v11;
  if ( (unsigned int)v33 >= 8 * v11 )
    v10 = 0;
  v12 = (v9 >> 3) & 0x3F;
  if ( v10 )
    ++HIDWORD(v33);
  if ( !v12 )
    v14 = "?";
    goto LABEL_18;
  v13 = v11;
  if ( v12 + v11 > 0x40 )
    v13 = 64 - v12;
  j___aeabi_memcpy_1((int)&v33 + v12 + 24, (int)"?", v13);
  if ( (unsigned int)(v13 + v12) >= 0x40 )
    sub_2052F64((int)&v33, (int)&v38);
    v11 -= v13;
    v14 = &websocketpp::md5::md5_finish(websocketpp::md5::md5_state_s *,unsigned char *)::pad[v13];
LABEL_18:
    if ( v11 >= 0x40 )
      v15 = v11 - 64;
      v16 = (v11 - 64) & 0xFFFFFFC0;
      v17 = (int)v14;
      do
      {
        sub_2052F64((int)&v33, v17);
        v11 -= 64;
        v17 += 64;
      }
      while ( v11 > 0x3F );
      v11 = v15 - v16;
      v14 += v16 + 64;
    if ( v11 )
      j___aeabi_memcpy_1((int)&v38, (int)v14, v11);
  v18 = v33;
  LODWORD(v33) = v33 + 64;
  v19 = ((unsigned int)v18 >> 3) & 0x3F;
  if ( (unsigned int)v18 >= 0xFFFFFFC0 )
    HIDWORD(v33) = HIDWORD(v18) + 1;
  if ( !v19 )
    v21 = &v38;
    v23 = 8;
    v22 = (char *)&v51;
LABEL_37:
    j___aeabi_memcpy_1((int)v21, (int)v22, v23);
    goto LABEL_38;
  v20 = 8;
  if ( v19 + 8 > 0x40 )
    v20 = 64 - v19;
  j___aeabi_memcpy_1((int)&v33 + v19 + 24, (int)&v51, v20);
  if ( v20 + v19 >= 0x40 )
    v22 = (char *)&v51 + v20;
    v23 = 8 - v20;
    if ( v23 >= 0x40 )
      v24 = v23 - 64;
      v25 = (v23 - 64) & 0xFFFFFFC0;
      v26 = (int)v22;
        sub_2052F64((int)&v33, v26);
        v23 -= 64;
        v26 += 64;
      while ( v23 > 0x3F );
      v27 = (int)&v22[v25];
      v23 = v24 - v25;
      v3 = 0xFFFF46E4;
      v22 = (char *)(v27 + 64);
    if ( v23 )
      goto LABEL_37;
LABEL_38:
  v39 = v34;
  v40 = v34 >> 16;
  v41 = BYTE3(v34);
  v42 = v35;
  v43 = v35 >> 16;
  v44 = BYTE3(v35);
  v45 = v36;
  v46 = v36 >> 16;
  v47 = BYTE3(v36);
  v48 = v37;
  v49 = v37 >> 16;
  v50 = BYTE3(v37);
  *(_DWORD *)v2 = &unk_28898CC;
  sub_21E849C(v2, 0x10u, 0);
  v28 = *(_DWORD *)v2;
  if ( *(_DWORD *)(*(_DWORD *)v2 - 4) > -1 )
    sub_21E8010((const void **)v2);
    v28 = *(_DWORD *)v2;
  v29 = *(_DWORD *)&v39;
  v30 = *(_DWORD *)&v42;
  v31 = *(_DWORD *)&v45;
  *(_DWORD *)(v28 + 12) = *(_DWORD *)&v48;
  *(_DWORD *)(v28 + 8) = v31;
  *(_DWORD *)(v28 + 4) = v30;
  *(_DWORD *)v28 = v29;
  result = **(_DWORD **)((char *)&GLOBAL_OFFSET_TABLE_ + v3) - (_DWORD)v57;
  if ( **(RakNet ***)((char *)&GLOBAL_OFFSET_TABLE_ + v3) != v57 )
    j___stack_chk_fail_1(result);
  return result;
}


void __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::async_connect(int a1, int a2, int *a3, int a4)
{
  websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::async_connect(
    a1,
    a2,
    a3,
    a4);
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_terminate(int a1, int a2, _DWORD *a3)
{
  int v3; // r4@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r5@1
  _DWORD *v6; // r6@1
  int v7; // r6@7
  int v8; // r1@7
  unsigned int *v9; // r0@8
  unsigned int v10; // r2@9
  char v11; // r0@13
  int v12; // r6@19
  int v13; // r1@19
  unsigned int *v14; // r0@20
  unsigned int v15; // r2@21
  void (__fastcall *v16)(int, int *); // r2@25
  unsigned int v17; // r1@26
  int v18; // r0@29
  unsigned int *v19; // r1@30
  unsigned int v20; // r2@31
  unsigned int *v21; // r0@35
  unsigned int v22; // r1@36
  unsigned int *result; // r0@40
  int v24; // r7@41
  unsigned int v25; // r0@42
  unsigned int *v26; // r5@42
  unsigned int v27; // r1@43
  int v28; // r8@46
  unsigned int v29; // r0@50
  unsigned int v30; // r0@52
  unsigned int *v31; // r6@54
  unsigned int v32; // r0@55
  unsigned int v33; // r0@59
  unsigned int v34; // r0@61
  unsigned int *v35; // r6@63
  unsigned int v36; // r0@64
  int (__fastcall *v37)(int, int *); // r2@69
  int v38; // r4@69
  unsigned int v39; // r1@71
  unsigned int *v40; // r5@73
  void (__fastcall *v41)(int, int *); // r2@77
  unsigned int v42; // r1@78
  int v43; // r0@81
  unsigned int *v44; // r1@82
  unsigned int v45; // r2@83
  unsigned int *v46; // r0@87
  unsigned int v47; // r1@88
  int v48; // [sp+10h] [bp-38h]@77
  int v49; // [sp+14h] [bp-34h]@77
  int v50; // [sp+18h] [bp-30h]@25
  int v51; // [sp+1Ch] [bp-2Ch]@25
  int v52; // [sp+20h] [bp-28h]@69
  int v53; // [sp+24h] [bp-24h]@69

  v3 = a1;
  v4 = *(pthread_mutex_t **)(a1 + 19196);
  v5 = a2;
  v6 = a3;
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "connection handle_terminate");
  if ( *v6 )
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(v3, 1, "handle_terminate", v6);
  if ( v5 == 2 )
  {
    if ( *(_DWORD *)(v3 + 2348) )
    {
      v7 = *(_DWORD *)(v3 + 2320);
      v8 = *(_DWORD *)(v3 + 2316);
      if ( v7 )
      {
        v9 = (unsigned int *)(v7 + 8);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 + 1, v9) );
        if ( !*(_DWORD *)(v3 + 2348) )
          sub_21E5F48();
        v16 = *(void (__fastcall **)(int, int *))(v3 + 2352);
        v50 = v8;
        v51 = v7;
          v17 = __ldrex(v9);
        while ( __strex(v17 + 1, v9) );
      }
      else
        v50 = *(_DWORD *)(v3 + 2316);
        v51 = 0;
      v16(v3 + 2340, &v50);
      v18 = v51;
      if ( v51 )
        v19 = (unsigned int *)(v51 + 8);
          v20 = __ldrex(v19);
        while ( __strex(v20 - 1, v19) );
        if ( v20 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
        v21 = (unsigned int *)(v7 + 8);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
    j_websocketpp::connection<websocketpp::config::asio_client>::log_close_result(v3);
  }
  else if ( v5 == 1 )
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    if ( (*(_UNKNOWN **)(v3 + 19228) != &websocketpp::error::get_category(void)::instance
       || *(_DWORD *)(v3 + 19224) != 21)
      && *(_DWORD *)(v3 + 2364) )
      v12 = *(_DWORD *)(v3 + 2320);
      v13 = *(_DWORD *)(v3 + 2316);
      if ( v12 )
        v14 = (unsigned int *)(v12 + 8);
          v15 = __ldrex(v14);
        while ( __strex(v15 + 1, v14) );
        if ( !*(_DWORD *)(v3 + 2364) )
        v41 = *(void (__fastcall **)(int, int *))(v3 + 2368);
        v48 = v13;
        v49 = v12;
          v42 = __ldrex(v14);
        while ( __strex(v42 + 1, v14) );
        v48 = *(_DWORD *)(v3 + 2316);
        v49 = 0;
      v41(v3 + 2356, &v48);
      v43 = v49;
      if ( v49 )
        v44 = (unsigned int *)(v49 + 8);
          v45 = __ldrex(v44);
        while ( __strex(v45 - 1, v44) );
        if ( v45 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v43 + 12))(v43);
        v46 = (unsigned int *)(v12 + 8);
          v47 = __ldrex(v46);
        while ( __strex(v47 - 1, v46) );
        if ( v47 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 19200),
      16,
      "Unknown terminate_status");
  result = (unsigned int *)18912;
  if ( *(_DWORD *)(v3 + 18912) )
    v24 = *(_DWORD *)(v3 + 4);
    if ( !v24 )
      j_std::__throw_bad_weak_ptr();
    v25 = *(_DWORD *)(v24 + 4);
    v26 = (unsigned int *)(v24 + 4);
    do
      v27 = v25;
      if ( !v25 )
        j_std::__throw_bad_weak_ptr();
      __dmb();
      v25 = __ldrex(v26);
    while ( v25 != v27 || __strex(v27 + 1, v26) );
    v28 = *(_DWORD *)v3;
      v29 = __ldrex(v26);
    while ( __strex(v29 + 1, v26) );
      v30 = __ldrex(v26);
    while ( __strex(v30 - 1, v26) );
    if ( v30 == 1 )
      v31 = (unsigned int *)(v24 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
      do
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
      v33 = __ldrex(v26);
    while ( __strex(v33 + 1, v26) );
      v34 = __ldrex(v26);
    while ( __strex(v34 - 1, v26) );
    if ( v34 == 1 )
      v35 = (unsigned int *)(v24 + 8);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 == 1 )
    if ( !*(_DWORD *)(v3 + 18912) )
      sub_21E5F48();
    v37 = *(int (__fastcall **)(int, int *))(v3 + 18916);
    v52 = v28;
    v53 = v24;
    result = (unsigned int *)v37(v3 + 18904, &v52);
    v38 = v53;
    if ( v53 )
      result = (unsigned int *)(v53 + 4);
        v39 = __ldrex(result);
      while ( __strex(v39 - 1, result) );
      if ( v39 == 1 )
        v40 = (unsigned int *)(v38 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 8))(v38);
          result = (unsigned int *)__ldrex(v40);
        while ( __strex((unsigned int)result - 1, v40) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v38 + 12))(v38);
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(void **a1, int a2)
{
  void **v2; // r4@1
  int v3; // r5@1
  char *v4; // r1@2
  char *v5; // r0@4
  unsigned int *v6; // r1@6
  signed int v7; // r2@7
  char *v8; // [sp+4h] [bp-24h]@1
  int v9; // [sp+8h] [bp-20h]@1
  int v10; // [sp+Ch] [bp-1Ch]@1

  v2 = a1;
  v3 = a2;
  v9 = 0;
  v10 = ((int (*)(void))byte_21E9640)();
  j_websocketpp::transport::asio::tls_socket::connection::get_remote_endpoint((int *)&v8, v3, (int)&v9);
  if ( v9 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v3 + 96),
      4,
      (int *)&v8);
    sub_21E94B4(v2, "Unknown");
    v4 = v8;
  }
  else
    *v2 = v8;
    v4 = (char *)&unk_28898CC;
    v8 = (char *)&unk_28898CC;
  v5 = v4 - 12;
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v6 = (unsigned int *)(v4 - 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 - 1, v6) );
    if ( v7 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
}


void __fastcall websocketpp::processor::hybi07<websocketpp::config::asio_client>::~hybi07(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276DB80;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


void __fastcall websocketpp::transport::error::category::~category(websocketpp::transport::error::category *this)
{
  void *v1; // r0@1

  v1 = (void *)nullsub_3(this);
  j_j_j__ZdlPv_8(v1);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init_asio(int *a1, int a2, int a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init_asio(
           a1,
           a2,
           a3);
}


char *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r8@1
  int v6; // r6@1
  int v7; // r10@1
  int *v8; // r5@1
  int v9; // r0@1
  int *v10; // r1@1
  unsigned int v11; // r4@3
  void *v12; // r0@3
  int v13; // r0@4
  int *v14; // r1@4
  void *v15; // r0@6
  int v16; // r0@7
  int v17; // r6@7
  int *v18; // r5@7
  void *v19; // r0@7
  unsigned int v20; // r2@10
  _DWORD *v21; // r0@14
  int v22; // r2@14
  int v23; // r3@14
  int v24; // r7@14
  _DWORD *v25; // r1@14
  void *v26; // r0@16
  _DWORD *v27; // r0@17
  void *v28; // r0@18
  void *v29; // r0@19
  void *v30; // r0@20
  void *v31; // r0@21
  void *v32; // r0@22
  int v33; // r10@23
  int v34; // r0@23
  const void **v35; // r2@23
  int v36; // r7@25
  void *v37; // r0@25
  int v38; // r0@27
  const void **v39; // r2@27
  void *v40; // r0@29
  void *v41; // r0@30
  int v42; // r0@31
  const void **v43; // r2@31
  int v44; // r5@33
  int v45; // r6@33
  void *v46; // r0@33
  void *v47; // r0@35
  unsigned int v48; // r8@36
  void *v49; // r0@36
  int v50; // r4@37
  unsigned int *v51; // r0@38
  unsigned int v52; // r1@39
  unsigned int *v53; // r5@41
  unsigned int v54; // r0@42
  int *v55; // r0@47
  void *v56; // r0@47
  char *result; // r0@48
  unsigned int *v58; // r1@50
  signed int v59; // r2@51
  unsigned int *v60; // r1@54
  signed int v61; // r2@55
  unsigned int *v62; // r1@58
  signed int v63; // r2@59
  unsigned int *v64; // r1@62
  signed int v65; // r2@63
  unsigned int *v66; // r1@66
  signed int v67; // r2@67
  unsigned int *v68; // r1@70
  signed int v69; // r2@71
  unsigned int *v70; // r1@74
  signed int v71; // r2@75
  unsigned int *v72; // r1@78
  signed int v73; // r2@79
  unsigned int *v74; // r1@82
  signed int v75; // r2@83
  unsigned int *v76; // r1@86
  signed int v77; // r2@87
  unsigned int *v78; // r1@90
  signed int v79; // r2@91
  unsigned int *v80; // r1@94
  signed int v81; // r2@95
  unsigned int *v82; // r1@98
  signed int v83; // r2@99
  unsigned int *v84; // r1@102
  signed int v85; // r2@103
  unsigned int *v86; // r1@106
  signed int v87; // r2@107
  unsigned int *v88; // r1@110
  signed int v89; // r2@111
  unsigned int *v90; // r1@114
  signed int v91; // r2@115
  Vec3 *v92; // [sp+4h] [bp-D4h]@7
  int *v93; // [sp+8h] [bp-D0h]@7
  int v94; // [sp+Ch] [bp-CCh]@1
  int v95; // [sp+10h] [bp-C8h]@1
  int v96; // [sp+18h] [bp-C0h]@47
  int v97; // [sp+1Ch] [bp-BCh]@35
  int v98; // [sp+24h] [bp-B4h]@35
  int v99; // [sp+28h] [bp-B0h]@35
  int v100; // [sp+2Ch] [bp-ACh]@37
  int v101; // [sp+34h] [bp-A4h]@31
  int v102; // [sp+3Ch] [bp-9Ch]@27
  int v103; // [sp+44h] [bp-94h]@27
  int v104; // [sp+4Ch] [bp-8Ch]@23
  int v105; // [sp+54h] [bp-84h]@21
  int v106; // [sp+5Ch] [bp-7Ch]@21
  int v107; // [sp+64h] [bp-74h]@19
  int v108; // [sp+6Ch] [bp-6Ch]@19
  _DWORD *v109; // [sp+74h] [bp-64h]@16
  int v110; // [sp+78h] [bp-60h]@16
  int v111; // [sp+80h] [bp-58h]@14
  int v112; // [sp+88h] [bp-50h]@7
  int v113; // [sp+90h] [bp-48h]@4
  int v114; // [sp+98h] [bp-40h]@1
  char v115; // [sp+A0h] [bp-38h]@3
  int v116; // [sp+A4h] [bp-34h]@14
  int v117; // [sp+A8h] [bp-30h]@13
  int v118; // [sp+ACh] [bp-2Ch]@14
  RakNet *v119; // [sp+B0h] [bp-28h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  v119 = _stack_chk_guard;
  sub_21E94B4((void **)&v114, "Sec-WebSocket-Key1");
  v95 = v7 + 4;
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v7 + 4,
         &v114);
  v10 = (int *)(v9 + 20);
  v94 = v7 + 8;
  if ( v9 == v7 + 8 )
    v10 = &dword_2880E54;
  j_websocketpp::processor::hybi00<websocketpp::config::asio_client>::decode_client_key(v6, v10, &v115);
  v11 = 0xFFFF4420;
  v12 = (void *)(v114 - 12);
  if ( (int *)(v114 - 12) != &dword_28898C0 )
  {
    v58 = (unsigned int *)(v114 - 4);
    __dmb();
    do
      v59 = __ldrex(v58);
    while ( __strex(v59 - 1, v58) );
    if ( v59 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  }
  sub_21E94B4((void **)&v113, "Sec-WebSocket-Key2");
  v13 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v95,
          &v113);
  v14 = (int *)(v13 + 20);
  if ( v13 == v94 )
    v14 = &dword_2880E54;
  j_websocketpp::processor::hybi00<websocketpp::config::asio_client>::decode_client_key(
    v6,
    v14,
    (_DWORD *)((unsigned int)&v115 | 4));
  v15 = (void *)(v113 - 12);
  if ( (int *)(v113 - 12) != &dword_28898C0 )
    v60 = (unsigned int *)(v113 - 4);
      v61 = __ldrex(v60);
    while ( __strex(v61 - 1, v60) );
    if ( v61 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
  v92 = (Vec3 *)v6;
  v93 = v8;
  sub_21E94B4((void **)&v112, "Sec-WebSocket-Key3");
  v16 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          &v112);
  v17 = v16;
  v18 = (int *)(v16 + 20);
  v19 = (void *)(v112 - 12);
  if ( (int *)(v112 - 12) != &dword_28898C0 )
    v62 = (unsigned int *)(v112 - 4);
      v63 = __ldrex(v62);
    while ( __strex(v63 - 1, v62) );
    v11 = 0xFFFF4420;
    if ( v63 <= 0 )
      j_j_j_j__ZdlPv_9(v19);
  if ( v17 == v94 )
    v18 = &dword_2880E54;
  v20 = *(_DWORD *)(*v18 - 12);
  if ( v20 >= 8 )
    v20 = 8;
  if ( v20 )
    j___aeabi_memmove_1((int)&v117, *v18);
  sub_21E94B4((void **)&v111, "Sec-WebSocket-Key3");
  v21 = sub_21E7E80(0x10u, 0);
  v22 = *(_DWORD *)&v115;
  v23 = v116;
  v24 = v117;
  v21[6] = v118;
  v25 = *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11);
  v21[5] = v24;
  v21[4] = v23;
  v21[3] = v22;
  if ( v21 != v25 )
    v21[2] = 0;
    *v21 = 16;
    *((_BYTE *)v21 + 28) = byte_26C67B8[0];
  v109 = v21 + 3;
  j_websocketpp::md5::md5_hash_string((char *)&v110, (int *)&v109);
  j_websocketpp::http::parser::parser::append_header(a5, &v111, (const void **)&v110);
  v26 = (void *)(v110 - 12);
  if ( (int (__fastcall *)(_DWORD))(v110 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v64 = (unsigned int *)(v110 - 4);
      v65 = __ldrex(v64);
    while ( __strex(v65 - 1, v64) );
    if ( v65 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  v27 = v109 - 3;
  if ( (char *)(v109 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v66 = v109 - 1;
      v67 = __ldrex(v66);
    while ( __strex(v67 - 1, v66) );
    if ( v67 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v28 = (void *)(v111 - 12);
  if ( (int (__fastcall *)(_DWORD))(v111 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v68 = (unsigned int *)(v111 - 4);
      v69 = __ldrex(v68);
    while ( __strex(v69 - 1, v68) );
    if ( v69 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  sub_21E94B4((void **)&v108, "Upgrade");
  sub_21E94B4((void **)&v107, "WebSocket");
  j_websocketpp::http::parser::parser::append_header(a5, &v108, (const void **)&v107);
  v29 = (void *)(v107 - 12);
  if ( (int (__fastcall *)(_DWORD))(v107 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v70 = (unsigned int *)(v107 - 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 <= 0 )
      j_j_j_j__ZdlPv_9(v29);
  v30 = (void *)(v108 - 12);
  if ( (int (__fastcall *)(_DWORD))(v108 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v72 = (unsigned int *)(v108 - 4);
      v73 = __ldrex(v72);
    while ( __strex(v73 - 1, v72) );
    if ( v73 <= 0 )
      j_j_j_j__ZdlPv_9(v30);
  sub_21E94B4((void **)&v106, "Connection");
  sub_21E94B4((void **)&v105, "Upgrade");
  j_websocketpp::http::parser::parser::append_header(a5, &v106, (const void **)&v105);
  v31 = (void *)(v105 - 12);
  if ( (int (__fastcall *)(_DWORD))(v105 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v74 = (unsigned int *)(v105 - 4);
      v75 = __ldrex(v74);
    while ( __strex(v75 - 1, v74) );
    if ( v75 <= 0 )
      j_j_j_j__ZdlPv_9(v31);
  v32 = (void *)(v106 - 12);
  if ( (int (__fastcall *)(_DWORD))(v106 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v76 = (unsigned int *)(v106 - 4);
      v77 = __ldrex(v76);
    while ( __strex(v77 - 1, v76) );
    if ( v77 <= 0 )
      j_j_j_j__ZdlPv_9(v32);
  sub_21E94B4((void **)&v104, "Sec-WebSocket-Origin");
  v33 = a5 + 4;
  v34 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          a5 + 4,
          &v104);
  v35 = (const void **)(v34 + 20);
  if ( v34 == a5 + 8 )
    v35 = (const void **)&dword_2880E54;
  v36 = sub_21E7D6C(v35, (const char *)&unk_257BC67);
  v37 = (void *)(v104 - 12);
  if ( (int (__fastcall *)(_DWORD))(v104 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v78 = (unsigned int *)(v104 - 4);
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
  if ( !v36 )
    sub_21E94B4((void **)&v103, "Sec-WebSocket-Origin");
    sub_21E94B4((void **)&v102, "Origin");
    v38 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v95,
            &v102);
    v39 = (const void **)(v38 + 20);
    if ( v38 == v94 )
      v39 = (const void **)&dword_2880E54;
    j_websocketpp::http::parser::parser::append_header(a5, &v103, v39);
    v40 = (void *)(v102 - 12);
    if ( (int (__fastcall *)(_DWORD))(v102 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    {
      v84 = (unsigned int *)(v102 - 4);
      __dmb();
      do
        v85 = __ldrex(v84);
      while ( __strex(v85 - 1, v84) );
      if ( v85 <= 0 )
        j_j_j_j__ZdlPv_9(v40);
    }
    v41 = (void *)(v103 - 12);
    if ( (int (__fastcall *)(_DWORD))(v103 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v86 = (unsigned int *)(v103 - 4);
        v87 = __ldrex(v86);
      while ( __strex(v87 - 1, v86) );
      if ( v87 <= 0 )
        j_j_j_j__ZdlPv_9(v41);
  sub_21E94B4((void **)&v101, "Sec-WebSocket-Location");
  v42 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v33,
          &v101);
  v43 = (const void **)(v42 + 20);
  if ( v42 == a5 + 8 )
    v43 = (const void **)&dword_2880E54;
  v44 = sub_21E7D6C(v43, (const char *)&unk_257BC67);
  v45 = v5;
  v46 = (void *)(v101 - 12);
  if ( (int (__fastcall *)(_DWORD))(v101 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
    v80 = (unsigned int *)(v101 - 4);
      v81 = __ldrex(v80);
    while ( __strex(v81 - 1, v80) );
    if ( v81 <= 0 )
      j_j_j_j__ZdlPv_9(v46);
  if ( !v44 )
    (*(void (__fastcall **)(int, const Vec3 *))(*(_DWORD *)v92 + 48))((int)&v99, v92);
    sub_21E94B4((void **)&v98, "Sec-WebSocket-Location");
    j_websocketpp::uri::str((websocketpp::uri *)&v97, v99);
    j_websocketpp::http::parser::parser::append_header(a5, &v98, (const void **)&v97);
    v47 = (void *)(v97 - 12);
    if ( (int (__fastcall *)(_DWORD))(v97 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v88 = (unsigned int *)(v97 - 4);
        v89 = __ldrex(v88);
      while ( __strex(v89 - 1, v88) );
      if ( v89 <= 0 )
        j_j_j_j__ZdlPv_9(v47);
    v48 = v11;
    v49 = (void *)(v98 - 12);
    if ( (int (__fastcall *)(_DWORD))(v98 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v90 = (unsigned int *)(v98 - 4);
        v91 = __ldrex(v90);
      while ( __strex(v91 - 1, v90) );
      if ( v91 <= 0 )
        j_j_j_j__ZdlPv_9(v49);
    v50 = v100;
    if ( v100 )
      v51 = (unsigned int *)(v100 + 4);
        v52 = __ldrex(v51);
      while ( __strex(v52 - 1, v51) );
      if ( v52 == 1 )
      {
        v53 = (unsigned int *)(v50 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v50 + 8))(v50);
        __dmb();
        do
          v54 = __ldrex(v53);
        while ( __strex(v54 - 1, v53) );
        if ( v54 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v50 + 12))(v50);
      }
    v11 = v48;
  if ( sub_21E7D6C((const void **)v93, (const char *)&unk_257BC67) )
    sub_21E94B4((void **)&v96, "Sec-WebSocket-Protocol");
    v55 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v33,
                   &v96);
    EntityInteraction::setInteractText(v55, v93);
    v56 = (void *)(v96 - 12);
    if ( (int (__fastcall *)(_DWORD))(v96 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v11) )
      v82 = (unsigned int *)(v96 - 4);
        v83 = __ldrex(v82);
      while ( __strex(v83 - 1, v82) );
      if ( v83 <= 0 )
        j_j_j_j__ZdlPv_9(v56);
  *(_DWORD *)v45 = 0;
  *(_DWORD *)(v45 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v119);
  if ( _stack_chk_guard != v119 )
    j___stack_chk_fail_1((int)result);
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::write_frame(int a1)
{
  int v1; // r6@1
  pthread_mutex_t *v2; // r4@1
  int v3; // r0@1
  signed int v4; // r5@3
  int v5; // r7@4
  int *v6; // r5@4
  unsigned __int64 *v7; // r11@4
  int v8; // r0@5
  int v9; // r1@6
  unsigned int *v10; // r0@7
  unsigned int v11; // r1@8
  int v12; // r7@13
  unsigned int *v13; // r0@14
  unsigned int v14; // r1@15
  unsigned int *v15; // r4@17
  unsigned int v16; // r0@18
  __int64 v17; // r0@20
  int v18; // r4@20
  unsigned int *v19; // r0@21
  unsigned int v20; // r1@22
  unsigned int *v21; // r7@24
  unsigned int v22; // r0@25
  unsigned int *v23; // r0@29
  unsigned int v24; // r1@30
  unsigned int *v25; // r4@32
  int v26; // r0@37
  int v27; // r7@39
  unsigned int *v28; // r0@40
  unsigned int v29; // r1@41
  unsigned int *v30; // r4@43
  unsigned int v31; // r0@44
  int v32; // r4@49
  _DWORD *v33; // r9@49
  _DWORD *v34; // r6@50
  _QWORD **v35; // r8@50
  int v36; // r5@50
  int v37; // r11@51
  __int64 v38; // r0@51
  _QWORD *v39; // r0@52
  __int64 v40; // r1@54
  int v41; // r4@58
  int v42; // r0@58
  bool v43; // zf@58
  int *v44; // r11@61
  unsigned __int8 v45; // vf@61
  char *v46; // r0@61
  int v47; // r0@61
  char *v48; // r6@62
  char *v49; // r0@62
  pthread_mutex_t *v50; // r5@62
  void *v51; // r0@62
  pthread_mutex_t *v52; // r5@63
  void *v53; // r0@63
  pthread_mutex_t *v54; // r5@64
  void *v55; // r0@64
  void *v56; // r0@65
  unsigned int v57; // r11@66
  void *v58; // r0@66
  void *v59; // r0@67
  __int64 v60; // r2@69
  unsigned int v61; // r8@74
  int v62; // r5@74
  int v63; // r4@74
  unsigned int *v64; // r1@75
  signed int v65; // r2@76
  unsigned int *v66; // r1@79
  signed int v67; // r2@80
  int v68; // r0@83
  int v69; // r10@83
  int v70; // r7@83
  char *v71; // r6@83
  int v72; // r1@83
  char *v73; // r6@83
  char *v74; // r0@83
  void *v75; // r0@83
  bool v76; // zf@84
  char *v77; // r6@87
  int v78; // r1@87
  char *v79; // r6@87
  char *v80; // r6@87
  int v81; // r0@87
  int *v82; // r1@87
  char *v83; // r0@90
  void *v84; // r0@90
  unsigned int *v85; // r1@93
  signed int v86; // r2@94
  unsigned int *v87; // r1@97
  signed int v88; // r2@98
  unsigned int *v89; // r1@101
  signed int v90; // r2@102
  unsigned int *v91; // r1@105
  signed int v92; // r2@106
  unsigned int *v93; // r1@109
  signed int v94; // r2@110
  unsigned int *v95; // r1@113
  signed int v96; // r2@114
  int *v97; // [sp+0h] [bp-2D0h]@0
  int v98; // [sp+24h] [bp-2ACh]@61
  pthread_mutex_t *v99; // [sp+28h] [bp-2A8h]@4
  int v100; // [sp+2Ch] [bp-2A4h]@49
  char v101; // [sp+30h] [bp-2A0h]@70
  void (__cdecl *v102)(char *, char *); // [sp+38h] [bp-298h]@69
  int v103; // [sp+3Ch] [bp-294h]@70
  int v104; // [sp+40h] [bp-290h]@64
  int v105; // [sp+44h] [bp-28Ch]@63
  int v106; // [sp+48h] [bp-288h]@62
  int v107; // [sp+4Ch] [bp-284h]@79
  int v108; // [sp+50h] [bp-280h]@75
  void **v109; // [sp+54h] [bp-27Ch]@61
  int v110; // [sp+58h] [bp-278h]@66
  void **v111; // [sp+5Ch] [bp-274h]@61
  void **v112; // [sp+60h] [bp-270h]@64
  int v113; // [sp+7Ch] [bp-254h]@66
  int v114; // [sp+84h] [bp-24Ch]@65
  void **v115; // [sp+88h] [bp-248h]@65
  void **v116; // [sp+110h] [bp-1C0h]@61
  int v117; // [sp+114h] [bp-1BCh]@67
  void **v118; // [sp+118h] [bp-1B8h]@61
  void **v119; // [sp+11Ch] [bp-1B4h]@63
  int v120; // [sp+138h] [bp-198h]@67
  int v121; // [sp+140h] [bp-190h]@66
  void **v122; // [sp+144h] [bp-18Ch]@66
  void **v123; // [sp+1CCh] [bp-104h]@61
  int v124; // [sp+1D0h] [bp-100h]@68
  void **v125; // [sp+1D4h] [bp-FCh]@61
  void **v126; // [sp+1D8h] [bp-F8h]@62
  int v127; // [sp+1F4h] [bp-DCh]@68
  int v128; // [sp+1FCh] [bp-D4h]@67
  void **v129; // [sp+200h] [bp-D0h]@67
  __int64 v130; // [sp+288h] [bp-48h]@54
  __int64 v131; // [sp+290h] [bp-40h]@51
  char v132; // [sp+298h] [bp-38h]@20
  int v133; // [sp+29Ch] [bp-34h]@20
  int v134; // [sp+2A0h] [bp-30h]@4
  int v135; // [sp+2A4h] [bp-2Ch]@6

  v1 = a1;
  v2 = (pthread_mutex_t *)(a1 + 2512);
  v3 = j_pthread_mutex_lock_1((pthread_mutex_t *)(a1 + 2512));
  if ( v3 )
    sub_21E5E14(v3);
  if ( *(_BYTE *)(v1 + 19024) )
  {
    v4 = 1;
    goto LABEL_48;
  }
  v99 = v2;
  j_websocketpp::connection<websocketpp::config::asio_client>::write_pop((int)&v134, v1);
  v5 = v134;
  v6 = (int *)(v1 + 19016);
  v7 = (unsigned __int64 *)(v1 + 19012);
  if ( v134 )
    while ( 1 )
    {
      v8 = *v6;
      if ( *v6 == *(_DWORD *)(v1 + 19020) )
      {
        j_std::vector<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_emplace_back_aux<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>> const&>(
          v7,
          (int)&v134);
      }
      else
        *(_DWORD *)v8 = v5;
        v9 = v135;
        *(_DWORD *)(v8 + 4) = v135;
        if ( v9 )
        {
          v10 = (unsigned int *)(v9 + 4);
          __dmb();
          do
            v11 = __ldrex(v10);
          while ( __strex(v11 + 1, v10) );
          v5 = v134;
        }
        *v6 += 8;
      if ( !*(_BYTE *)(v5 + 26) )
        break;
      v134 = 0;
      v12 = v135;
      v135 = 0;
      if ( v12 )
        v13 = (unsigned int *)(v12 + 4);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          v15 = (unsigned int *)(v12 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
            v16 = __ldrex(v15);
          while ( __strex(v16 - 1, v15) );
LABEL_34:
          if ( v16 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
          goto LABEL_36;
LABEL_36:
      v5 = v134;
      if ( !v134 )
        goto LABEL_37;
    }
    j_websocketpp::connection<websocketpp::config::asio_client>::write_pop((int)&v132, v1);
    v17 = *(_QWORD *)&v132;
    *(_DWORD *)&v132 = 0;
    v133 = 0;
    v134 = v17;
    v18 = v135;
    v135 = HIDWORD(v17);
    if ( v18 )
      v19 = (unsigned int *)(v18 + 4);
      __dmb();
      do
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 == 1 )
        v21 = (unsigned int *)(v18 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
    v12 = v133;
    if ( !v133 )
      goto LABEL_36;
    v23 = (unsigned int *)(v133 + 4);
    __dmb();
    do
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 != 1 )
    v25 = (unsigned int *)(v12 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
      v16 = __ldrex(v25);
    while ( __strex(v16 - 1, v25) );
    goto LABEL_34;
LABEL_37:
  v26 = *v6;
  v4 = 1;
  if ( *(_DWORD *)v7 != v26 )
    *(_BYTE *)(v1 + 19024) = 1;
    v4 = 0;
  v27 = v135;
  if ( v135 )
    v28 = (unsigned int *)(v135 + 4);
      v29 = __ldrex(v28);
    while ( __strex(v29 - 1, v28) );
    if ( v29 == 1 )
      v30 = (unsigned int *)(v27 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
  v2 = v99;
LABEL_48:
  j_pthread_mutex_unlock_1(v2);
  if ( !v4 )
    v100 = v1;
    v32 = *(_DWORD *)(v1 + 19012);
    v33 = (_DWORD *)(v1 + 19016);
    if ( v32 != *(_DWORD *)(v1 + 19016) )
      v34 = (_DWORD *)(v1 + 19008);
      v35 = (_QWORD **)(v100 + 19004);
      v36 = v100 + 19000;
        v37 = *(_DWORD *)v32;
        LODWORD(v38) = *(_DWORD *)(*(_DWORD *)v32 + 8);
        HIDWORD(v38) = *(_DWORD *)(v38 - 12);
        v131 = v38;
        if ( *v35 == (_QWORD *)*v34 )
          j_std::vector<websocketpp::transport::buffer,std::allocator<websocketpp::transport::buffer>>::_M_emplace_back_aux<websocketpp::transport::buffer>(__PAIR__(&v131, v36));
          v39 = *v35;
        else
          **v35 = v131;
          v39 = *v35 + 1;
          *v35 = v39;
        LODWORD(v40) = *(_DWORD *)(v37 + 16);
        HIDWORD(v40) = *(_DWORD *)(v40 - 12);
        v130 = v40;
        if ( v39 == (_QWORD *)*v34 )
          j_std::vector<websocketpp::transport::buffer,std::allocator<websocketpp::transport::buffer>>::_M_emplace_back_aux<websocketpp::transport::buffer>(__PAIR__(&v130, v36));
          *v39 = v130;
          ++*v35;
        v32 += 8;
      while ( v32 != *v33 );
    v41 = v100;
    v42 = *(_DWORD *)(v100 + 19196);
    v43 = (*(_BYTE *)(v42 + 4) & 8) == 0;
    if ( *(_BYTE *)(v42 + 4) & 8 )
      v43 = (*(_BYTE *)(v42 + 8) & 8) == 0;
    if ( !v43 )
      sub_21D103C((int)&v123, 24);
      sub_21D103C((int)&v116, 24);
      sub_21D103C((int)&v109, 24);
      sub_21CBF38((char *)&v125, (int)"Dispatching write containing ", 29);
      v44 = (int *)(v100 + 19012);
      v45 = __OFSUB__(*v33, *(_DWORD *)(v100 + 19012));
      v46 = sub_21CC440((char *)&v125);
      sub_21CBF38(v46, (int)" message(s) containing ", 23);
      sub_21CBF38((char *)&v118, (int)"Header Bytes: \n", 15);
      sub_21CBF38((char *)&v111, (int)"Payload Bytes: \n", 16);
      v98 = v100 + 19196;
      v47 = *(_DWORD *)(v100 + 19012);
      if ( *v33 != *(_DWORD *)(v100 + 19012) )
        v61 = 0;
        v62 = 0;
        v63 = 0;
        v97 = (int *)"] ";
          v68 = *(_DWORD *)(v47 + 8 * v61);
          v69 = *(_DWORD *)(*(_DWORD *)(v68 + 8) - 12);
          v70 = *(_DWORD *)(*(_DWORD *)(v68 + 16) - 12);
          sub_21CBF38((char *)&v118, (int)"[", 1);
          v71 = sub_21CC440((char *)&v118);
          sub_21CBF38(v71, (int)"] (", 3);
          v72 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 8) - 12);
          v73 = sub_21CC440(v71);
          sub_21CBF38(v73, (int)") ", 2);
          j_websocketpp::utility::to_hex((const void **)&v108, (int *)(*(_DWORD *)(*v44 + 8 * v61) + 8));
          v74 = sub_21CBF38(v73, v108, *(_DWORD *)(v108 - 12));
          sub_21CBF38(v74, (int)"\n", 1);
          v75 = (void *)(v108 - 12);
          if ( (int *)(v108 - 12) != &dword_28898C0 )
          {
            v64 = (unsigned int *)(v108 - 4);
            __dmb();
            do
              v65 = __ldrex(v64);
            while ( __strex(v65 - 1, v64) );
            if ( v65 <= 0 )
              j_j_j_j__ZdlPv_9(v75);
          }
          v76 = (*(_BYTE *)(*(_DWORD *)v98 + 4) & 0x10) == 0;
          if ( *(_BYTE *)(*(_DWORD *)v98 + 4) & 0x10 )
            v76 = (*(_BYTE *)(*(_DWORD *)v98 + 8) & 0x10) == 0;
          if ( !v76 )
            sub_21CBF38((char *)&v111, (int)"[", 1);
            v77 = sub_21CC440((char *)&v111);
            sub_21CBF38(v77, (int)"] (", 3);
            v78 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 16) - 12);
            v79 = sub_21CC440(v77);
            sub_21CBF38(v79, (int)") [", 3);
            v80 = (char *)sub_21CC43C(v79, *(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 20));
            sub_21CBF38(v80, (int)"] ", 2);
            v81 = *(_DWORD *)(*v44 + 8 * v61);
            v82 = (int *)(v81 + 16);
            if ( *(_DWORD *)(v81 + 20) == 1 )
              sub_21E8AF4(&v107, v82);
            else
              j_websocketpp::utility::to_hex((const void **)&v107, v82);
            v83 = sub_21CBF38(v80, v107, *(_DWORD *)(v107 - 12));
            sub_21CBF38(v83, (int)"\n", 1);
            v84 = (void *)(v107 - 12);
            if ( (int *)(v107 - 12) != &dword_28898C0 )
            {
              v66 = (unsigned int *)(v107 - 4);
              __dmb();
              do
                v67 = __ldrex(v66);
              while ( __strex(v67 - 1, v66) );
              if ( v67 <= 0 )
                j_j_j_j__ZdlPv_9(v84);
            }
          v47 = *v44;
          v62 += v70;
          v63 += v69;
          ++v61;
        while ( v61 < (*v33 - *v44) >> 3 );
      v48 = sub_21CC440((char *)&v125);
      sub_21CBF38(v48, (int)" header bytes and ", 18);
      v49 = sub_21CC440(v48);
      sub_21CBF38(v49, (int)" payload bytes", 14);
      v50 = *(pthread_mutex_t **)v98;
      sub_21CFED8(&v106, (int)&v126);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v50, 8, &v106);
      v51 = (void *)(v106 - 12);
      if ( (int *)(v106 - 12) != &dword_28898C0 )
        v85 = (unsigned int *)(v106 - 4);
          v86 = __ldrex(v85);
        while ( __strex(v86 - 1, v85) );
        if ( v86 <= 0 )
          j_j_j_j__ZdlPv_9(v51);
      v52 = *(pthread_mutex_t **)v98;
      sub_21CFED8(&v105, (int)&v119);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v52, 8, &v105);
      v53 = (void *)(v105 - 12);
      if ( (int *)(v105 - 12) != &dword_28898C0 )
        v87 = (unsigned int *)(v105 - 4);
          v88 = __ldrex(v87);
        while ( __strex(v88 - 1, v87) );
        if ( v88 <= 0 )
          j_j_j_j__ZdlPv_9(v53);
      v54 = *(pthread_mutex_t **)v98;
      sub_21CFED8(&v104, (int)&v112);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v54, 16, &v104);
      v55 = (void *)(v104 - 12);
      if ( (int *)(v104 - 12) != &dword_28898C0 )
        v89 = (unsigned int *)(v104 - 4);
          v90 = __ldrex(v89);
        while ( __strex(v90 - 1, v89) );
        if ( v90 <= 0 )
          j_j_j_j__ZdlPv_9(v55);
      v109 = &off_26D3F94;
      v115 = &off_26D3FBC;
      v111 = &off_26D3FA8;
      v112 = &off_27734E8;
      v56 = (void *)(v114 - 12);
      if ( (int *)(v114 - 12) != &dword_28898C0 )
        v91 = (unsigned int *)(v114 - 4);
          v92 = __ldrex(v91);
        while ( __strex(v92 - 1, v91) );
        if ( v92 <= 0 )
          j_j_j_j__ZdlPv_9(v56);
      v112 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v113);
      v57 = 0xFFFE9F1C;
      v109 = &off_276D0DC;
      v115 = &off_276D0F0;
      v110 = 0;
      sub_21B6560(&v115);
      v116 = &off_26D3F94;
      v122 = &off_26D3FBC;
      v118 = &off_26D3FA8;
      v119 = &off_27734E8;
      v58 = (void *)(v121 - 12);
      if ( (int *)(v121 - 12) != &dword_28898C0 )
        v93 = (unsigned int *)(v121 - 4);
          v94 = __ldrex(v93);
        while ( __strex(v94 - 1, v93) );
        v57 = 0xFFFE9F1C;
        if ( v94 <= 0 )
          j_j_j_j__ZdlPv_9(v58);
      v119 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v120);
      v116 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 12);
      v122 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 32);
      v117 = 0;
      sub_21B6560(&v122);
      v123 = &off_26D3F94;
      v129 = &off_26D3FBC;
      v125 = &off_26D3FA8;
      v126 = &off_27734E8;
      v59 = (void *)(v128 - 12);
      if ( (int *)(v128 - 12) != &dword_28898C0 )
        v95 = (unsigned int *)(v128 - 4);
          v96 = __ldrex(v95);
        while ( __strex(v96 - 1, v95) );
        if ( v96 <= 0 )
          j_j_j_j__ZdlPv_9(v59);
      v126 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v127);
      v123 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 12);
      v129 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 32);
      v124 = 0;
      sub_21B6560(&v129);
      v41 = v100;
    v102 = 0u;
    HIDWORD(v60) = *(_DWORD *)(v41 + 2304);
    if ( HIDWORD(v60) )
      ((void (__fastcall *)(int, CircuitSystem *, signed int, const void **, int *))HIDWORD(v60))(
        (int)&v101,
        (CircuitSystem *)(v41 + 2296),
        2,
        (const void **)HIDWORD(v60),
        v97);
      v103 = *(_DWORD *)(v41 + 2308);
      v102 = *(void (__cdecl **)(char *, char *))(v41 + 2304);
    LODWORD(v60) = &v101;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(
      v41,
      (unsigned __int64 *)(v41 + 0x4A38),
      v60);
    if ( v102 )
      v102(&v101, &v101);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::process_control_frame(int a1, int a2)
{
  int v2; // r10@1
  int v3; // r11@1
  int v4; // r5@1
  int v5; // r0@1
  int v6; // r6@1
  char *v7; // r7@1
  pthread_mutex_t **v8; // r8@1
  pthread_mutex_t *v9; // r4@1
  void *v10; // r0@1
  int v11; // r0@2
  bool v12; // zf@4
  void *v13; // r0@8
  unsigned int *v15; // r1@10
  signed int v16; // r2@11
  unsigned int *v17; // r1@14
  signed int v18; // r2@15
  int v19; // r0@21
  unsigned int *v20; // r0@22
  unsigned int v21; // r1@23
  void *v22; // r0@25
  int v23; // r0@26
  unsigned int *v24; // r1@27
  unsigned int v25; // r2@28
  int v26; // r4@31
  _WORD *v27; // r5@34
  unsigned int v28; // r3@36
  int v29; // r0@39
  unsigned int *v30; // r0@40
  unsigned int v31; // r1@41
  int v32; // r5@43
  void *v33; // r0@43
  int v34; // r0@44
  unsigned int *v35; // r1@45
  unsigned int v36; // r2@46
  void *v37; // r0@53
  void *v38; // r0@55
  char *v39; // r0@60
  int v40; // r1@61
  char *v41; // r0@61
  pthread_mutex_t *v42; // r4@61
  void *v43; // r0@61
  void *v44; // r0@62
  int v45; // r0@65
  unsigned int v46; // r3@71
  unsigned int *v47; // r1@73
  signed int v48; // r2@74
  unsigned int *v49; // r1@77
  signed int v50; // r2@78
  unsigned int *v51; // r1@81
  signed int v52; // r2@82
  unsigned int *v53; // r1@85
  signed int v54; // r2@86
  unsigned int *v55; // r1@89
  signed int v56; // r2@90
  unsigned int *v57; // r1@93
  signed int v58; // r2@94
  unsigned int *v59; // r1@97
  signed int v60; // r2@98
  char *v61; // r0@102
  int v62; // r1@103
  char *v63; // r5@103
  pthread_mutex_t *v64; // r4@103
  void *v65; // r0@103
  void *v66; // r0@104
  unsigned int *v67; // r1@107
  signed int v68; // r2@108
  unsigned int *v69; // r1@111
  signed int v70; // r2@112
  unsigned int *v71; // r1@115
  signed int v72; // r2@116
  unsigned __int64 v73; // [sp+8h] [bp-168h]@68
  int v74; // [sp+Ch] [bp-164h]@68
  int v75; // [sp+14h] [bp-15Ch]@104
  char v76; // [sp+18h] [bp-158h]@104
  int v77; // [sp+24h] [bp-14Ch]@103
  char *v78; // [sp+2Ch] [bp-144h]@70
  int v79; // [sp+34h] [bp-13Ch]@55
  char v80; // [sp+38h] [bp-138h]@55
  int v81; // [sp+44h] [bp-12Ch]@53
  int v82; // [sp+4Ch] [bp-124h]@62
  char v83; // [sp+50h] [bp-120h]@62
  int v84; // [sp+5Ch] [bp-114h]@61
  char *v85; // [sp+64h] [bp-10Ch]@35
  int v86; // [sp+68h] [bp-108h]@25
  int v87; // [sp+6Ch] [bp-104h]@21
  int v88; // [sp+70h] [bp-100h]@21
  int v89; // [sp+74h] [bp-FCh]@43
  int v90; // [sp+78h] [bp-F8h]@39
  int v91; // [sp+7Ch] [bp-F4h]@39
  int v92; // [sp+80h] [bp-F0h]@1
  void **v93; // [sp+84h] [bp-ECh]@1
  int v94; // [sp+88h] [bp-E8h]@9
  void **v95; // [sp+8Ch] [bp-E4h]@8
  void **v96; // [sp+90h] [bp-E0h]@1
  int v97; // [sp+ACh] [bp-C4h]@9
  char v98; // [sp+B0h] [bp-C0h]@35
  int v99; // [sp+B4h] [bp-BCh]@8
  void **v100; // [sp+B8h] [bp-B8h]@8
  int v101; // [sp+140h] [bp-30h]@1
  int v102; // [sp+144h] [bp-2Ch]@1

  v2 = a1;
  v3 = a2;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "process_control_frame");
  v4 = *(_DWORD *)(*(_DWORD *)v3 + 20);
  v101 = 0;
  v5 = ((int (*)(void))byte_21E9640)();
  v6 = v5;
  v102 = v5;
  v7 = (char *)(sub_21D103C((int)&v93, 24) + 8);
  sub_21CBF38(v7, (int)"Control frame received with opcode ", 35);
  sub_21CC43C(v7, v4);
  v8 = (pthread_mutex_t **)(v2 + 19236);
  v9 = *(pthread_mutex_t **)(v2 + 19236);
  sub_21CFED8(&v92, (int)&v96);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v9, 4, &v92);
  v10 = (void *)(v92 - 12);
  if ( (int *)(v92 - 12) != &dword_28898C0 )
  {
    v15 = (unsigned int *)(v92 - 4);
    __dmb();
    do
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  }
  v11 = *(_DWORD *)(v2 + 2540);
  if ( v11 == 3 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v2 + 19240),
      8,
      "got frame in state closed");
    goto LABEL_8;
  v12 = v4 == 8;
  if ( v4 != 8 )
    v12 = v11 == 1;
  if ( !v12 )
      "got non-close frame in state closing");
    if ( v4 == 10 )
    {
      if ( *(_DWORD *)(v2 + 2436) )
      {
        v87 = *(_DWORD *)(v2 + 2356);
        v19 = *(_DWORD *)(v2 + 2360);
        v88 = v19;
        if ( v19 )
        {
          v20 = (unsigned int *)(v19 + 8);
          __dmb();
          do
            v21 = __ldrex(v20);
          while ( __strex(v21 + 1, v20) );
        }
        sub_21E8AF4(&v86, (int *)(*(_DWORD *)v3 + 16));
        j_std::function<void ()(std::weak_ptr<void>,std::string)>::operator()(v2 + 2428, (int)&v87, &v86);
        v22 = (void *)(v86 - 12);
        if ( (int *)(v86 - 12) != &dword_28898C0 )
          v47 = (unsigned int *)(v86 - 4);
            v48 = __ldrex(v47);
          while ( __strex(v48 - 1, v47) );
          if ( v48 <= 0 )
            j_j_j_j__ZdlPv_9(v22);
        v23 = v88;
        if ( v88 )
          v24 = (unsigned int *)(v88 + 8);
            v25 = __ldrex(v24);
          while ( __strex(v25 - 1, v24) );
          if ( v25 == 1 )
            (*(void (**)(void))(*(_DWORD *)v23 + 12))();
      }
      v26 = *(_DWORD *)(v2 + 18976);
      if ( v26 )
        sub_21B09F0();
        if ( *(_BYTE *)(v26 + 16) )
          j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
            *(_DWORD *)(*(_DWORD *)v26 + 52),
            *(_DWORD *)v26 + 20,
            v26 + 20,
            -1);
          *(_BYTE *)(v26 + 16) = 0;
          sub_21B09F0();
        else
    }
    else if ( v4 == 9 )
      if ( !*(_DWORD *)(v2 + 2420) )
        goto LABEL_121;
      v90 = *(_DWORD *)(v2 + 2356);
      v29 = *(_DWORD *)(v2 + 2360);
      v91 = v29;
      if ( v29 )
        v30 = (unsigned int *)(v29 + 8);
        __dmb();
        do
          v31 = __ldrex(v30);
        while ( __strex(v31 + 1, v30) );
      sub_21E8AF4(&v89, (int *)(*(_DWORD *)v3 + 16));
      v32 = j_std::function<bool ()(std::weak_ptr<void>,std::string)>::operator()(v2 + 2412, (int)&v90, &v89);
      v33 = (void *)(v89 - 12);
      if ( (int *)(v89 - 12) != &dword_28898C0 )
        v57 = (unsigned int *)(v89 - 4);
          v58 = __ldrex(v57);
        while ( __strex(v58 - 1, v57) );
        if ( v58 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v34 = v91;
      if ( v91 )
        v35 = (unsigned int *)(v91 + 8);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 == 1 )
          (*(void (**)(void))(*(_DWORD *)v34 + 12))();
      if ( v32 )
LABEL_121:
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::pong(v2, *(_DWORD *)v3 + 16, (int)&v101);
        if ( v101 )
          j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
            v2,
            1,
            "Failed to send response pong",
            &v101);
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
        *(pthread_mutex_t **)(v2 + 19240),
        1,
        "Got control frame with invalid opcode");
    *v8,
    "got close frame");
  v27 = (_WORD *)(v2 + 19256);
  *(_WORD *)(v2 + 19256) = j_websocketpp::close::extract_code(*(_DWORD *)v3 + 16, (int)&v101);
  if ( v101 )
    sub_21E94B4((void **)&v85, (const char *)&unk_257BC67);
    sub_21E8190((void **)&v99, v85, *((_BYTE **)v85 - 3));
    if ( v98 & 3 )
      v28 = *(_DWORD *)(v99 - 12);
      v28 = 0;
    sub_21CFFFC((int)&v96, v99, 0, v28);
    v39 = v85 - 12;
    if ( (int *)(v85 - 12) != &dword_28898C0 )
      v49 = (unsigned int *)(v85 - 4);
      __dmb();
      do
        v50 = __ldrex(v49);
      while ( __strex(v50 - 1, v49) );
      if ( v50 <= 0 )
        j_j_j_j__ZdlPv_9(v39);
    sub_21CBF38(v7, (int)"Received invalid close code ", 28);
    v40 = *v27;
    v41 = sub_21CC440(v7);
    sub_21CBF38(v41, (int)" sending acknowledgement and closing", 36);
    v42 = *(pthread_mutex_t **)(v2 + 19240);
    sub_21CFED8(&v84, (int)&v96);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v42, 1, &v84);
    v43 = (void *)(v84 - 12);
    if ( (int *)(v84 - 12) != &dword_28898C0 )
      v51 = (unsigned int *)(v84 - 4);
        v52 = __ldrex(v51);
      while ( __strex(v52 - 1, v51) );
      if ( v52 <= 0 )
        j_j_j_j__ZdlPv_9(v43);
    sub_21E94B4((void **)&v82, "Invalid close code");
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_close_frame(
      (int)&v83,
      v2,
      1002,
      &v82,
      1,
      *(_BYTE *)(v2 + 19232));
    *(_QWORD *)&v101 = *(_QWORD *)&v83;
    v44 = (void *)(v82 - 12);
    if ( (int *)(v82 - 12) != &dword_28898C0 )
      v53 = (unsigned int *)(v82 - 4);
        v54 = __ldrex(v53);
      while ( __strex(v54 - 1, v53) );
      if ( v54 <= 0 )
        j_j_j_j__ZdlPv_9(v44);
    if ( v101 )
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
        v2,
        "send_close_ack",
        &v101);
  j_websocketpp::close::extract_reason((void **)&v81, *(_DWORD *)v3 + 16, (int)&v101);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v2 + 19260),
    &v81);
  v37 = (void *)(v81 - 12);
  if ( (int *)(v81 - 12) != &dword_28898C0 )
    v55 = (unsigned int *)(v81 - 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 <= 0 )
      j_j_j_j__ZdlPv_9(v37);
      "Received invalid close reason. Sending acknowledgement and closing");
    sub_21E94B4((void **)&v79, "Invalid close reason");
      (int)&v80,
      &v79,
    *(_QWORD *)&v101 = *(_QWORD *)&v80;
    v38 = (void *)(v79 - 12);
    if ( (int *)(v79 - 12) != &dword_28898C0 )
      v59 = (unsigned int *)(v79 - 4);
        v60 = __ldrex(v59);
      while ( __strex(v60 - 1, v59) );
      if ( v60 <= 0 )
        j_j_j_j__ZdlPv_9(v38);
  v45 = *(_DWORD *)(v2 + 2540);
  if ( v45 == 2 )
    if ( !*(_BYTE *)(v2 + 19273) )
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *v8,
        1024,
        "Got acknowledgement of close");
      *(_BYTE *)(v2 + 19273) = 1;
      if ( *(_BYTE *)(v2 + 19232) )
        LODWORD(v73) = 0;
        v74 = v6;
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v2, &v73);
      goto LABEL_8;
LABEL_72:
      "Got close frame in wrong state");
  if ( v45 != 1 )
    goto LABEL_72;
  sub_21E94B4((void **)&v78, (const char *)&unk_257BC67);
  sub_21E8190((void **)&v99, v78, *((_BYTE **)v78 - 3));
  if ( v98 & 3 )
    v46 = *(_DWORD *)(v99 - 12);
  else
    v46 = 0;
  sub_21CFFFC((int)&v96, v99, 0, v46);
  v61 = v78 - 12;
  if ( (int *)(v78 - 12) != &dword_28898C0 )
    v67 = (unsigned int *)(v78 - 4);
      v68 = __ldrex(v67);
    while ( __strex(v68 - 1, v67) );
    if ( v68 <= 0 )
      j_j_j_j__ZdlPv_9(v61);
  sub_21CBF38(v7, (int)"Received close frame with code ", 31);
  v62 = *v27;
  v63 = sub_21CC440(v7);
  sub_21CBF38(v63, (int)" and reason ", 12);
  sub_21CBF38(v63, *(_DWORD *)(v2 + 19260), *(_DWORD *)(*(_DWORD *)(v2 + 19260) - 12));
  v64 = *v8;
  sub_21CFED8(&v77, (int)&v96);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v64, 1024, &v77);
  v65 = (void *)(v77 - 12);
  if ( (int *)(v77 - 12) != &dword_28898C0 )
    v69 = (unsigned int *)(v77 - 4);
      v70 = __ldrex(v69);
    while ( __strex(v70 - 1, v69) );
    if ( v70 <= 0 )
      j_j_j_j__ZdlPv_9(v65);
  sub_21E94B4((void **)&v75, (const char *)&unk_257BC67);
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::send_close_frame(
    (int)&v76,
    v2,
    0,
    &v75,
    1,
    *(_BYTE *)(v2 + 19232));
  *(_QWORD *)&v101 = *(_QWORD *)&v76;
  v66 = (void *)(v75 - 12);
  if ( (int *)(v75 - 12) != &dword_28898C0 )
    v71 = (unsigned int *)(v75 - 4);
      v72 = __ldrex(v71);
    while ( __strex(v72 - 1, v71) );
    if ( v72 <= 0 )
      j_j_j_j__ZdlPv_9(v66);
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      "send_close_ack",
      &v101);
LABEL_8:
  v93 = &off_26D3F94;
  v100 = &off_26D3FBC;
  v95 = &off_26D3FA8;
  v96 = &off_27734E8;
  v13 = (void *)(v99 - 12);
  if ( (int *)(v99 - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(v99 - 4);
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  v96 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v97);
  v93 = &off_276D0DC;
  v100 = &off_276D0F0;
  v94 = 0;
  return sub_21B6560(&v100);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::set_status(int a1, signed int a2)
{
  websocketpp::connection<websocketpp::config::asio_client>::set_status(a1, a2);
}


int __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init(int a1, int a2, int a3)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init(
           a1,
           a2,
           a3);
}


signed int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::get_error(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 92);
  result = 0;
  if ( v1 == 5 )
    result = 1;
  return result;
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_client>::terminate(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  pthread_mutex_t *v3; // r0@1
  unsigned __int64 *v4; // r5@1
  int v5; // r7@3
  int v6; // r6@6
  unsigned int *v7; // r0@7
  unsigned int v8; // r1@8
  unsigned int *v9; // r7@10
  unsigned int v10; // r0@11
  void *v11; // r0@15
  int v12; // r0@16
  void *result; // r0@17
  char v14; // r0@19
  signed int v15; // r8@25
  int v16; // r5@27
  unsigned int v17; // r0@28
  unsigned int *v18; // r7@28
  unsigned int v19; // r1@29
  int v20; // r9@32
  unsigned int v21; // r0@33
  unsigned int v22; // r0@35
  unsigned int *v23; // r6@37
  unsigned int v24; // r0@38
  unsigned int v25; // r0@42
  unsigned int v26; // r0@44
  unsigned int *v27; // r6@46
  unsigned int v28; // r0@47
  _DWORD *v29; // r0@50
  unsigned int *v30; // r1@53
  signed int v31; // r2@54
  _DWORD *v37; // [sp+4h] [bp-34h]@50
  int (*v38)(void); // [sp+Ch] [bp-2Ch]@50
  int (__fastcall *v39)(int, int); // [sp+10h] [bp-28h]@50
  int v40; // [sp+14h] [bp-24h]@15

  v2 = a1;
  v3 = *(pthread_mutex_t **)(a1 + 19196);
  v4 = a2;
  if ( *((_BYTE *)&v3->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v3,
      1024,
      "connection terminate");
  v5 = *(_DWORD *)(v2 + 18928);
  if ( v5 )
  {
    sub_21B09F0();
    if ( *(_BYTE *)(v5 + 16) )
    {
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v5 + 52),
        *(_DWORD *)v5 + 20,
        v5 + 20,
        -1);
      *(_BYTE *)(v5 + 16) = 0;
    }
    *(_DWORD *)(v2 + 18928) = 0;
    v6 = *(_DWORD *)(v2 + 18932);
    *(_DWORD *)(v2 + 18932) = 0;
    if ( v6 )
      v7 = (unsigned int *)(v6 + 4);
      __dmb();
      do
        v8 = __ldrex(v7);
      while ( __strex(v8 - 1, v7) );
      if ( v8 == 1 )
      {
        v9 = (unsigned int *)(v6 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 8))(v6);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 12))(v6);
      }
  }
  if ( *(_DWORD *)v4 )
    *(_QWORD *)(v2 + 19224) = *v4;
    *(_WORD *)(v2 + 19208) = 1006;
    (*(void (__fastcall **)(int *))(*(_DWORD *)(*v4 >> 32) + 12))(&v40);
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19212),
      &v40);
    v11 = (void *)(v40 - 12);
    if ( (int *)(v40 - 12) != &dword_28898C0 )
      v30 = (unsigned int *)(v40 - 4);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
  v12 = *(_DWORD *)(v2 + 2500);
  if ( v12 == 3 )
    result = (void *)j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                       *(pthread_mutex_t **)(v2 + 19196),
                       1024,
                       "terminate called on connection that was already terminated");
  else
    if ( v12 )
      v15 = 2;
      *(_DWORD *)(v2 + 2500) = 3;
    else
      v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v14 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      if ( *(_UNKNOWN **)(v2 + 19228) != &websocketpp::error::get_category(void)::instance
        || *(_DWORD *)(v2 + 19224) != 21 )
        j_websocketpp::connection<websocketpp::config::asio_client>::log_fail_result(v2);
      v15 = 1;
    v16 = *(_DWORD *)(v2 + 4);
    if ( !v16 )
LABEL_57:
      j_std::__throw_bad_weak_ptr();
    v17 = *(_DWORD *)(v16 + 4);
    v18 = (unsigned int *)(v16 + 4);
    do
      v19 = v17;
      if ( !v17 )
        goto LABEL_57;
      v17 = __ldrex(v18);
    while ( v17 != v19 || __strex(v19 + 1, v18) );
    __dmb();
    v20 = *(_DWORD *)v2;
      v21 = __ldrex(v18);
    while ( __strex(v21 + 1, v18) );
      v22 = __ldrex(v18);
    while ( __strex(v22 - 1, v18) );
    if ( v22 == 1 )
      v23 = (unsigned int *)(v16 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
        v24 = __ldrex(v23);
      while ( __strex(v24 - 1, v23) );
      if ( v24 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
      v25 = __ldrex(v18);
    while ( __strex(v25 + 1, v18) );
      v26 = __ldrex(v18);
    while ( __strex(v26 - 1, v18) );
    if ( v26 == 1 )
      v27 = (unsigned int *)(v16 + 8);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
    v29 = j_operator new(0x14u);
    *v29 = websocketpp::connection<websocketpp::config::asio_client>::handle_terminate;
    v29[1] = 0;
    v29[2] = v15;
    v29[3] = v20;
    v29[4] = v16;
    v37 = v29;
    v38 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(websocketpp::connection<websocketpp::config::asio_client>::terminate_status,std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,websocketpp::connection<websocketpp::config::asio_client>::terminate_status,std::_Placeholder<1>)>>::_M_manager;
    v39 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(websocketpp::connection<websocketpp::config::asio_client>::terminate_status,std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,websocketpp::connection<websocketpp::config::asio_client>::terminate_status,std::_Placeholder<1>)>>::_M_invoke;
    result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_shutdown(
               v2,
               (int)&v37);
    if ( v38 )
      result = (void *)v38();
  return result;
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


int __fastcall websocketpp::client<websocketpp::config::asio_tls_client>::get_connection(int a1, int a2, unsigned __int64 *a3, int a4)
{
  int v4; // r9@1
  int v5; // r5@1
  unsigned __int64 *v6; // r6@1
  int v7; // r0@1
  unsigned __int64 v8; // kr00_8@2
  unsigned int *v9; // r2@3
  unsigned int v10; // r3@4
  int v11; // r4@6
  int *v12; // r8@7
  unsigned int v13; // r1@9
  unsigned int v14; // r1@13
  unsigned int *v15; // r7@15
  unsigned int v16; // r1@22
  unsigned int *v17; // r4@24
  int v18; // r0@28
  int result; // r0@28
  char v20; // r0@29
  int v21; // [sp+4h] [bp-24h]@1
  int v22; // [sp+8h] [bp-20h]@28

  v4 = a1;
  v5 = a4;
  v6 = a3;
  j_websocketpp::endpoint<websocketpp::connection<websocketpp::config::asio_tls_client>,websocketpp::config::asio_tls_client>::create_connection(
    (int)&v21,
    a2);
  v7 = v21;
  if ( v21 )
  {
    v8 = *v6;
    if ( *v6 >> 32 )
    {
      v9 = (unsigned int *)(HIDWORD(v8) + 4);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 + 1, v9) );
    }
    *(_DWORD *)(v7 + 19208) = v8;
    v11 = *(_DWORD *)(v7 + 19212);
    if ( HIDWORD(v8) != v11 )
      v12 = (int *)(v7 + 19212);
      if ( HIDWORD(v8) )
      {
        v7 = HIDWORD(v8) + 4;
        __dmb();
        do
          v13 = __ldrex((unsigned int *)v7);
        while ( __strex(v13 + 1, (unsigned int *)v7) );
        v11 = *v12;
      }
      if ( v11 )
        v7 = v11 + 4;
          v14 = __ldrex((unsigned int *)v7);
        while ( __strex(v14 - 1, (unsigned int *)v7) );
        if ( v14 == 1 )
        {
          v15 = (unsigned int *)(v11 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
          __dmb();
          do
            v7 = __ldrex(v15);
          while ( __strex(v7 - 1, v15) );
          if ( v7 == 1 )
            v7 = (*(int (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
        }
      *v12 = HIDWORD(v8);
    if ( HIDWORD(v8) )
      v7 = HIDWORD(v8) + 4;
        v16 = __ldrex((unsigned int *)v7);
      while ( __strex(v16 - 1, (unsigned int *)v7) );
      if ( v16 == 1 )
        v17 = (unsigned int *)(HIDWORD(v8) + 8);
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v8) + 8))(HIDWORD(v8));
          v7 = __ldrex(v17);
        while ( __strex(v7 - 1, v17) );
        if ( v7 == 1 )
          v7 = (*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v8) + 12))(HIDWORD(v8));
    v18 = ((int (__fastcall *)(int))byte_21E9640)(v7);
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = v18;
    *(_DWORD *)v4 = v21;
    result = v22;
  }
  else
    v20 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v20 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 17;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_post_init(int a1, int *a2, int a3, _DWORD *a4)
{
  _DWORD *v4; // r9@1
  int v5; // r6@1
  int v6; // r8@1
  int *v7; // r10@1
  __int64 v8; // r4@3
  signed int v9; // r1@3
  signed __int64 v10; // r0@8
  bool v11; // zf@8
  bool v12; // zf@11
  signed int v13; // r1@16
  bool v14; // cf@23
  signed int v15; // r5@23
  bool v16; // zf@30
  unsigned __int64 v17; // r0@35
  int v19; // r4@51
  pthread_mutex_t *v20; // r0@55
  __int64 v21; // kr20_8@58
  unsigned int *v22; // r0@59
  unsigned int v23; // r2@60
  void (__fastcall *v24)(int, __int64 *); // r2@63
  unsigned int v25; // r1@64
  int v26; // r0@67
  unsigned int *v27; // r1@68
  unsigned int v28; // r2@69
  unsigned int *v29; // r0@73
  unsigned int v30; // r1@74
  __int64 v31; // [sp+0h] [bp-28h]@3

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *a4 == 5 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 48),
             1024,
             "post_init cancelled");
  if ( *a2 )
  {
    LODWORD(v8) = *(_QWORD *)(*a2 + 8) >> 32;
    HIDWORD(v8) = *(_QWORD *)(*a2 + 8);
    j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
      (int)&v31,
      (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
    v9 = 0;
    if ( (unsigned int)(HIDWORD(v8) + 2) < 3 )
      v9 = 1;
    if ( (__PAIR__((unsigned int)v8, HIDWORD(v8)) - 9223372036854775806LL) >> 32 )
      v9 = 0;
    if ( v9 )
    {
      v10 = -6442450945LL;
      v11 = v8 == -6442450945LL;
      if ( v8 != -6442450945LL )
        v11 = -6442450945LL == __PAIR__(v31, HIDWORD(v31));
      if ( v11 )
        goto LABEL_49;
      LODWORD(v10) = 0x7FFFFFFF;
      HIDWORD(v10) = v8 ^ 0x7FFFFFFF | ~HIDWORD(v8);
      v12 = HIDWORD(v10) == 0;
      if ( !HIDWORD(v10) )
        v12 = (HIDWORD(v31) ^ 0x7FFFFFFF | ~(_DWORD)v31) == 0;
      if ( v12 )
      {
        HIDWORD(v10) = -2;
      }
      v16 = v8 == 0x80000000LL;
      if ( v8 == 0x80000000LL )
        v16 = (HIDWORD(v31) ^ 0x80000000 | (unsigned int)v31) == 0;
      if ( v16 )
        v10 = -6442450945LL;
    }
    else
      v13 = 0;
      if ( (unsigned int)(v31 + 2) < 3 )
        v13 = 1;
      if ( (unsigned __int64)(v31 - 9223372036854775806LL) >> 32 )
        v13 = 0;
      if ( !v13 )
        v14 = HIDWORD(v8) >= (unsigned int)v31;
        HIDWORD(v10) = HIDWORD(v8) - v31;
        HIDWORD(v8) = 0;
        LODWORD(v10) = v8 - (HIDWORD(v31) + !v14);
        if ( (unsigned int)(HIDWORD(v10) + 2) > 2 )
          v15 = 1;
        if ( __CFADD__(HIDWORD(v10), 2) + (_DWORD)v10 != 0x80000000 )
          v15 = __CFADD__(HIDWORD(v10), 2) + (_DWORD)v10 != 2147483648;
        if ( v15 )
        {
          if ( (signed int)v10 <= -1 )
            return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                     *(pthread_mutex_t **)(v5 + 48),
                     1024,
                     "post_init cancelled");
LABEL_51:
          v19 = *v7;
          if ( *v7 )
          {
            sub_21B09F0();
            if ( *(_BYTE *)(v19 + 16) )
            {
              j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
                *(_DWORD *)(*(_DWORD *)v19 + 52),
                *(_DWORD *)v19 + 20,
                v19 + 20,
                -1);
              *(_BYTE *)(v19 + 16) = 0;
            }
          }
          goto LABEL_55;
        }
      if ( v31 == 9223372036854775806LL )
    v17 = __PAIR__(v8, HIDWORD(v8)) - 0x7FFFFFFFFFFFFFFFLL;
    LODWORD(v17) = 0;
    if ( (unsigned int)(HIDWORD(v8) + 1) < 2 )
      LODWORD(v17) = 1;
    if ( HIDWORD(v17) )
      LODWORD(v17) = 0;
    if ( (_DWORD)v17 )
      goto LABEL_82;
    if ( !(HIDWORD(v31) ^ 0x80000000 | (unsigned int)v31) )
      v10 = -2147483649LL;
      goto LABEL_49;
    LODWORD(v10) = 0x7FFFFFFF;
    if ( !(HIDWORD(v31) ^ 0x7FFFFFFF | ~(_DWORD)v31) )
      v10 = 0x80000000LL;
    HIDWORD(v10) = -2;
    LODWORD(v8) = (__PAIR__((unsigned int)v8, HIDWORD(v8)) - v31) >> 32;
    HIDWORD(v8) -= v31;
    if ( __PAIR__(v8, HIDWORD(v8)) != 9223372036854775806LL )
LABEL_82:
      if ( !((unsigned int)v8 ^ 0x7FFFFFFF | ~HIDWORD(v8)) )
        HIDWORD(v10) = -1;
        HIDWORD(v10) = HIDWORD(v8) | v8 ^ 0x80000000;
        LODWORD(v10) = 2147483648;
LABEL_49:
    if ( v10 == 0x80000000LL )
      return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
               *(pthread_mutex_t **)(v5 + 48),
               1024,
               "post_init cancelled");
    goto LABEL_51;
  }
LABEL_55:
  v20 = *(pthread_mutex_t **)(v5 + 48);
  if ( *((_BYTE *)&v20->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v20,
      1024,
      "asio connection handle_post_init");
  if ( *(_DWORD *)(v5 + 124) )
    v21 = *(_QWORD *)(v5 + 80);
    if ( HIDWORD(v21) )
      v22 = (unsigned int *)(HIDWORD(v21) + 8);
      __dmb();
      do
        v23 = __ldrex(v22);
      while ( __strex(v23 + 1, v22) );
      if ( !*(_DWORD *)(v5 + 124) )
        sub_21E5F48();
      v24 = *(void (__fastcall **)(int, __int64 *))(v5 + 128);
      v31 = v21;
        v25 = __ldrex(v22);
      while ( __strex(v25 + 1, v22) );
      v31 = (unsigned int)v21;
    v24(v5 + 116, &v31);
    v26 = HIDWORD(v31);
    if ( HIDWORD(v31) )
      v27 = (unsigned int *)(HIDWORD(v31) + 8);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      v29 = (unsigned int *)(HIDWORD(v21) + 8);
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v21) + 12))(HIDWORD(v21));
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, _DWORD *))(v6 + 12))(v6, v4);
}


int __fastcall websocketpp::connection<websocketpp::config::asio_client>::~connection(int a1)
{
  int v1; // r11@1
  int v2; // r1@1
  void *v3; // r0@1
  int v4; // r1@2
  void *v5; // r0@2
  void *v6; // r7@3
  void *v7; // r5@3
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int *v10; // r0@9
  int v11; // r1@14
  void *v12; // r0@14
  int v13; // r5@15
  unsigned int *v14; // r0@16
  unsigned int v15; // r1@17
  unsigned int *v16; // r6@19
  unsigned int v17; // r0@20
  int v18; // r7@23
  int v19; // r5@23
  int v20; // r4@24
  unsigned int *v21; // r0@25
  unsigned int v22; // r1@26
  unsigned int *v23; // r6@28
  unsigned int v24; // r0@29
  void *v25; // r0@36
  int v26; // r1@38
  int v27; // r7@38
  int v28; // r6@38
  int v29; // r0@38
  int v30; // r2@38
  int v31; // r3@38
  void *v32; // r0@38
  unsigned int v33; // r6@39
  unsigned int v34; // r1@39
  unsigned int v35; // r4@40
  void *v36; // t1@41
  int v37; // r5@44
  unsigned int *v38; // r0@45
  unsigned int v39; // r1@46
  unsigned int *v40; // r4@48
  unsigned int v41; // r0@49
  int v42; // r1@52
  void *v43; // r0@52
  int v44; // r5@53
  unsigned int *v45; // r0@54
  unsigned int v46; // r1@55
  unsigned int *v47; // r4@57
  unsigned int v48; // r0@58
  int v49; // r5@61
  unsigned int *v50; // r0@62
  unsigned int v51; // r1@63
  unsigned int *v52; // r4@65
  unsigned int v53; // r0@66
  int v54; // r5@69
  unsigned int *v55; // r0@70
  unsigned int v56; // r1@71
  unsigned int *v57; // r4@73
  unsigned int v58; // r0@74
  void (*v59)(void); // r3@77
  void (__fastcall *v60)(MinecraftUnitTest::Assert *, const wchar_t *, void *); // r3@79
  void (__fastcall *v61)(int *, int *, const wchar_t *); // r3@81
  void (__fastcall *v62)(int, int); // r3@83
  void (*v63)(void); // r3@85
  void (__fastcall *v64)(CapacitorComponent *); // r3@87
  void (__fastcall *v65)(BaseCircuitComponent *); // r3@89
  void (__fastcall *v66)(int, const BlockPos *, int, int); // r3@91
  void (__fastcall *v67)(int, bool, int); // r3@93
  void (__fastcall *v68)(int, bool); // r3@95
  void (__fastcall *v69)(CircuitSystem *, const BlockPos *); // r3@97
  int v70; // r0@99
  unsigned int *v71; // r1@100
  unsigned int v72; // r2@101
  int v73; // r1@104
  void *v74; // r0@104
  void (__fastcall *v75)(int, CircuitSystem *, signed int, const void **, int *); // r3@105
  void (__fastcall *v76)(int, int); // r3@107
  unsigned int *v78; // r1@110
  signed int v79; // r2@111
  unsigned int *v80; // r1@114
  signed int v81; // r2@115
  unsigned int *v82; // r1@118
  signed int v83; // r2@119
  unsigned int *v84; // r1@122
  signed int v85; // r2@123
  unsigned int *v86; // r1@126
  signed int v87; // r2@127
  int *v88; // [sp+0h] [bp-48h]@0
  int v89; // [sp+4h] [bp-44h]@38
  int v90; // [sp+8h] [bp-40h]@38
  int v91; // [sp+Ch] [bp-3Ch]@38
  int v92; // [sp+10h] [bp-38h]@38
  __int64 v93; // [sp+14h] [bp-34h]@38
  int v94; // [sp+1Ch] [bp-2Ch]@38
  int v95; // [sp+20h] [bp-28h]@38

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 19220);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v78 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  v4 = *(_DWORD *)(v1 + 19212);
  v5 = (void *)(v4 - 12);
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v80 = (unsigned int *)(v4 - 4);
      v81 = __ldrex(v80);
    while ( __strex(v81 - 1, v80) );
    if ( v81 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  v6 = *(void **)(v1 + 19184);
  v7 = *(void **)(v1 + 19180);
  if ( v7 != v6 )
    {
      v10 = (int *)(*(_DWORD *)v7 - 12);
      if ( v10 != &dword_28898C0 )
      {
        v8 = (unsigned int *)(*(_DWORD *)v7 - 4);
        __dmb();
        do
          v9 = __ldrex(v8);
        while ( __strex(v9 - 1, v8) );
        if ( v9 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
      }
      v7 = (char *)v7 + 4;
    }
    while ( v7 != v6 );
    v7 = *(void **)(v1 + 19180);
  if ( v7 )
    j_operator delete(v7);
  v11 = *(_DWORD *)(v1 + 19176);
  v12 = (void *)(v11 - 12);
  if ( (int *)(v11 - 12) != &dword_28898C0 )
    v82 = (unsigned int *)(v11 - 4);
      v83 = __ldrex(v82);
    while ( __strex(v83 - 1, v82) );
    if ( v83 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v13 = *(_DWORD *)(v1 + 19172);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
  j_websocketpp::http::parser::response::~response((websocketpp::http::parser::response *)(v1 + 19096));
  j_websocketpp::http::parser::request::~request((websocketpp::http::parser::request *)(v1 + 19028));
  v18 = *(_DWORD *)(v1 + 19016);
  v19 = *(_DWORD *)(v1 + 19012);
  if ( v19 != v18 )
      v20 = *(_DWORD *)(v19 + 4);
      if ( v20 )
        v21 = (unsigned int *)(v20 + 4);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
        {
          v23 = (unsigned int *)(v20 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 8))(v20);
          __dmb();
          do
            v24 = __ldrex(v23);
          while ( __strex(v24 - 1, v23) );
          if ( v24 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 12))(v20);
        }
      v19 += 8;
    while ( v19 != v18 );
    v19 = *(_DWORD *)(v1 + 19012);
  if ( v19 )
    j_operator delete((void *)v19);
  v25 = *(void **)(v1 + 19000);
  if ( v25 )
    j_operator delete(v25);
  v26 = *(_DWORD *)(v1 + 18984);
  v27 = *(_DWORD *)(v1 + 0x4A20);
  v28 = *(_DWORD *)(v1 + 0x4A30);
  v29 = *(_DWORD *)(v1 + 18988);
  v30 = *(_DWORD *)(v1 + 18980);
  v31 = *(_DWORD *)(v1 + 18972);
  v93 = *(_QWORD *)(v1 + 18964);
  v94 = v31;
  v95 = v27;
  v89 = v30;
  v90 = v26;
  v91 = v29;
  v92 = v28;
  j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_destroy_data_aux(
    v1 + 0x4A0C,
    (int)&v93,
    (int)&v89);
  v32 = *(void **)(v1 + 0x4A0C);
  if ( v32 )
    v33 = *(_DWORD *)(v1 + 0x4A30);
    v34 = *(_DWORD *)(v1 + 0x4A20);
    if ( v34 < v33 + 4 )
      v35 = v34 - 4;
        v36 = *(void **)(v35 + 4);
        v35 += 4;
        j_operator delete(v36);
      while ( v35 < v33 );
      v32 = *(void **)(v1 + 0x4A0C);
    j_operator delete(v32);
  v37 = *(_DWORD *)(v1 + 18952);
  if ( v37 )
    v38 = (unsigned int *)(v37 + 4);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v37 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 8))(v37);
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 12))(v37);
  v42 = *(_DWORD *)(v1 + 18944);
  v43 = (void *)(v42 - 12);
  if ( (int *)(v42 - 12) != &dword_28898C0 )
    v84 = (unsigned int *)(v42 - 4);
      v85 = __ldrex(v84);
    while ( __strex(v85 - 1, v84) );
    if ( v85 <= 0 )
      j_j_j_j__ZdlPv_9(v43);
  v44 = *(_DWORD *)(v1 + 18940);
  if ( v44 )
    v45 = (unsigned int *)(v44 + 4);
      v46 = __ldrex(v45);
    while ( __strex(v46 - 1, v45) );
    if ( v46 == 1 )
      v47 = (unsigned int *)(v44 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
  v49 = *(_DWORD *)(v1 + 18932);
  if ( v49 )
    v50 = (unsigned int *)(v49 + 4);
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 == 1 )
      v52 = (unsigned int *)(v49 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 8))(v49);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 12))(v49);
  v54 = *(_DWORD *)(v1 + 18924);
  if ( v54 )
    v55 = (unsigned int *)(v54 + 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 == 1 )
      v57 = (unsigned int *)(v54 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 8))(v54);
        v58 = __ldrex(v57);
      while ( __strex(v58 - 1, v57) );
      if ( v58 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 12))(v54);
  v59 = *(void (**)(void))(v1 + 18912);
  if ( v59 )
    v59();
  v60 = *(void (__fastcall **)(MinecraftUnitTest::Assert *, const wchar_t *, void *))(v1 + 2476);
  if ( v60 )
    v60((MinecraftUnitTest::Assert *)(v1 + 2468), (const wchar_t *)(v1 + 2468), (void *)3);
  v61 = *(void (__fastcall **)(int *, int *, const wchar_t *))(v1 + 2460);
  if ( v61 )
    v61((int *)(v1 + 2452), (int *)(v1 + 2452), (const wchar_t *)3);
  v62 = *(void (__fastcall **)(int, int))(v1 + 2444);
  if ( v62 )
    v62(v1 + 2436, v1 + 2436);
  v63 = *(void (**)(void))(v1 + 2428);
  if ( v63 )
    v63();
  v64 = *(void (__fastcall **)(CapacitorComponent *))(v1 + 2412);
  if ( v64 )
    v64((CapacitorComponent *)(v1 + 2404));
  v65 = *(void (__fastcall **)(BaseCircuitComponent *))(v1 + 2396);
  if ( v65 )
    v65((BaseCircuitComponent *)(v1 + 2388));
  v66 = *(void (__fastcall **)(int, const BlockPos *, int, int))(v1 + 2380);
  if ( v66 )
    v66(v1 + 2372, (const BlockPos *)(v1 + 2372), 3, (int)v66);
  v67 = *(void (__fastcall **)(int, bool, int))(v1 + 2364);
  if ( v67 )
    v67(v1 + 2356, v1 + 52, 3);
  v68 = *(void (__fastcall **)(int, bool))(v1 + 2348);
  if ( v68 )
    v68(v1 + 2340, v1 + 36);
  v69 = *(void (__fastcall **)(CircuitSystem *, const BlockPos *))(v1 + 2332);
  if ( v69 )
    v69((CircuitSystem *)(v1 + 2324), (const BlockPos *)(v1 + 2324));
  v70 = *(_DWORD *)(v1 + 2320);
  if ( v70 )
    v71 = (unsigned int *)(v70 + 8);
      v72 = __ldrex(v71);
    while ( __strex(v72 - 1, v71) );
    if ( v72 == 1 )
      (*(void (**)(void))(*(_DWORD *)v70 + 12))();
  v73 = *(_DWORD *)(v1 + 2312);
  v74 = (void *)(v73 - 12);
  if ( (int *)(v73 - 12) != &dword_28898C0 )
    v86 = (unsigned int *)(v73 - 4);
      v87 = __ldrex(v86);
    while ( __strex(v87 - 1, v86) );
    if ( v87 <= 0 )
      j_j_j_j__ZdlPv_9(v74);
  v75 = *(void (__fastcall **)(int, CircuitSystem *, signed int, const void **, int *))(v1 + 2304);
  if ( v75 )
    v75(v1 + 2296, (CircuitSystem *)(v1 + 2296), 3, (const void **)v75, v88);
  v76 = *(void (__fastcall **)(int, int))(v1 + 2288);
  if ( v76 )
    v76(v1 + 2280, v1 + 2280);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::~connection(v1);
  return v1;
}


void *__fastcall websocketpp::transport::asio::basic_socket::connection::init_asio(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  char v5; // r0@2
  void *result; // r0@5
  int v7; // r0@6
  int v8; // r1@7
  int v9; // r6@9
  unsigned int *v10; // r0@10
  unsigned int v11; // r1@11
  unsigned int *v12; // r7@13
  unsigned int v13; // r0@14
  int v14; // r6@17
  unsigned int *v15; // r0@18
  unsigned int v16; // r1@19
  unsigned int *v17; // r7@21
  unsigned int v18; // r0@22
  int v19; // [sp+4h] [bp-24h]@6
  int v20; // [sp+8h] [bp-20h]@6
  int v21; // [sp+Ch] [bp-1Ch]@6
  char v22; // [sp+10h] [bp-18h]@6

  v3 = a2;
  v4 = a1;
  if ( *(_DWORD *)(a2 + 16) )
  {
    v5 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance) )
    {
      websocketpp::transport::asio::socket::get_socket_category(void)::instance = &off_276D2A0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance);
    }
    *(_DWORD *)v4 = 3;
    result = &websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  }
  else
    v19 = a3;
    v20 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio19basic_stream_socketINS5_2ip3tcpENS5_21stream_socket_serviceIS8_EEEESaISB_EJSt17reference_wrapperINS5_10io_serviceEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v21,
      0,
      (int)&v22,
      (int **)&v19);
    v7 = v21;
    if ( v21 )
      v8 = (*(int (**)(void))(*(_DWORD *)v21 + 16))();
      v7 = v21;
    else
      v8 = 0;
    v21 = 0;
    *(_DWORD *)(v3 + 8) = v8;
    v9 = *(_DWORD *)(v3 + 12);
    *(_DWORD *)(v3 + 12) = v7;
    if ( v9 )
      v10 = (unsigned int *)(v9 + 4);
      __dmb();
      do
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
      {
        v12 = (unsigned int *)(v9 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
        __dmb();
        do
          v13 = __ldrex(v12);
        while ( __strex(v13 - 1, v12) );
        if ( v13 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
      }
    v14 = v21;
      v15 = (unsigned int *)(v21 + 4);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        v17 = (unsigned int *)(v14 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 8))(v14);
          v18 = __ldrex(v17);
        while ( __strex(v18 - 1, v17) );
        if ( v18 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 12))(v14);
    *(_DWORD *)(v3 + 16) = 1;
    *(_DWORD *)v4 = 0;
    result = (void *)((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


_DWORD *__fastcall websocketpp::http::parser::response::raw(websocketpp::http::parser::response *this, int a2)
{
  int v2; // r6@1
  int *v3; // r9@1
  char *v4; // r4@1
  char *v5; // r4@1
  char *v6; // r0@1
  void *v7; // r0@1
  void *v8; // r0@2
  unsigned int *v10; // r1@4
  signed int v11; // r2@5
  unsigned int *v12; // r1@8
  signed int v13; // r2@9
  int v14; // [sp+0h] [bp-E0h]@1
  void **v15; // [sp+4h] [bp-DCh]@1
  int v16; // [sp+8h] [bp-D8h]@3
  void **v17; // [sp+Ch] [bp-D4h]@1
  void **v18; // [sp+10h] [bp-D0h]@2
  int v19; // [sp+2Ch] [bp-B4h]@3
  int v20; // [sp+34h] [bp-ACh]@2
  void **v21; // [sp+38h] [bp-A8h]@2

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v15, 24);
  v4 = sub_21CBF38((char *)&v17, *(_DWORD *)v2, *(_DWORD *)(*(_DWORD *)v2 - 12));
  sub_21CBF38(v4, (int)" ", 1);
  v5 = (char *)sub_21CC43C(v4, *(_DWORD *)(v2 + 64));
  sub_21CBF38(v5, (int)" ", 1);
  sub_21CBF38(v5, *(_DWORD *)(v2 + 48), *(_DWORD *)(*(_DWORD *)(v2 + 48) - 12));
  sub_21CBF38((char *)&v17, (int)"\r\n", 2);
  j_websocketpp::http::parser::parser::raw_headers((websocketpp::http::parser::parser *)&v14, v2);
  v6 = sub_21CBF38((char *)&v17, v14, *(_DWORD *)(v14 - 12));
  sub_21CBF38(v6, (int)"\r\n", 2);
  v7 = (void *)(v14 - 12);
  if ( (int *)(v14 - 12) != &dword_28898C0 )
  {
    v10 = (unsigned int *)(v14 - 4);
    __dmb();
    do
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  }
  sub_21CBF38((char *)&v17, *(_DWORD *)(v2 + 32), *(_DWORD *)(*(_DWORD *)(v2 + 32) - 12));
  sub_21CFED8(v3, (int)&v18);
  v15 = &off_26D3F94;
  v21 = &off_26D3FBC;
  v17 = &off_26D3FA8;
  v18 = &off_27734E8;
  v8 = (void *)(v20 - 12);
  if ( (int *)(v20 - 12) != &dword_28898C0 )
    v12 = (unsigned int *)(v20 - 4);
      v13 = __ldrex(v12);
    while ( __strex(v13 - 1, v12) );
    if ( v13 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  v18 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v19);
  v15 = &off_276D0DC;
  v21 = &off_276D0F0;
  v16 = 0;
  return sub_21B6560(&v21);
}


void __fastcall websocketpp::processor::error::processor_category::~processor_category(websocketpp::processor::error::processor_category *this)
{
  websocketpp::processor::error::processor_category::~processor_category(this);
}


unsigned int *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_ping(int a1, int a2, int *a3, int a4)
{
  int *v4; // r5@1
  int v5; // r2@1
  unsigned int *v6; // r2@2
  unsigned int v7; // r3@3
  unsigned int *result; // r0@5
  int v9; // r4@5
  unsigned int v10; // r1@7
  unsigned int *v11; // r5@9
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1

  v4 = a3;
  v12 = *(_DWORD *)a4;
  v5 = *(_DWORD *)(a4 + 4);
  v13 = v5;
  if ( v5 )
  {
    v6 = (unsigned int *)(v5 + 4);
    __dmb();
    do
      v7 = __ldrex(v6);
    while ( __strex(v7 + 1, v6) );
  }
  result = (unsigned int *)j_websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::prepare_control(
                             a1,
                             a2,
                             9,
                             v4,
                             &v12);
  v9 = v13;
  if ( v13 )
    result = (unsigned int *)(v13 + 4);
      v10 = __ldrex(result);
    while ( __strex(v10 - 1, result) );
    if ( v10 == 1 )
    {
      v11 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v11);
      while ( __strex((unsigned int)result - 1, v11) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    }
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed])", 20);
  v10 = *(pthread_mutex_t **)(v5 + 104);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


char *__fastcall websocketpp::connection<websocketpp::config::asio_client>::add_subprotocol(int a1, int *a2, int a3)
{
  int v3; // r7@1
  char v4; // r0@2
  signed int v5; // r2@5
  unsigned int v6; // r1@5
  int (__fastcall **v7)(_DWORD); // r0@5
  int v8; // r2@6
  signed int v9; // r3@6
  int v10; // r12@7
  signed int v11; // r3@7
  int v12; // r4@8
  bool v13; // zf@9
  _BYTE *v14; // r3@9
  bool v15; // zf@12
  int v16; // r3@16
  char v17; // r0@27
  char *result; // r0@31
  int v19; // r4@33

  v3 = a3;
  if ( *(_BYTE *)(a1 + 19192) )
  {
    v4 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v4 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v5 = 19;
    v6 = 0x3FFFFD01u;
    v7 = &GLOBAL_OFFSET_TABLE_;
LABEL_31:
    result = (char *)v7[v6];
    *(_DWORD *)v3 = v5;
    *(_DWORD *)(v3 + 4) = result;
    return result;
  }
  v8 = *a2;
  v9 = *(_DWORD *)(*a2 - 12);
  if ( !v9 )
LABEL_27:
    v17 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v17 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    v5 = 14;
    goto LABEL_31;
  v10 = v8 + v9;
  v11 = v9 >> 2;
  if ( v11 >= 1 )
    v12 = v11 + 1;
    do
      v13 = byte_26A94BF[*(_BYTE *)v8] == 0;
      v14 = (_BYTE *)v8;
      if ( byte_26A94BF[*(_BYTE *)v8] )
        v14 = (_BYTE *)(v8 + 1);
        v13 = byte_26A94BF[*(_BYTE *)(v8 + 1)] == 0;
      if ( v13 )
        goto LABEL_26;
      v14 = (_BYTE *)(v8 + 2);
      v15 = byte_26A94BF[*(_BYTE *)(v8 + 2)] == 0;
      if ( byte_26A94BF[*(_BYTE *)(v8 + 2)] )
        v14 = (_BYTE *)(v8 + 3);
        v15 = byte_26A94BF[*(_BYTE *)(v8 + 3)] == 0;
      if ( v15 )
      --v12;
      v8 += 4;
    while ( v12 > 1 );
  v16 = v10 - v8;
  if ( v10 - v8 == 1 )
    v14 = (_BYTE *)v8;
    goto LABEL_25;
  if ( v16 == 2 )
  else
    if ( v16 != 3 )
      goto LABEL_32;
    if ( !byte_26A94BF[*(_BYTE *)v8] )
      goto LABEL_26;
    v14 = (_BYTE *)(v8 + 1);
  if ( byte_26A94BF[*v14] )
    ++v14;
LABEL_25:
    if ( byte_26A94BF[*v14] )
LABEL_26:
  if ( v14 != (_BYTE *)v10 )
    goto LABEL_27;
LABEL_32:
  if ( *(_DWORD *)(a1 + 0x4AF0) == *(_DWORD *)(a1 + 0x4AF4) )
    result = j_j_j__ZNSt6vectorISsSaISsEE19_M_emplace_back_auxIJRKSsEEEvDpOT__6((unsigned __int64 *)(a1 + 19180), a2);
    v19 = a1 + 0x4AF0;
    sub_21E8AF4(*(int **)(a1 + 0x4AF0), a2);
    result = (char *)(*(_DWORD *)v19 + 4);
    *(_DWORD *)v19 = result;
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(int a1, int a2, int a3, int a4)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(
    a1,
    a2,
    a3,
    a4);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_client>::log_close_result(int a1)
{
  int v1; // r5@1
  int v2; // r1@1
  char *v3; // r6@1
  char *v4; // r6@4
  int v5; // r1@4
  char *v6; // r6@4
  char *v7; // r0@7
  char *v8; // r0@7
  char *v9; // r0@8
  pthread_mutex_t *v10; // r5@9
  void *v11; // r0@9
  void *v12; // r0@10
  unsigned int *v14; // r1@12
  signed int v15; // r2@13
  unsigned int *v16; // r1@16
  signed int v17; // r2@17
  unsigned int *v18; // r1@20
  signed int v19; // r2@21
  unsigned int *v20; // r1@24
  signed int v21; // r2@25
  int v22; // [sp+0h] [bp-F0h]@9
  _DWORD *v23; // [sp+8h] [bp-E8h]@5
  _DWORD *v24; // [sp+10h] [bp-E0h]@2
  void **v25; // [sp+14h] [bp-DCh]@1
  int v26; // [sp+18h] [bp-D8h]@11
  void **v27; // [sp+1Ch] [bp-D4h]@1
  void **v28; // [sp+20h] [bp-D0h]@9
  int v29; // [sp+3Ch] [bp-B4h]@11
  int v30; // [sp+44h] [bp-ACh]@10
  void **v31; // [sp+48h] [bp-A8h]@10

  v1 = a1;
  sub_21D103C((int)&v25, 24);
  sub_21CBF38((char *)&v27, (int)"Disconnect ", 11);
  sub_21CBF38((char *)&v27, (int)"close local:[", 13);
  v2 = *(_WORD *)(v1 + 19208);
  v3 = sub_21CC440((char *)&v27);
  if ( sub_21E7D6C((const void **)(v1 + 0x4B0C), (const char *)&unk_257BC67) )
  {
    v24 = &unk_28898CC;
    sub_21E6FCC((const void **)&v24, *(_DWORD *)(*(_DWORD *)(v1 + 0x4B0C) - 12) + 1);
    sub_21E7408((const void **)&v24, ",", 1u);
    sub_21E72F0((const void **)&v24, (const void **)(v1 + 0x4B0C));
  }
  else
    sub_21E94B4((void **)&v24, (const char *)&unk_257BC67);
  v4 = sub_21CBF38(v3, (int)v24, *(v24 - 3));
  sub_21CBF38(v4, (int)"] remote:[", 10);
  v5 = *(_WORD *)(v1 + 19216);
  v6 = sub_21CC440(v4);
  if ( sub_21E7D6C((const void **)(v1 + 0x4B14), (const char *)&unk_257BC67) )
    v23 = &unk_28898CC;
    sub_21E6FCC((const void **)&v23, *(_DWORD *)(*(_DWORD *)(v1 + 0x4B14) - 12) + 1);
    sub_21E7408((const void **)&v23, ",", 1u);
    sub_21E72F0((const void **)&v23, (const void **)(v1 + 0x4B14));
    sub_21E94B4((void **)&v23, (const char *)&unk_257BC67);
  v7 = sub_21CBF38(v6, (int)v23, *(v23 - 3));
  sub_21CBF38(v7, (int)"]", 1);
  v8 = (char *)(v23 - 3);
  if ( v23 - 3 != &dword_28898C0 )
    v14 = v23 - 1;
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  v9 = (char *)(v24 - 3);
  if ( v24 - 3 != &dword_28898C0 )
    v16 = v24 - 1;
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v10 = *(pthread_mutex_t **)(v1 + 19196);
  sub_21CFED8(&v22, (int)&v28);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v10, 2, &v22);
  v11 = (void *)(v22 - 12);
  if ( (int *)(v22 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v22 - 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v25 = &off_26D3F94;
  v31 = &off_26D3FBC;
  v27 = &off_26D3FA8;
  v28 = &off_27734E8;
  v12 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v20 = (unsigned int *)(v30 - 4);
      v21 = __ldrex(v20);
    while ( __strex(v21 - 1, v20) );
    if ( v21 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v28 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v29);
  v25 = &off_276D0DC;
  v31 = &off_276D0F0;
  v26 = 0;
  return sub_21B6560(&v31);
}


void __fastcall websocketpp::processor::hybi08<websocketpp::config::asio_client>::~hybi08(void *ptr)
{
  websocketpp::processor::hybi08<websocketpp::config::asio_client>::~hybi08(ptr);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy_basic_auth(int a1, int *a2, const void **a3, int a4)
{
  int v4; // r5@1
  int v5; // r9@1
  const void **v6; // r6@1
  int *v7; // r0@2
  const void **v8; // r0@2
  const unsigned __int8 *v9; // r7@2
  _DWORD *v10; // r6@2
  int *v11; // r6@2
  unsigned int v12; // t1@2
  const void **v13; // r0@2
  void *v14; // r0@2
  void *v15; // r0@4
  int v16; // r5@5
  int *v17; // r0@5
  void *v18; // r0@5
  int v19; // r0@6
  char *v20; // r0@6
  char v21; // r0@8
  unsigned int *v22; // r1@12
  signed int v23; // r2@13
  unsigned int *v24; // r0@16
  signed int v25; // r1@17
  unsigned int *v26; // r1@20
  signed int v27; // r2@21
  unsigned int *v28; // r1@24
  signed int v29; // r2@25
  unsigned int *v30; // r1@28
  signed int v31; // r2@29
  int v32; // [sp+8h] [bp-30h]@5
  int v33; // [sp+Ch] [bp-2Ch]@2
  int v34; // [sp+10h] [bp-28h]@2
  char *v35; // [sp+14h] [bp-24h]@2

  v4 = a1;
  v5 = a4;
  v6 = a3;
  if ( *(_DWORD *)(a1 + 104) )
  {
    v7 = sub_21E8AF4(&v33, a2);
    sub_21E7408((const void **)v7, ":", 1u);
    v8 = sub_21E72F0((const void **)&v33, v6);
    v9 = (const unsigned __int8 *)*v8;
    v10 = *v8;
    *v8 = &unk_28898CC;
    v12 = *(v10 - 3);
    v11 = v10 - 3;
    j_websocketpp::base64_encode((websocketpp *)&v34, v9, v12);
    v13 = sub_21E82D8((const void **)&v34, 0, (unsigned int)"Basic ", (_BYTE *)6);
    v35 = (char *)*v13;
    *v13 = &unk_28898CC;
    v14 = (void *)(v34 - 12);
    if ( (int *)(v34 - 12) != &dword_28898C0 )
    {
      v22 = (unsigned int *)(v34 - 4);
      __dmb();
      do
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    }
    if ( v11 != &dword_28898C0 )
      v24 = (unsigned int *)(v9 - 4);
        v25 = __ldrex(v24);
      while ( __strex(v25 - 1, v24) );
      if ( v25 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    v15 = (void *)(v33 - 12);
    if ( (int *)(v33 - 12) != &dword_28898C0 )
      v26 = (unsigned int *)(v33 - 4);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    v16 = *(_DWORD *)(v4 + 104);
    sub_21E94B4((void **)&v32, "Proxy-Authorization");
    v17 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v16 + 4,
                   &v32);
    EntityInteraction::setInteractText(v17, (int *)&v35);
    v18 = (void *)(v32 - 12);
    if ( (int *)(v32 - 12) != &dword_28898C0 )
      v28 = (unsigned int *)(v32 - 4);
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    v19 = ((int (*)(void))byte_21E9640)();
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = v19;
    v20 = v35 - 12;
    if ( (int *)(v35 - 12) != &dword_28898C0 )
      v30 = (unsigned int *)(v35 - 4);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
  }
  else
    v21 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 9;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::~hybi13(void *ptr)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::~hybi13(ptr);
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  pthread_mutex_t *v3; // r0@1
  unsigned __int64 *v4; // r5@1
  int v5; // r7@3
  int v6; // r6@6
  unsigned int *v7; // r0@7
  unsigned int v8; // r1@8
  unsigned int *v9; // r7@10
  unsigned int v10; // r0@11
  void *v11; // r0@15
  int v12; // r0@16
  void *result; // r0@17
  char v14; // r0@19
  signed int v15; // r8@25
  int v16; // r5@27
  unsigned int v17; // r0@28
  unsigned int *v18; // r7@28
  unsigned int v19; // r1@29
  int v20; // r9@32
  unsigned int v21; // r0@33
  unsigned int v22; // r0@35
  unsigned int *v23; // r6@37
  unsigned int v24; // r0@38
  unsigned int v25; // r0@42
  unsigned int v26; // r0@44
  unsigned int *v27; // r6@46
  unsigned int v28; // r0@47
  _DWORD *v29; // r0@50
  unsigned int *v30; // r1@53
  signed int v31; // r2@54
  _DWORD *v37; // [sp+4h] [bp-34h]@50
  int (*v38)(void); // [sp+Ch] [bp-2Ch]@50
  int (__fastcall *v39)(int, int); // [sp+10h] [bp-28h]@50
  int v40; // [sp+14h] [bp-24h]@15

  v2 = a1;
  v3 = *(pthread_mutex_t **)(a1 + 19236);
  v4 = a2;
  if ( *((_BYTE *)&v3->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v3,
      1024,
      "connection terminate");
  v5 = *(_DWORD *)(v2 + 18968);
  if ( v5 )
  {
    sub_21B09F0();
    if ( *(_BYTE *)(v5 + 16) )
    {
      j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
        *(_DWORD *)(*(_DWORD *)v5 + 52),
        *(_DWORD *)v5 + 20,
        v5 + 20,
        -1);
      *(_BYTE *)(v5 + 16) = 0;
    }
    *(_DWORD *)(v2 + 18968) = 0;
    v6 = *(_DWORD *)(v2 + 18972);
    *(_DWORD *)(v2 + 18972) = 0;
    if ( v6 )
      v7 = (unsigned int *)(v6 + 4);
      __dmb();
      do
        v8 = __ldrex(v7);
      while ( __strex(v8 - 1, v7) );
      if ( v8 == 1 )
      {
        v9 = (unsigned int *)(v6 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 8))(v6);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 12))(v6);
      }
  }
  if ( *(_DWORD *)v4 )
    *(_QWORD *)(v2 + 19264) = *v4;
    *(_WORD *)(v2 + 19248) = 1006;
    (*(void (__fastcall **)(int *))(*(_DWORD *)(*v4 >> 32) + 12))(&v40);
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19252),
      &v40);
    v11 = (void *)(v40 - 12);
    if ( (int *)(v40 - 12) != &dword_28898C0 )
      v30 = (unsigned int *)(v40 - 4);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
  v12 = *(_DWORD *)(v2 + 2540);
  if ( v12 == 3 )
    result = (void *)j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
                       *(pthread_mutex_t **)(v2 + 19236),
                       1024,
                       "terminate called on connection that was already terminated");
  else
    if ( v12 )
      v15 = 2;
      *(_DWORD *)(v2 + 2540) = 3;
    else
      v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v14 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      if ( *(_UNKNOWN **)(v2 + 19268) != &websocketpp::error::get_category(void)::instance
        || *(_DWORD *)(v2 + 19264) != 21 )
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_fail_result(v2);
      v15 = 1;
    v16 = *(_DWORD *)(v2 + 4);
    if ( !v16 )
LABEL_57:
      j_std::__throw_bad_weak_ptr();
    v17 = *(_DWORD *)(v16 + 4);
    v18 = (unsigned int *)(v16 + 4);
    do
      v19 = v17;
      if ( !v17 )
        goto LABEL_57;
      v17 = __ldrex(v18);
    while ( v17 != v19 || __strex(v19 + 1, v18) );
    __dmb();
    v20 = *(_DWORD *)v2;
      v21 = __ldrex(v18);
    while ( __strex(v21 + 1, v18) );
      v22 = __ldrex(v18);
    while ( __strex(v22 - 1, v18) );
    if ( v22 == 1 )
      v23 = (unsigned int *)(v16 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
        v24 = __ldrex(v23);
      while ( __strex(v24 - 1, v23) );
      if ( v24 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
      v25 = __ldrex(v18);
    while ( __strex(v25 + 1, v18) );
      v26 = __ldrex(v18);
    while ( __strex(v26 - 1, v18) );
    if ( v26 == 1 )
      v27 = (unsigned int *)(v16 + 8);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
    v29 = j_operator new(0x14u);
    *v29 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_terminate;
    v29[1] = 0;
    v29[2] = v15;
    v29[3] = v20;
    v29[4] = v16;
    v37 = v29;
    v38 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(websocketpp::connection<websocketpp::config::asio_tls_client>::terminate_status,std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,websocketpp::connection<websocketpp::config::asio_tls_client>::terminate_status,std::_Placeholder<1>)>>::_M_manager;
    v39 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(websocketpp::connection<websocketpp::config::asio_tls_client>::terminate_status,std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,websocketpp::connection<websocketpp::config::asio_tls_client>::terminate_status,std::_Placeholder<1>)>>::_M_invoke;
    result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_shutdown(
               v2,
               (int)&v37);
    if ( v38 )
      result = (void *)v38();
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_resolve_timeout(int a1, int a2, int a3, signed int *a4)
{
  int v4; // r5@1
  signed int *v5; // r6@1
  int v6; // r4@1
  char v7; // r0@2
  signed int v9; // [sp+0h] [bp-28h]@5
  void *v10; // [sp+4h] [bp-24h]@5
  int v11; // [sp+8h] [bp-20h]@1
  int v12; // [sp+Ch] [bp-1Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v11 = 0;
  v12 = ((int (*)(void))byte_21E9640)();
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 92),
               1024,
               "asio handle_resolve_timeout timer cancelled");
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_resolve_timeout",
      v5);
  }
  else
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v5 = &v9;
    v9 = 9;
    v10 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v11 = *(_QWORD *)v5;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 92),
    1024,
    "DNS resolution timed out");
  j_std::__shared_ptr<void,(__gnu_cxx::_Lock_policy)2>::reset<void,boost::asio::detail::socket_ops::noop_deleter>(
    *(_DWORD *)(v4 + 64) + 4,
    0);
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v11);
}


unsigned int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_payload_bytes(int a1, char *a2, unsigned int a3, int a4)
{
  int v4; // r10@1
  int v5; // r8@1
  unsigned int v6; // r9@1
  unsigned int v7; // r5@2
  unsigned int v8; // r3@2
  unsigned int v9; // r0@2
  char *v10; // r7@3
  unsigned int v11; // r2@3
  unsigned int v12; // r12@5
  unsigned int v13; // r3@7
  char *v14; // r5@7
  char *v15; // r7@7
  char v16; // t1@8
  int v17; // r7@10
  const void **v18; // r7@10
  int v19; // t1@10
  int v20; // r5@10
  int v21; // r4@10
  char *v22; // r0@11
  char *v23; // r5@12
  int v24; // r0@15
  int v25; // r1@16
  int v26; // r3@17
  int v27; // r7@17
  int v28; // r3@18
  char v30; // r0@24
  int v31; // [sp+4h] [bp-24h]@2

  v4 = a1;
  v5 = a4;
  v6 = a3;
  if ( (signed int)*(_BYTE *)(a1 + 13) <= -1 )
  {
    v7 = a3 >> 2;
    v8 = 4 * (a3 >> 2);
    v9 = *(_DWORD *)(*(_DWORD *)(a1 + 72) + 8);
    v31 = *(_DWORD *)(*(_DWORD *)(v4 + 72) + 8);
    if ( a3 >> 2 )
    {
      v10 = a2;
      v11 = a3 >> 2;
      do
      {
        --v11;
        *(_DWORD *)v10 ^= v9;
        v10 += 4;
      }
      while ( v11 );
    }
    v12 = v6 - 4 * v7;
    if ( v8 != v6 )
      a2[v8] ^= v9;
      if ( v12 >= 2 )
        v13 = v6 - 1 - (v6 & 0xFFFFFFFC);
        v14 = (char *)((unsigned int)&v31 | 1);
        v15 = &a2[(v6 & 0xFFFFFFFC) + 1];
        do
        {
          v16 = *v14++;
          --v13;
          *v15 ^= v16;
          ++v15;
        }
        while ( v13 );
    *(_DWORD *)(*(_DWORD *)(v4 + 72) + 8) = (v9 << 8 * (4 - v12)) | (v9 >> 8 * v12);
  }
  v17 = **(_DWORD **)(v4 + 72);
  v19 = *(_DWORD *)(v17 + 16);
  v18 = (const void **)(v17 + 16);
  v20 = *(_DWORD *)(v19 - 12);
  sub_21E7408(v18, a2, v6);
  v21 = *(_DWORD *)(v4 + 72);
  if ( *(_DWORD *)(*(_DWORD *)v21 + 20) != 1 )
    goto LABEL_22;
  v22 = (char *)*v18;
  if ( *((_DWORD *)*v18 - 1) <= -1 )
    v23 = &v22[v20];
  else
    sub_21E8010(v18);
    v22 = (char *)*v18;
    v23 = (char *)*v18 + v20;
    if ( *((_DWORD *)*v18 - 1) >= 0 )
      sub_21E8010(v18);
      v22 = (char *)*v18;
  v24 = (int)&v22[*((_DWORD *)v22 - 3)];
  if ( v23 == (char *)v24 )
LABEL_22:
    *(_DWORD *)(v4 + 24) -= v6;
    v25 = *(_DWORD *)(v21 + 12);
    while ( 1 )
      v26 = (unsigned __int8)*v23;
      v27 = byte_26A8C54[v26];
      v28 = v25 ? v26 & 0x3F | (*(_DWORD *)(v21 + 16) << 6) : v26 & (0xFFu >> v27);
      v25 = *(&byte_26A8C54[16 * v25] + (v27 | 0x100));
      *(_DWORD *)(v21 + 12) = v25;
      *(_DWORD *)(v21 + 16) = v28;
      if ( v25 == 1 )
        break;
      if ( (char *)v24 == ++v23 )
        goto LABEL_22;
    v30 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v30 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    v6 = 0;
    *(_DWORD *)v5 = 16;
    *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return v6;
}


void __fastcall websocketpp::exception::~exception(int a1)
{
  void *v1; // r5@1
  int v2; // r1@1
  void *v3; // r0@1
  unsigned int *v4; // r1@3
  signed int v5; // r2@4

  v1 = (void *)a1;
  *(_DWORD *)a1 = &off_276CEA4;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v4 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v5 = __ldrex(v4);
    while ( __strex(v5 - 1, v4) );
    if ( v5 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  j_std::exception::~exception();
  j_operator delete(v1);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::log_close_result(int a1)
{
  int v1; // r5@1
  int v2; // r1@1
  char *v3; // r6@1
  char *v4; // r6@4
  int v5; // r1@4
  char *v6; // r6@4
  char *v7; // r0@7
  char *v8; // r0@7
  char *v9; // r0@8
  pthread_mutex_t *v10; // r5@9
  void *v11; // r0@9
  void *v12; // r0@10
  unsigned int *v14; // r1@12
  signed int v15; // r2@13
  unsigned int *v16; // r1@16
  signed int v17; // r2@17
  unsigned int *v18; // r1@20
  signed int v19; // r2@21
  unsigned int *v20; // r1@24
  signed int v21; // r2@25
  int v22; // [sp+0h] [bp-F0h]@9
  _DWORD *v23; // [sp+8h] [bp-E8h]@5
  _DWORD *v24; // [sp+10h] [bp-E0h]@2
  void **v25; // [sp+14h] [bp-DCh]@1
  int v26; // [sp+18h] [bp-D8h]@11
  void **v27; // [sp+1Ch] [bp-D4h]@1
  void **v28; // [sp+20h] [bp-D0h]@9
  int v29; // [sp+3Ch] [bp-B4h]@11
  int v30; // [sp+44h] [bp-ACh]@10
  void **v31; // [sp+48h] [bp-A8h]@10

  v1 = a1;
  sub_21D103C((int)&v25, 24);
  sub_21CBF38((char *)&v27, (int)"Disconnect ", 11);
  sub_21CBF38((char *)&v27, (int)"close local:[", 13);
  v2 = *(_WORD *)(v1 + 19248);
  v3 = sub_21CC440((char *)&v27);
  if ( sub_21E7D6C((const void **)(v1 + 0x4B34), (const char *)&unk_257BC67) )
  {
    v24 = &unk_28898CC;
    sub_21E6FCC((const void **)&v24, *(_DWORD *)(*(_DWORD *)(v1 + 0x4B34) - 12) + 1);
    sub_21E7408((const void **)&v24, ",", 1u);
    sub_21E72F0((const void **)&v24, (const void **)(v1 + 0x4B34));
  }
  else
    sub_21E94B4((void **)&v24, (const char *)&unk_257BC67);
  v4 = sub_21CBF38(v3, (int)v24, *(v24 - 3));
  sub_21CBF38(v4, (int)"] remote:[", 10);
  v5 = *(_WORD *)(v1 + 19256);
  v6 = sub_21CC440(v4);
  if ( sub_21E7D6C((const void **)(v1 + 0x4B3C), (const char *)&unk_257BC67) )
    v23 = &unk_28898CC;
    sub_21E6FCC((const void **)&v23, *(_DWORD *)(*(_DWORD *)(v1 + 0x4B3C) - 12) + 1);
    sub_21E7408((const void **)&v23, ",", 1u);
    sub_21E72F0((const void **)&v23, (const void **)(v1 + 0x4B3C));
    sub_21E94B4((void **)&v23, (const char *)&unk_257BC67);
  v7 = sub_21CBF38(v6, (int)v23, *(v23 - 3));
  sub_21CBF38(v7, (int)"]", 1);
  v8 = (char *)(v23 - 3);
  if ( v23 - 3 != &dword_28898C0 )
    v14 = v23 - 1;
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  v9 = (char *)(v24 - 3);
  if ( v24 - 3 != &dword_28898C0 )
    v16 = v24 - 1;
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v10 = *(pthread_mutex_t **)(v1 + 19236);
  sub_21CFED8(&v22, (int)&v28);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v10, 2, &v22);
  v11 = (void *)(v22 - 12);
  if ( (int *)(v22 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v22 - 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v25 = &off_26D3F94;
  v31 = &off_26D3FBC;
  v27 = &off_26D3FA8;
  v28 = &off_27734E8;
  v12 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v20 = (unsigned int *)(v30 - 4);
      v21 = __ldrex(v20);
    while ( __strex(v21 - 1, v20) );
    if ( v21 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v28 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v29);
  v25 = &off_276D0DC;
  v31 = &off_276D0F0;
  v26 = 0;
  return sub_21B6560(&v31);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_timer(int a1, int a2, int a3, _DWORD *a4)
{
  int v4; // r4@1
  int (__fastcall *v5)(int, int *); // r2@3
  int *v6; // r1@3
  char v7; // r0@5
  char v8; // r0@10
  int v10; // [sp+0h] [bp-28h]@2
  int v11; // [sp+4h] [bp-24h]@2
  int v12; // [sp+8h] [bp-20h]@13
  void *v13; // [sp+Ch] [bp-1Ch]@13
  int v14; // [sp+10h] [bp-18h]@8
  void *v15; // [sp+14h] [bp-14h]@8

  v4 = a3;
  if ( *a4 )
  {
    if ( *a4 == 125 )
    {
      v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v7 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v14 = 5;
      v15 = &websocketpp::transport::error::get_category(void)::instance;
      if ( *(_DWORD *)(v4 + 8) )
        v5 = *(int (__fastcall **)(int, int *))(v4 + 12);
        v6 = &v14;
        return v5(v4, v6);
    }
    else
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
        a1,
        4,
        "asio handle_timer",
        a4);
      v8 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v8 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
      v12 = 3;
      v13 = &websocketpp::transport::asio::error::get_category(void)::instance;
        v6 = &v12;
LABEL_16:
    sub_21E5F48();
  }
  v10 = 0;
  v11 = ((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( !*(_DWORD *)(v4 + 8) )
    goto LABEL_16;
  v5 = *(int (__fastcall **)(int, int *))(v4 + 12);
  v6 = &v10;
  return v5(v4, v6);
}


int *__fastcall websocketpp::http::parser::request::set_method(int a1, int *a2)
{
  int v2; // r6@1
  signed int v3; // r3@1
  int v4; // r12@1
  signed int v5; // r3@1
  int v6; // r5@2
  bool v7; // zf@3
  _BYTE *v8; // r3@3
  bool v9; // zf@6
  int v10; // r3@10
  char *v11; // r4@21
  int *v12; // r0@21
  int v13; // r3@21
  int v15; // [sp+Ch] [bp-2Ch]@21
  int v16; // [sp+14h] [bp-24h]@21
  int v17; // [sp+1Ch] [bp-1Ch]@21

  v2 = *a2;
  v3 = *(_DWORD *)(*a2 - 12);
  v4 = *a2 + v3;
  v5 = v3 >> 2;
  if ( v5 >= 1 )
  {
    v6 = v5 + 1;
    do
    {
      v7 = byte_26A94BF[*(_BYTE *)v2] == 0;
      v8 = (_BYTE *)v2;
      if ( byte_26A94BF[*(_BYTE *)v2] )
      {
        v8 = (_BYTE *)(v2 + 1);
        v7 = byte_26A94BF[*(_BYTE *)(v2 + 1)] == 0;
      }
      if ( v7 )
        goto LABEL_20;
      v8 = (_BYTE *)(v2 + 2);
      v9 = byte_26A94BF[*(_BYTE *)(v2 + 2)] == 0;
      if ( byte_26A94BF[*(_BYTE *)(v2 + 2)] )
        v8 = (_BYTE *)(v2 + 3);
        v9 = byte_26A94BF[*(_BYTE *)(v2 + 3)] == 0;
      if ( v9 )
      --v6;
      v2 += 4;
    }
    while ( v6 > 1 );
  }
  v10 = v4 - v2;
  if ( v4 - v2 == 1 )
    v8 = (_BYTE *)v2;
    goto LABEL_19;
  if ( v10 == 2 )
  else
    if ( v10 != 3 )
      return EntityInteraction::setInteractText((int *)(a1 + 56), a2);
    if ( !byte_26A94BF[*(_BYTE *)v2] )
      goto LABEL_20;
    v8 = (_BYTE *)(v2 + 1);
  if ( byte_26A94BF[*v8] )
    ++v8;
LABEL_19:
    if ( byte_26A94BF[*v8] )
LABEL_20:
  if ( v8 != (_BYTE *)v4 )
    v11 = j_j___cxa_allocate_exception_0(20);
    sub_21E94B4((void **)&v17, "Invalid method token.");
    sub_21E94B4((void **)&v16, (const char *)&unk_257BC67);
    v12 = (int *)sub_21E94B4((void **)&v15, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v11, &v17, 400, &v16, v12);
    j_j___cxa_throw_0(
      (int)v11,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v13);
  return EntityInteraction::setInteractText((int *)(a1 + 56), a2);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_extended_header(int a1, int a2, unsigned int a3, unsigned int a4, unsigned int a5))(_DWORD)
{
  return websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_extended_header(
           a1,
           a2,
           a3,
           a4,
           a5);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::~hybi13(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = ptr;
  *(_DWORD *)ptr = &off_276DB80;
  v2 = *((_DWORD *)ptr + 14);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[9];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v1[5];
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  j_j_j__ZdlPv_8(v1);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_shutdown_timeout(int a1, int a2, int a3, signed int *a4)
{
  int v4; // r5@1
  signed int *v5; // r6@1
  int v6; // r4@1
  char v7; // r0@2
  int v9; // r5@9
  void *v10; // r0@12
  signed int v11; // [sp+0h] [bp-30h]@5
  void *v12; // [sp+4h] [bp-2Ch]@5
  int v13; // [sp+8h] [bp-28h]@1
  int v14; // [sp+Ch] [bp-24h]@1
  int v15; // [sp+10h] [bp-20h]@9
  void *v16; // [sp+14h] [bp-1Ch]@9

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v13 = 0;
  v14 = ((int (*)(void))byte_21E9640)();
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 92),
               1024,
               "asio socket shutdown timer cancelled");
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_async_shutdown_timeout",
      v5);
  }
  else
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v5 = &v11;
    v11 = 9;
    v12 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v13 = *(_QWORD *)v5;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 92),
    1024,
    "Asio transport socket shutdown timed out");
  v9 = *(_DWORD *)(v4 + 28);
  v15 = 0;
  v16 = sub_21B09F0();
  if ( *(_DWORD *)v9 == -1 )
    v10 = sub_21B09F0();
    v15 = 9;
    v16 = v10;
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v15, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v9 + 16) + 20),
    *(_DWORD *)v9,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v9 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v13);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_write(int a1)
{
  int v1; // r4@1
  pthread_mutex_t *v2; // r0@1
  int v3; // r5@3
  void *v4; // r0@4
  __int64 v5; // r0@5
  __int64 v6; // r0@5
  char v7; // r0@7
  __int64 v8; // r0@12
  int v9; // r7@13
  int v10; // r10@14
  unsigned int *v11; // r5@14
  int v12; // r11@14
  unsigned int v13; // r0@14
  unsigned int v14; // r1@15
  int v15; // r8@18
  unsigned int v16; // r0@19
  unsigned int v17; // r0@21
  unsigned int *v18; // r6@23
  unsigned int v19; // r0@24
  int v20; // r6@27
  void (__fastcall *v21)(int *, int, signed int); // r3@27
  _QWORD *v22; // r0@29
  int v23; // r1@29
  __int64 v24; // r0@29
  int v25; // r5@29
  unsigned int *v26; // r0@30
  unsigned int v27; // r1@31
  unsigned int *v28; // r6@33
  unsigned int v29; // r0@34
  int v30; // r5@37
  unsigned int *v31; // r0@38
  unsigned int v32; // r1@39
  unsigned int *v33; // r6@41
  unsigned int v34; // r0@42
  int v35; // r5@47
  unsigned int *v36; // r0@48
  unsigned int v37; // r1@49
  unsigned int *v38; // r6@51
  unsigned int v39; // r0@52
  int v40; // r7@57
  int v41; // r10@58
  unsigned int *v42; // r5@58
  __int64 *v43; // r11@58
  unsigned int v44; // r0@58
  unsigned int v45; // r1@59
  int v46; // r8@62
  unsigned int v47; // r0@63
  unsigned int v48; // r0@65
  unsigned int *v49; // r6@67
  unsigned int v50; // r0@68
  void (__fastcall *v51)(int *, int, signed int); // r3@71
  int v52; // r0@72
  void (*v53)(void); // r1@72
  __int64 v54; // r2@72
  __int64 v55; // kr00_8@74
  __int64 v56; // r2@74
  int v57; // r1@74
  int v58; // r4@74
  unsigned int *v59; // r0@75
  unsigned int v60; // r1@76
  unsigned int *v61; // r5@78
  unsigned int v62; // r0@79
  int v63; // r4@84
  unsigned int *v64; // r0@85
  unsigned int v65; // r1@86
  unsigned int *v66; // r5@88
  unsigned int v67; // r0@89
  unsigned int *v68; // r1@95
  signed int v69; // r2@96
  int v75; // [sp+4h] [bp-C4h]@27
  __int64 v76; // [sp+8h] [bp-C0h]@71
  int v77; // [sp+10h] [bp-B8h]@72
  int v78; // [sp+14h] [bp-B4h]@74
  void (*v79)(void); // [sp+18h] [bp-B0h]@71
  int v80; // [sp+1Ch] [bp-ACh]@72
  int v81; // [sp+20h] [bp-A8h]@74
  int v82; // [sp+24h] [bp-A4h]@74
  int v83; // [sp+28h] [bp-A0h]@74
  int v84; // [sp+2Ch] [bp-9Ch]@74
  __int64 v85; // [sp+30h] [bp-98h]@74
  int v86; // [sp+38h] [bp-90h]@74
  int v87; // [sp+3Ch] [bp-8Ch]@74
  void (*v88)(void); // [sp+40h] [bp-88h]@74
  int v89; // [sp+44h] [bp-84h]@74
  int v90; // [sp+48h] [bp-80h]@74
  int v91; // [sp+4Ch] [bp-7Ch]@74
  RakNet *(__fastcall *v92)(int, int, _DWORD *); // [sp+50h] [bp-78h]@27
  int v93; // [sp+54h] [bp-74h]@27
  int v94; // [sp+58h] [bp-70h]@28
  void (__fastcall *v95)(int *); // [sp+60h] [bp-68h]@27
  int v96; // [sp+64h] [bp-64h]@28
  int v97; // [sp+68h] [bp-60h]@29
  int v98; // [sp+6Ch] [bp-5Ch]@29
  _QWORD *v99; // [sp+70h] [bp-58h]@29
  void (__fastcall *v100)(_DWORD); // [sp+78h] [bp-50h]@29
  int (__fastcall *v101)(unsigned __int64 **, int); // [sp+7Ch] [bp-4Ch]@29
  char v102; // [sp+80h] [bp-48h]@29
  int v103; // [sp+84h] [bp-44h]@29
  __int64 v104; // [sp+88h] [bp-40h]@5
  int v105; // [sp+94h] [bp-34h]@4
  int v106; // [sp+98h] [bp-30h]@10
  void *v107; // [sp+9Ch] [bp-2Ch]@10

  v1 = a1;
  v2 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v2->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v2,
      1024,
      "asio connection proxy_write");
  v3 = *(_DWORD *)(v1 + 104);
  if ( v3 )
  {
    j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v105, *(_DWORD *)(v1 + 104));
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v3 + 140),
      &v105);
    v4 = (void *)(v105 - 12);
    if ( (int *)(v105 - 12) != &dword_28898C0 )
    {
      v68 = (unsigned int *)(v105 - 4);
      __dmb();
      do
        v69 = __ldrex(v68);
      while ( __strex(v69 - 1, v68) );
      if ( v69 <= 0 )
        j_j_j_j__ZdlPv_9(v4);
    }
    LODWORD(v5) = *(_DWORD *)(*(_DWORD *)(v1 + 104) + 140);
    HIDWORD(v5) = *(_DWORD *)(v5 - 12);
    v104 = v5;
    v6 = *(_QWORD *)(v1 + 136);
    if ( (_DWORD)v6 == HIDWORD(v6) )
      HIDWORD(v8) = &v104;
      LODWORD(v8) = v1 + 132;
      j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v8);
    else
      *(_QWORD *)v6 = v104;
      *(_DWORD *)(v1 + 136) += 8;
      *(pthread_mutex_t **)(v1 + 92),
      (int *)(*(_DWORD *)(v1 + 104) + 140));
    v9 = *(_DWORD *)(v1 + 4);
    if ( !v9 )
LABEL_99:
      j_std::__throw_bad_weak_ptr();
    v10 = *(_DWORD *)(v1 + 104);
    v11 = (unsigned int *)(v9 + 4);
    v12 = *(_DWORD *)(v10 + 192);
    v13 = *(_DWORD *)(v9 + 4);
    do
      v14 = v13;
      if ( !v13 )
        goto LABEL_99;
      v13 = __ldrex(v11);
    while ( v13 != v14 || __strex(v14 + 1, v11) );
    __dmb();
    v15 = *(_DWORD *)v1;
      v16 = __ldrex(v11);
    while ( __strex(v16 + 1, v11) );
      v17 = __ldrex(v11);
    while ( __strex(v17 - 1, v11) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    v20 = 0;
    v92 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_timeout;
    v93 = 0;
    v95 = 0;
    v21 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2280);
    v75 = v1 + 2272;
    if ( v21 )
      v21(&v94, v75, 2);
      v96 = *(_DWORD *)(v1 + 2284);
      v20 = *(_DWORD *)(v1 + 2280);
      v95 = *(void (__fastcall **)(int *))(v1 + 2280);
    v97 = v15;
    v98 = v9;
    v100 = 0;
    v22 = j_operator new(0x20u);
    *v22 = *(_QWORD *)&v92;
    v22[1] = *(_QWORD *)&v94;
    v23 = v96;
    *((_DWORD *)v22 + 4) = v20;
    *((_DWORD *)v22 + 5) = v23;
    *((_DWORD *)v22 + 6) = v15;
    v98 = 0;
    *((_DWORD *)v22 + 7) = v9;
    v97 = 0;
    v99 = v22;
    v100 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
    v101 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
      (int)&v102,
      v1,
      v12,
      (int)&v99);
    v24 = *(_QWORD *)&v102;
    *(_DWORD *)&v102 = 0;
    v103 = 0;
    *(_DWORD *)(v10 + 196) = v24;
    v25 = *(_DWORD *)(v10 + 200);
    *(_DWORD *)(v10 + 200) = HIDWORD(v24);
    if ( v25 )
      v26 = (unsigned int *)(v25 + 4);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 == 1 )
      {
        v28 = (unsigned int *)(v25 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
        __dmb();
        do
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
      }
    v30 = v103;
    if ( v103 )
      v31 = (unsigned int *)(v103 + 4);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        v33 = (unsigned int *)(v30 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v30 + 8))(v30);
          v34 = __ldrex(v33);
        while ( __strex(v34 - 1, v33) );
        if ( v34 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v30 + 12))(v30);
    if ( v100 )
      v100(&v99);
    v35 = v98;
    if ( v98 )
      v36 = (unsigned int *)(v98 + 4);
        v37 = __ldrex(v36);
      while ( __strex(v37 - 1, v36) );
      if ( v37 == 1 )
        v38 = (unsigned int *)(v35 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 8))(v35);
          v39 = __ldrex(v38);
        while ( __strex(v39 - 1, v38) );
        if ( v39 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 12))(v35);
    if ( v95 )
      v95(&v94);
    v40 = *(_DWORD *)(v1 + 4);
    if ( !v40 )
LABEL_100:
    v41 = *(_DWORD *)(v1 + 28);
    v42 = (unsigned int *)(v40 + 4);
    v43 = *(__int64 **)(v1 + 116);
    v44 = *(_DWORD *)(v40 + 4);
      v45 = v44;
      if ( !v44 )
        goto LABEL_100;
      v44 = __ldrex(v42);
    while ( v44 != v45 || __strex(v45 + 1, v42) );
    v46 = *(_DWORD *)v1;
      v47 = __ldrex(v42);
    while ( __strex(v47 + 1, v42) );
      v48 = __ldrex(v42);
    while ( __strex(v48 - 1, v42) );
    if ( v48 == 1 )
      v49 = (unsigned int *)(v40 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        v50 = __ldrex(v49);
      while ( __strex(v50 - 1, v49) );
      if ( v50 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 12))(v40);
    LODWORD(v76) = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_write;
    HIDWORD(v76) = 0;
    v79 = 0;
    v51 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2280);
    if ( v51 )
      v51(&v77, v75, 2);
      v52 = *(_DWORD *)(v1 + 2284);
      v80 = *(_DWORD *)(v1 + 2284);
      v53 = *(void (**)(void))(v1 + 2280);
      v79 = *(void (**)(void))(v1 + 2280);
      v54 = v76;
      HIDWORD(v54) = 0;
      v52 = v80;
      LODWORD(v54) = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_write;
      v53 = 0;
    v81 = v46;
    v82 = v40;
    v55 = *v43;
    v83 = *v43;
    v84 = HIDWORD(v55);
    v85 = v54;
    v56 = *(_QWORD *)&v77;
    v77 = v86;
    v78 = v87;
    *(_QWORD *)&v86 = v56;
    v88 = v53;
    v57 = v89;
    v89 = v52;
    v90 = v46;
    v82 = 0;
    v91 = v40;
    *(_QWORD *)&v80 = (unsigned int)v57;
    j_boost::asio::async_write<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
      v41,
      (_QWORD *)(v1 + 132),
      (int)&v83);
    v58 = v91;
    if ( v91 )
      v59 = (unsigned int *)(v91 + 4);
        v60 = __ldrex(v59);
      while ( __strex(v60 - 1, v59) );
      if ( v60 == 1 )
        v61 = (unsigned int *)(v58 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 8))(v58);
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 12))(v58);
    if ( v88 )
      v88();
    v63 = v82;
    if ( v82 )
      v64 = (unsigned int *)(v82 + 4);
        v65 = __ldrex(v64);
      while ( __strex(v65 - 1, v64) );
      if ( v65 == 1 )
        v66 = (unsigned int *)(v63 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 8))(v63);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        if ( v67 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 12))(v63);
    if ( v79 )
      v79();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v1 + 96),
      2,
      "assertion failed: !m_proxy_data in asio::connection::proxy_write");
    v7 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v106 = 1;
    v107 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v1 + 2280) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v1 + 2284))(v1 + 2272, &v106);
}


int __fastcall websocketpp::transport::asio::tls_socket::connection::handle_init(int a1, int a2, _DWORD *a3)
{
  int v3; // r5@1
  int v4; // r4@1
  char v5; // r0@2
  void *v6; // r0@5

  v3 = a1;
  v4 = a2;
  if ( *a3 )
  {
    v5 = `guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance;
    __dmb();
    if ( !(v5 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance) )
    {
      websocketpp::transport::asio::socket::get_socket_category(void)::instance = &off_276D2A0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::socket::get_socket_category(void)::instance);
    }
    *(_DWORD *)(v3 + 40) = 8;
    v6 = &websocketpp::transport::asio::socket::get_socket_category(void)::instance;
  }
  else
    v6 = (void *)((int (*)(void))byte_21E9640)();
    *(_DWORD *)(v3 + 40) = 0;
  *(_DWORD *)(v3 + 44) = v6;
  if ( !*(_DWORD *)(v4 + 8) )
    sub_21E5F48();
  return (*(int (__fastcall **)(int, int))(v4 + 12))(v4, v3 + 40);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_shutdown_timeout(int a1, int a2, int a3, signed int *a4)
{
  int v4; // r5@1
  signed int *v5; // r6@1
  int v6; // r4@1
  char v7; // r0@2
  int v9; // r5@9
  void *v10; // r0@12
  signed int v11; // [sp+0h] [bp-30h]@5
  void *v12; // [sp+4h] [bp-2Ch]@5
  int v13; // [sp+8h] [bp-28h]@1
  int v14; // [sp+Ch] [bp-24h]@1
  int v15; // [sp+10h] [bp-20h]@9
  void *v16; // [sp+14h] [bp-1Ch]@9

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v13 = 0;
  v14 = ((int (*)(void))byte_21E9640)();
  if ( *v5 )
  {
    if ( *v5 == 5 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 48),
               1024,
               "asio socket shutdown timer cancelled");
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<std::error_code>(
      v4,
      1,
      "asio handle_async_shutdown_timeout",
      v5);
  }
  else
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v5 = &v11;
    v11 = 9;
    v12 = &websocketpp::transport::error::get_category(void)::instance;
  *(_QWORD *)&v13 = *(_QWORD *)v5;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(v4 + 48),
    1024,
    "Asio transport socket shutdown timed out");
  v9 = *(_DWORD *)(v4 + 8);
  v15 = 0;
  v16 = sub_21B09F0();
  if ( *(_DWORD *)v9 == -1 )
    v10 = sub_21B09F0();
    v15 = 9;
    v16 = v10;
    j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v15, "cancel");
  j_boost::asio::detail::epoll_reactor::cancel_ops(
    *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v9 + 16) + 20),
    *(_DWORD *)v9,
    (boost::asio::detail::epoll_reactor::descriptor_state **)(v9 + 8));
  sub_21B09F0();
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, int *))(v6 + 12))(v6, &v13);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_proxy_timeout(int a1, int a2, _DWORD *a3)
{
  _DWORD *v3; // r6@1
  int v4; // r5@1
  int v5; // r4@1
  int v6; // r5@2
  char v7; // r0@3
  RakNet *result; // r0@7
  signed int v9; // [sp+0h] [bp-20h]@6
  void *v10; // [sp+4h] [bp-1Ch]@6
  int v11; // [sp+8h] [bp-18h]@2
  void *v12; // [sp+Ch] [bp-14h]@2

  v3 = a3;
  v4 = a1;
  v5 = a2;
  if ( *a3 )
  {
    if ( *a3 == 5 )
    {
      result = j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                 *(pthread_mutex_t **)(a1 + 92),
                 1024,
                 "asio handle_proxy_write timer cancelled");
    }
    else
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
        a1,
        1,
        "asio handle_proxy_write",
        a3);
      if ( !*(_DWORD *)(v5 + 8) )
        sub_21E5F48();
      result = (RakNet *)(*(int (__fastcall **)(int, _DWORD *))(v5 + 12))(v5, v3);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 92),
      1024,
      "asio handle_proxy_write timer expired");
    v6 = *(_DWORD *)(v4 + 28);
    v11 = 0;
    v12 = sub_21B09F0();
    if ( *(_DWORD *)v6 == -1 )
      v11 = 9;
      v12 = sub_21B09F0();
      j_boost::asio::detail::do_throw_error((unsigned __int64 *)&v11, "cancel");
    j_boost::asio::detail::epoll_reactor::cancel_ops(
      *(boost::asio::detail::epoll_reactor **)(*(_DWORD *)(v6 + 16) + 20),
      *(_DWORD *)v6,
      (boost::asio::detail::epoll_reactor::descriptor_state **)(v6 + 8));
    sub_21B09F0();
    v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v9 = 9;
    v10 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v5 + 8) )
      sub_21E5F48();
    result = (RakNet *)(*(int (__fastcall **)(int, signed int *))(v5 + 12))(v5, &v9);
  return result;
}


void *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_init(int a1, int a2, int *a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_init(
           a1,
           a2,
           a3);
}


unsigned int *__fastcall websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(int a1, int a2, int a3, int a4)
{
  int v4; // r4@1
  int v5; // r0@1
  unsigned int v6; // r2@2
  unsigned int *v7; // r0@2
  unsigned int v8; // r3@3
  int v9; // r0@6
  unsigned int *result; // r0@7
  int v11; // r4@9
  unsigned int v12; // r1@11
  unsigned int *v13; // r5@13
  int v21; // [sp+Ch] [bp-24h]@6
  int v22; // [sp+10h] [bp-20h]@1
  int v23; // [sp+14h] [bp-1Ch]@1
  int v24; // [sp+18h] [bp-18h]@1
  char v25; // [sp+1Ch] [bp-14h]@6

  v23 = a4;
  v24 = a3;
  v4 = a1;
  v5 = *(_DWORD *)(a2 + 4);
  v22 = v5;
  if ( !v5 )
LABEL_18:
    j_std::__throw_bad_weak_ptr();
  v6 = *(_DWORD *)(v5 + 4);
  v7 = (unsigned int *)(v5 + 4);
  do
  {
    v8 = v6;
    if ( !v6 )
      goto LABEL_18;
    __dmb();
    v6 = __ldrex(v7);
  }
  while ( v6 != v8 || __strex(v8 + 1, v7) );
  __dmb();
  v21 = *(_DWORD *)a2;
  *(_DWORD *)v4 = 0;
  v9 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp14message_buffer7messageINS5_5alloc15con_msg_managerEEESaIS9_EJSt10shared_ptrINS8_IS9_EEERNS4_5frame6opcode5valueERjEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
          (_DWORD *)(v4 + 4),
          0,
          (int)&v25,
          (int)&v21,
          &v24,
          (unsigned int *)&v23);
  if ( v9 )
    result = (unsigned int *)(*(int (**)(void))(*(_DWORD *)v9 + 16))();
  else
    result = 0;
  *(_DWORD *)v4 = result;
  v11 = v22;
  if ( v22 )
    result = (unsigned int *)(v22 + 4);
    do
      v12 = __ldrex(result);
    while ( __strex(v12 - 1, result) );
    if ( v12 == 1 )
    {
      v13 = (unsigned int *)(v11 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v13);
      while ( __strex((unsigned int)result - 1, v13) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
    }
  return result;
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::prepare_control(int a1, int a2, signed int a3, int *a4, _DWORD *a5)
{
  int v5; // r10@1
  unsigned int v6; // r11@1
  int *v7; // r9@1
  _DWORD *v8; // r4@1
  int v9; // r7@1
  int v10; // r0@1
  size_t v11; // r1@3
  char v12; // r0@4
  signed int v13; // r2@7
  unsigned int v14; // r1@7
  int (__fastcall **v15)(_DWORD); // r0@7
  char v16; // r0@8
  char v17; // r0@12
  int v18; // r0@16
  int result; // r0@17
  int v20; // r6@19
  char v21; // r3@19
  signed int v22; // r8@21
  unsigned int v23; // r0@22
  signed int v24; // r2@24
  unsigned int v25; // r1@28
  int v26; // r5@34
  void *v27; // r0@34
  int v28; // r5@35
  const void *v29; // r0@35
  int v30; // r6@35
  int v31; // r7@39
  unsigned int v32; // r0@39
  signed int v33; // r2@41
  unsigned int v34; // r1@45
  int v35; // r5@51
  void *v36; // r0@51
  int v37; // r6@52
  _BYTE *v38; // r5@52
  unsigned int v39; // r1@52
  unsigned int v40; // r12@52
  int *v41; // r0@53
  _DWORD *v42; // r2@53
  unsigned int v43; // r3@53
  int v44; // t1@54
  int v45; // r0@55
  unsigned int *v46; // r1@59
  signed int v47; // r2@60
  unsigned int *v48; // r1@63
  signed int v49; // r2@64
  const void **v50; // [sp+0h] [bp-60h]@21
  int v51; // [sp+4h] [bp-5Ch]@34
  int v52; // [sp+8h] [bp-58h]@51
  char v53; // [sp+Ch] [bp-54h]@19
  char v54; // [sp+Dh] [bp-53h]@19
  unsigned int v55; // [sp+10h] [bp-50h]@30
  unsigned int v56; // [sp+14h] [bp-4Ch]@32
  int v57; // [sp+18h] [bp-48h]@22
  int v58; // [sp+1Ch] [bp-44h]@22
  int v59; // [sp+20h] [bp-40h]@22
  int v60; // [sp+28h] [bp-38h]@39
  int v61; // [sp+2Ch] [bp-34h]@39
  int v62; // [sp+30h] [bp-30h]@39
  RakNet *v63; // [sp+38h] [bp-28h]@1

  v5 = a1;
  v6 = 0xFFFF46E4;
  v7 = a4;
  v8 = a5;
  v9 = a2;
  v63 = _stack_chk_guard;
  v10 = *a5;
  if ( !*a5 )
  {
    v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v16 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    {
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    }
    v13 = 6;
    v14 = 0x3FFFFD21u;
    v15 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_16;
  }
  if ( a3 <= 7 )
    v17 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v17 & 1)
    v13 = 7;
  v11 = *(_DWORD *)(*a4 - 12);
  if ( v11 >= 0x7E )
    v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    if ( !(v12 & 1)
    v13 = 8;
LABEL_16:
    v18 = (int)v15[v14];
    *(_DWORD *)v5 = v13;
    goto LABEL_17;
  v20 = *(_BYTE *)(v9 + 5);
  v21 = 0;
  v54 = 0;
  v53 = a3 & 0xF | 0x80;
  if ( !v20 )
    v21 = -128;
    v54 = -128;
  v50 = (const void **)(v10 + 16);
  v54 = v21 | v11;
  v22 = 0;
  sub_21E849C((char *)(v10 + 16), v11, 0);
  if ( v20 )
    v23 = *(_DWORD *)(*v7 - 12);
    v59 = 0;
    v57 = 0;
    v58 = 0;
    if ( v23 < 0x10000 )
      v22 = 6;
    v24 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v23 < 0x7E )
      v22 = 8;
    if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
      v24 = 1;
      websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
    v25 = __rev(v23);
    if ( v24 != 2 )
      v23 = 0;
    v55 = v23;
    if ( v24 == 2 )
      v25 = 0;
    v56 = v25;
    if ( v22 != 8 )
      j___aeabi_memcpy_1((int)&v57, (int)&v55 + v22, 8 - v22);
    v26 = *a5;
    j_websocketpp::frame::prepare_header((const void **)&v51, &v53, (char *)&v57);
    EntityInteraction::setInteractText((int *)(v26 + 8), &v51);
    v27 = (void *)(v51 - 12);
    if ( (int *)(v51 - 12) != &dword_28898C0 )
      v46 = (unsigned int *)(v51 - 4);
      __dmb();
      do
        v47 = __ldrex(v46);
      while ( __strex(v47 - 1, v46) );
      if ( v47 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
    v28 = *v7;
    v29 = *v50;
    v30 = *(_DWORD *)(*v7 - 12);
    if ( *((_DWORD *)*v50 - 1) > -1 )
      sub_21E8010(v50);
      v29 = *v50;
    if ( v30 )
      j___aeabi_memmove_1((int)v29, v28);
  else
    v31 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v9 + 88));
    v32 = *(_DWORD *)(*v7 - 12);
    v62 = 0;
    v60 = 0;
    v61 = 0;
    if ( v32 < 0x10000 )
    v33 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
    if ( v32 < 0x7E )
      v33 = 1;
    v34 = __rev(v32);
    if ( v33 != 2 )
      v32 = 0;
    v55 = v32;
    if ( v33 == 2 )
      v34 = 0;
    v56 = v34;
      j___aeabi_memcpy_1((int)&v60, (int)&v55 + v22, 8 - v22);
    *(int *)((char *)&v60 + 8 - v22) = v31;
    v35 = *a5;
    j_websocketpp::frame::prepare_header((const void **)&v52, &v53, (char *)&v60);
    EntityInteraction::setInteractText((int *)(v35 + 8), &v52);
    v36 = (void *)(v52 - 12);
    if ( (int *)(v52 - 12) != &dword_28898C0 )
      v48 = (unsigned int *)(v52 - 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 <= 0 )
        j_j_j_j__ZdlPv_9(v36);
    v55 = v31;
    v37 = *v7;
    v38 = *v50;
    v39 = *(_DWORD *)(*v7 - 12);
    v40 = v39 >> 2;
    if ( v39 >> 2 )
      v41 = (int *)*v7;
      v42 = *v50;
      v43 = v39 >> 2;
      {
        v44 = *v41;
        ++v41;
        --v43;
        *v42 = v44 ^ v31;
        ++v42;
      }
      while ( v43 );
    v45 = 4 * v40;
    if ( 4 * v40 < v39 )
        v38[v45] = *(_BYTE *)(v37 + v45) ^ *(_BYTE *)(v45 & 3 | (unsigned int)&v55);
        ++v45;
      while ( v39 != v45 );
    v6 = 0xFFFF46E4;
    v8 = a5;
  *(_BYTE *)(*v8 + 24) = 1;
  *(_DWORD *)v5 = 0;
  v18 = ((int (*)(void))byte_21E9640)();
LABEL_17:
  *(_DWORD *)(v5 + 4) = v18;
  result = **(_DWORD **)((char *)&GLOBAL_OFFSET_TABLE_ + v6) - (_DWORD)v63;
  if ( **(RakNet ***)((char *)&GLOBAL_OFFSET_TABLE_ + v6) != v63 )
    j___stack_chk_fail_1(result);
  return result;
}


char *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::client_handshake_request(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r8@1
  int v6; // r9@1
  int v7; // r6@1
  int *v8; // r7@1
  void *v9; // r0@1
  void *v10; // r0@2
  void *v11; // r0@3
  void *v12; // r0@4
  void *v13; // r0@5
  void *v14; // r0@6
  int v15; // r6@7
  int *v16; // r0@7
  void *v17; // r0@7
  void *v18; // r0@8
  int *v19; // r0@9
  void *v20; // r0@9
  void *v21; // r0@10
  int v22; // r9@12
  int *v23; // r4@12
  int *v24; // r8@12
  int v25; // t1@14
  int *v26; // r0@15
  void *v27; // r0@15
  void *v28; // r0@16
  void *v29; // r0@17
  int *v30; // r0@19
  void *v31; // r0@19
  void *v32; // r0@20
  char *result; // r0@21
  unsigned int *v34; // r1@23
  signed int v35; // r2@24
  unsigned int *v36; // r1@27
  signed int v37; // r2@28
  unsigned int *v38; // r1@31
  signed int v39; // r2@32
  unsigned int *v40; // r1@35
  signed int v41; // r2@36
  unsigned int *v42; // r1@39
  signed int v43; // r2@40
  unsigned int *v44; // r1@43
  signed int v45; // r2@44
  unsigned int *v46; // r1@47
  signed int v47; // r2@48
  unsigned int *v48; // r1@51
  signed int v49; // r2@52
  unsigned int *v50; // r1@55
  signed int v51; // r2@56
  unsigned int *v52; // r1@59
  signed int v53; // r2@60
  unsigned int *v54; // r1@63
  signed int v55; // r2@64
  unsigned int *v56; // r1@67
  signed int v57; // r2@68
  unsigned int *v58; // r1@71
  signed int v59; // r2@72
  unsigned int *v60; // r1@75
  signed int v61; // r2@76
  unsigned int *v62; // r1@79
  signed int v63; // r2@80
  int v64; // [sp+0h] [bp-158h]@9
  int v65; // [sp+4h] [bp-154h]@19
  int v66; // [sp+Ch] [bp-14Ch]@19
  int v67; // [sp+10h] [bp-148h]@15
  int v68; // [sp+18h] [bp-140h]@15
  void **v69; // [sp+1Ch] [bp-13Ch]@12
  void **v70; // [sp+20h] [bp-138h]@15
  int v71; // [sp+3Ch] [bp-11Ch]@18
  int v72; // [sp+44h] [bp-114h]@17
  void **v73; // [sp+48h] [bp-110h]@17
  int v74; // [sp+D0h] [bp-88h]@9
  int v75; // [sp+D8h] [bp-80h]@9
  int v76; // [sp+E0h] [bp-78h]@7
  int v77; // [sp+E8h] [bp-70h]@7
  int v78; // [sp+F0h] [bp-68h]@5
  int v79; // [sp+F8h] [bp-60h]@5
  int v80; // [sp+100h] [bp-58h]@3
  int v81; // [sp+108h] [bp-50h]@3
  int v82; // [sp+110h] [bp-48h]@2
  int v83; // [sp+118h] [bp-40h]@1
  unsigned __int8 v84[4]; // [sp+120h] [bp-38h]@19
  int v85; // [sp+124h] [bp-34h]@19
  int v86; // [sp+128h] [bp-30h]@19
  int v87; // [sp+12Ch] [bp-2Ch]@19
  RakNet *v88; // [sp+130h] [bp-28h]@1

  v5 = a1;
  v6 = a2;
  v7 = a3;
  v8 = a4;
  v88 = _stack_chk_guard;
  sub_21E94B4((void **)&v83, "GET");
  j_websocketpp::http::parser::request::set_method(v7, &v83);
  v9 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
  {
    v34 = (unsigned int *)(v83 - 4);
    __dmb();
    do
      v35 = __ldrex(v34);
    while ( __strex(v35 - 1, v34) );
    if ( v35 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  }
  EntityInteraction::setInteractText((int *)(v7 + 60), (int *)(*v8 + 8));
  sub_21E94B4((void **)&v82, "HTTP/1.1");
  EntityInteraction::setInteractText((int *)v7, &v82);
  v10 = (void *)(v82 - 12);
  if ( (int *)(v82 - 12) != &dword_28898C0 )
    v36 = (unsigned int *)(v82 - 4);
      v37 = __ldrex(v36);
    while ( __strex(v37 - 1, v36) );
    if ( v37 <= 0 )
      j_j_j_j__ZdlPv_9(v10);
  sub_21E94B4((void **)&v81, "Upgrade");
  sub_21E94B4((void **)&v80, "websocket");
  j_websocketpp::http::parser::parser::append_header(v7, &v81, (const void **)&v80);
  v11 = (void *)(v80 - 12);
  if ( (int *)(v80 - 12) != &dword_28898C0 )
    v38 = (unsigned int *)(v80 - 4);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v12 = (void *)(v81 - 12);
  if ( (int *)(v81 - 12) != &dword_28898C0 )
    v40 = (unsigned int *)(v81 - 4);
      v41 = __ldrex(v40);
    while ( __strex(v41 - 1, v40) );
    if ( v41 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  sub_21E94B4((void **)&v79, "Connection");
  sub_21E94B4((void **)&v78, "Upgrade");
  j_websocketpp::http::parser::parser::append_header(v7, &v79, (const void **)&v78);
  v13 = (void *)(v78 - 12);
  if ( (int *)(v78 - 12) != &dword_28898C0 )
    v42 = (unsigned int *)(v78 - 4);
      v43 = __ldrex(v42);
    while ( __strex(v43 - 1, v42) );
    if ( v43 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  v14 = (void *)(v79 - 12);
  if ( (int *)(v79 - 12) != &dword_28898C0 )
    v44 = (unsigned int *)(v79 - 4);
      v45 = __ldrex(v44);
    while ( __strex(v45 - 1, v44) );
    if ( v45 <= 0 )
      j_j_j_j__ZdlPv_9(v14);
  sub_21E94B4((void **)&v77, "Sec-WebSocket-Version");
  sub_21E94B4((void **)&v76, "13");
  v15 = v7 + 4;
  v16 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 v15,
                 &v77);
  EntityInteraction::setInteractText(v16, &v76);
  v17 = (void *)(v76 - 12);
  if ( (int *)(v76 - 12) != &dword_28898C0 )
    v46 = (unsigned int *)(v76 - 4);
      v47 = __ldrex(v46);
    while ( __strex(v47 - 1, v46) );
    if ( v47 <= 0 )
      j_j_j_j__ZdlPv_9(v17);
  v18 = (void *)(v77 - 12);
  if ( (int *)(v77 - 12) != &dword_28898C0 )
    v48 = (unsigned int *)(v77 - 4);
      v49 = __ldrex(v48);
    while ( __strex(v49 - 1, v48) );
    if ( v49 <= 0 )
      j_j_j_j__ZdlPv_9(v18);
  sub_21E94B4((void **)&v75, "Host");
  j_websocketpp::uri::get_host_port((websocketpp::uri *)&v74, *v8);
  v19 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 &v75);
  EntityInteraction::setInteractText(v19, &v74);
  v64 = v6;
  v20 = (void *)(v74 - 12);
  if ( (int *)(v74 - 12) != &dword_28898C0 )
    v50 = (unsigned int *)(v74 - 4);
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  v21 = (void *)(v75 - 12);
  if ( (int *)(v75 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v75 - 4);
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9(v21);
  if ( (unsigned int)*(_QWORD *)a5 != *(_QWORD *)a5 >> 32 )
    v22 = v5;
    sub_21D0A10((int)&v69, 16);
    v23 = *(int **)a5;
    sub_21CBF38((char *)&v69, **(_DWORD **)a5, *(_DWORD *)(**(_DWORD **)a5 - 12));
    v24 = v23 + 1;
    while ( v24 != *(int **)(a5 + 4) )
    {
      sub_21CBF38((char *)&v69, (int)", ", 2);
      v25 = *v24;
      ++v24;
      sub_21CBF38((char *)&v69, v25, *(_DWORD *)(v25 - 12));
    }
    sub_21E94B4((void **)&v68, "Sec-WebSocket-Protocol");
    sub_21CFED8(&v67, (int)&v70);
    v5 = v22;
    v26 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v15,
                   &v68);
    EntityInteraction::setInteractText(v26, &v67);
    v27 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v58 = (unsigned int *)(v67 - 4);
      __dmb();
      do
        v59 = __ldrex(v58);
      while ( __strex(v59 - 1, v58) );
      if ( v59 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
    v28 = (void *)(v68 - 12);
    if ( (int *)(v68 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v68 - 4);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    v69 = &off_26D3F44;
    v73 = &off_26D3F58;
    v70 = &off_27734E8;
    v29 = (void *)(v72 - 12);
    if ( (int *)(v72 - 12) != &dword_28898C0 )
      v62 = (unsigned int *)(v72 - 4);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 <= 0 )
        j_j_j_j__ZdlPv_9(v29);
    v70 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v71);
    sub_21B6560(&v73);
  *(_DWORD *)v84 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v85 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v86 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  v87 = j_websocketpp::random::random_device::int_generator<unsigned int,websocketpp::concurrency::basic>::operator()(*(_DWORD *)(v64 + 88));
  sub_21E94B4((void **)&v66, "Sec-WebSocket-Key");
  j_websocketpp::base64_encode((websocketpp *)&v65, v84, 0x10u);
  v30 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 &v66);
  EntityInteraction::setInteractText(v30, &v65);
  v31 = (void *)(v65 - 12);
  if ( (int *)(v65 - 12) != &dword_28898C0 )
    v54 = (unsigned int *)(v65 - 4);
      v55 = __ldrex(v54);
    while ( __strex(v55 - 1, v54) );
    if ( v55 <= 0 )
      j_j_j_j__ZdlPv_9(v31);
  v32 = (void *)(v66 - 12);
  if ( (int *)(v66 - 12) != &dword_28898C0 )
    v56 = (unsigned int *)(v66 - 4);
      v57 = __ldrex(v56);
    while ( __strex(v57 - 1, v56) );
    if ( v57 <= 0 )
      j_j_j_j__ZdlPv_9(v32);
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = ((int (*)(void))byte_21E9640)();
  result = (char *)(_stack_chk_guard - v88);
  if ( _stack_chk_guard != v88 )
    j___stack_chk_fail_1((int)result);
  return result;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::~hybi00(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14

  v1 = ptr;
  *(_DWORD *)ptr = &off_276D44C;
  v2 = *((_DWORD *)ptr + 8);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[6];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  j_j_j__ZdlPv_8(v1);
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_pre_init(int a1, _DWORD *a2)
{
  int v2; // r5@1
  _DWORD *v3; // r7@1
  pthread_mutex_t *v4; // r0@1
  __int64 v5; // kr00_8@4
  unsigned int *v6; // r0@5
  unsigned int v7; // r2@6
  void (__fastcall *v8)(int, __int64 *); // r2@9
  unsigned int v9; // r1@10
  int v10; // r0@13
  unsigned int *v11; // r1@14
  unsigned int v12; // r2@15
  unsigned int *v13; // r0@19
  unsigned int v14; // r1@20
  __int64 v15; // [sp+4h] [bp-1Ch]@9

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection handle pre_init");
  if ( *(_DWORD *)(v2 + 108) )
  {
    v5 = *(_QWORD *)(v2 + 80);
    if ( HIDWORD(v5) )
    {
      v6 = (unsigned int *)(HIDWORD(v5) + 8);
      __dmb();
      do
        v7 = __ldrex(v6);
      while ( __strex(v7 + 1, v6) );
      if ( !*(_DWORD *)(v2 + 108) )
        sub_21E5F48();
      v8 = *(void (__fastcall **)(int, __int64 *))(v2 + 112);
      v15 = v5;
        v9 = __ldrex(v6);
      while ( __strex(v9 + 1, v6) );
    }
    else
      v15 = (unsigned int)v5;
    v8(v2 + 100, &v15);
    v10 = HIDWORD(v15);
    if ( HIDWORD(v15) )
      v11 = (unsigned int *)(HIDWORD(v15) + 8);
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      v13 = (unsigned int *)(HIDWORD(v5) + 8);
        v14 = __ldrex(v13);
      while ( __strex(v14 - 1, v13) );
      if ( v14 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v5) + 12))(HIDWORD(v5));
  }
  if ( *v3 )
    if ( !*(_DWORD *)(v2 + 2240) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, _DWORD *))(v2 + 2244))(v2 + 2232, v3);
  if ( *(_DWORD *)(*(_DWORD *)(v2 + 56) - 12) )
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_write(v2);
  else
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::post_init(v2);
}


int __fastcall websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(int a1, int a2)
{
  int v2; // r4@1
  int v3; // r8@1
  unsigned int v4; // r0@2
  unsigned int *v5; // r7@2
  unsigned int v6; // r2@3
  int v7; // r5@6
  int *v8; // r0@6
  int *v9; // r6@6
  unsigned int *v10; // r0@6
  unsigned int v11; // r1@7
  unsigned int v12; // r0@9
  unsigned int *v13; // r5@11
  unsigned int v14; // r0@12
  int v15; // r2@15
  int result; // r0@15

  v2 = *(_DWORD *)(a2 + 4);
  v3 = a1;
  if ( !v2 )
LABEL_16:
    j_std::__throw_bad_weak_ptr();
  v4 = *(_DWORD *)(v2 + 4);
  v5 = (unsigned int *)(v2 + 4);
  do
  {
    v6 = v4;
    if ( !v4 )
      goto LABEL_16;
    __dmb();
    v4 = __ldrex(v5);
  }
  while ( v4 != v6 || __strex(v6 + 1, v5) );
  __dmb();
  v7 = *(_DWORD *)a2;
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = 0;
  v8 = (int *)j_operator new(0x28u);
  v9 = v8;
  *v8 = (int)&off_276D100;
  v8[1] = 1;
  v10 = (unsigned int *)(v2 + 8);
  v9[2] = 1;
  v9[3] = v7;
  v9[4] = v2;
    v11 = __ldrex(v10);
  while ( __strex(v11 + 1, v10) );
  v9[5] = (int)&unk_28898CC;
  v9[6] = (int)&unk_28898CC;
  v9[7] = (int)&unk_28898CC;
  v9[9] = 256;
    v12 = __ldrex(v5);
  while ( __strex(v12 - 1, v5) );
  if ( v12 == 1 )
    v13 = (unsigned int *)(v2 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
    do
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
  v15 = *v9;
  *(_DWORD *)(v3 + 4) = v9;
  result = (*(int (__fastcall **)(int *, void **))(v15 + 16))(v9, &`typeinfo for'std::_Sp_make_shared_tag);
  *(_DWORD *)v3 = result;
  return result;
}


_DWORD *__fastcall websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>::message(_DWORD *a1, int a2, int a3, unsigned int a4)
{
  return websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>::message(
           a1,
           a2,
           a3,
           a4);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::initialize_processor(int a1, int a2)
{
  int v2; // r6@1
  int v3; // r11@1
  pthread_mutex_t **v4; // r8@2
  signed int v5; // r2@2
  __int64 v6; // r0@3
  int v7; // r7@3
  unsigned int *v8; // r0@4
  unsigned int v9; // r1@5
  unsigned int *v10; // r5@7
  unsigned int v11; // r0@8
  int v12; // r5@11
  unsigned int *v13; // r0@12
  unsigned int v14; // r1@13
  unsigned int *v15; // r7@15
  unsigned int v16; // r0@16
  _DWORD *result; // r0@20
  void *v18; // r0@21
  char v19; // r0@22
  void *v20; // r0@27
  _DWORD *i; // r4@28
  char *v22; // r0@29
  int *v23; // r0@30
  void *v24; // r0@30
  void *v25; // r0@31
  char v26; // r0@32
  void *v27; // r0@35
  void *v28; // r0@36
  unsigned int *v29; // r1@38
  signed int v30; // r2@39
  unsigned int *v31; // r1@42
  signed int v32; // r2@43
  unsigned int *v33; // r1@46
  signed int v34; // r2@47
  unsigned int *v35; // r1@50
  signed int v36; // r2@51
  unsigned int *v37; // r1@54
  signed int v38; // r2@55
  unsigned int *v39; // r1@58
  signed int v40; // r2@59
  int v41; // [sp+0h] [bp-108h]@30
  int v42; // [sp+8h] [bp-100h]@30
  int v43; // [sp+10h] [bp-F8h]@28
  void **v44; // [sp+14h] [bp-F4h]@28
  int v45; // [sp+18h] [bp-F0h]@37
  void **v46; // [sp+1Ch] [bp-ECh]@29
  void **v47; // [sp+20h] [bp-E8h]@30
  int v48; // [sp+3Ch] [bp-CCh]@37
  int v49; // [sp+44h] [bp-C4h]@36
  void **v50; // [sp+48h] [bp-C0h]@36
  char v51; // [sp+D0h] [bp-38h]@3
  int v52; // [sp+D4h] [bp-34h]@3
  int v53; // [sp+D8h] [bp-30h]@21
  int v54; // [sp+DCh] [bp-2Ch]@27

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4B24),
    1024,
    "initialize_processor");
  if ( !j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 0x4A7C) )
    goto LABEL_64;
  v4 = (pthread_mutex_t **)(v2 + 0x4B24);
  v5 = j_websocketpp::processor::get_websocket_version<websocketpp::http::parser::request>(v2 + 0x4A7C);
  if ( v5 <= -1 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "BAD REQUEST: can't determine version");
    *(_DWORD *)(v2 + 19200) = 400;
    sub_21E94B4((void **)&v53, "Bad Request");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(0x4AF0 + v2),
      &v53);
    v18 = (void *)(v53 - 12);
    if ( (int *)(v53 - 12) != &dword_28898C0 )
    {
      v29 = (unsigned int *)(v53 - 4);
      __dmb();
      do
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    }
    v19 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v19 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v3 = 29;
    result = &websocketpp::error::get_category(void)::instance;
    goto LABEL_26;
  }
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::get_processor((int)&v51, v2, v5);
  v6 = *(_QWORD *)&v51;
  *(_DWORD *)&v51 = 0;
  v52 = 0;
  *(_DWORD *)(v2 + 0x4A2C) = v6;
  v7 = *(_DWORD *)(v2 + 18992);
  *(_DWORD *)(v2 + 18992) = HIDWORD(v6);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = v52;
  if ( v52 )
    v13 = (unsigned int *)(v52 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  if ( *(_DWORD *)(v2 + 0x4A2C) )
LABEL_64:
    *(_DWORD *)v3 = 0;
    result = (_DWORD *)((int (*)(void))byte_21E9640)();
LABEL_26:
    *(_DWORD *)(v3 + 4) = result;
    return result;
    *v4,
    "BAD REQUEST: no processor for version");
  *(_DWORD *)(v2 + 19200) = 400;
  sub_21E94B4((void **)&v54, "Bad Request");
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(0x4AF0 + v2),
    &v54);
  v20 = (void *)(v54 - 12);
  if ( (int *)(v54 - 12) != &dword_28898C0 )
    v31 = (unsigned int *)(v54 - 4);
      v32 = __ldrex(v31);
    while ( __strex(v32 - 1, v31) );
    if ( v32 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  sub_21D103C((int)&v44, 24);
  sub_21E94B4((void **)&v43, (const char *)&unk_257BC67);
  for ( i = (_DWORD *)dword_2880E60; i != (_DWORD *)dword_2880E64; ++i )
    v22 = sub_21CBF38((char *)&v46, v43, *(_DWORD *)(v43 - 12));
    sub_21CC43C(v22, *i);
    sub_21E8190((void **)&v43, ",", (_BYTE *)1);
  sub_21E94B4((void **)&v42, "Sec-WebSocket-Version");
  sub_21CFED8(&v41, (int)&v47);
  v23 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                 v2 + 19140,
                 &v42);
  EntityInteraction::setInteractText(v23, &v41);
  v24 = (void *)(v41 - 12);
  if ( (int *)(v41 - 12) != &dword_28898C0 )
    v33 = (unsigned int *)(v41 - 4);
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v24);
  v25 = (void *)(v42 - 12);
  if ( (int *)(v42 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v42 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v26 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  *(_DWORD *)v3 = 30;
  *(_DWORD *)(v3 + 4) = &websocketpp::error::get_category(void)::instance;
  v27 = (void *)(v43 - 12);
  if ( (int *)(v43 - 12) != &dword_28898C0 )
    v37 = (unsigned int *)(v43 - 4);
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 <= 0 )
      j_j_j_j__ZdlPv_9(v27);
  v44 = &off_26D3F94;
  v50 = &off_26D3FBC;
  v46 = &off_26D3FA8;
  v47 = &off_27734E8;
  v28 = (void *)(v49 - 12);
  if ( (int *)(v49 - 12) != &dword_28898C0 )
    v39 = (unsigned int *)(v49 - 4);
      v40 = __ldrex(v39);
    while ( __strex(v40 - 1, v39) );
    if ( v40 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  v47 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v48);
  v44 = &off_276D0DC;
  v50 = &off_276D0F0;
  v45 = 0;
  return sub_21B6560(&v50);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(void **a1, int a2)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(
    a1,
    a2);
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_read_http_response(int a1, __int64 *a2, unsigned int a3)
{
  __int64 *v3; // r5@1
  int v4; // r11@1
  unsigned int v5; // r4@1
  pthread_mutex_t **v6; // r10@1
  int v7; // r0@2
  int v8; // r0@3
  RakNet *result; // r0@4
  signed int v10; // r6@8
  char v11; // r0@9
  int (__fastcall **v12)(_DWORD); // r0@12
  char v13; // r0@13
  char v14; // r0@19
  bool v15; // zf@22
  __int64 *v16; // r5@28
  const char *v17; // r2@28
  unsigned int v18; // r6@30
  pthread_mutex_t *v19; // r5@30
  unsigned int v20; // r10@30
  __int64 v21; // kr00_8@30
  unsigned int v22; // r1@30
  const void **v23; // r0@32
  int v24; // r7@34
  void *v25; // r0@35
  void *v26; // r0@36
  int v27; // r6@38
  int v28; // r5@41
  unsigned int *v29; // r0@42
  unsigned int v30; // r1@43
  unsigned int *v31; // r6@45
  unsigned int v32; // r0@46
  int v33; // r6@51
  unsigned int v34; // r0@52
  unsigned int *v35; // r7@52
  unsigned int v36; // r1@53
  int v37; // r8@56
  unsigned int v38; // r0@57
  unsigned int v39; // r0@59
  unsigned int *v40; // r5@61
  unsigned int v41; // r0@62
  unsigned int v42; // r0@66
  unsigned int v43; // r0@68
  unsigned int *v44; // r5@70
  unsigned int v45; // r0@71
  _DWORD *v46; // r0@74
  __int64 v47; // r2@74
  int v48; // r7@77
  int v49; // r1@77
  unsigned int *v50; // r0@78
  unsigned int v51; // r2@79
  unsigned int *v52; // r1@82
  signed int v53; // r2@83
  unsigned int *v54; // r1@86
  signed int v55; // r2@87
  unsigned int *v56; // r1@90
  signed int v57; // r2@91
  void (__fastcall *v58)(int, int *); // r2@94
  unsigned int v59; // r1@95
  int v60; // r0@98
  unsigned int *v61; // r1@99
  unsigned int v62; // r2@100
  unsigned int *v63; // r0@104
  unsigned int v64; // r1@105
  int v65; // r5@109
  _DWORD *v66; // [sp+4h] [bp-7Ch]@74
  int (*v67)(void); // [sp+Ch] [bp-74h]@74
  int (__fastcall *v68)(int *); // [sp+10h] [bp-70h]@74
  int v69; // [sp+14h] [bp-6Ch]@111
  int v70; // [sp+18h] [bp-68h]@111
  int v71; // [sp+1Ch] [bp-64h]@49
  int v72; // [sp+24h] [bp-5Ch]@30
  unsigned int v73; // [sp+2Ch] [bp-54h]@30
  const void *v74; // [sp+30h] [bp-50h]@34
  __int64 v75; // [sp+48h] [bp-38h]@1
  int v76; // [sp+54h] [bp-2Ch]@94
  int v77; // [sp+58h] [bp-28h]@94

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "handle_read_http_response");
  v6 = (pthread_mutex_t **)(v4 + 19196);
  v75 = *v3;
  if ( (_DWORD)v75 )
    goto LABEL_19;
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v7 )
    sub_21E5E14(v7);
  v8 = *(_DWORD *)(v4 + 2500);
  if ( v8 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v6,
      1024,
      "handle_read_http_response invoked after connection was closed");
    return (RakNet *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
  }
  if ( v8 )
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v12 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v4 + 2504) == 4 )
      v10 = 0;
      goto LABEL_18;
    v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v13 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v10 = 9;
  LODWORD(v75) = 9;
  HIDWORD(v75) = *(int (__fastcall **)(_DWORD))((char *)v12 + 0xFFFFF404);
LABEL_18:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v10 )
LABEL_19:
    v14 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v14 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v15 = HIDWORD(v75) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
    if ( (_UNKNOWN *)HIDWORD(v75) == &websocketpp::transport::error::get_category(void)::instance )
      v15 = (_DWORD)v75 == 7;
    if ( v15 && *(_DWORD *)(v4 + 2500) == 3 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *v6,
               1024,
               "got (expected) eof/state error from closed con");
    v16 = &v75;
    v17 = "handle_read_http_response";
    goto LABEL_29;
  v18 = j_websocketpp::http::parser::response::consume(
          (websocketpp::http::parser::response *)(v4 + 19096),
          (const char *)(v4 + 2516),
          v5);
  v19 = *v6;
  sub_21E94B4((void **)&v73, "Raw response: ");
  v20 = v18;
  j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v72, v4 + 19096);
  v21 = *(_QWORD *)(v73 - 12);
  v22 = *(_DWORD *)(v72 - 12) + v21;
  if ( v22 > HIDWORD(v21) && v22 <= *(_DWORD *)(v72 - 8) )
    v23 = sub_21E82D8((const void **)&v72, 0, v73, (_BYTE *)v21);
    v23 = sub_21E72F0((const void **)&v73, (const void **)&v72);
  v74 = *v23;
  v24 = (int)v74;
  *v23 = &unk_28898CC;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, (int *)&v74);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v24 - 4);
    do
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9((void *)(v24 - 12));
  v25 = (void *)(v72 - 12);
  if ( (int *)(v72 - 12) != &dword_28898C0 )
    v54 = (unsigned int *)(v72 - 4);
      v55 = __ldrex(v54);
    while ( __strex(v55 - 1, v54) );
    if ( v55 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = (void *)(v73 - 12);
  if ( (int *)(v73 - 12) != &dword_28898C0 )
    v56 = (unsigned int *)(v73 - 4);
      v57 = __ldrex(v56);
    while ( __strex(v57 - 1, v56) );
    if ( v57 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  if ( (*(_DWORD *)(v4 + 19164) & 0xFFFFFFFE) == 2 )
    v27 = *(_DWORD *)(v4 + 18928);
    if ( v27 )
      sub_21B09F0();
      if ( *(_BYTE *)(v27 + 16) )
      {
        j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
          *(_DWORD *)(*(_DWORD *)v27 + 52),
          *(_DWORD *)v27 + 20,
          v27 + 20,
          -1);
        *(_BYTE *)(v27 + 16) = 0;
      }
      *(_DWORD *)(v4 + 18928) = 0;
      v28 = *(_DWORD *)(v4 + 18932);
      *(_DWORD *)(v4 + 18932) = 0;
      if ( v28 )
        v29 = (unsigned int *)(v28 + 4);
        __dmb();
        do
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
        {
          v31 = (unsigned int *)(v28 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 8))(v28);
          __dmb();
          do
            v32 = __ldrex(v31);
          while ( __strex(v32 - 1, v31) );
          if ( v32 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 12))(v28);
        }
    (*(void (__fastcall **)(unsigned int))(**(_DWORD **)(v4 + 18948) + 32))((unsigned int)&v71);
    if ( v71 )
      v16 = (__int64 *)&v71;
      v17 = "Server handshake response";
LABEL_29:
      j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(v4, 16, v17, v16);
      return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_client>::terminate(
                         v4,
                         (unsigned __int64 *)v16);
    *(_DWORD *)(v4 + 2500) = 1;
    *(_DWORD *)(v4 + 2504) = 7;
    j_websocketpp::connection<websocketpp::config::asio_client>::log_open_result(v4);
    if ( *(_DWORD *)(v4 + 2332) )
      v48 = *(_DWORD *)(v4 + 2320);
      v49 = *(_DWORD *)(v4 + 2316);
      if ( v48 )
        v50 = (unsigned int *)(v48 + 8);
          v51 = __ldrex(v50);
        while ( __strex(v51 + 1, v50) );
        if ( !*(_DWORD *)(v4 + 2332) )
          sub_21E5F48();
        v58 = *(void (__fastcall **)(int, int *))(v4 + 2336);
        v76 = v49;
        v77 = v48;
          v59 = __ldrex(v50);
        while ( __strex(v59 + 1, v50) );
      else
        v76 = *(_DWORD *)(v4 + 2316);
        v77 = 0;
      v58(v4 + 2324, &v76);
      v60 = v77;
      if ( v77 )
        v61 = (unsigned int *)(v77 + 8);
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v60 + 12))(v60);
        v63 = (unsigned int *)(v48 + 8);
          v64 = __ldrex(v63);
        while ( __strex(v64 - 1, v63) );
        if ( v64 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v48 + 12))(v48);
    if ( v20 == v5 )
      v65 = v5 - v20;
    else
      j___aeabi_memmove_1(v4 + 2516, v4 + v20 + 2516);
    *(_DWORD *)(v4 + 18900) = v65;
    v69 = 0;
    v70 = ((int (*)(void))byte_21E9640)();
    result = j_websocketpp::connection<websocketpp::config::asio_client>::handle_read_frame(v4, (__int64 *)&v69, v65);
    v33 = *(_DWORD *)(v4 + 4);
    if ( !v33 )
LABEL_112:
      j_std::__throw_bad_weak_ptr();
    v34 = *(_DWORD *)(v33 + 4);
    v35 = (unsigned int *)(v33 + 4);
      v36 = v34;
      if ( !v34 )
        goto LABEL_112;
      __dmb();
      v34 = __ldrex(v35);
    while ( v34 != v36 || __strex(v36 + 1, v35) );
    v37 = *(_DWORD *)v4;
      v38 = __ldrex(v35);
    while ( __strex(v38 + 1, v35) );
      v39 = __ldrex(v35);
    while ( __strex(v39 - 1, v35) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v33 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
      do
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
      v42 = __ldrex(v35);
    while ( __strex(v42 + 1, v35) );
      v43 = __ldrex(v35);
    while ( __strex(v43 - 1, v35) );
    if ( v43 == 1 )
      v44 = (unsigned int *)(v33 + 8);
        v45 = __ldrex(v44);
      while ( __strex(v45 - 1, v44) );
      if ( v45 == 1 )
    v46 = j_operator new(0x10u);
    *v46 = websocketpp::connection<websocketpp::config::asio_client>::handle_read_http_response;
    v46[1] = 0;
    v46[2] = v37;
    v46[3] = v33;
    v66 = v46;
    v67 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
    v68 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
    LODWORD(v47) = v4 + 2516;
    HIDWORD(v47) = 0x4000;
    result = (RakNet *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
                         1u,
                         v47,
                         (int)&v66);
    if ( v67 )
      result = (RakNet *)v67();
  return result;
}


int __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::init(int a1, int a2, int a3)
{
  int v3; // lr@0
  int v4; // r6@1
  int v5; // r7@1
  int v6; // r9@1
  __int64 v7; // r2@1
  int v8; // r0@1
  unsigned int *v9; // r0@2
  unsigned int v10; // r1@3
  unsigned int *v11; // r0@5
  int v12; // r5@5
  unsigned int v13; // r1@7
  unsigned int *v14; // r4@9
  int v15; // r8@13
  int v16; // r12@13
  __int64 v17; // r0@13
  int v18; // r5@15
  void (__cdecl *v19)(void *); // r3@15
  int v20; // r4@16
  int *v21; // r10@16
  void (*v22)(void); // r1@17
  __int64 v23; // r2@20
  int v24; // r5@24
  __int64 *v25; // r6@25
  __int64 *v26; // r0@25
  int *v27; // r10@25
  void (*v28)(void); // r1@26
  void (*v29)(void); // r3@29
  int v31; // [sp+0h] [bp-78h]@25
  void (*v32)(void); // [sp+8h] [bp-70h]@24
  __int64 *v33; // [sp+Ch] [bp-6Ch]@25
  char ptr; // [sp+10h] [bp-68h]@16
  void (*v35)(void); // [sp+18h] [bp-60h]@15
  int v36; // [sp+1Ch] [bp-5Ch]@16
  int v37; // [sp+20h] [bp-58h]@13
  int v38; // [sp+24h] [bp-54h]@14
  char v39; // [sp+28h] [bp-50h]@5
  int v40; // [sp+30h] [bp-48h]@1
  int v41; // [sp+34h] [bp-44h]@1
  __int64 v42; // [sp+38h] [bp-40h]@17
  void (*v43)(void); // [sp+40h] [bp-38h]@16
  int v44; // [sp+44h] [bp-34h]@17
  __int64 v45; // [sp+48h] [bp-30h]@25
  void (*v46)(void); // [sp+50h] [bp-28h]@25
  __int64 *v47; // [sp+54h] [bp-24h]@26

  v4 = a2;
  v5 = a3;
  v6 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 92),
    1024,
    "transport::asio::init");
  v40 = *(_DWORD *)v5;
  v8 = *(_DWORD *)(v5 + 4);
  v41 = v8;
  if ( v8 )
  {
    v9 = (unsigned int *)(v8 + 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 + 1, v9) );
  }
  LODWORD(v7) = &v40;
  v11 = (unsigned int *)j_websocketpp::transport::asio::basic_socket::endpoint::init((int)&v39, v4, v7);
  v12 = v41;
  if ( v41 )
    v11 = (unsigned int *)(v41 + 4);
      v13 = __ldrex(v11);
    while ( __strex(v13 - 1, v11) );
    if ( v13 == 1 )
    {
      v14 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
      __dmb();
      do
        v11 = (unsigned int *)__ldrex(v14);
      while ( __strex((unsigned int)v11 - 1, v14) );
      if ( v11 == (unsigned int *)1 )
        v11 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
    }
  v15 = ((int (__fastcall *)(unsigned int *))byte_21E9640)(v11);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init_asio(
    &v37,
    *(_DWORD *)v5,
    *(_DWORD *)(v4 + 48));
  LODWORD(v17) = v37;
  if ( v37 )
    HIDWORD(v17) = v38;
    *(_QWORD *)v6 = v17;
    return v17;
  v18 = *(_DWORD *)v5;
  v35 = 0u;
  v19 = *(void (__cdecl **)(void *))(v4 + 24);
  if ( v19 )
    v19(&ptr);
    v20 = v18 + 100;
    v36 = *(_DWORD *)(v4 + 28);
    v19 = *(void (__cdecl **)(void *))(v4 + 24);
    v43 = 0;
    v21 = (int *)&v43;
    v35 = (void (*)(void))v19;
    if ( v19 )
      v19(&v42);
      v16 = v36;
      v22 = v35;
      v44 = v36;
      v43 = v35;
      v19 = (void (__cdecl *)(void *))HIDWORD(v42);
      v3 = v42;
      goto LABEL_20;
  else
    v43 = 0u;
  v22 = 0;
LABEL_20:
  LODWORD(v23) = *(_QWORD *)v20 >> 32;
  v42 = *(_QWORD *)v20;
  *(_DWORD *)v20 = v3;
  *(_DWORD *)(v20 + 4) = v19;
  HIDWORD(v23) = *(_DWORD *)(v18 + 108);
  *v21 = HIDWORD(v23);
  *(_DWORD *)(v18 + 108) = v22;
  v44 = *(_DWORD *)(v18 + 112);
  *(_DWORD *)(v18 + 112) = v16;
  if ( HIDWORD(v23) )
    ((void (*)(void))HIDWORD(v23))();
  if ( v35 )
    v35();
  v24 = *(_DWORD *)v5;
  v32 = 0u;
  HIDWORD(v23) = *(_DWORD *)(v4 + 40);
  if ( !HIDWORD(v23) )
    v46 = 0u;
    v26 = &v45;
    v27 = (int *)&v46;
    v25 = (__int64 *)(v24 + 116);
    goto LABEL_28;
  ((void (__fastcall *)(AABB *, const Vec3 *, int))HIDWORD(v23))((AABB *)&v31, (const Vec3 *)(v4 + 32), 2);
  v33 = *(__int64 **)(v4 + 44);
  v25 = (__int64 *)(v24 + 116);
  v46 = 0;
  v26 = &v45;
  v27 = (int *)&v46;
  v32 = (void (*)(void))HIDWORD(v23);
LABEL_28:
    v28 = 0;
    goto LABEL_29;
  ((void (__fastcall *)(AABB *, const Vec3 *, int))HIDWORD(v23))((AABB *)&v45, (const Vec3 *)&v31, 2);
  v26 = v33;
  v28 = v32;
  v47 = v33;
  v46 = v32;
  v23 = v45;
LABEL_29:
  v45 = *v25;
  *v25 = v23;
  v29 = *(void (**)(void))(v24 + 124);
  *v27 = (int)v29;
  *(_DWORD *)(v24 + 124) = v28;
  v47 = *(__int64 **)(v24 + 128);
  *(_DWORD *)(v24 + 128) = v26;
  if ( v29 )
    v29();
  if ( v32 )
    v32();
  LODWORD(v17) = 0;
  *(_DWORD *)v6 = 0;
  *(_DWORD *)(v6 + 4) = v15;
  return v17;
}


RakNet *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_http_response(int a1, __int64 *a2, unsigned int a3)
{
  __int64 *v3; // r5@1
  int v4; // r11@1
  unsigned int v5; // r4@1
  pthread_mutex_t **v6; // r10@1
  int v7; // r0@2
  int v8; // r0@3
  RakNet *result; // r0@4
  signed int v10; // r6@8
  char v11; // r0@9
  int (__fastcall **v12)(_DWORD); // r0@12
  char v13; // r0@13
  char v14; // r0@19
  bool v15; // zf@22
  __int64 *v16; // r5@28
  const char *v17; // r2@28
  unsigned int v18; // r6@30
  pthread_mutex_t *v19; // r5@30
  unsigned int v20; // r10@30
  __int64 v21; // kr00_8@30
  unsigned int v22; // r1@30
  const void **v23; // r0@32
  int v24; // r7@34
  void *v25; // r0@35
  void *v26; // r0@36
  int v27; // r6@38
  int v28; // r5@41
  unsigned int *v29; // r0@42
  unsigned int v30; // r1@43
  unsigned int *v31; // r6@45
  unsigned int v32; // r0@46
  int v33; // r6@51
  unsigned int v34; // r0@52
  unsigned int *v35; // r7@52
  unsigned int v36; // r1@53
  int v37; // r8@56
  unsigned int v38; // r0@57
  unsigned int v39; // r0@59
  unsigned int *v40; // r5@61
  unsigned int v41; // r0@62
  unsigned int v42; // r0@66
  unsigned int v43; // r0@68
  unsigned int *v44; // r5@70
  unsigned int v45; // r0@71
  _DWORD *v46; // r0@74
  __int64 v47; // r2@74
  int v48; // r7@77
  int v49; // r1@77
  unsigned int *v50; // r0@78
  unsigned int v51; // r2@79
  unsigned int *v52; // r1@82
  signed int v53; // r2@83
  unsigned int *v54; // r1@86
  signed int v55; // r2@87
  unsigned int *v56; // r1@90
  signed int v57; // r2@91
  void (__fastcall *v58)(int, int *); // r2@94
  unsigned int v59; // r1@95
  int v60; // r0@98
  unsigned int *v61; // r1@99
  unsigned int v62; // r2@100
  unsigned int *v63; // r0@104
  unsigned int v64; // r1@105
  int v65; // r5@109
  _DWORD *v66; // [sp+4h] [bp-7Ch]@74
  int (*v67)(void); // [sp+Ch] [bp-74h]@74
  int (__fastcall *v68)(int *); // [sp+10h] [bp-70h]@74
  int v69; // [sp+14h] [bp-6Ch]@111
  int v70; // [sp+18h] [bp-68h]@111
  int v71; // [sp+1Ch] [bp-64h]@49
  int v72; // [sp+24h] [bp-5Ch]@30
  unsigned int v73; // [sp+2Ch] [bp-54h]@30
  const void *v74; // [sp+30h] [bp-50h]@34
  __int64 v75; // [sp+48h] [bp-38h]@1
  int v76; // [sp+54h] [bp-2Ch]@94
  int v77; // [sp+58h] [bp-28h]@94

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "handle_read_http_response");
  v6 = (pthread_mutex_t **)(v4 + 19236);
  v75 = *v3;
  if ( (_DWORD)v75 )
    goto LABEL_19;
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v7 )
    sub_21E5E14(v7);
  v8 = *(_DWORD *)(v4 + 2540);
  if ( v8 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v6,
      1024,
      "handle_read_http_response invoked after connection was closed");
    return (RakNet *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
  }
  if ( v8 )
    v11 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v11 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v12 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v4 + 2544) == 4 )
      v10 = 0;
      goto LABEL_18;
    v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v13 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v10 = 9;
  LODWORD(v75) = 9;
  HIDWORD(v75) = *(int (__fastcall **)(_DWORD))((char *)v12 + 0xFFFFF404);
LABEL_18:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2548));
  if ( v10 )
LABEL_19:
    v14 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v14 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v15 = HIDWORD(v75) == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
    if ( (_UNKNOWN *)HIDWORD(v75) == &websocketpp::transport::error::get_category(void)::instance )
      v15 = (_DWORD)v75 == 7;
    if ( v15 && *(_DWORD *)(v4 + 2540) == 3 )
      return j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *v6,
               1024,
               "got (expected) eof/state error from closed con");
    v16 = &v75;
    v17 = "handle_read_http_response";
    goto LABEL_29;
  v18 = j_websocketpp::http::parser::response::consume(
          (websocketpp::http::parser::response *)(v4 + 19136),
          (const char *)(v4 + 2556),
          v5);
  v19 = *v6;
  sub_21E94B4((void **)&v73, "Raw response: ");
  v20 = v18;
  j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v72, v4 + 19136);
  v21 = *(_QWORD *)(v73 - 12);
  v22 = *(_DWORD *)(v72 - 12) + v21;
  if ( v22 > HIDWORD(v21) && v22 <= *(_DWORD *)(v72 - 8) )
    v23 = sub_21E82D8((const void **)&v72, 0, v73, (_BYTE *)v21);
    v23 = sub_21E72F0((const void **)&v73, (const void **)&v72);
  v74 = *v23;
  v24 = (int)v74;
  *v23 = &unk_28898CC;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, (int *)&v74);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v24 - 4);
    do
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9((void *)(v24 - 12));
  v25 = (void *)(v72 - 12);
  if ( (int *)(v72 - 12) != &dword_28898C0 )
    v54 = (unsigned int *)(v72 - 4);
      v55 = __ldrex(v54);
    while ( __strex(v55 - 1, v54) );
    if ( v55 <= 0 )
      j_j_j_j__ZdlPv_9(v25);
  v26 = (void *)(v73 - 12);
  if ( (int *)(v73 - 12) != &dword_28898C0 )
    v56 = (unsigned int *)(v73 - 4);
      v57 = __ldrex(v56);
    while ( __strex(v57 - 1, v56) );
    if ( v57 <= 0 )
      j_j_j_j__ZdlPv_9(v26);
  if ( (*(_DWORD *)(v4 + 19204) & 0xFFFFFFFE) == 2 )
    v27 = *(_DWORD *)(v4 + 18968);
    if ( v27 )
      sub_21B09F0();
      if ( *(_BYTE *)(v27 + 16) )
      {
        j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
          *(_DWORD *)(*(_DWORD *)v27 + 52),
          *(_DWORD *)v27 + 20,
          v27 + 20,
          -1);
        *(_BYTE *)(v27 + 16) = 0;
      }
      *(_DWORD *)(v4 + 18968) = 0;
      v28 = *(_DWORD *)(v4 + 18972);
      *(_DWORD *)(v4 + 18972) = 0;
      if ( v28 )
        v29 = (unsigned int *)(v28 + 4);
        __dmb();
        do
          v30 = __ldrex(v29);
        while ( __strex(v30 - 1, v29) );
        if ( v30 == 1 )
        {
          v31 = (unsigned int *)(v28 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 8))(v28);
          __dmb();
          do
            v32 = __ldrex(v31);
          while ( __strex(v32 - 1, v31) );
          if ( v32 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v28 + 12))(v28);
        }
    (*(void (__fastcall **)(unsigned int))(**(_DWORD **)(v4 + 18988) + 32))((unsigned int)&v71);
    if ( v71 )
      v16 = (__int64 *)&v71;
      v17 = "Server handshake response";
LABEL_29:
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(v4, 16, v17, v16);
      return (RakNet *)j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(
                         v4,
                         (unsigned __int64 *)v16);
    *(_DWORD *)(v4 + 2540) = 1;
    *(_DWORD *)(v4 + 2544) = 7;
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_open_result(v4);
    if ( *(_DWORD *)(v4 + 2372) )
      v48 = *(_DWORD *)(v4 + 2360);
      v49 = *(_DWORD *)(v4 + 2356);
      if ( v48 )
        v50 = (unsigned int *)(v48 + 8);
          v51 = __ldrex(v50);
        while ( __strex(v51 + 1, v50) );
        if ( !*(_DWORD *)(v4 + 2372) )
          sub_21E5F48();
        v58 = *(void (__fastcall **)(int, int *))(v4 + 2376);
        v76 = v49;
        v77 = v48;
          v59 = __ldrex(v50);
        while ( __strex(v59 + 1, v50) );
      else
        v76 = *(_DWORD *)(v4 + 2356);
        v77 = 0;
      v58(v4 + 2364, &v76);
      v60 = v77;
      if ( v77 )
        v61 = (unsigned int *)(v77 + 8);
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v60 + 12))(v60);
        v63 = (unsigned int *)(v48 + 8);
          v64 = __ldrex(v63);
        while ( __strex(v64 - 1, v63) );
        if ( v64 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v48 + 12))(v48);
    if ( v20 == v5 )
      v65 = v5 - v20;
    else
      j___aeabi_memmove_1(v4 + 2556, v4 + v20 + 2556);
    *(_DWORD *)(v4 + 18940) = v65;
    v69 = 0;
    v70 = ((int (*)(void))byte_21E9640)();
    result = j_websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_frame(
               v4,
               (__int64 *)&v69,
               v65);
    v33 = *(_DWORD *)(v4 + 4);
    if ( !v33 )
LABEL_112:
      j_std::__throw_bad_weak_ptr();
    v34 = *(_DWORD *)(v33 + 4);
    v35 = (unsigned int *)(v33 + 4);
      v36 = v34;
      if ( !v34 )
        goto LABEL_112;
      __dmb();
      v34 = __ldrex(v35);
    while ( v34 != v36 || __strex(v36 + 1, v35) );
    v37 = *(_DWORD *)v4;
      v38 = __ldrex(v35);
    while ( __strex(v38 + 1, v35) );
      v39 = __ldrex(v35);
    while ( __strex(v39 - 1, v35) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v33 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
      do
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
      v42 = __ldrex(v35);
    while ( __strex(v42 + 1, v35) );
      v43 = __ldrex(v35);
    while ( __strex(v43 - 1, v35) );
    if ( v43 == 1 )
      v44 = (unsigned int *)(v33 + 8);
        v45 = __ldrex(v44);
      while ( __strex(v45 - 1, v44) );
      if ( v45 == 1 )
    v46 = j_operator new(0x10u);
    *v46 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_read_http_response;
    v46[1] = 0;
    v46[2] = v37;
    v46[3] = v33;
    v66 = v46;
    v67 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
    v68 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
    LODWORD(v47) = v4 + 2556;
    HIDWORD(v47) = 0x4000;
    result = (RakNet *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_read_at_least(
                         1u,
                         v47,
                         (int)&v66);
    if ( v67 )
      result = (RakNet *)v67();
  return result;
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::prepare_ping(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::extract_subprotocols(int a1, int a2, int a3, int a4)
{
  int v4; // r8@1
  int v5; // r5@1
  int v6; // r4@1
  int v7; // r11@1
  int v8; // r0@1
  int v9; // r7@1
  int *v10; // r3@1
  int v11; // r4@3
  void *v12; // r0@3
  int v13; // r0@5
  int v14; // r4@5
  int v15; // r0@6
  int v16; // r1@6
  int v17; // r0@7
  int v18; // r1@7
  signed int v19; // r4@7
  void *v20; // r0@12
  char v21; // r0@14
  int v22; // r4@17
  int *v23; // r6@17
  unsigned int *v24; // r1@19
  signed int v25; // r2@20
  int *v26; // r0@23
  __int64 v27; // r6@28
  int *v28; // r4@29
  __int64 v29; // r0@30
  unsigned int *v30; // r1@36
  signed int v31; // r2@37
  int *v32; // r0@40
  unsigned int *v33; // r1@47
  signed int v34; // r2@48
  unsigned int *v35; // r1@51
  signed int v36; // r2@52
  int v37; // [sp+8h] [bp-40h]@5
  int *v38; // [sp+Ch] [bp-3Ch]@5
  int *v39; // [sp+10h] [bp-38h]@5
  int v40; // [sp+14h] [bp-34h]@5
  int v41; // [sp+1Ch] [bp-2Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a3;
  sub_21E94B4((void **)&v41, "Sec-WebSocket-Protocol");
  v7 = v6 + 4;
  v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v6 + 4,
         &v41);
  v9 = v6 + 8;
  v10 = (int *)(v8 + 20);
  if ( v8 == v6 + 8 )
    v10 = &dword_2880E54;
  v11 = *(_DWORD *)(*v10 - 12);
  v12 = (void *)(v41 - 12);
  if ( (int *)(v41 - 12) != &dword_28898C0 )
  {
    v33 = (unsigned int *)(v41 - 4);
    __dmb();
    do
      v34 = __ldrex(v33);
    while ( __strex(v34 - 1, v33) );
    if ( v34 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  }
  if ( !v11 )
    goto LABEL_45;
  v38 = 0;
  v39 = 0;
  v40 = 0;
  sub_21E94B4((void **)&v37, "Sec-WebSocket-Protocol");
  v13 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v7,
          &v37);
  v14 = v13;
  if ( v13 == v9 )
    v19 = 0;
  else
    v15 = *(_DWORD *)(v13 + 20);
    v16 = *(_DWORD *)(v15 - 12);
    if ( v16 )
    {
      v17 = j_websocketpp::http::parser::extract_parameters<__gnu_cxx::__normal_iterator<char const*,std::string>>(
              v15,
              (_BYTE *)(v16 + v15),
              (int)&v38);
      v18 = *(_DWORD *)(v14 + 20);
      v19 = 0;
      if ( v17 == v18 )
        v19 = 1;
    }
    else
  v20 = (void *)(v37 - 12);
  if ( (int *)(v37 - 12) != &dword_28898C0 )
    v35 = (unsigned int *)(v37 - 4);
      v36 = __ldrex(v35);
    while ( __strex(v36 - 1, v35) );
    if ( v36 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
  if ( !v19 )
    v27 = *(_QWORD *)&v38;
    if ( v38 != v39 )
      v28 = v38;
      do
      {
        v29 = *(_QWORD *)(v5 + 4);
        if ( (_DWORD)v29 == HIDWORD(v29) )
        {
          j_std::vector<std::string,std::allocator<std::string>>::_M_emplace_back_aux<std::string const&>(
            (unsigned __int64 *)v5,
            v28);
        }
        else
          sub_21E8AF4((int *)v29, v28);
          *(_DWORD *)(v5 + 4) += 4;
        v28 += 7;
      }
      while ( (int *)HIDWORD(v27) != v28 );
      if ( (_DWORD)v27 != HIDWORD(v27) )
        do
          j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
            v27 + 4,
            *(_DWORD *)(v27 + 12));
          v32 = (int *)(*(_DWORD *)v27 - 12);
          if ( v32 != &dword_28898C0 )
          {
            v30 = (unsigned int *)(*(_DWORD *)v27 - 4);
            __dmb();
            do
              v31 = __ldrex(v30);
            while ( __strex(v31 - 1, v30) );
            if ( v31 <= 0 )
              j_j_j_j__ZdlPv_9(v32);
          }
          LODWORD(v27) = v27 + 28;
        while ( (_DWORD)v27 != HIDWORD(v27) );
        LODWORD(v27) = v38;
    if ( (_DWORD)v27 )
      j_operator delete((void *)v27);
LABEL_45:
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = ((int (*)(void))byte_21E9640)();
    return;
  v21 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v21 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  *(_DWORD *)v4 = 27;
  *(_DWORD *)(v4 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  v23 = v39;
  v22 = (int)v38;
  if ( v38 != v39 )
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,std::less<std::string>,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
        v22 + 4,
        *(_DWORD *)(v22 + 12));
      v26 = (int *)(*(_DWORD *)v22 - 12);
      if ( v26 != &dword_28898C0 )
        v24 = (unsigned int *)(*(_DWORD *)v22 - 4);
        __dmb();
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 <= 0 )
          j_j_j_j__ZdlPv_9(v26);
      v22 += 28;
    while ( (int *)v22 != v23 );
    v22 = (int)v38;
  if ( v22 )
    j_operator delete((void *)v22);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_close_handshake_timeout(int a1, unsigned __int64 *a2)
{
  int v2; // r4@1
  unsigned __int64 *v3; // r5@1
  char v4; // r0@1
  unsigned __int64 v5; // kr00_8@4
  bool v6; // zf@4
  pthread_mutex_t *v7; // r5@7
  const void **v8; // r0@8
  int v9; // r7@8
  void *v10; // r0@9
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  char v13; // r0@15
  unsigned int *v14; // r1@20
  signed int v15; // r2@21
  signed int v16; // [sp+0h] [bp-28h]@18
  void *v17; // [sp+4h] [bp-24h]@18
  int v18; // [sp+8h] [bp-20h]@8
  const void *v19; // [sp+Ch] [bp-1Ch]@8

  v2 = a1;
  v3 = a2;
  v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
  __dmb();
  if ( !(v4 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
  {
    websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
  }
  v5 = *v3;
  v6 = *v3 >> 32 == (_DWORD)&websocketpp::transport::error::get_category(void)::instance;
  if ( (_UNKNOWN *)(*v3 >> 32) == &websocketpp::transport::error::get_category(void)::instance )
    v6 = (_DWORD)v5 == 5;
  if ( v6 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v2 + 19236),
      1024,
      "asio close handshake timer cancelled");
  else
    v7 = *(pthread_mutex_t **)(v2 + 19236);
    if ( (_DWORD)v5 )
    {
      (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v5) + 12))(&v18);
      v8 = sub_21E82D8(
             (const void **)&v18,
             0,
             (unsigned int)"asio open handle_close_handshake_timeout error: ",
             (_BYTE *)0x30);
      v19 = *v8;
      v9 = (int)v19;
      *v8 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v7, 1024, (int *)&v19);
      if ( (int *)(v9 - 12) != &dword_28898C0 )
      {
        v14 = (unsigned int *)(v9 - 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v9 - 12));
      }
      v10 = (void *)(v18 - 12);
      if ( (int *)(v18 - 12) != &dword_28898C0 )
        v11 = (unsigned int *)(v18 - 4);
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
    }
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *(pthread_mutex_t **)(v2 + 19236),
        1024,
        "asio close handshake timer expired");
      v13 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v13 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v16 = 23;
      v17 = &websocketpp::error::get_category(void)::instance;
      j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v2, (unsigned __int64 *)&v16);
}


const void **__fastcall websocketpp::frame::prepare_header(const void **a1, _BYTE *a2, char *a3)
{
  const void **v3; // r4@1
  _BYTE *v4; // r6@1
  char *v5; // r8@1
  int v6; // r0@1
  char v7; // r5@1
  int v8; // r7@1
  _BYTE *v9; // r1@3
  _DWORD *v10; // r0@5
  int v11; // r1@7 OVERLAPPED
  char v12; // r5@7
  int v13; // r7@7
  unsigned int v14; // r2@7
  _DWORD *v15; // r0@10
  int v16; // r0@12
  unsigned int v17; // r2@12

  v3 = a1;
  v4 = a2;
  v5 = a3;
  *a1 = &unk_28898CC;
  v6 = dword_28898C0;
  v7 = *a2;
  v8 = dword_28898C0 + 1;
  if ( (unsigned int)(dword_28898C0 + 1) <= unk_28898C4 && (signed int)dword_28898C8 < 1 )
  {
    v9 = &unk_28898CC;
  }
  else
    sub_21E6FCC(v3, dword_28898C0 + 1);
    v9 = *v3;
    v6 = *((_DWORD *)*v3 - 3);
  v9[v6] = v7;
  v10 = *v3;
  if ( (int *)((char *)*v3 - 12) != &dword_28898C0 )
    *(v10 - 1) = 0;
    *(v10 - 3) = v8;
    *((_BYTE *)v10 + v8) = byte_26C67B8[0];
    v10 = *v3;
  *(_QWORD *)&v11 = *(_QWORD *)(v10 - 3);
  v12 = v4[1];
  v13 = v11 + 1;
  if ( v11 + 1 > v14 || *(v10 - 1) >= 1 )
    sub_21E6FCC(v3, v11 + 1);
    v11 = *((_DWORD *)*v3 - 3);
  *((_BYTE *)v10 + v11) = v12;
  v15 = *v3;
    *(v15 - 1) = 0;
    *(v15 - 3) = v13;
    *((_BYTE *)v15 + v13) = byte_26C67B8[0];
  v16 = v4[1];
  v17 = 0;
  if ( (v16 & 0x7F) == 127 )
    v17 = 8;
  if ( (v16 & 0x7F) == 126 )
    v17 = 2;
  if ( v16 < 0 )
    v17 |= 4u;
  return sub_21E7408(v3, v5, v17);
}


int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::~hybi13(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14
  int v12; // r5@17
  unsigned int *v13; // r0@18
  unsigned int v14; // r1@19
  unsigned int *v15; // r6@21
  unsigned int v16; // r0@22

  v1 = a1;
  *(_DWORD *)a1 = &off_276DB80;
  v2 = *(_DWORD *)(a1 + 56);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = *(_DWORD *)(v1 + 36);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  v12 = *(_DWORD *)(v1 + 20);
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  return v1;
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::extract_subprotocols(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int result; // r0@1

  v1 = a1;
  *a1 = 0;
  result = ((int (*)(void))byte_21E9640)();
  v1[1] = result;
  return result;
}


int (__fastcall *__fastcall websocketpp::transport::asio::tls_socket::connection::translate_ec(int a1, int a2, __int16 a3, void *a4))(_DWORD)
{
  int v4; // r4@1
  void *v5; // r6@1
  __int16 v6; // r5@1
  char v7; // r0@1
  char v8; // r0@5
  signed int v9; // r2@8
  unsigned int v10; // r1@8
  int (__fastcall **v11)(_DWORD); // r0@8
  char v12; // r0@9
  int v13; // r0@9
  int (__fastcall *result)(_DWORD); // r0@18

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v7 = `guard variable for'boost::asio::error::get_ssl_category(void)::instance;
  __dmb();
  if ( !(v7 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'boost::asio::error::get_ssl_category(void)::instance) )
  {
    boost::asio::error::get_ssl_category(void)::instance = &off_2763194;
    j_j___cxa_guard_release_1(&`guard variable for'boost::asio::error::get_ssl_category(void)::instance);
  }
  if ( v5 == &boost::asio::error::get_ssl_category(void)::instance )
    v12 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    v13 = v12 & 1;
    if ( (v6 & 0xFFF) == 219 )
    {
      if ( !v13
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v9 = 8;
      v10 = 0x3FFFFD1Eu;
      v11 = &GLOBAL_OFFSET_TABLE_;
    }
    else
      v9 = 11;
  else
    v8 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v8 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v9 = 2;
    v10 = 0x3FFFFD1Eu;
    v11 = &GLOBAL_OFFSET_TABLE_;
  result = v11[v10];
  *(_DWORD *)v4 = v9;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


void __fastcall websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request>(int a1, int a2, int *a3)
{
  int v3; // r4@1
  int v4; // r6@1
  int *v5; // r9@1
  int v6; // r0@1
  int *v7; // r1@1
  void *v8; // r0@3
  unsigned int v9; // r7@4
  unsigned int v10; // r0@4
  bool v11; // cf@5
  bool v12; // zf@5
  int v13; // r0@9
  int v14; // r0@10
  void *v15; // r0@13
  unsigned int *v16; // r1@15
  signed int v17; // r2@16
  unsigned int *v18; // r1@19
  signed int v19; // r2@20
  int v20; // r2@23
  unsigned int v21; // r3@23
  void **v22; // r0@25
  int v23; // r0@25
  int v24; // r0@26
  int v25; // r1@28
  void *v26; // r0@28
  void *v27; // r0@29
  unsigned int *v28; // r1@30
  signed int v29; // r2@31
  unsigned int *v30; // r1@34
  signed int v31; // r2@35
  int v32; // [sp+10h] [bp-40h]@25
  int v33; // [sp+14h] [bp-3Ch]@8
  int v34; // [sp+1Ch] [bp-34h]@1
  int v35; // [sp+20h] [bp-30h]@3
  char v36; // [sp+24h] [bp-2Ch]@9
  char v37; // [sp+28h] [bp-28h]@25

  v3 = a1;
  v4 = a2;
  v5 = a3;
  sub_21E94B4((void **)&v34, "Host");
  v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v4 + 4,
         &v34);
  v7 = (int *)(v6 + 20);
  if ( v6 == v4 + 8 )
    v7 = &dword_2880E54;
  sub_21E8AF4(&v35, v7);
  v8 = (void *)(v34 - 12);
  if ( (int *)(v34 - 12) != &dword_28898C0 )
  {
    v16 = (unsigned int *)(v34 - 4);
    __dmb();
    do
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  }
  v9 = sub_21E7848(&v35, ":", 0xFFFFFFFF, 1u);
  v10 = sub_21E7848(&v35, "]", 0xFFFFFFFF, 1u);
  if ( v9 == -1 )
    goto LABEL_40;
  v11 = v10 >= 0xFFFFFFFF;
  v12 = v10 == -1;
  if ( v10 != -1 )
    v11 = v10 >= v9;
    v12 = v10 == v9;
  if ( !v12 && v11 )
LABEL_40:
    *(_DWORD *)v3 = 0;
    v13 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRSsS7_RKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
             (_DWORD *)(v3 + 4),
             0,
             (int)&v36,
             v5,
             &v35,
             (int *)(v4 + 60));
    if ( v13 )
      v14 = (*(int (**)(void))(*(_DWORD *)v13 + 16))();
    else
      v14 = 0;
    *(_DWORD *)v3 = v14;
  else
    sub_21E9040((void **)&v33, &v35, 0, v9);
    v20 = v9 + 1;
    v21 = *(_DWORD *)(v35 - 12);
    if ( v21 < v9 + 1 )
      sub_21E5B04("%s: __pos (which is %zu) > this->size() (which is %zu)", (int)"basic_string::substr", v20, v21);
    v22 = sub_21E9040((void **)&v32, &v35, v20, 0xFFFFFFFF);
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRSsSsSsRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      (_DWORD *)(v3 + 4),
      0,
      (int)&v37,
      v5,
      &v33,
      (const char **)v22,
      (int *)(v4 + 60));
    v23 = *(_DWORD *)(v3 + 4);
    if ( v23 )
      v24 = (*(int (**)(void))(*(_DWORD *)v23 + 16))();
      v24 = 0;
    v25 = v32;
    *(_DWORD *)v3 = v24;
    v26 = (void *)(v25 - 12);
    if ( (int *)(v25 - 12) != &dword_28898C0 )
    {
      v30 = (unsigned int *)(v25 - 4);
      __dmb();
      do
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 <= 0 )
        j_j_j_j__ZdlPv_9(v26);
    }
    v27 = (void *)(v33 - 12);
    if ( (int *)(v33 - 12) != &dword_28898C0 )
      v28 = (unsigned int *)(v33 - 4);
        v29 = __ldrex(v28);
      while ( __strex(v29 - 1, v28) );
      if ( v29 <= 0 )
        j_j_j_j__ZdlPv_9(v27);
  v15 = (void *)(v35 - 12);
  if ( (int *)(v35 - 12) != &dword_28898C0 )
    v18 = (unsigned int *)(v35 - 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
}


void *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_init(int a1, int a2, int *a3)
{
  int v3; // r6@1
  int *v4; // r5@1
  int *v5; // r7@1
  int v6; // r4@1
  void *v7; // r0@2
  int v8; // r7@3
  void *v9; // r0@3
  int v10; // r6@4
  int *v11; // r0@4
  void *v12; // r0@4
  void *result; // r0@5
  char v14; // r0@6
  unsigned int *v15; // r1@11
  signed int v16; // r2@12
  unsigned int *v17; // r1@15
  signed int v18; // r2@16
  unsigned int *v19; // r1@19
  signed int v20; // r2@20
  int v21; // [sp+8h] [bp-30h]@4
  int v22; // [sp+10h] [bp-28h]@3
  int v23; // [sp+18h] [bp-20h]@2

  v3 = a2;
  v4 = a3;
  v5 = *(int **)(a2 + 104);
  v6 = a1;
  if ( v5 )
  {
    sub_21E94B4((void **)&v23, "HTTP/1.1");
    EntityInteraction::setInteractText(v5, &v23);
    v7 = (void *)(v23 - 12);
    if ( (int *)(v23 - 12) != &dword_28898C0 )
    {
      v15 = (unsigned int *)(v23 - 4);
      __dmb();
      do
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 <= 0 )
        j_j_j_j__ZdlPv_9(v7);
    }
    v8 = *(_DWORD *)(v3 + 104);
    sub_21E94B4((void **)&v22, "CONNECT");
    j_websocketpp::http::parser::request::set_method(v8, &v22);
    v9 = (void *)(v22 - 12);
    if ( (int *)(v22 - 12) != &dword_28898C0 )
      v17 = (unsigned int *)(v22 - 4);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    EntityInteraction::setInteractText((int *)(*(_DWORD *)(v3 + 104) + 60), v4);
    v10 = *(_DWORD *)(v3 + 104);
    sub_21E94B4((void **)&v21, "Host");
    v11 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v10 + 4,
                   &v21);
    EntityInteraction::setInteractText(v11, v4);
    v12 = (void *)(v21 - 12);
    if ( (int *)(v21 - 12) != &dword_28898C0 )
      v19 = (unsigned int *)(v21 - 4);
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 <= 0 )
        j_j_j_j__ZdlPv_9(v12);
    *(_DWORD *)v6 = 0;
    result = (void *)((int (*)(void))byte_21E9640)();
  }
  else
    v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v14 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v6 = 9;
    result = &websocketpp::error::get_category(void)::instance;
  *(_DWORD *)(v6 + 4) = result;
  return result;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::decode_client_key(int a1, int *a2, _DWORD *a3)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::decode_client_key(a1, a2, a3);
}


websocketpp::transport::asio::tls_socket::connection *__fastcall websocketpp::transport::asio::tls_socket::connection::~connection(websocketpp::transport::asio::tls_socket::connection *this)
{
  websocketpp::transport::asio::tls_socket::connection *v1; // r4@1
  void (*v2)(void); // r3@1
  void (*v3)(void); // r3@3
  int v4; // r0@5
  unsigned int *v5; // r1@6
  unsigned int v6; // r2@7
  int v7; // r5@10
  unsigned int *v8; // r0@11
  unsigned int v9; // r1@12
  unsigned int *v10; // r6@14
  unsigned int v11; // r0@15
  int v12; // r5@18
  unsigned int *v13; // r0@19
  unsigned int v14; // r1@20
  unsigned int *v15; // r6@22
  unsigned int v16; // r0@23
  int v17; // r5@26
  unsigned int *v18; // r0@27
  unsigned int v19; // r1@28
  unsigned int *v20; // r6@30
  unsigned int v21; // r0@31
  int v22; // r0@34
  unsigned int *v23; // r1@35
  unsigned int v24; // r2@36

  v1 = this;
  v2 = (void (*)(void))*((_DWORD *)this + 20);
  if ( v2 )
    v2();
  v3 = (void (*)(void))*((_DWORD *)v1 + 16);
  if ( v3 )
    v3();
  v4 = *((_DWORD *)v1 + 13);
  if ( v4 )
  {
    v5 = (unsigned int *)(v4 + 8);
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 - 1, v5) );
    if ( v6 == 1 )
      (*(void (**)(void))(*(_DWORD *)v4 + 12))();
  }
  v7 = *((_DWORD *)v1 + 8);
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
    {
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      __dmb();
      do
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
  v12 = *((_DWORD *)v1 + 6);
  if ( v12 )
    v13 = (unsigned int *)(v12 + 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 == 1 )
      v15 = (unsigned int *)(v12 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
  v17 = *((_DWORD *)v1 + 4);
  if ( v17 )
    v18 = (unsigned int *)(v17 + 4);
      v19 = __ldrex(v18);
    while ( __strex(v19 - 1, v18) );
    if ( v19 == 1 )
      v20 = (unsigned int *)(v17 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
        v21 = __ldrex(v20);
      while ( __strex(v21 - 1, v20) );
      if ( v21 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
  v22 = *((_DWORD *)v1 + 1);
  if ( v22 )
    v23 = (unsigned int *)(v22 + 8);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 == 1 )
      (*(void (**)(void))(*(_DWORD *)v22 + 12))();
  return v1;
}


signed int __fastcall websocketpp::sha1::calc(websocketpp::sha1 *this, const void *a2, unsigned int a3, unsigned __int8 *a4)
{
  websocketpp::sha1 *v4; // r6@1
  char *v5; // r8@1
  unsigned int v6; // r9@1
  unsigned int v7; // r4@2
  unsigned int v8; // r0@4
  int *v9; // r1@4
  int v10; // r2@5
  int v11; // r5@5
  int *v12; // r7@6
  unsigned int v13; // lr@9
  unsigned int v14; // r1@10
  int v15; // r1@11
  int v16; // r2@11
  int v17; // r6@11
  unsigned int v18; // r3@12
  int v19; // r4@12
  int v20; // r0@12
  signed int v21; // r1@16
  signed int result; // r0@16
  char v23; // r3@17
  bool v24; // zf@17
  bool v25; // nf@17
  int v26; // [sp+0h] [bp-178h]@4
  int v27; // [sp+3Ch] [bp-13Ch]@16
  int v28; // [sp+140h] [bp-38h]@1
  signed int v29; // [sp+144h] [bp-34h]@1
  signed int v30; // [sp+148h] [bp-30h]@1
  signed int v31; // [sp+14Ch] [bp-2Ch]@1
  int v32; // [sp+150h] [bp-28h]@1

  v4 = this;
  v5 = (char *)a2;
  v6 = a3;
  v32 = -1009589776;
  v30 = -1732584194;
  v31 = 271733878;
  v28 = 1732584193;
  v29 = -271733879;
  if ( (unsigned int)a2 <= 0x3F )
  {
    v7 = 0;
    v12 = &v26;
  }
  else
    v7 = 0u;
    do
    {
      if ( v7 < 0xFFFFFFC0 )
      {
        v8 = v7 + 64;
        v9 = &v26;
        do
        {
          v10 = (int)v4 + v7;
          v11 = *((_BYTE *)v4 + v7);
          v7 += 4;
          *v9 = *(_BYTE *)(v10 + 3) | (*(_BYTE *)(v10 + 2) << 8) | (*(_BYTE *)(v10 + 1) << 16) | (v11 << 24);
          ++v9;
        }
        while ( v7 < v8 );
      }
      v12 = &v26;
      sub_20591D8((int)&v28, (int)&v26);
    }
    while ( v7 <= (unsigned int)(v5 - 64) );
  j___aeabi_memclr8_1((int)&v26, 64);
  v13 = (unsigned int)&v5[-v7];
  if ( v5 == (char *)v7 )
    v14 = 0;
    v15 = (int)v4 + v7;
    v16 = 0;
    v17 = 0;
      v18 = v17 & 0xFFFFFFFC;
      v19 = *(_BYTE *)(v15 + v17);
      v20 = ~v16 & 0x18;
      ++v17;
      v16 += 8;
      *(int *)((char *)&v26 + v18) |= v19 << v20;
    while ( v13 != v17 );
    v14 = v13;
  *(int *)((char *)&v26 + (v14 & 0xFFFFFFFC)) |= 128 << (~(8 * v14) & 0x18);
  if ( v13 >= 0x38 )
    sub_20591D8((int)&v28, (int)v12);
    j___aeabi_memclr8_1((int)&v26, 64);
  v27 = 8 * (_DWORD)v5;
  sub_20591D8((int)&v28, (int)v12);
  v21 = 19;
  result = -160;
  do
    v23 = result & 0x18;
    result += 8;
    v24 = v21 == 0;
    v25 = v21 < 0;
    *(_BYTE *)(v6 + v21) = *(unsigned int *)((char *)&v28 + (v21 & 0xFFFFFFFC)) >> v23;
    --v21;
  while ( !v25 && !v24 );
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy_basic_auth(int a1, int *a2, const void **a3, int a4)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy_basic_auth(
    a1,
    a2,
    a3,
    a4);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::init(int a1, int a2, __int64 a3)
{
  int v3; // r4@1
  int v4; // r5@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r0@3
  int v7; // r1@4
  __int64 v8; // kr00_8@6
  void (*v9)(void); // r3@6
  int v10; // r5@8
  unsigned int v11; // r0@9
  unsigned int *v12; // r6@9
  unsigned int v13; // r1@10
  int v14; // r8@13
  unsigned int v15; // r0@14
  unsigned int v16; // r0@16
  unsigned int *v17; // r7@18
  unsigned int v18; // r0@19
  _DWORD *v19; // r0@22
  int result; // r0@22
  _DWORD *v28; // [sp+0h] [bp-38h]@22
  int (__fastcall *v29)(void ***, void ***, int); // [sp+8h] [bp-30h]@22
  int (__fastcall *v30)(int *); // [sp+Ch] [bp-2Ch]@22
  __int64 v31; // [sp+10h] [bp-28h]@4
  void (*v32)(void); // [sp+18h] [bp-20h]@3
  int v33; // [sp+1Ch] [bp-1Ch]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 92);
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection init");
  v6 = 0;
  v32 = 0;
  HIDWORD(a3) = *(_DWORD *)(v4 + 8);
  if ( HIDWORD(a3) )
  {
    ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v31, v4, 2);
    v6 = *(_DWORD *)(v4 + 12);
    v33 = *(_DWORD *)(v4 + 12);
    v7 = *(_DWORD *)(v4 + 8);
    v32 = *(void (**)(void))(v4 + 8);
    a3 = v31;
  }
  else
    v7 = 0;
  v8 = *(_QWORD *)(v3 + 2272);
  v31 = *(_QWORD *)(v3 + 2272);
  *(_QWORD *)(v3 + 2272) = a3;
  v32 = *(void (**)(void))(v3 + 2280);
  v9 = v32;
  *(_DWORD *)(v3 + 2280) = v7;
  v33 = *(_DWORD *)(v3 + 2284);
  *(_DWORD *)(v3 + 2284) = v6;
  if ( v9 )
    v9();
  v10 = *(_DWORD *)(v3 + 4);
  if ( !v10 )
LABEL_25:
    j_std::__throw_bad_weak_ptr();
  v11 = *(_DWORD *)(v10 + 4);
  v12 = (unsigned int *)(v10 + 4);
  do
    v13 = v11;
    if ( !v11 )
      goto LABEL_25;
    __dmb();
    v11 = __ldrex(v12);
  while ( v11 != v13 || __strex(v13 + 1, v12) );
  __dmb();
  v14 = *(_DWORD *)v3;
    v15 = __ldrex(v12);
  while ( __strex(v15 + 1, v12) );
    v16 = __ldrex(v12);
  while ( __strex(v16 - 1, v12) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v10 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  v19 = j_operator new(0x10u);
  *v19 = websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_pre_init;
  v19[1] = 0;
  v19[2] = v14;
  v19[3] = v10;
  v28 = v19;
  v29 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::_Placeholder<1>)>>::_M_manager;
  v30 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::_Placeholder<1>)>>::_M_invoke;
  result = j_websocketpp::transport::asio::tls_socket::connection::pre_init(v3, (int)&v28);
  if ( v29 )
    result = ((int (__cdecl *)(_DWORD **))v29)(&v28);
  return result;
}


void __fastcall websocketpp::error::category::~category(websocketpp::error::category *this)
{
  void *v1; // r0@1

  v1 = (void *)nullsub_3(this);
  j_j_j__ZdlPv_8(v1);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::write_frame(int a1)
{
  int v1; // r6@1
  pthread_mutex_t *v2; // r4@1
  int v3; // r0@1
  signed int v4; // r5@3
  int v5; // r7@4
  int *v6; // r5@4
  unsigned __int64 *v7; // r11@4
  int v8; // r0@5
  int v9; // r1@6
  unsigned int *v10; // r0@7
  unsigned int v11; // r1@8
  int v12; // r7@13
  unsigned int *v13; // r0@14
  unsigned int v14; // r1@15
  unsigned int *v15; // r4@17
  unsigned int v16; // r0@18
  __int64 v17; // r0@20
  int v18; // r4@20
  unsigned int *v19; // r0@21
  unsigned int v20; // r1@22
  unsigned int *v21; // r7@24
  unsigned int v22; // r0@25
  unsigned int *v23; // r0@29
  unsigned int v24; // r1@30
  unsigned int *v25; // r4@32
  int v26; // r0@37
  int v27; // r7@39
  unsigned int *v28; // r0@40
  unsigned int v29; // r1@41
  unsigned int *v30; // r4@43
  unsigned int v31; // r0@44
  int v32; // r4@49
  _DWORD *v33; // r9@49
  _DWORD *v34; // r6@50
  _QWORD **v35; // r8@50
  int v36; // r5@50
  int v37; // r11@51
  __int64 v38; // r0@51
  _QWORD *v39; // r0@52
  __int64 v40; // r1@54
  int v41; // r4@58
  int v42; // r0@58
  bool v43; // zf@58
  int *v44; // r11@61
  unsigned __int8 v45; // vf@61
  char *v46; // r0@61
  int v47; // r0@61
  char *v48; // r6@62
  char *v49; // r0@62
  pthread_mutex_t *v50; // r5@62
  void *v51; // r0@62
  pthread_mutex_t *v52; // r5@63
  void *v53; // r0@63
  pthread_mutex_t *v54; // r5@64
  void *v55; // r0@64
  void *v56; // r0@65
  unsigned int v57; // r11@66
  void *v58; // r0@66
  void *v59; // r0@67
  __int64 v60; // r2@69
  unsigned int v61; // r8@74
  int v62; // r5@74
  int v63; // r4@74
  unsigned int *v64; // r1@75
  signed int v65; // r2@76
  unsigned int *v66; // r1@79
  signed int v67; // r2@80
  int v68; // r0@83
  int v69; // r10@83
  int v70; // r7@83
  char *v71; // r6@83
  int v72; // r1@83
  char *v73; // r6@83
  char *v74; // r0@83
  void *v75; // r0@83
  bool v76; // zf@84
  char *v77; // r6@87
  int v78; // r1@87
  char *v79; // r6@87
  char *v80; // r6@87
  int v81; // r0@87
  int *v82; // r1@87
  char *v83; // r0@90
  void *v84; // r0@90
  unsigned int *v85; // r1@93
  signed int v86; // r2@94
  unsigned int *v87; // r1@97
  signed int v88; // r2@98
  unsigned int *v89; // r1@101
  signed int v90; // r2@102
  unsigned int *v91; // r1@105
  signed int v92; // r2@106
  unsigned int *v93; // r1@109
  signed int v94; // r2@110
  unsigned int *v95; // r1@113
  signed int v96; // r2@114
  int v97; // [sp+24h] [bp-2ACh]@61
  pthread_mutex_t *v98; // [sp+28h] [bp-2A8h]@4
  int v99; // [sp+2Ch] [bp-2A4h]@49
  char v100; // [sp+30h] [bp-2A0h]@70
  void (__cdecl *v101)(char *, char *); // [sp+38h] [bp-298h]@69
  int v102; // [sp+3Ch] [bp-294h]@70
  int v103; // [sp+40h] [bp-290h]@64
  int v104; // [sp+44h] [bp-28Ch]@63
  int v105; // [sp+48h] [bp-288h]@62
  int v106; // [sp+4Ch] [bp-284h]@79
  int v107; // [sp+50h] [bp-280h]@75
  void **v108; // [sp+54h] [bp-27Ch]@61
  int v109; // [sp+58h] [bp-278h]@66
  void **v110; // [sp+5Ch] [bp-274h]@61
  void **v111; // [sp+60h] [bp-270h]@64
  int v112; // [sp+7Ch] [bp-254h]@66
  int v113; // [sp+84h] [bp-24Ch]@65
  void **v114; // [sp+88h] [bp-248h]@65
  void **v115; // [sp+110h] [bp-1C0h]@61
  int v116; // [sp+114h] [bp-1BCh]@67
  void **v117; // [sp+118h] [bp-1B8h]@61
  void **v118; // [sp+11Ch] [bp-1B4h]@63
  int v119; // [sp+138h] [bp-198h]@67
  int v120; // [sp+140h] [bp-190h]@66
  void **v121; // [sp+144h] [bp-18Ch]@66
  void **v122; // [sp+1CCh] [bp-104h]@61
  int v123; // [sp+1D0h] [bp-100h]@68
  void **v124; // [sp+1D4h] [bp-FCh]@61
  void **v125; // [sp+1D8h] [bp-F8h]@62
  int v126; // [sp+1F4h] [bp-DCh]@68
  int v127; // [sp+1FCh] [bp-D4h]@67
  void **v128; // [sp+200h] [bp-D0h]@67
  __int64 v129; // [sp+288h] [bp-48h]@54
  __int64 v130; // [sp+290h] [bp-40h]@51
  char v131; // [sp+298h] [bp-38h]@20
  int v132; // [sp+29Ch] [bp-34h]@20
  int v133; // [sp+2A0h] [bp-30h]@4
  int v134; // [sp+2A4h] [bp-2Ch]@6

  v1 = a1;
  v2 = (pthread_mutex_t *)(a1 + 2552);
  v3 = j_pthread_mutex_lock_1((pthread_mutex_t *)(a1 + 2552));
  if ( v3 )
    sub_21E5E14(v3);
  if ( *(_BYTE *)(v1 + 19064) )
  {
    v4 = 1;
    goto LABEL_48;
  }
  v98 = v2;
  j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_pop((int)&v133, v1);
  v5 = v133;
  v6 = (int *)(v1 + 19056);
  v7 = (unsigned __int64 *)(v1 + 19052);
  if ( v133 )
    while ( 1 )
    {
      v8 = *v6;
      if ( *v6 == *(_DWORD *)(v1 + 19060) )
      {
        j_std::vector<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_emplace_back_aux<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>> const&>(
          v7,
          (int)&v133);
      }
      else
        *(_DWORD *)v8 = v5;
        v9 = v134;
        *(_DWORD *)(v8 + 4) = v134;
        if ( v9 )
        {
          v10 = (unsigned int *)(v9 + 4);
          __dmb();
          do
            v11 = __ldrex(v10);
          while ( __strex(v11 + 1, v10) );
          v5 = v133;
        }
        *v6 += 8;
      if ( !*(_BYTE *)(v5 + 26) )
        break;
      v133 = 0;
      v12 = v134;
      v134 = 0;
      if ( v12 )
        v13 = (unsigned int *)(v12 + 4);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          v15 = (unsigned int *)(v12 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
            v16 = __ldrex(v15);
          while ( __strex(v16 - 1, v15) );
LABEL_34:
          if ( v16 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
          goto LABEL_36;
LABEL_36:
      v5 = v133;
      if ( !v133 )
        goto LABEL_37;
    }
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_pop((int)&v131, v1);
    v17 = *(_QWORD *)&v131;
    *(_DWORD *)&v131 = 0;
    v132 = 0;
    v133 = v17;
    v18 = v134;
    v134 = HIDWORD(v17);
    if ( v18 )
      v19 = (unsigned int *)(v18 + 4);
      __dmb();
      do
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 == 1 )
        v21 = (unsigned int *)(v18 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 8))(v18);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v18 + 12))(v18);
    v12 = v132;
    if ( !v132 )
      goto LABEL_36;
    v23 = (unsigned int *)(v132 + 4);
    __dmb();
    do
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 != 1 )
    v25 = (unsigned int *)(v12 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
      v16 = __ldrex(v25);
    while ( __strex(v16 - 1, v25) );
    goto LABEL_34;
LABEL_37:
  v26 = *v6;
  v4 = 1;
  if ( *(_DWORD *)v7 != v26 )
    *(_BYTE *)(v1 + 19064) = 1;
    v4 = 0;
  v27 = v134;
  if ( v134 )
    v28 = (unsigned int *)(v134 + 4);
      v29 = __ldrex(v28);
    while ( __strex(v29 - 1, v28) );
    if ( v29 == 1 )
      v30 = (unsigned int *)(v27 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
        v31 = __ldrex(v30);
      while ( __strex(v31 - 1, v30) );
      if ( v31 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
  v2 = v98;
LABEL_48:
  j_pthread_mutex_unlock_1(v2);
  if ( !v4 )
    v99 = v1;
    v32 = *(_DWORD *)(v1 + 19052);
    v33 = (_DWORD *)(v1 + 19056);
    if ( v32 != *(_DWORD *)(v1 + 19056) )
      v34 = (_DWORD *)(v1 + 19048);
      v35 = (_QWORD **)(v99 + 19044);
      v36 = v99 + 19040;
        v37 = *(_DWORD *)v32;
        LODWORD(v38) = *(_DWORD *)(*(_DWORD *)v32 + 8);
        HIDWORD(v38) = *(_DWORD *)(v38 - 12);
        v130 = v38;
        if ( *v35 == (_QWORD *)*v34 )
          j_std::vector<websocketpp::transport::buffer,std::allocator<websocketpp::transport::buffer>>::_M_emplace_back_aux<websocketpp::transport::buffer>(__PAIR__(&v130, v36));
          v39 = *v35;
        else
          **v35 = v130;
          v39 = *v35 + 1;
          *v35 = v39;
        LODWORD(v40) = *(_DWORD *)(v37 + 16);
        HIDWORD(v40) = *(_DWORD *)(v40 - 12);
        v129 = v40;
        if ( v39 == (_QWORD *)*v34 )
          j_std::vector<websocketpp::transport::buffer,std::allocator<websocketpp::transport::buffer>>::_M_emplace_back_aux<websocketpp::transport::buffer>(__PAIR__(&v129, v36));
          *v39 = v129;
          ++*v35;
        v32 += 8;
      while ( v32 != *v33 );
    v41 = v99;
    v42 = *(_DWORD *)(v99 + 19236);
    v43 = (*(_BYTE *)(v42 + 4) & 8) == 0;
    if ( *(_BYTE *)(v42 + 4) & 8 )
      v43 = (*(_BYTE *)(v42 + 8) & 8) == 0;
    if ( !v43 )
      sub_21D103C((int)&v122, 24);
      sub_21D103C((int)&v115, 24);
      sub_21D103C((int)&v108, 24);
      sub_21CBF38((char *)&v124, (int)"Dispatching write containing ", 29);
      v44 = (int *)(v99 + 19052);
      v45 = __OFSUB__(*v33, *(_DWORD *)(v99 + 19052));
      v46 = sub_21CC440((char *)&v124);
      sub_21CBF38(v46, (int)" message(s) containing ", 23);
      sub_21CBF38((char *)&v117, (int)"Header Bytes: \n", 15);
      sub_21CBF38((char *)&v110, (int)"Payload Bytes: \n", 16);
      v97 = v99 + 19236;
      v47 = *(_DWORD *)(v99 + 19052);
      if ( *v33 != *(_DWORD *)(v99 + 19052) )
        v61 = 0;
        v62 = 0;
        v63 = 0;
          v68 = *(_DWORD *)(v47 + 8 * v61);
          v69 = *(_DWORD *)(*(_DWORD *)(v68 + 8) - 12);
          v70 = *(_DWORD *)(*(_DWORD *)(v68 + 16) - 12);
          sub_21CBF38((char *)&v117, (int)"[", 1);
          v71 = sub_21CC440((char *)&v117);
          sub_21CBF38(v71, (int)"] (", 3);
          v72 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 8) - 12);
          v73 = sub_21CC440(v71);
          sub_21CBF38(v73, (int)") ", 2);
          j_websocketpp::utility::to_hex((const void **)&v107, (int *)(*(_DWORD *)(*v44 + 8 * v61) + 8));
          v74 = sub_21CBF38(v73, v107, *(_DWORD *)(v107 - 12));
          sub_21CBF38(v74, (int)"\n", 1);
          v75 = (void *)(v107 - 12);
          if ( (int *)(v107 - 12) != &dword_28898C0 )
          {
            v64 = (unsigned int *)(v107 - 4);
            __dmb();
            do
              v65 = __ldrex(v64);
            while ( __strex(v65 - 1, v64) );
            if ( v65 <= 0 )
              j_j_j_j__ZdlPv_9(v75);
          }
          v76 = (*(_BYTE *)(*(_DWORD *)v97 + 4) & 0x10) == 0;
          if ( *(_BYTE *)(*(_DWORD *)v97 + 4) & 0x10 )
            v76 = (*(_BYTE *)(*(_DWORD *)v97 + 8) & 0x10) == 0;
          if ( !v76 )
            sub_21CBF38((char *)&v110, (int)"[", 1);
            v77 = sub_21CC440((char *)&v110);
            sub_21CBF38(v77, (int)"] (", 3);
            v78 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 16) - 12);
            v79 = sub_21CC440(v77);
            sub_21CBF38(v79, (int)") [", 3);
            v80 = (char *)sub_21CC43C(v79, *(_DWORD *)(*(_DWORD *)(*v44 + 8 * v61) + 20));
            sub_21CBF38(v80, (int)"] ", 2);
            v81 = *(_DWORD *)(*v44 + 8 * v61);
            v82 = (int *)(v81 + 16);
            if ( *(_DWORD *)(v81 + 20) == 1 )
              sub_21E8AF4(&v106, v82);
            else
              j_websocketpp::utility::to_hex((const void **)&v106, v82);
            v83 = sub_21CBF38(v80, v106, *(_DWORD *)(v106 - 12));
            sub_21CBF38(v83, (int)"\n", 1);
            v84 = (void *)(v106 - 12);
            if ( (int *)(v106 - 12) != &dword_28898C0 )
            {
              v66 = (unsigned int *)(v106 - 4);
              __dmb();
              do
                v67 = __ldrex(v66);
              while ( __strex(v67 - 1, v66) );
              if ( v67 <= 0 )
                j_j_j_j__ZdlPv_9(v84);
            }
          v47 = *v44;
          v62 += v70;
          v63 += v69;
          ++v61;
        while ( v61 < (*v33 - *v44) >> 3 );
      v48 = sub_21CC440((char *)&v124);
      sub_21CBF38(v48, (int)" header bytes and ", 18);
      v49 = sub_21CC440(v48);
      sub_21CBF38(v49, (int)" payload bytes", 14);
      v50 = *(pthread_mutex_t **)v97;
      sub_21CFED8(&v105, (int)&v125);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v50, 8, &v105);
      v51 = (void *)(v105 - 12);
      if ( (int *)(v105 - 12) != &dword_28898C0 )
        v85 = (unsigned int *)(v105 - 4);
          v86 = __ldrex(v85);
        while ( __strex(v86 - 1, v85) );
        if ( v86 <= 0 )
          j_j_j_j__ZdlPv_9(v51);
      v52 = *(pthread_mutex_t **)v97;
      sub_21CFED8(&v104, (int)&v118);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v52, 8, &v104);
      v53 = (void *)(v104 - 12);
      if ( (int *)(v104 - 12) != &dword_28898C0 )
        v87 = (unsigned int *)(v104 - 4);
          v88 = __ldrex(v87);
        while ( __strex(v88 - 1, v87) );
        if ( v88 <= 0 )
          j_j_j_j__ZdlPv_9(v53);
      v54 = *(pthread_mutex_t **)v97;
      sub_21CFED8(&v103, (int)&v111);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v54, 16, &v103);
      v55 = (void *)(v103 - 12);
      if ( (int *)(v103 - 12) != &dword_28898C0 )
        v89 = (unsigned int *)(v103 - 4);
          v90 = __ldrex(v89);
        while ( __strex(v90 - 1, v89) );
        if ( v90 <= 0 )
          j_j_j_j__ZdlPv_9(v55);
      v108 = &off_26D3F94;
      v114 = &off_26D3FBC;
      v110 = &off_26D3FA8;
      v111 = &off_27734E8;
      v56 = (void *)(v113 - 12);
      if ( (int *)(v113 - 12) != &dword_28898C0 )
        v91 = (unsigned int *)(v113 - 4);
          v92 = __ldrex(v91);
        while ( __strex(v92 - 1, v91) );
        if ( v92 <= 0 )
          j_j_j_j__ZdlPv_9(v56);
      v111 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v112);
      v57 = 0xFFFE9F1C;
      v108 = &off_276D0DC;
      v114 = &off_276D0F0;
      v109 = 0;
      sub_21B6560(&v114);
      v115 = &off_26D3F94;
      v121 = &off_26D3FBC;
      v117 = &off_26D3FA8;
      v118 = &off_27734E8;
      v58 = (void *)(v120 - 12);
      if ( (int *)(v120 - 12) != &dword_28898C0 )
        v93 = (unsigned int *)(v120 - 4);
          v94 = __ldrex(v93);
        while ( __strex(v94 - 1, v93) );
        v57 = 0xFFFE9F1C;
        if ( v94 <= 0 )
          j_j_j_j__ZdlPv_9(v58);
      v118 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v119);
      v115 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 12);
      v121 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 32);
      v116 = 0;
      sub_21B6560(&v121);
      v122 = &off_26D3F94;
      v128 = &off_26D3FBC;
      v124 = &off_26D3FA8;
      v125 = &off_27734E8;
      v59 = (void *)(v127 - 12);
      if ( (int *)(v127 - 12) != &dword_28898C0 )
        v95 = (unsigned int *)(v127 - 4);
          v96 = __ldrex(v95);
        while ( __strex(v96 - 1, v95) );
        if ( v96 <= 0 )
          j_j_j_j__ZdlPv_9(v59);
      v125 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v126);
      v122 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 12);
      v128 = (void **)((char *)&GLOBAL_OFFSET_TABLE_ + v57 + 32);
      v123 = 0;
      sub_21B6560(&v128);
      v41 = v99;
    v101 = 0u;
    HIDWORD(v60) = *(_DWORD *)(v41 + 2344);
    if ( HIDWORD(v60) )
      ((void (__fastcall *)(int, const BlockPos *, int, int))HIDWORD(v60))(
        (int)&v100,
        (const BlockPos *)(v41 + 2336),
        2,
        SHIDWORD(v60));
      v102 = *(_DWORD *)(v41 + 2348);
      v101 = *(void (__cdecl **)(char *, char *))(v41 + 2344);
    LODWORD(v60) = &v100;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(
      v41,
      (unsigned __int64 *)(v41 + 0x4A60),
      v60);
    if ( v101 )
      v101(&v100, &v100);
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(
           a1,
           a2,
           a3,
           a4);
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_write(int a1, _DWORD *a2)
{
  int v2; // r4@1
  _DWORD *v3; // r5@1
  char v4; // r0@2
  RakNet *result; // r0@7
  int v6; // [sp+0h] [bp-18h]@1
  void *v7; // [sp+4h] [bp-14h]@1

  v2 = a1;
  v3 = a2;
  *(_DWORD *)(a1 + 136) = *(_DWORD *)(a1 + 132);
  v6 = 0;
  v7 = (void *)((int (__cdecl *)(_DWORD))byte_21E9640)(0);
  if ( *v3 )
  {
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
      v2,
      4,
      "asio async_write",
      v3);
    v4 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v4 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
    {
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    }
    v6 = 2;
    v7 = &websocketpp::transport::error::get_category(void)::instance;
  }
  if ( *(_DWORD *)(v2 + 2264) )
    result = (RakNet *)(*(int (__fastcall **)(int, int *))(v2 + 2268))(v2 + 2256, &v6);
  else
    result = j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v2 + 92),
               1024,
               "handle_async_write called with null write handler");
  return result;
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_client>::pong(int a1, int a2, int a3)
{
  int v3; // r5@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r10@1
  pthread_mutex_t *v6; // r6@3
  int v7; // r0@3
  void (__fastcall *v8)(char *); // r4@6
  unsigned int *v9; // r0@7
  unsigned int v10; // r2@8
  int *v11; // r8@10
  int v12; // r6@10
  unsigned int *v13; // r0@11
  unsigned int v14; // r1@12
  unsigned int *v15; // r4@14
  unsigned int v16; // r0@15
  unsigned int *result; // r0@18
  int v18; // r0@19
  pthread_mutex_t *v19; // r5@21
  void *v20; // r0@21
  char v21; // r0@22
  void *v22; // r0@25
  char v23; // r0@27
  int v24; // r4@31
  unsigned int v25; // r1@33
  unsigned int *v26; // r5@35
  unsigned int *v27; // r0@41
  unsigned int v28; // r1@42
  int v29; // r7@44
  unsigned int *v30; // r0@45
  unsigned int v31; // r1@46
  unsigned int *v32; // r4@48
  unsigned int v33; // r0@49
  int v34; // r0@53
  unsigned int *v35; // r1@54
  signed int v36; // r2@55
  unsigned int *v37; // r1@58
  signed int v38; // r2@59
  int v39; // r4@62
  int v40; // r7@62
  int v41; // r6@63
  unsigned int v42; // r0@64
  unsigned int *v43; // r7@64
  unsigned int v44; // r1@65
  int v45; // r9@68
  unsigned int v46; // r0@71
  unsigned int v47; // r0@73
  unsigned int *v48; // r4@75
  unsigned int v49; // r0@76
  unsigned int v50; // r0@80
  unsigned int v51; // r0@82
  unsigned int *v52; // r4@84
  unsigned int v53; // r0@85
  _DWORD *v54; // r0@88
  __int64 v55; // r0@88
  int v56; // [sp+0h] [bp-120h]@88
  _DWORD *v57; // [sp+8h] [bp-118h]@88
  int (*v58)(void); // [sp+10h] [bp-110h]@88
  int (__fastcall *v59)(int *); // [sp+14h] [bp-10Ch]@88
  int v60; // [sp+18h] [bp-108h]@40
  int v61; // [sp+1Ch] [bp-104h]@40
  int v62; // [sp+20h] [bp-100h]@6
  int v63; // [sp+24h] [bp-FCh]@6
  char v64; // [sp+28h] [bp-F8h]@10
  int v65; // [sp+34h] [bp-ECh]@5
  int v66; // [sp+38h] [bp-E8h]@6
  int v67; // [sp+3Ch] [bp-E4h]@21
  void **v68; // [sp+40h] [bp-E0h]@21
  int v69; // [sp+44h] [bp-DCh]@26
  void **v70; // [sp+48h] [bp-D8h]@21
  void **v71; // [sp+4Ch] [bp-D4h]@21
  int v72; // [sp+68h] [bp-B8h]@26
  int v73; // [sp+70h] [bp-B0h]@25
  void **v74; // [sp+74h] [bp-ACh]@25

  v3 = a1;
  v4 = *(pthread_mutex_t **)(a1 + 19196);
  v5 = a3;
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "connection pong");
  v6 = (pthread_mutex_t *)(v3 + 2508);
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2508));
  if ( v7 )
    sub_21E5E14(v7);
  if ( *(_DWORD *)(v3 + 2500) == 1 )
  {
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2508));
    j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
      (int)&v65,
      *(_DWORD *)(v3 + 18920));
    if ( v65 )
    {
      v8 = *(void (__fastcall **)(char *))(**(_DWORD **)(v3 + 18948) + 80);
      v62 = v65;
      v63 = v66;
      if ( v66 )
      {
        v9 = (unsigned int *)(v66 + 4);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 + 1, v9) );
      }
      v8(&v64);
      v11 = &v66;
      *(_QWORD *)v5 = *(_QWORD *)&v64;
      v12 = v63;
      if ( v63 )
        v13 = (unsigned int *)(v63 + 4);
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
        {
          v15 = (unsigned int *)(v12 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
          __dmb();
          do
            v16 = __ldrex(v15);
          while ( __strex(v16 - 1, v15) );
          if ( v16 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
        }
      result = *(unsigned int **)v5;
      if ( !*(_DWORD *)v5 )
        v18 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2512));
        if ( v18 )
          sub_21E5E14(v18);
        v60 = v65;
        v61 = v66;
        if ( v66 )
          v27 = (unsigned int *)(v66 + 4);
            v28 = __ldrex(v27);
          while ( __strex(v28 + 1, v27) );
        j_websocketpp::connection<websocketpp::config::asio_client>::write_push(v3, &v60);
        v29 = v61;
        if ( v61 )
          v30 = (unsigned int *)(v61 + 4);
            v31 = __ldrex(v30);
          while ( __strex(v31 - 1, v30) );
          if ( v31 == 1 )
          {
            v32 = (unsigned int *)(v29 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
            __dmb();
            do
              v33 = __ldrex(v32);
            while ( __strex(v33 - 1, v32) );
            if ( v33 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
          }
        if ( *(_BYTE *)(v3 + 19024) )
          v34 = j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2512));
        else
          v39 = *(_DWORD *)(v3 + 18964);
          v40 = *(_DWORD *)(v3 + 18980);
          if ( v40 != v39 )
            v41 = *(_DWORD *)(v3 + 4);
            if ( !v41 )
              j_std::__throw_bad_weak_ptr();
            v42 = *(_DWORD *)(v41 + 4);
            v43 = (unsigned int *)(v41 + 4);
            {
              v44 = v42;
              if ( !v42 )
                j_std::__throw_bad_weak_ptr();
              __dmb();
              v42 = __ldrex(v43);
            }
            while ( v42 != v44 || __strex(v44 + 1, v43) );
            v45 = *(_DWORD *)v3;
              v46 = __ldrex(v43);
            while ( __strex(v46 + 1, v43) );
              v47 = __ldrex(v43);
            while ( __strex(v47 - 1, v43) );
            if ( v47 == 1 )
              v48 = (unsigned int *)(v41 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v41 + 8))(v41);
              do
                v49 = __ldrex(v48);
              while ( __strex(v49 - 1, v48) );
              if ( v49 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v41 + 12))(v41);
              v50 = __ldrex(v43);
            while ( __strex(v50 + 1, v43) );
              v51 = __ldrex(v43);
            while ( __strex(v51 - 1, v43) );
            if ( v51 == 1 )
              v52 = (unsigned int *)(v41 + 8);
                v53 = __ldrex(v52);
              while ( __strex(v53 - 1, v52) );
              if ( v53 == 1 )
            v54 = j_operator new(0x10u);
            *v54 = websocketpp::connection<websocketpp::config::asio_client>::write_frame;
            v54[1] = 0;
            v54[2] = v45;
            v54[3] = v41;
            v57 = v54;
            v58 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_manager;
            v59 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_invoke;
            LODWORD(v55) = &v56;
            v34 = j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::dispatch(
                    v55,
                    (int)&v57);
            if ( v58 )
              v34 = v58();
        result = (unsigned int *)((int (__fastcall *)(int))byte_21E9640)(v34);
        *(_DWORD *)v5 = 0;
        *(_DWORD *)(v5 + 4) = result;
    }
    else
      v23 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v23 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      result = (unsigned int *)&websocketpp::error::get_category(void)::instance;
      *(_DWORD *)v5 = 7;
      *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    v24 = *v11;
    if ( *v11 )
      result = (unsigned int *)(v24 + 4);
      do
        v25 = __ldrex(result);
      while ( __strex(v25 - 1, result) );
      if ( v25 == 1 )
        v26 = (unsigned int *)(v24 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
          result = (unsigned int *)__ldrex(v26);
        while ( __strex((unsigned int)result - 1, v26) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
  }
  else
    sub_21D103C((int)&v68, 24);
    sub_21CBF38((char *)&v70, (int)"connection::pong called from invalid state ", 43);
    sub_21CC43C(&v70, *(_DWORD *)(v3 + 2500));
    v19 = *(pthread_mutex_t **)(v3 + 19196);
    sub_21CFED8(&v67, (int)&v71);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, &v67);
    v20 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v35 = (unsigned int *)(v67 - 4);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    v21 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 9;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    v68 = &off_26D3F94;
    v74 = &off_26D3FBC;
    v70 = &off_26D3FA8;
    v71 = &off_27734E8;
    v22 = (void *)(v73 - 12);
    if ( (int *)(v73 - 12) != &dword_28898C0 )
      v37 = (unsigned int *)(v73 - 4);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v22);
    v71 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v72);
    v68 = &off_276D0DC;
    v74 = &off_276D0F0;
    v69 = 0;
    sub_21B6560(&v74);
    result = (unsigned int *)j_pthread_mutex_unlock_1(v6);
  return result;
}


unsigned int *__fastcall websocketpp::client<websocketpp::config::asio_tls_client>::get_connection(int a1, int a2, const void **a3, int a4)
{
  int v4; // r6@1
  int v5; // r5@1
  int v6; // r7@1
  int v7; // r4@1
  unsigned int *v8; // r0@5
  unsigned int v9; // r1@6
  unsigned int *result; // r0@8
  int v11; // r5@8
  unsigned int v12; // r1@10
  unsigned int *v13; // r4@12
  char v14; // r0@16
  int v15; // r4@20
  unsigned int v16; // r1@22
  unsigned int *v17; // r5@24
  int v18; // [sp+4h] [bp-2Ch]@4
  int v19; // [sp+8h] [bp-28h]@4
  int v20; // [sp+Ch] [bp-24h]@1
  int v21; // [sp+10h] [bp-20h]@1
  char v22; // [sp+14h] [bp-1Ch]@1

  v4 = a1;
  v5 = a4;
  v6 = a2;
  v7 = 0;
  v20 = 0;
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRKSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
    &v21,
    0,
    (int)&v22,
    a3);
  if ( v21 )
    v7 = (*(int (**)(void))(*(_DWORD *)v21 + 16))();
  v20 = v7;
  if ( *(_BYTE *)(v7 + 15) )
  {
    v18 = v7;
    v19 = v21;
    if ( v21 )
    {
      v8 = (unsigned int *)(v21 + 4);
      __dmb();
      do
        v9 = __ldrex(v8);
      while ( __strex(v9 + 1, v8) );
    }
    result = (unsigned int *)j_websocketpp::client<websocketpp::config::asio_tls_client>::get_connection(
                               v4,
                               v6,
                               (unsigned __int64 *)&v18,
                               v5);
    v11 = v19;
    if ( v19 )
      result = (unsigned int *)(v19 + 4);
        v12 = __ldrex(result);
      while ( __strex(v12 - 1, result) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v11 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
        __dmb();
        do
          result = (unsigned int *)__ldrex(v13);
        while ( __strex((unsigned int)result - 1, v13) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
      }
  }
  else
    v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v14 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 6;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    result = 0;
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 4) = 0;
  v15 = v21;
    result = (unsigned int *)(v21 + 4);
    do
      v16 = __ldrex(result);
    while ( __strex(v16 - 1, result) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v15 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
        result = (unsigned int *)__ldrex(v17);
      while ( __strex((unsigned int)result - 1, v17) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_resolve(unsigned int a1, int *a2, int *a3, unsigned int a4, _DWORD *a5, int a6)
{
  unsigned __int64 v6; // r10@1
  int *v7; // r8@1
  int *v8; // r5@1
  unsigned int v9; // r4@2
  unsigned int v10; // r6@2
  signed int v11; // r1@2
  signed __int64 v12; // r0@7
  bool v13; // zf@9
  signed int v14; // r1@14
  bool v15; // cf@21
  signed int v16; // r6@21
  bool v17; // zf@29
  unsigned __int64 v18; // r0@34
  RakNet *result; // r0@49
  int v20; // r4@50
  char v21; // r0@53
  pthread_mutex_t *v22; // r0@58
  int *v23; // r7@59
  _DWORD *v24; // r4@59
  int v25; // r6@59
  unsigned int *v26; // r0@60
  unsigned int v27; // r1@61
  int v28; // r8@65
  int v29; // r9@65
  int v30; // r1@66
  int v31; // r0@66
  int v32; // r2@66
  int v33; // r3@66
  int v34; // r5@66
  int v35; // r7@66
  char *v36; // r0@66
  unsigned int *v37; // r0@68
  unsigned int v38; // r1@69
  unsigned int *v39; // r4@71
  unsigned int v40; // r0@72
  pthread_mutex_t *v41; // r5@78
  void *v42; // r0@78
  unsigned int *v43; // r0@80
  unsigned int v44; // r1@81
  unsigned int *v45; // r5@83
  unsigned int v46; // r0@84
  void *v47; // r0@87
  int *v48; // r1@89
  int v49; // r5@89
  int *v50; // r4@89
  void (__fastcall *v51)(int *, _DWORD, signed int); // r3@89
  int v52; // r1@90
  int v53; // r1@92
  unsigned int *v54; // r1@93
  unsigned int v55; // r2@94
  _QWORD *v56; // r0@96
  int v57; // r1@96
  int v58; // r1@96
  int v59; // r1@96
  __int64 v60; // r2@96
  __int64 v61; // kr28_8@96
  int v62; // r5@98
  unsigned int *v63; // r0@99
  unsigned int v64; // r1@100
  unsigned int *v65; // r6@102
  unsigned int v66; // r0@103
  int v67; // r5@106
  unsigned int *v68; // r0@107
  unsigned int v69; // r1@108
  unsigned int *v70; // r6@110
  unsigned int v71; // r0@111
  int v72; // r0@116
  int v73; // r8@116
  int v74; // r1@116
  unsigned int *v75; // r0@117
  unsigned int v76; // r1@118
  __int64 *v77; // r5@120 OVERLAPPED
  int v78; // r6@120 OVERLAPPED
  unsigned int *v79; // r0@121
  unsigned int v80; // r1@122
  void (__fastcall *v81)(int *, _DWORD, signed int); // r3@124
  unsigned int *v82; // r0@127
  unsigned int v83; // r1@128
  int v84; // r1@130
  int v85; // r0@130
  unsigned int *v86; // r0@131
  unsigned int v87; // r1@132
  __int64 v88; // r2@135
  int v89; // r4@135
  unsigned int v90; // r1@137
  unsigned int *v91; // r5@139
  int v92; // r4@143
  unsigned int v93; // r1@145
  unsigned int *v94; // r5@147
  int v95; // r4@153
  unsigned int v96; // r1@155
  unsigned int *v97; // r5@157
  int v98; // r4@161
  unsigned int v99; // r1@163
  unsigned int *v100; // r5@165
  unsigned int v101; // r1@173
  unsigned int *v102; // r4@175
  int v103; // r4@179
  unsigned int v104; // r1@181
  unsigned int *v105; // r5@183
  unsigned int v106; // r1@189
  unsigned int *v107; // r4@191
  unsigned int *v108; // r1@196
  signed int v109; // r2@197
  unsigned int *v110; // r1@200
  signed int v111; // r2@201
  int *v112; // [sp+8h] [bp-1D8h]@64
  unsigned __int64 v113; // [sp+Ch] [bp-1D4h]@59
  int v114; // [sp+14h] [bp-1CCh]@133
  int v115; // [sp+20h] [bp-1C0h]@125
  int v116; // [sp+24h] [bp-1BCh]@135
  __int64 v117; // [sp+28h] [bp-1B8h]@124
  __int64 v118; // [sp+30h] [bp-1B0h]@126
  int v119; // [sp+38h] [bp-1A8h]@130
  int v120; // [sp+3Ch] [bp-1A4h]@130
  int v121; // [sp+40h] [bp-1A0h]@135
  __int64 v122; // [sp+48h] [bp-198h]@135
  __int64 v123; // [sp+50h] [bp-190h]@135
  int v124; // [sp+58h] [bp-188h]@135
  int v125; // [sp+5Ch] [bp-184h]@135
  int (*v126)(void); // [sp+60h] [bp-180h]@135
  int v127; // [sp+64h] [bp-17Ch]@135
  int v128; // [sp+68h] [bp-178h]@135
  int v129; // [sp+6Ch] [bp-174h]@135
  int v130; // [sp+70h] [bp-170h]@135
  int v131; // [sp+74h] [bp-16Ch]@135
  int v132; // [sp+78h] [bp-168h]@135
  int v133; // [sp+7Ch] [bp-164h]@116
  int v134; // [sp+80h] [bp-160h]@116
  int v135; // [sp+84h] [bp-15Ch]@120
  __int64 v136; // [sp+88h] [bp-158h]@89
  int v137; // [sp+90h] [bp-150h]@90
  __int64 v138; // [sp+98h] [bp-148h]@89
  int v139; // [sp+A0h] [bp-140h]@92
  int v140; // [sp+A4h] [bp-13Ch]@92
  int v141; // [sp+A8h] [bp-138h]@92
  int v142; // [sp+ACh] [bp-134h]@92
  int v143; // [sp+B0h] [bp-130h]@96
  _QWORD *v144; // [sp+B4h] [bp-12Ch]@96
  void (*v145)(void); // [sp+BCh] [bp-124h]@96
  __int64 v146; // [sp+C4h] [bp-11Ch]@96
  int v147; // [sp+CCh] [bp-114h]@78
  int v148; // [sp+D0h] [bp-110h]@66
  int v149; // [sp+D4h] [bp-10Ch]@66
  int v150; // [sp+D8h] [bp-108h]@66
  int v151; // [sp+DCh] [bp-104h]@66
  int v152; // [sp+E0h] [bp-100h]@66
  int v153; // [sp+E4h] [bp-FCh]@66
  int v154; // [sp+E8h] [bp-F8h]@66
  void **v155; // [sp+ECh] [bp-F4h]@59
  int v156; // [sp+F0h] [bp-F0h]@88
  void **v157; // [sp+F4h] [bp-ECh]@59
  void **v158; // [sp+F8h] [bp-E8h]@87
  int v159; // [sp+11Ch] [bp-C4h]@87
  void **v160; // [sp+120h] [bp-C0h]@87
  int v161; // [sp+1A8h] [bp-38h]@56
  void *v162; // [sp+1ACh] [bp-34h]@56
  __int64 v163; // [sp+1B0h] [bp-30h]@2

  v6 = __PAIR__(a4, a1);
  v7 = a3;
  v8 = a2;
  if ( *a5 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v6 + 92),
             1024,
             "async_resolve cancelled");
  v9 = *(_QWORD *)(*a3 + 8) >> 32;
  v10 = *(_QWORD *)(*a3 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v163,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v11 = 0;
  if ( v10 + 2 < 3 )
    v11 = 1;
  if ( (__PAIR__(v9, v10) - 9223372036854775806LL) >> 32 )
    v11 = 0;
  if ( v11 )
  {
    v12 = -6442450945LL;
    if ( !(v10 ^ 0xFFFFFFFE | v9 ^ 0x7FFFFFFF) || -6442450945LL == __PAIR__(v163, HIDWORD(v163)) )
      goto LABEL_48;
    LODWORD(v12) = 0x7FFFFFFF;
    HIDWORD(v12) = v9 ^ 0x7FFFFFFF | ~v10;
    v13 = HIDWORD(v12) == 0;
    if ( !HIDWORD(v12) )
      v13 = (HIDWORD(v163) ^ 0x7FFFFFFF | ~(_DWORD)v163) == 0;
    if ( v13 )
    {
      HIDWORD(v12) = -2;
    }
    v17 = (v9 ^ 0x80000000 | v10) == 0;
    if ( !(v9 ^ 0x80000000 | v10) )
      v17 = (HIDWORD(v163) ^ 0x80000000 | (unsigned int)v163) == 0;
    if ( v17 )
      v12 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v163 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v163 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      v15 = v10 >= (unsigned int)v163;
      HIDWORD(v12) = v10 - v163;
      v16 = 0;
      LODWORD(v12) = v9 - (HIDWORD(v163) + !v15);
      if ( (unsigned int)(HIDWORD(v12) + 2) > 2 )
        v16 = 1;
      if ( __CFADD__(HIDWORD(v12), 2) + (_DWORD)v12 != 0x80000000 )
        v16 = __CFADD__(HIDWORD(v12), 2) + (_DWORD)v12 != 2147483648;
      if ( v16 )
      {
        if ( (signed int)v12 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v6 + 92),
                   1024,
                   "async_resolve cancelled");
        goto LABEL_50;
      }
    if ( v163 == 9223372036854775806LL )
  v18 = __PAIR__(v9, v10) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v18) = 0;
  if ( v10 + 1 < 2 )
    LODWORD(v18) = 1;
  if ( HIDWORD(v18) )
    LODWORD(v18) = 0;
  if ( (_DWORD)v18 )
    goto LABEL_207;
  if ( !(HIDWORD(v163) ^ 0x80000000 | (unsigned int)v163) )
    v12 = -2147483649LL;
    goto LABEL_48;
  LODWORD(v12) = 0x7FFFFFFF;
  if ( !(HIDWORD(v163) ^ 0x7FFFFFFF | ~(_DWORD)v163) )
    v12 = 0x80000000LL;
  HIDWORD(v12) = -2;
  v9 = (__PAIR__(v9, v10) - v163) >> 32;
  v10 -= v163;
  if ( __PAIR__(v9, v10) != 9223372036854775806LL )
LABEL_207:
    if ( !(v9 ^ 0x7FFFFFFF | ~v10) )
      HIDWORD(v12) = -1;
    if ( !(v10 | v9 ^ 0x80000000) )
      HIDWORD(v12) = v10 | v9 ^ 0x80000000;
      LODWORD(v12) = 2147483648;
LABEL_48:
  if ( v12 == 0x80000000LL )
LABEL_50:
  v20 = *v7;
  sub_21B09F0();
  if ( *(_BYTE *)(v20 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v20 + 52),
      *(_DWORD *)v20 + 20,
      v20 + 20,
      -1);
    *(_BYTE *)(v20 + 16) = 0;
  if ( *a5 )
    j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(
      v6,
      4,
      "asio async_resolve",
      a5);
    v21 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v161 = 3;
    v162 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(HIDWORD(v6) + 8) )
      sub_21E5F48();
    result = (RakNet *)(*(int (__fastcall **)(_DWORD, int *))(HIDWORD(v6) + 12))(HIDWORD(v6), &v161);
    v22 = *(pthread_mutex_t **)(v6 + 92);
    if ( *((_BYTE *)&v22->__align + 5) & 4 )
      v23 = (int *)&v155;
      HIDWORD(v113) = HIDWORD(v6);
      sub_21D103C((int)&v155, 24);
      sub_21CBF38((char *)&v157, (int)"Async DNS resolve successful. Results: ", 39);
      v25 = *(_QWORD *)a6 >> 32;
      v24 = (_DWORD *)*(_QWORD *)a6;
      if ( v25 )
        v26 = (unsigned int *)(v25 + 4);
        LODWORD(v113) = v6;
        __dmb();
        do
          v27 = __ldrex(v26);
        while ( __strex(v27 + 1, v26) );
      else
        v25 = 0;
      v112 = v8;
      if ( v24 )
        v28 = *(_DWORD *)(a6 + 8);
        v29 = 36 * v28;
        {
          v30 = *(_DWORD *)(*v24 + v29);
          v31 = *v24 + v29;
          v32 = *(_DWORD *)(v31 + 4);
          v33 = *(_DWORD *)(v31 + 8);
          v34 = *(_DWORD *)(v31 + 12);
          v35 = *(_DWORD *)(v31 + 16);
          v153 = *(_DWORD *)(v31 + 20);
          v148 = v30;
          v149 = v32;
          v150 = v33;
          v151 = v34;
          v152 = v35;
          v154 = *(_DWORD *)(v31 + 24);
          j_boost::asio::ip::operator<<<char,std::char_traits<char>,boost::asio::ip::tcp>();
          sub_21CBF38(v36, (int)" ", 1);
          v29 += 36;
          ++v28;
        }
        while ( v28 != 954437177 * ((signed int)((*(_QWORD *)v24 >> 32) - *(_QWORD *)v24) >> 2) );
        if ( v25 )
          __dmb();
          v37 = (unsigned int *)(v25 + 4);
          LODWORD(v6) = v113;
          v23 = (int *)&v155;
          do
            v38 = __ldrex(v37);
          while ( __strex(v38 - 1, v37) );
          if ( v38 == 1 )
          {
            v39 = (unsigned int *)(v25 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
            __dmb();
            do
              v40 = __ldrex(v39);
            while ( __strex(v40 - 1, v39) );
            if ( v40 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
          }
          v25 = 0;
        else
        v6 = v113;
      v41 = *(pthread_mutex_t **)(v6 + 92);
      sub_21CFED8(&v147, (int)(v23 + 3));
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v41, 1024, &v147);
      v8 = v112;
      v42 = (void *)(v147 - 12);
      if ( (int *)(v147 - 12) != &dword_28898C0 )
        v108 = (unsigned int *)(v147 - 4);
          v109 = __ldrex(v108);
        while ( __strex(v109 - 1, v108) );
        if ( v109 <= 0 )
          j_j_j_j__ZdlPv_9(v42);
        v43 = (unsigned int *)(v25 + 4);
          v44 = __ldrex(v43);
        while ( __strex(v44 - 1, v43) );
        if ( v44 == 1 )
          v45 = (unsigned int *)(v25 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
            v46 = __ldrex(v45);
          while ( __strex(v46 - 1, v45) );
          v8 = v112;
          if ( v46 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
      v155 = &off_26D3F94;
      v160 = &off_26D3FBC;
      v157 = &off_26D3FA8;
      v158 = &off_27734E8;
      v47 = (void *)(v159 - 12);
      if ( (int *)(v159 - 12) != &dword_28898C0 )
        v110 = (unsigned int *)(v159 - 4);
          v111 = __ldrex(v110);
        while ( __strex(v111 - 1, v110) );
        if ( v111 <= 0 )
          j_j_j_j__ZdlPv_9(v47);
      v158 = &off_26D40A8;
      sub_21C802C((unsigned int **)v23 + 10);
      v155 = &off_276D0DC;
      v160 = &off_276D0F0;
      v156 = 0;
      sub_21B6560(v23 + 13);
      v22 = *(pthread_mutex_t **)(v6 + 92);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v22,
      1024,
      "Starting async connect");
    v48 = v8;
    v49 = *v8;
    v50 = v48;
    v136 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_connect_timeout;
    LODWORD(v138) = 0;
    v51 = *(void (__fastcall **)(int *, _DWORD, signed int))(HIDWORD(v6) + 8);
    if ( v51 )
      v51(&v137, HIDWORD(v6), 2);
      v138 = *(_QWORD *)(HIDWORD(v6) + 8);
      v52 = *v50;
    else
      v52 = v49;
    v139 = 0;
    v140 = 0;
    v141 = v52;
    v53 = v50[1];
    v142 = v53;
    if ( v53 )
      v54 = (unsigned int *)(v53 + 4);
      __dmb();
      do
        v55 = __ldrex(v54);
      while ( __strex(v55 + 1, v54) );
    v143 = v6;
    v145 = 0;
    v56 = j_operator new(0x2Cu);
    *v56 = v136;
    v56[1] = *(_QWORD *)&v137;
    v57 = v138;
    *((_DWORD *)v56 + 4) = v57;
    *((_DWORD *)v56 + 5) = HIDWORD(v138);
    *((_DWORD *)v56 + 6) = v139;
    v58 = v140;
    *((_DWORD *)v56 + 7) = v58;
    *((_DWORD *)v56 + 8) = v141;
    v59 = v142;
    HIDWORD(v60) = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
    LODWORD(v60) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
    v142 = 0;
    *((_DWORD *)v56 + 9) = v59;
    v141 = 0;
    *((_DWORD *)v56 + 10) = v6;
    v144 = v56;
    *(_QWORD *)&v145 = v60;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
      (int)&v146,
      v49,
      5000,
      (int)&v144);
    v61 = v146;
    v146 = 0LL;
    if ( v145 )
      v145();
    v62 = v142;
    if ( v142 )
      v63 = (unsigned int *)(v142 + 4);
        v64 = __ldrex(v63);
      while ( __strex(v64 - 1, v63) );
      if ( v64 == 1 )
        v65 = (unsigned int *)(v62 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 8))(v62);
          v66 = __ldrex(v65);
        while ( __strex(v66 - 1, v65) );
        if ( v66 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 12))(v62);
    v67 = v140;
    if ( v140 )
      v68 = (unsigned int *)(v140 + 4);
        v69 = __ldrex(v68);
      while ( __strex(v69 - 1, v68) );
      if ( v69 == 1 )
        v70 = (unsigned int *)(v67 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v67 + 8))(v67);
          v71 = __ldrex(v70);
        while ( __strex(v71 - 1, v70) );
        if ( v71 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v67 + 12))(v67);
    if ( (_DWORD)v138 )
      ((void (*)(void))v138)();
    v72 = *v50;
    v73 = *(_DWORD *)(*v50 + 8);
    v133 = *(_DWORD *)a6;
    v74 = *(_DWORD *)(a6 + 4);
    v134 = v74;
    if ( v74 )
      v75 = (unsigned int *)(v74 + 4);
        v76 = __ldrex(v75);
      while ( __strex(v76 + 1, v75) );
      v72 = *v50;
    v135 = *(_DWORD *)(a6 + 8);
    *(_QWORD *)&v77 = *(_QWORD *)(v72 + 72);
    if ( v78 )
      v79 = (unsigned int *)(v78 + 4);
        v80 = __ldrex(v79);
      while ( __strex(v80 + 1, v79) );
    LODWORD(v117) = 0;
    v81 = *(void (__fastcall **)(int *, _DWORD, signed int))(HIDWORD(v6) + 8);
    if ( v81 )
      v81(&v115, HIDWORD(v6), 2);
      v117 = *(_QWORD *)(HIDWORD(v6) + 8);
    v118 = v61;
    if ( HIDWORD(v61) )
      v82 = (unsigned int *)(HIDWORD(v61) + 4);
        v83 = __ldrex(v82);
      while ( __strex(v83 + 1, v82) );
    v84 = *v50;
    v119 = *v50;
    v85 = v50[1];
    v120 = v85;
    if ( v85 )
      v86 = (unsigned int *)(v85 + 4);
        v87 = __ldrex(v86);
      while ( __strex(v87 + 1, v86) );
      v114 = v78;
      v85 = v120;
      v84 = v119;
    v121 = v6;
    v122 = *v77;
    v123 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::handle_connect;
    v88 = *(_QWORD *)&v115;
    v115 = v124;
    v116 = v125;
    *(_QWORD *)&v124 = v88;
    v126 = (int (*)(void))v117;
    LODWORD(v88) = HIDWORD(v117);
    HIDWORD(v117) = v127;
    v127 = v88;
    LODWORD(v88) = HIDWORD(v118);
    v128 = v118;
    v118 = 0LL;
    v129 = v88;
    v130 = v84;
    v119 = 0;
    v120 = 0;
    v131 = v85;
    v132 = v6;
    result = (RakNet *)j_boost::asio::async_connect<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>,boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
                         v73,
                         (int)&v133,
                         (int)&v122);
    v89 = v131;
    if ( v131 )
      result = (RakNet *)(v131 + 4);
        v90 = __ldrex((unsigned int *)result);
      while ( __strex(v90 - 1, (unsigned int *)result) );
      if ( v90 == 1 )
        v91 = (unsigned int *)(v89 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 8))(v89);
          result = (RakNet *)__ldrex(v91);
        while ( __strex((unsigned int)result - 1, v91) );
        if ( result == (RakNet *)1 )
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v89 + 12))(v89);
    v92 = v129;
    if ( v129 )
      result = (RakNet *)(v129 + 4);
        v93 = __ldrex((unsigned int *)result);
      while ( __strex(v93 - 1, (unsigned int *)result) );
      if ( v93 == 1 )
        v94 = (unsigned int *)(v92 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v92 + 8))(v92);
          result = (RakNet *)__ldrex(v94);
        while ( __strex((unsigned int)result - 1, v94) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v92 + 12))(v92);
    if ( v126 )
      result = (RakNet *)v126();
    v95 = v120;
    if ( v120 )
      result = (RakNet *)(v120 + 4);
        v96 = __ldrex((unsigned int *)result);
      while ( __strex(v96 - 1, (unsigned int *)result) );
      if ( v96 == 1 )
        v97 = (unsigned int *)(v95 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v95 + 8))(v95);
          result = (RakNet *)__ldrex(v97);
        while ( __strex((unsigned int)result - 1, v97) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v95 + 12))(v95);
    v98 = HIDWORD(v118);
    if ( HIDWORD(v118) )
      result = (RakNet *)(HIDWORD(v118) + 4);
        v99 = __ldrex((unsigned int *)result);
      while ( __strex(v99 - 1, (unsigned int *)result) );
      if ( v99 == 1 )
        v100 = (unsigned int *)(v98 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 8))(v98);
          result = (RakNet *)__ldrex(v100);
        while ( __strex((unsigned int)result - 1, v100) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v98 + 12))(v98);
    if ( (_DWORD)v117 )
      result = (RakNet *)((int (*)(void))v117)();
    if ( v114 )
      result = (RakNet *)(v114 + 4);
        v101 = __ldrex((unsigned int *)result);
      while ( __strex(v101 - 1, (unsigned int *)result) );
      if ( v101 == 1 )
        v102 = (unsigned int *)(v114 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v114 + 8))(v114);
          result = (RakNet *)__ldrex(v102);
        while ( __strex((unsigned int)result - 1, v102) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v114 + 12))(v114);
    v103 = v134;
    if ( v134 )
      result = (RakNet *)(v134 + 4);
        v104 = __ldrex((unsigned int *)result);
      while ( __strex(v104 - 1, (unsigned int *)result) );
      if ( v104 == 1 )
        v105 = (unsigned int *)(v103 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v103 + 8))(v103);
          result = (RakNet *)__ldrex(v105);
        while ( __strex((unsigned int)result - 1, v105) );
          result = (RakNet *)(*(int (__fastcall **)(int))(*(_DWORD *)v103 + 12))(v103);
      result = (RakNet *)(HIDWORD(v61) + 4);
        v106 = __ldrex((unsigned int *)result);
      while ( __strex(v106 - 1, (unsigned int *)result) );
      if ( v106 == 1 )
        v107 = (unsigned int *)(HIDWORD(v61) + 8);
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v61) + 8))(HIDWORD(v61));
          result = (RakNet *)__ldrex(v107);
        while ( __strex((unsigned int)result - 1, v107) );
          result = (RakNet *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v61) + 12))(HIDWORD(v61));
  return result;
}


int __fastcall websocketpp::http::exception::~exception(int a1)
{
  int v1; // r4@1
  int v2; // r1@1
  void *v3; // r0@1
  int v4; // r1@2
  void *v5; // r0@2
  int v6; // r1@3
  void *v7; // r0@3
  unsigned int *v9; // r1@5
  signed int v10; // r2@6
  unsigned int *v11; // r1@9
  signed int v12; // r2@10
  unsigned int *v13; // r1@13
  signed int v14; // r2@14

  v1 = a1;
  *(_DWORD *)a1 = &off_276D304;
  v2 = *(_DWORD *)(a1 + 12);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v9 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v10 = __ldrex(v9);
    while ( __strex(v10 - 1, v9) );
    if ( v10 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  v4 = *(_DWORD *)(v1 + 8);
  v5 = (void *)(v4 - 12);
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v11 = (unsigned int *)(v4 - 4);
      v12 = __ldrex(v11);
    while ( __strex(v12 - 1, v11) );
    if ( v12 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  v6 = *(_DWORD *)(v1 + 4);
  v7 = (void *)(v6 - 12);
  if ( (int *)(v6 - 12) != &dword_28898C0 )
    v13 = (unsigned int *)(v6 - 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  j_std::exception::~exception();
  return v1;
}


int __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::~endpoint(int a1)
{
  int v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  boost::asio::io_service *v7; // r0@11
  boost::asio::io_service *v8; // r0@12
  int v9; // r5@13
  unsigned int *v10; // r0@14
  unsigned int v11; // r1@15
  unsigned int *v12; // r6@17
  unsigned int v13; // r0@18
  int v14; // r5@21
  unsigned int *v15; // r0@22
  unsigned int v16; // r1@23
  unsigned int *v17; // r6@25
  unsigned int v18; // r0@26
  int v19; // r5@29
  unsigned int *v20; // r0@30
  unsigned int v21; // r1@31
  unsigned int *v22; // r6@33
  unsigned int v23; // r0@34
  void (*v24)(void); // r3@37
  void (*v25)(void); // r3@39
  void (__fastcall *v26)(int, int, signed int); // r3@41

  v1 = a1;
  *(_DWORD *)(a1 + 56) = 0;
  v2 = *(_DWORD *)(a1 + 60);
  *(_DWORD *)(a1 + 60) = 0;
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  if ( *(_DWORD *)(v1 + 96) )
    if ( !*(_BYTE *)(v1 + 52) )
      v7 = *(boost::asio::io_service **)(v1 + 48);
      if ( v7 )
      {
        v8 = j_boost::asio::io_service::~io_service(v7);
        j_operator delete((void *)v8);
      }
  v9 = *(_DWORD *)(v1 + 76);
  if ( v9 )
    v10 = (unsigned int *)(v9 + 4);
      v11 = __ldrex(v10);
    while ( __strex(v11 - 1, v10) );
    if ( v11 == 1 )
      v12 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
  v14 = *(_DWORD *)(v1 + 68);
  if ( v14 )
    v15 = (unsigned int *)(v14 + 4);
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 == 1 )
      v17 = (unsigned int *)(v14 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 8))(v14);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v14 + 12))(v14);
  v19 = *(_DWORD *)(v1 + 60);
  if ( v19 )
    v20 = (unsigned int *)(v19 + 4);
      v21 = __ldrex(v20);
    while ( __strex(v21 - 1, v20) );
    if ( v21 == 1 )
      v22 = (unsigned int *)(v19 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 8))(v19);
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v19 + 12))(v19);
  v24 = *(void (**)(void))(v1 + 40);
  if ( v24 )
    v24();
  v25 = *(void (**)(void))(v1 + 24);
  if ( v25 )
    v25();
  v26 = *(void (__fastcall **)(int, int, signed int))(v1 + 8);
  if ( v26 )
    v26(v1, v1, 3);
  return v1;
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 52);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


int __fastcall websocketpp::uri::uri(int a1, const void **a2)
{
  int v2; // r10@1
  unsigned int v3; // r8@1
  const void **v4; // r11@1
  const void **v5; // r5@1
  void **v6; // r9@1
  char *v7; // r6@1
  int v8; // r6@5
  _BYTE *v9; // r4@10
  int v10; // r0@10
  _DWORD *v11; // r0@18
  int v12; // r1@18 OVERLAPPED
  int v13; // r4@18
  unsigned int v14; // r2@18
  _DWORD *v15; // r0@21
  int v16; // r9@25
  int v17; // r0@29
  signed int v18; // r4@24
  int v19; // r0@40
  int v20; // r1@40 OVERLAPPED
  int v21; // r4@40
  unsigned int v22; // r2@40
  int v23; // r0@43
  int v24; // r8@46
  void *v25; // r0@51
  unsigned int *v27; // r1@53
  signed int v28; // r2@54
  void **v29; // [sp+Ch] [bp-3Ch]@16
  int v30; // [sp+10h] [bp-38h]@49
  int v31; // [sp+14h] [bp-34h]@49
  int v32; // [sp+1Ch] [bp-2Ch]@37

  v2 = a1;
  v3 = 0xFFFF4420;
  v4 = a2;
  *(_DWORD *)a1 = &unk_28898CC;
  *(_DWORD *)(a1 + 4) = &unk_28898CC;
  v5 = (const void **)(a1 + 4);
  *(_DWORD *)(a1 + 8) = &unk_28898CC;
  v6 = (void **)(a1 + 8);
  *(_BYTE *)(a1 + 15) = 0;
  v7 = (char *)*a2;
  if ( !j_memcmp_1(*a2, "wss://", 6u) )
  {
    *(_BYTE *)(v2 + 14) = 1;
    sub_21E8190((void **)v2, "wss", (_BYTE *)3);
    v8 = (int)(v7 + 6);
  }
  else if ( !j_memcmp_1(v7, "ws://", 5u) )
    *(_BYTE *)(v2 + 14) = 0;
    sub_21E8190((void **)v2, "ws", (_BYTE *)2);
    v8 = (int)(v7 + 5);
  else if ( !j_memcmp_1(v7, "http://", 7u) )
    sub_21E8190((void **)v2, "http", (_BYTE *)4);
    v8 = (int)(v7 + 7);
  else
    if ( j_memcmp_1(v7, "https://", 8u) )
      return v2;
    sub_21E8190((void **)v2, "https", (_BYTE *)5);
    v8 = (int)(v7 + 8);
  if ( *(_BYTE *)v8 != 91 )
    if ( (const void *)v8 == (char *)*v4 + *((_DWORD *)*v4 - 3) )
    {
      v18 = 2;
    }
    else
      v29 = v6;
      while ( 1 )
      {
        v16 = *(_BYTE *)v8;
        if ( v16 == 47 )
        {
          v18 = 2;
          goto LABEL_33;
        }
        if ( v16 == 58 )
          break;
        v11 = *v5;
        *(_QWORD *)&v12 = *(_QWORD *)((char *)*v5 - 12);
        v13 = v12 + 1;
        if ( v12 + 1 > v14 || *(v11 - 1) >= 1 )
          sub_21E6FCC(v5, v12 + 1);
          v11 = *v5;
          v12 = *((_DWORD *)*v5 - 3);
        *((_BYTE *)v11 + v12) = v16;
        v15 = *v5;
        if ( (int *)((char *)*v5 - 12) != &dword_28898C0 )
          *(v15 - 1) = 0;
          *(v15 - 3) = v13;
          *((_BYTE *)v15 + v13) = byte_26C67B8[0];
        if ( (const void *)++v8 == (char *)*v4 + *((_DWORD *)*v4 - 3) )
          v6 = v29;
          goto LABEL_37;
      }
      v18 = 1;
LABEL_33:
      v6 = v29;
      ++v8;
LABEL_37:
    sub_21E94B4((void **)&v32, (const char *)&unk_257BC67);
    if ( v18 == 1 && (const void *)v8 != (char *)*v4 + *((_DWORD *)*v4 - 3) )
        v24 = *(_BYTE *)v8;
        if ( v24 == 47 )
        v19 = v32;
        *(_QWORD *)&v20 = *(_QWORD *)(v32 - 12);
        v21 = v20 + 1;
        if ( v20 + 1 > v22 || *(_DWORD *)(v32 - 4) >= 1 )
          sub_21E6FCC((const void **)&v32, v20 + 1);
          v19 = v32;
          v20 = *(_DWORD *)(v32 - 12);
        *(_BYTE *)(v19 + v20) = v24;
        v23 = v32;
        if ( (int *)(v32 - 12) != &dword_28898C0 )
          *(_DWORD *)(v32 - 4) = 0;
          *(_DWORD *)(v23 - 12) = v21;
          *(_BYTE *)(v23 + v21) = byte_26C67B8[0];
          goto LABEL_48;
LABEL_48:
      v3 = 0xFFFF4420;
    v30 = 0;
    v31 = ((int (*)(void))byte_21E9640)();
    *(_WORD *)(v2 + 12) = j_websocketpp::uri::get_port_from_string(v2, (const char **)&v32, (int)&v30);
    if ( !v30 )
      sub_21E8190(v6, "/", (_BYTE *)1);
      sub_21E91FC((const void **)v6, *((_DWORD *)*v6 - 3), 0, (char *)v8, (char *)*v4 + *((_DWORD *)*v4 - 3) - v8);
      *(_BYTE *)(v2 + 15) = 1;
    v25 = (void *)(v32 - 12);
    if ( (int (__fastcall *)(_DWORD))(v32 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v3) )
      v27 = (unsigned int *)(v32 - 4);
      __dmb();
      do
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 <= 0 )
        j_j_j_j__ZdlPv_9(v25);
    return v2;
  v9 = (_BYTE *)(v8 + 1);
  v10 = (int)*v4 + *((_DWORD *)*v4 - 3);
  if ( v8 + 1 != v10 )
    v9 = (_BYTE *)(v8 + 1);
    while ( *v9 != 93 )
      if ( (_BYTE *)v10 == ++v9 )
        return v2;
  if ( v9 != (_BYTE *)v10 )
    sub_21E91FC(v5, *((_DWORD *)*v5 - 3), 0, (char *)(v8 + 1), &v9[-v8 - 1]);
    v8 = (int)(v9 + 1);
    if ( v9 + 1 == (char *)*v4 + *((_DWORD *)*v4 - 3) )
      v17 = *(_BYTE *)v8;
      if ( v17 == 58 )
        v8 = (int)(v9 + 2);
        v18 = 1;
      else
        if ( v17 != 47 )
          return v2;
        v18 = 2;
    goto LABEL_37;
  return v2;
}


unsigned int __fastcall websocketpp::http::parser::response::consume(websocketpp::http::parser::response *this, const char *a2, unsigned int a3)
{
  websocketpp::http::parser::response *v3; // r8@1
  unsigned int v4; // r5@1
  int v5; // r0@1
  const char *v6; // r6@1
  unsigned int v7; // r7@2
  unsigned int v8; // r0@4
  _BYTE **v9; // r4@8
  _BYTE *v10; // r11@8
  int *v11; // r5@14
  int v12; // r0@14
  _BYTE *v13; // r7@16
  unsigned int v14; // r0@16
  int *v15; // r4@17
  int v16; // r0@17
  int v17; // r10@19
  int v18; // r0@20
  char *v19; // r5@23
  int *v20; // r0@23
  int v21; // r3@23
  int *v22; // r4@25
  int v23; // r0@25
  int v24; // r0@31
  int *v25; // r1@31
  void *v26; // r0@33
  char *v27; // r0@35
  char *v28; // r5@36
  int *v29; // r0@36
  int v30; // r3@36
  char *v31; // r5@38
  int *v32; // r0@38
  int v33; // r3@38
  void *v34; // r0@41
  int *v35; // r5@43
  int v36; // r0@43
  unsigned int v37; // r0@46
  unsigned int v38; // r5@47
  int v39; // r5@52
  unsigned int *v40; // r0@53
  unsigned int v41; // r1@54
  unsigned int *v42; // r4@56
  unsigned int v43; // r0@57
  void *v44; // r0@60
  unsigned int *v46; // r1@62
  signed int v47; // r2@63
  unsigned int *v48; // r1@66
  signed int v49; // r2@67
  unsigned int *v50; // r1@70
  signed int v51; // r2@71
  const char *v52; // [sp+4h] [bp-13Ch]@9
  unsigned int v53; // [sp+8h] [bp-138h]@9
  int v54; // [sp+10h] [bp-130h]@36
  int v55; // [sp+18h] [bp-128h]@36
  int v56; // [sp+20h] [bp-120h]@36
  void **v57; // [sp+24h] [bp-11Ch]@35
  int v58; // [sp+28h] [bp-118h]@42
  void **v59; // [sp+2Ch] [bp-114h]@41
  int v60; // [sp+48h] [bp-F8h]@42
  int v61; // [sp+50h] [bp-F0h]@41
  void **v62; // [sp+54h] [bp-ECh]@41
  int v63; // [sp+E0h] [bp-60h]@31
  int v64; // [sp+E4h] [bp-5Ch]@33
  int v65; // [sp+ECh] [bp-54h]@38
  int v66; // [sp+F4h] [bp-4Ch]@38
  int v67; // [sp+FCh] [bp-44h]@38
  int v68; // [sp+104h] [bp-3Ch]@23
  int v69; // [sp+10Ch] [bp-34h]@23
  int v70; // [sp+114h] [bp-2Ch]@23

  v3 = this;
  v4 = a3;
  v5 = *((_DWORD *)this + 17);
  v6 = a2;
  if ( v5 == 3 )
  {
    v7 = 0;
  }
  else if ( v5 == 2 )
    v8 = *((_DWORD *)v3 + 13);
    if ( v8 )
    {
      if ( v8 <= a3 )
      {
        *((_DWORD *)v3 + 17) = 3;
        v4 = v8;
      }
      sub_21E7408((const void **)v3 + 8, (char *)a2, v4);
      v7 = v4;
      *((_DWORD *)v3 + 13) -= v4;
    }
    else
      v7 = 0;
      *((_DWORD *)v3 + 17) = 3;
  else
    sub_21E7408(*((const void ***)v3 + 14), (char *)a2, a3);
    v9 = (_BYTE **)*((_DWORD *)v3 + 14);
    v10 = *v9;
    if ( *((_DWORD *)*v9 - 1) <= -1 )
      v52 = v6;
      v53 = v4;
      sub_21E8010(*((const void ***)v3 + 14));
      v10 = *v9;
    while ( 1 )
      v11 = (int *)*((_DWORD *)v3 + 14);
      v12 = *v11;
      if ( *(_DWORD *)(*v11 - 4) >= 0 )
        sub_21E8010(*((const void ***)v3 + 14));
        v12 = *v11;
      v13 = j_std::__search<__gnu_cxx::__normal_iterator<char *,std::string>,char const*,__gnu_cxx::__ops::_Iter_equal_to_iter>(
              v10,
              (_BYTE *)(*(_DWORD *)(v12 - 12) + v12),
              "\r\n",
              "");
      v14 = *((_DWORD *)v3 + 7) + v13 - v10 + 3;
      *((_DWORD *)v3 + 7) = v14;
      if ( v14 > 0x3E80 )
        v19 = j_j___cxa_allocate_exception_0(20);
        sub_21E94B4((void **)&v70, "Maximum header size exceeded.");
        sub_21E94B4((void **)&v69, (const char *)&unk_257BC67);
        v20 = (int *)sub_21E94B4((void **)&v68, (const char *)&unk_257BC67);
        j_websocketpp::http::exception::exception((int)v19, &v70, 431, &v69, v20);
        j_j___cxa_throw_0(
          (int)v19,
          (int)&`typeinfo for'websocketpp::http::exception,
          (int)websocketpp::http::exception::~exception,
          v21);
      v15 = (int *)*((_DWORD *)v3 + 14);
      v16 = *v15;
      if ( *(_DWORD *)(*v15 - 4) >= 0 )
        v16 = *v15;
      v17 = v16 + *(_DWORD *)(v16 - 12);
      if ( v13 == (_BYTE *)v17 )
        break;
      v18 = *((_DWORD *)v3 + 17);
      if ( v13 == v10 )
        if ( !v18 )
        {
          v31 = j_j___cxa_allocate_exception_0(20);
          sub_21E94B4((void **)&v67, "Incomplete Request");
          sub_21E94B4((void **)&v66, (const char *)&unk_257BC67);
          v32 = (int *)sub_21E94B4((void **)&v65, (const char *)&unk_257BC67);
          j_websocketpp::http::exception::exception((int)v31, &v67, 400, &v66, v32);
          j_j___cxa_throw_0(
            (int)v31,
            (int)&`typeinfo for'websocketpp::http::exception,
            (int)websocketpp::http::exception::~exception,
            v33);
        }
        sub_21E94B4((void **)&v63, "Content-Length");
        v24 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                (int)v3 + 4,
                &v63);
        v25 = (int *)(v24 + 20);
        if ( (websocketpp::http::parser::response *)v24 == (websocketpp::http::parser::response *)((char *)v3 + 8) )
          v25 = &dword_2880E54;
        sub_21E8AF4(&v64, v25);
        v26 = (void *)(v63 - 12);
        if ( (int *)(v63 - 12) != &dword_28898C0 )
          v46 = (unsigned int *)(v63 - 4);
          __dmb();
          do
            v47 = __ldrex(v46);
          while ( __strex(v47 - 1, v46) );
          if ( v47 <= 0 )
            j_j_j_j__ZdlPv_9(v26);
        if ( sub_21E7D6C((const void **)&v64, (const char *)&unk_257BC67) )
          sub_21D0618((int)&v57, (unsigned int *)&v64, 8);
          v27 = sub_21B8B38((char *)&v57);
          if ( v27[*(_DWORD *)(*(_DWORD *)v27 - 12) + 20] & 5 )
          {
            v28 = j_j___cxa_allocate_exception_0(20);
            sub_21E94B4((void **)&v56, "Unable to parse Content-Length header");
            sub_21E94B4((void **)&v55, (const char *)&unk_257BC67);
            v29 = (int *)sub_21E94B4((void **)&v54, (const char *)&unk_257BC67);
            j_websocketpp::http::exception::exception((int)v28, &v56, 400, &v55, v29);
            j_j___cxa_throw_0(
              (int)v28,
              (int)&`typeinfo for'websocketpp::http::exception,
              (int)websocketpp::http::exception::~exception,
              v30);
          }
          v57 = &off_26D3F0C;
          v62 = &off_26D3F20;
          v59 = &off_27734E8;
          v34 = (void *)(v61 - 12);
          if ( (int *)(v61 - 12) != &dword_28898C0 )
            v50 = (unsigned int *)(v61 - 4);
            __dmb();
            do
              v51 = __ldrex(v50);
            while ( __strex(v51 - 1, v50) );
            if ( v51 <= 0 )
              j_j_j_j__ZdlPv_9(v34);
          v59 = &off_26D40A8;
          sub_21C802C((unsigned int **)&v60);
          v57 = &off_276CFCC;
          v62 = &off_276CFE0;
          v58 = 0;
          sub_21B6560(&v62);
        else
          *((_DWORD *)v3 + 13) = 0;
        *((_DWORD *)v3 + 17) = 2;
        v35 = (int *)*((_DWORD *)v3 + 14);
        v36 = *v35;
        if ( *(_DWORD *)(*v35 - 4) >= 0 )
          sub_21E8010(*((const void ***)v3 + 14));
          v36 = *v35;
        v7 = (unsigned int)(&v10[v53 + 2] + -v36 - *(_DWORD *)(v36 - 12));
        if ( v7 < v53 )
          v37 = *((_DWORD *)v3 + 13);
          if ( v37 )
            v38 = v53 - v7;
            if ( v37 <= v53 - v7 )
            {
              *((_DWORD *)v3 + 17) = 3;
              v38 = v37;
            }
            sub_21E7408((const void **)v3 + 8, (char *)&v52[v7], v38);
            *((_DWORD *)v3 + 13) -= v38;
          else
            v38 = 0;
            *((_DWORD *)v3 + 17) = 3;
          v7 += v38;
        *((_DWORD *)v3 + 14) = 0;
        v39 = *((_DWORD *)v3 + 15);
        *((_DWORD *)v3 + 15) = 0;
        if ( v39 )
          v40 = (unsigned int *)(v39 + 4);
            v41 = __ldrex(v40);
          while ( __strex(v41 - 1, v40) );
          if ( v41 == 1 )
            v42 = (unsigned int *)(v39 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 8))(v39);
              v43 = __ldrex(v42);
            while ( __strex(v43 - 1, v42) );
            if ( v43 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v39 + 12))(v39);
        v44 = (void *)(v64 - 12);
        if ( (int *)(v64 - 12) != &dword_28898C0 )
          v48 = (unsigned int *)(v64 - 4);
            v49 = __ldrex(v48);
          while ( __strex(v49 - 1, v48) );
          if ( v49 <= 0 )
            j_j_j_j__ZdlPv_9(v44);
        return v7;
      if ( v18 )
        j_websocketpp::http::parser::parser::process_header((int)v3, v10, v13);
        v10 = v13 + 2;
      else
        j_websocketpp::http::parser::response::process((int)v3, v10, v13);
        *((_DWORD *)v3 + 17) = 1;
    v22 = (int *)*((_DWORD *)v3 + 14);
    v23 = *v22;
    if ( *(_DWORD *)(*v22 - 4) > -1 )
      v23 = *v22;
    if ( (_BYTE *)v17 != v10 )
      j___aeabi_memmove_1(v23, (int)v10);
    sub_21E849C(*((char **)v3 + 14), v13 - v10, 0);
    *((_DWORD *)v3 + 13) += v53;
    v7 = v53;
    *((_DWORD *)v3 + 7) -= *(_DWORD *)(**((_DWORD **)v3 + 14) - 12);
  return v7;
}


RakNet *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_connect(int a1, int *a2, int *a3, int a4, _DWORD *a5)
{
  int v5; // r10@1
  int *v6; // r11@1
  int v7; // r9@2
  unsigned int v8; // r5@2
  unsigned int v9; // r6@2
  signed int v10; // r1@2
  signed __int64 v11; // r0@7
  bool v12; // zf@7
  bool v13; // zf@10
  signed int v14; // r1@15
  bool v15; // cf@22
  signed int v16; // r6@22
  int *v17; // r5@27
  bool v18; // zf@29
  unsigned __int64 v19; // r0@34
  int v21; // r4@50
  char v22; // r0@53
  int (__fastcall *v23)(int, int *); // r2@57
  int *v24; // r1@57
  pthread_mutex_t *v25; // r4@58
  const void **v26; // r0@59
  const void **v27; // r0@59
  int v28; // r6@59
  char *v29; // r0@60
  void *v30; // r0@61
  unsigned int *v31; // r1@65
  signed int v32; // r2@66
  unsigned int *v33; // r1@69
  signed int v34; // r2@70
  unsigned int *v35; // r1@73
  signed int v36; // r2@74
  int *v37; // [sp+0h] [bp-50h]@2
  int v38; // [sp+4h] [bp-4Ch]@62
  int v39; // [sp+8h] [bp-48h]@62
  int v40; // [sp+Ch] [bp-44h]@59
  char *v41; // [sp+10h] [bp-40h]@59
  const void *v42; // [sp+14h] [bp-3Ch]@59
  int v43; // [sp+18h] [bp-38h]@56
  void *v44; // [sp+1Ch] [bp-34h]@56
  __int64 v45; // [sp+20h] [bp-30h]@2

  v5 = a1;
  v6 = a3;
  if ( *a5 == 125 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 108),
             1024,
             "async_connect cancelled");
  v7 = a4;
  v37 = a2;
  v8 = *(_QWORD *)(*a3 + 8) >> 32;
  v9 = *(_QWORD *)(*a3 + 8);
  j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
    (int)&v45,
    (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
  v10 = 0;
  if ( v9 + 2 < 3 )
    v10 = 1;
  if ( (__PAIR__(v8, v9) - 9223372036854775806LL) >> 32 )
    v10 = 0;
  if ( v10 )
  {
    v11 = -6442450945LL;
    v12 = (v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE) == 0;
    if ( v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE )
      v12 = __PAIR__(v45, HIDWORD(v45)) == -6442450945LL;
    if ( v12 )
      goto LABEL_48;
    LODWORD(v11) = 0x7FFFFFFF;
    HIDWORD(v11) = v8 ^ 0x7FFFFFFF | ~v9;
    v13 = HIDWORD(v11) == 0;
    if ( !HIDWORD(v11) )
      v13 = (HIDWORD(v45) ^ 0x7FFFFFFF | ~(_DWORD)v45) == 0;
    if ( v13 )
    {
      HIDWORD(v11) = -2;
    }
    v18 = (v8 ^ 0x80000000 | v9) == 0;
    if ( !(v8 ^ 0x80000000 | v9) )
      v18 = __PAIR__(v45, HIDWORD(v45)) == 0x80000000LL;
    if ( v18 )
      v11 = -6442450945LL;
  }
  else
    v14 = 0;
    if ( (unsigned int)(v45 + 2) < 3 )
      v14 = 1;
    if ( (unsigned __int64)(v45 - 9223372036854775806LL) >> 32 )
      v14 = 0;
    if ( !v14 )
      v15 = v9 >= (unsigned int)v45;
      HIDWORD(v11) = v9 - v45;
      v16 = 0;
      LODWORD(v11) = v8 - (HIDWORD(v45) + !v15);
      if ( (unsigned int)(HIDWORD(v11) + 2) > 2 )
        v16 = 1;
      if ( __CFADD__(HIDWORD(v11), 2) + (_DWORD)v11 != 0x80000000 )
        v16 = __CFADD__(HIDWORD(v11), 2) + (_DWORD)v11 != 2147483648;
      if ( v16 )
      {
        v17 = v37;
        if ( (signed int)v11 <= -1 )
          return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                   *(pthread_mutex_t **)(v5 + 108),
                   1024,
                   "async_connect cancelled");
        goto LABEL_50;
      }
    if ( __PAIR__(v45, HIDWORD(v45)) == -6442450945LL )
  v19 = __PAIR__(v8, v9) - 0x7FFFFFFFFFFFFFFFLL;
  LODWORD(v19) = 0;
  if ( v9 + 1 < 2 )
    LODWORD(v19) = 1;
  if ( HIDWORD(v19) )
    LODWORD(v19) = 0;
  if ( (_DWORD)v19 )
    goto LABEL_80;
  if ( __PAIR__(v45, HIDWORD(v45)) == 0x80000000LL )
    v11 = -2147483649LL;
    goto LABEL_48;
  LODWORD(v11) = 0x7FFFFFFF;
  if ( !(HIDWORD(v45) ^ 0x7FFFFFFF | ~(_DWORD)v45) )
    v11 = 0x80000000LL;
  HIDWORD(v11) = -2;
  v8 = (__PAIR__(v8, v9) - v45) >> 32;
  v9 -= v45;
  if ( v8 ^ 0x7FFFFFFF | v9 ^ 0xFFFFFFFE )
LABEL_80:
    if ( !(v8 ^ 0x7FFFFFFF | ~v9) )
      HIDWORD(v11) = -1;
    if ( !(v9 | v8 ^ 0x80000000) )
      HIDWORD(v11) = v9 | v8 ^ 0x80000000;
      LODWORD(v11) = 2147483648;
LABEL_48:
  v17 = v37;
  if ( v11 == 0x80000000LL )
LABEL_50:
  v21 = *v6;
  sub_21B09F0();
  if ( *(_BYTE *)(v21 + 16) )
    j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
      *(_DWORD *)(*(_DWORD *)v21 + 52),
      *(_DWORD *)v21 + 20,
      v21 + 20,
      -1);
    *(_BYTE *)(v21 + 16) = 0;
  if ( !*a5 )
    v25 = *(pthread_mutex_t **)(v5 + 108);
    if ( *((_BYTE *)&v25->__align + 5) & 4 )
      j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::get_remote_endpoint(
        (void **)&v40,
        *v17);
      v26 = sub_21E82D8((const void **)&v40, 0, (unsigned int)"Async connect to ", (_BYTE *)0x11);
      v41 = (char *)*v26;
      *v26 = &unk_28898CC;
      v27 = sub_21E7408((const void **)&v41, " successful.", 0xCu);
      v42 = *v27;
      v28 = (int)v42;
      *v27 = &unk_28898CC;
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v25, 1024, (int *)&v42);
      if ( (int *)(v28 - 12) != &dword_28898C0 )
        v31 = (unsigned int *)(v28 - 4);
        __dmb();
        do
          v32 = __ldrex(v31);
        while ( __strex(v32 - 1, v31) );
        if ( v32 <= 0 )
          j_j_j_j__ZdlPv_9((void *)(v28 - 12));
      v29 = v41 - 12;
      if ( (int *)(v41 - 12) != &dword_28898C0 )
        v33 = (unsigned int *)(v41 - 4);
          v34 = __ldrex(v33);
        while ( __strex(v34 - 1, v33) );
        if ( v34 <= 0 )
          j_j_j_j__ZdlPv_9(v29);
      v30 = (void *)(v40 - 12);
      if ( (int *)(v40 - 12) != &dword_28898C0 )
        v35 = (unsigned int *)(v40 - 4);
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 <= 0 )
          j_j_j_j__ZdlPv_9(v30);
    v38 = 0;
    v39 = ((int (*)(void))byte_21E9640)();
    if ( *(_DWORD *)(v7 + 8) )
      v23 = *(int (__fastcall **)(int, int *))(v7 + 12);
      v24 = &v38;
      return (RakNet *)v23(v7, v24);
LABEL_77:
    sub_21E5F48();
  j_websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
    v5,
    4,
    "asio async_connect",
    a5);
  v22 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
  __dmb();
  if ( !(v22 & 1) )
    if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
  v43 = 3;
  v44 = &websocketpp::transport::asio::error::get_category(void)::instance;
  if ( !*(_DWORD *)(v7 + 8) )
    goto LABEL_77;
  v23 = *(int (__fastcall **)(int, int *))(v7 + 12);
  v24 = &v43;
  return (RakNet *)v23(v7, v24);
}


_DWORD *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::write_push(int a1, _DWORD *a2)
{
  _DWORD *v2; // r4@1
  int v3; // r5@1
  _DWORD *result; // r0@1
  int v5; // r1@2
  int *v6; // r0@3
  int v7; // r2@3
  unsigned int *v8; // r1@4
  unsigned int v9; // r2@5
  int v10; // r1@7
  int v11; // r6@8
  int v12; // r2@10
  int v13; // r1@10
  unsigned int *v14; // r1@11
  unsigned int v15; // r2@12
  int v16; // r1@14
  int v17; // r1@16
  char *v18; // r6@16
  int v19; // r1@16
  pthread_mutex_t *v20; // r5@16
  void *v21; // r0@16
  void *v22; // r0@17
  unsigned int *v23; // r1@20
  signed int v24; // r2@21
  unsigned int *v25; // r1@24
  signed int v26; // r2@25
  int v27; // [sp+4h] [bp-E4h]@16
  void **v28; // [sp+8h] [bp-E0h]@16
  int v29; // [sp+Ch] [bp-DCh]@18
  void **v30; // [sp+10h] [bp-D8h]@16
  void **v31; // [sp+14h] [bp-D4h]@16
  int v32; // [sp+30h] [bp-B8h]@18
  int v33; // [sp+38h] [bp-B0h]@17
  void **v34; // [sp+3Ch] [bp-ACh]@17

  v2 = a2;
  v3 = a1;
  result = (_DWORD *)*a2;
  if ( *a2 )
  {
    *(_DWORD *)(v3 + 19036) += *(_DWORD *)(result[4] - 12);
    v5 = *(_DWORD *)(v3 + 19020);
    if ( v5 == *(_DWORD *)(v3 + 19028) - 8 )
    {
      v11 = v3 + 19032;
      if ( (unsigned int)(*(_DWORD *)(v3 + 19000) - ((*(_DWORD *)(v3 + 19032) - *(_DWORD *)(v3 + 18996)) >> 2)) <= 1 )
        j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_reallocate_map(
          v3 + 18996,
          1u,
          0);
      *(_DWORD *)(*(_DWORD *)v11 + 4) = j_operator new(0x200u);
      v12 = *(_DWORD *)(v3 + 19020);
      v6 = (int *)(v3 + 19020);
      *(_DWORD *)v12 = *v2;
      v13 = v2[1];
      *(_DWORD *)(v12 + 4) = v13;
      if ( v13 )
      {
        v14 = (unsigned int *)(v13 + 4);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 + 1, v14) );
      }
      v16 = *(_DWORD *)v11;
      *(_DWORD *)v11 += 4;
      v10 = *(_DWORD *)(v16 + 4);
      *(_DWORD *)(v3 + 19024) = v10;
      *(_DWORD *)(v3 + 19028) = v10 + 512;
    }
    else
      *(_DWORD *)v5 = *v2;
      v7 = v2[1];
      *(_DWORD *)(v5 + 4) = v7;
      if ( v7 )
        v8 = (unsigned int *)(v7 + 4);
          v9 = __ldrex(v8);
        while ( __strex(v9 + 1, v8) );
      v10 = *v6 + 8;
    *v6 = v10;
    result = (_DWORD *)*(_BYTE *)(*(_DWORD *)(v3 + 19236) + 5);
    if ( (unsigned __int8)result & 4 )
      sub_21D103C((int)&v28, 24);
      sub_21CBF38((char *)&v30, (int)"write_push: message count: ", 27);
      v17 = 16 * (*(_DWORD *)(v3 + 19032) - *(_DWORD *)(v3 + 19016))
          + ((*(_DWORD *)(v3 + 19020) - *(_DWORD *)(v3 + 19024)) >> 3)
          + ((*(_DWORD *)(v3 + 19012) - *(_DWORD *)(v3 + 19004)) >> 3)
          - 64;
      v18 = sub_21CC440((char *)&v30);
      sub_21CBF38(v18, (int)" buffer size: ", 14);
      v19 = *(_DWORD *)(v3 + 19036);
      sub_21CC440(v18);
      v20 = *(pthread_mutex_t **)(v3 + 19236);
      sub_21CFED8(&v27, (int)&v31);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v20, 1024, &v27);
      v21 = (void *)(v27 - 12);
      if ( (int *)(v27 - 12) != &dword_28898C0 )
        v23 = (unsigned int *)(v27 - 4);
          v24 = __ldrex(v23);
        while ( __strex(v24 - 1, v23) );
        if ( v24 <= 0 )
          j_j_j_j__ZdlPv_9(v21);
      v28 = &off_26D3F94;
      v34 = &off_26D3FBC;
      v30 = &off_26D3FA8;
      v31 = &off_27734E8;
      v22 = (void *)(v33 - 12);
      if ( (int *)(v33 - 12) != &dword_28898C0 )
        v25 = (unsigned int *)(v33 - 4);
          v26 = __ldrex(v25);
        while ( __strex(v26 - 1, v25) );
        if ( v26 <= 0 )
          j_j_j_j__ZdlPv_9(v22);
      v31 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v32);
      v28 = &off_276D0DC;
      v34 = &off_276D0F0;
      v29 = 0;
      result = sub_21B6560(&v34);
  }
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_response_error(int a1, int a2)
{
  int v2; // r4@1
  char v3; // r0@3
  signed int v4; // [sp+0h] [bp-18h]@6
  void *v5; // [sp+4h] [bp-14h]@6

  v2 = a1;
  if ( *(_DWORD *)(a1 + 2504) == 2 )
  {
    *(_DWORD *)(a1 + 2504) = 6;
    j_j_j__ZN11websocketpp10connectionINS_6config11asio_clientEE18send_http_responseERKSt10error_code_0(a1, a2);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 19196),
      1024,
      "send_http_response_error called in invalid state");
    v3 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v3 & 1) )
    {
      if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
    }
    v4 = 9;
    v5 = &websocketpp::error::get_category(void)::instance;
    j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v2, (unsigned __int64 *)&v4);
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
           a1,
           a2,
           a3,
           a4);
}


int __fastcall websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(int a1, int a2)
{
  return websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
           a1,
           a2);
}


void __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::async_connect(int a1, int a2, int *a3, int a4)
{
  websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::async_connect(
    a1,
    a2,
    a3,
    a4);
}


void __fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::async_connect(int a1, int a2, int *a3, int a4)
{
  int v4; // r10@1
  int v5; // r11@1
  int *v6; // r7@1
  int v7; // r4@1
  int v8; // r0@2
  int v9; // r1@3
  int v10; // r6@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  unsigned int *v13; // r5@9
  unsigned int v14; // r0@10
  int v15; // r6@13
  unsigned int *v16; // r0@14
  unsigned int v17; // r1@15
  unsigned int *v18; // r5@17
  unsigned int v19; // r0@18
  unsigned int v20; // r8@21
  int v21; // r0@23
  void *v22; // r0@24
  int v23; // r6@25
  pthread_mutex_t *v24; // r7@25
  const void **v25; // r0@26
  const void **v26; // r0@26
  int v27; // r5@26
  char *v28; // r0@27
  char *v29; // r0@28
  int v30; // r8@29
  void (__fastcall *v31)(int *, int, signed int); // r3@29
  _QWORD *v32; // r0@31
  int v33; // r1@31
  int v34; // r7@31 OVERLAPPED
  int v35; // r8@31 OVERLAPPED
  int v36; // r6@33
  unsigned int *v37; // r0@34
  unsigned int v38; // r1@35
  unsigned int *v39; // r5@37
  unsigned int v40; // r0@38
  int *v41; // r10@43
  __int64 v42; // kr00_8@43
  unsigned int *v43; // r0@44
  unsigned int v44; // r1@45
  void (__fastcall *v45)(__int64 *, int, signed int); // r3@47
  int v46; // r11@49
  unsigned int *v47; // r0@50
  unsigned int v48; // r1@51
  int v49; // r1@53
  int v50; // r0@53
  unsigned int *v51; // r0@54
  unsigned int v52; // r1@55
  __int64 v53; // r2@57
  int v54; // r4@57
  unsigned int *v55; // r0@58
  unsigned int v56; // r1@59
  unsigned int *v57; // r7@61
  unsigned int v58; // r0@62
  int v59; // r4@65
  unsigned int *v60; // r0@66
  unsigned int v61; // r1@67
  unsigned int *v62; // r7@69
  unsigned int v63; // r0@70
  int v64; // r4@75
  unsigned int *v65; // r0@76
  unsigned int v66; // r1@77
  unsigned int *v67; // r6@79
  unsigned int v68; // r0@80
  int v69; // r4@83
  unsigned int *v70; // r0@84
  unsigned int v71; // r1@85
  unsigned int *v72; // r6@87
  unsigned int v73; // r0@88
  unsigned int *v74; // r0@94
  unsigned int v75; // r1@95
  unsigned int *v76; // r4@97
  unsigned int v77; // r0@98
  unsigned int *v78; // r0@102
  unsigned int v79; // r1@103
  unsigned int *v80; // r4@105
  unsigned int v81; // r0@106
  void *v82; // r0@109
  void *v83; // r0@110
  unsigned int *v84; // r1@111
  signed int v85; // r2@112
  int v86; // r6@117
  void *v87; // r0@117
  char v88; // r0@122
  int v89; // r4@128
  unsigned int *v90; // r0@129
  unsigned int v91; // r1@130
  unsigned int *v92; // r5@132
  unsigned int v93; // r0@133
  char *v94; // r0@136
  char *v95; // r0@137
  void *v96; // r0@138
  void *v97; // r0@140
  int v98; // r6@141
  unsigned int *v99; // r0@142
  unsigned int v100; // r1@143
  unsigned int *v101; // r5@145
  unsigned int v102; // r0@146
  unsigned int *v103; // r1@149
  signed int v104; // r2@150
  unsigned int *v105; // r1@153
  signed int v106; // r2@154
  unsigned int *v107; // r1@157
  signed int v108; // r2@158
  unsigned int *v109; // r1@161
  signed int v110; // r2@162
  unsigned int *v111; // r1@165
  signed int v112; // r2@166
  unsigned int *v113; // r1@169
  signed int v114; // r2@170
  unsigned int *v115; // r1@173
  signed int v116; // r2@174
  unsigned int *v117; // r1@177
  signed int v118; // r2@178
  unsigned int *v119; // r1@181
  signed int v120; // r2@182
  unsigned int *v121; // r1@185
  signed int v122; // r2@186
  int v123; // [sp+4h] [bp-14Ch]@33
  __int64 v124; // [sp+10h] [bp-140h]@48
  void (*v125)(void); // [sp+18h] [bp-138h]@47
  int v126; // [sp+1Ch] [bp-134h]@48
  int v127; // [sp+20h] [bp-130h]@49
  int v128; // [sp+24h] [bp-12Ch]@49
  int v129; // [sp+28h] [bp-128h]@53
  int v130; // [sp+2Ch] [bp-124h]@53
  int v131; // [sp+30h] [bp-120h]@57
  __int64 v132; // [sp+38h] [bp-118h]@57
  __int64 v133; // [sp+40h] [bp-110h]@57
  __int64 v134; // [sp+48h] [bp-108h]@57
  void (*v135)(void); // [sp+50h] [bp-100h]@57
  int v136; // [sp+54h] [bp-FCh]@57
  int v137; // [sp+58h] [bp-F8h]@57
  int v138; // [sp+5Ch] [bp-F4h]@57
  int v139; // [sp+60h] [bp-F0h]@57
  int v140; // [sp+64h] [bp-ECh]@57
  int v141; // [sp+68h] [bp-E8h]@57
  RakNet *(__fastcall *v142)(int, int, int, signed int *); // [sp+70h] [bp-E0h]@29
  int v143; // [sp+74h] [bp-DCh]@29
  int v144; // [sp+78h] [bp-D8h]@30
  void (__fastcall *v145)(int *); // [sp+80h] [bp-D0h]@29
  int v146; // [sp+84h] [bp-CCh]@30
  int v147; // [sp+88h] [bp-C8h]@31
  int v148; // [sp+8Ch] [bp-C4h]@31
  int v149; // [sp+90h] [bp-C0h]@31
  _QWORD *v150; // [sp+94h] [bp-BCh]@31
  void (__fastcall *v151)(_DWORD); // [sp+9Ch] [bp-B4h]@31
  unsigned int *(__fastcall *v152)(unsigned __int64 **, int); // [sp+A0h] [bp-B0h]@31
  __int64 v153; // [sp+A4h] [bp-ACh]@31
  char *v154; // [sp+ACh] [bp-A4h]@26
  char *v155; // [sp+B0h] [bp-A0h]@26
  const void *v156; // [sp+B4h] [bp-9Ch]@26
  int v157; // [sp+B8h] [bp-98h]@25
  int v158; // [sp+BCh] [bp-94h]@25
  int v159; // [sp+C0h] [bp-90h]@25
  signed int v160; // [sp+C4h] [bp-8Ch]@25
  int v161; // [sp+C8h] [bp-88h]@25
  int v162; // [sp+CCh] [bp-84h]@25
  int v163; // [sp+D0h] [bp-80h]@25
  int v164; // [sp+D4h] [bp-7Ch]@25
  int v165; // [sp+D8h] [bp-78h]@25
  int v166; // [sp+DCh] [bp-74h]@25
  int v167; // [sp+E0h] [bp-70h]@140
  int v168; // [sp+E4h] [bp-6Ch]@117
  char v169; // [sp+E8h] [bp-68h]@117
  int v170; // [sp+F0h] [bp-60h]@125
  void *v171; // [sp+F4h] [bp-5Ch]@125
  int v172; // [sp+F8h] [bp-58h]@22
  int v173; // [sp+FCh] [bp-54h]@22
  int v174; // [sp+100h] [bp-50h]@22
  int v175; // [sp+104h] [bp-4Ch]@22
  int v176; // [sp+108h] [bp-48h]@24
  char *v177; // [sp+10Ch] [bp-44h]@21
  _DWORD *v178; // [sp+110h] [bp-40h]@21
  int v179; // [sp+114h] [bp-3Ch]@2
  int v180; // [sp+118h] [bp-38h]@2
  int v181; // [sp+11Ch] [bp-34h]@2
  int v182; // [sp+120h] [bp-30h]@2
  char v183; // [sp+124h] [bp-2Ch]@22

  v4 = a1;
  v5 = a4;
  v6 = a3;
  v7 = a2;
  if ( !*(_DWORD *)(a1 + 80) )
  {
    v180 = *(_DWORD *)(a1 + 64);
    v181 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio2ip14basic_resolverINS6_3tcpENS6_16resolver_serviceIS8_EEEESaISB_EJSt17reference_wrapperINS5_10io_serviceEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v182,
      0,
      (int)&v179,
      (unsigned int)&v180);
    v8 = v182;
    if ( v182 )
    {
      v9 = (*(int (**)(void))(*(_DWORD *)v182 + 16))();
      v8 = v182;
    }
    else
      v9 = 0;
    v182 = 0;
    *(_DWORD *)(v4 + 80) = v9;
    v10 = *(_DWORD *)(v4 + 84);
    *(_DWORD *)(v4 + 84) = v8;
    if ( v10 )
      v11 = (unsigned int *)(v10 + 4);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v10 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      }
    v15 = v182;
      v16 = (unsigned int *)(v182 + 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        v18 = (unsigned int *)(v15 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
          v19 = __ldrex(v18);
        while ( __strex(v19 - 1, v18) );
        if ( v19 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
  }
  sub_21E8AF4(&v179, (int *)(*(_DWORD *)v7 + 100));
  v20 = 0xFFFF4420;
  v177 = (char *)&unk_28898CC;
  v178 = &unk_28898CC;
  if ( *(_DWORD *)(v179 - 12) )
    v174 = 0;
    v175 = ((int (*)(void))byte_21E9640)();
    v172 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp3uriESaIS5_EJRSsEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v173,
      (int)&v183,
      (const void **)&v179);
    if ( v173 )
      v21 = (*(int (**)(void))(*(_DWORD *)v173 + 16))();
      v21 = 0;
    v172 = v21;
    if ( !*(_BYTE *)(v21 + 15) )
      v88 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !(v88 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
        websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
      v170 = 5;
      v171 = &websocketpp::transport::asio::error::get_category(void)::instance;
      if ( !*(_DWORD *)(v5 + 8) )
        sub_21E5F48();
      (*(void (__fastcall **)(int, int *))(v5 + 12))(v5, &v170);
      goto LABEL_128;
    v86 = *(_DWORD *)v7;
    j_websocketpp::uri::get_authority((websocketpp::uri *)&v168, *v6);
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::proxy_init(
      (int)&v169,
      v86,
      &v168);
    *(_QWORD *)&v174 = *(_QWORD *)&v169;
    v87 = (void *)(v168 - 12);
    if ( (int *)(v168 - 12) != &dword_28898C0 )
      v111 = (unsigned int *)(v168 - 4);
        v112 = __ldrex(v111);
      while ( __strex(v112 - 1, v111) );
      if ( v112 <= 0 )
        j_j_j_j__ZdlPv_9(v87);
    if ( v174 )
      (*(void (__fastcall **)(int))(v5 + 12))(v5);
LABEL_128:
      v89 = v173;
      if ( v173 )
        v90 = (unsigned int *)(v173 + 4);
          v91 = __ldrex(v90);
        while ( __strex(v91 - 1, v90) );
        if ( v91 == 1 )
        {
          v92 = (unsigned int *)(v89 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 8))(v89);
          __dmb();
          do
            v93 = __ldrex(v92);
          while ( __strex(v93 - 1, v92) );
          if ( v93 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v89 + 12))(v89);
        }
      goto LABEL_136;
    EntityInteraction::setInteractText((int *)&v178, (int *)(v172 + 4));
    j_websocketpp::uri::get_port_str((websocketpp::uri *)&v167, v172);
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)&v177,
      &v167);
    v97 = (void *)(v167 - 12);
    if ( (int *)(v167 - 12) != &dword_28898C0 )
      v121 = (unsigned int *)(v167 - 4);
        v122 = __ldrex(v121);
      while ( __strex(v122 - 1, v121) );
      if ( v122 <= 0 )
        j_j_j_j__ZdlPv_9(v97);
    v98 = v173;
      v99 = (unsigned int *)(v173 + 4);
        v100 = __ldrex(v99);
      while ( __strex(v100 - 1, v99) );
      if ( v100 == 1 )
        v101 = (unsigned int *)(v98 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 8))(v98);
          v102 = __ldrex(v101);
        while ( __strex(v102 - 1, v101) );
        if ( v102 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v98 + 12))(v98);
  else
    EntityInteraction::setInteractText((int *)&v178, (int *)(*v6 + 4));
    j_websocketpp::uri::get_port_str((websocketpp::uri *)&v176, *v6);
      &v176);
    v22 = (void *)(v176 - 12);
    if ( (int *)(v176 - 12) != &dword_28898C0 )
      v113 = (unsigned int *)(v176 - 4);
        v114 = __ldrex(v113);
      while ( __strex(v114 - 1, v113) );
      if ( v114 <= 0 )
        j_j_j_j__ZdlPv_9(v22);
  sub_21E8AF4(&v165, (int *)&v178);
  sub_21E8AF4(&v166, (int *)&v177);
  v23 = 0;
  v157 = 1024;
  v158 = 0;
  v159 = 1;
  v164 = 0;
  v162 = 0;
  v163 = 0;
  v160 = 6;
  v161 = 0;
  v24 = *(pthread_mutex_t **)(v4 + 108);
  if ( *((_BYTE *)&v24->__align + 5) & 4 )
    v154 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v154, *(v178 - 3) + 31);
    sub_21E7408((const void **)&v154, "starting async DNS resolve for ", 0x1Fu);
    sub_21E72F0((const void **)&v154, (const void **)&v178);
    v25 = sub_21E7408((const void **)&v154, ":", 1u);
    v155 = (char *)*v25;
    *v25 = &unk_28898CC;
    v26 = sub_21E72F0((const void **)&v155, (const void **)&v177);
    v156 = *v26;
    v27 = (int)v156;
    *v26 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v24, 1024, (int *)&v156);
    if ( (int *)(v27 - 12) != &dword_28898C0 )
      v115 = (unsigned int *)(v27 - 4);
        v116 = __ldrex(v115);
      while ( __strex(v116 - 1, v115) );
      if ( v116 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v27 - 12));
    v28 = v155 - 12;
    if ( (int *)(v155 - 12) != &dword_28898C0 )
      v117 = (unsigned int *)(v155 - 4);
        v118 = __ldrex(v117);
      while ( __strex(v118 - 1, v117) );
      if ( v118 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    v29 = v154 - 12;
    if ( (int *)(v154 - 12) != &dword_28898C0 )
      v119 = (unsigned int *)(v154 - 4);
        v120 = __ldrex(v119);
      while ( __strex(v120 - 1, v119) );
      if ( v120 <= 0 )
        j_j_j_j__ZdlPv_9(v29);
  v30 = *(_DWORD *)v7;
  v142 = websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_resolve_timeout;
  v143 = 0;
  v145 = 0;
  v31 = *(void (__fastcall **)(int *, int, signed int))(v5 + 8);
  if ( v31 )
    v31(&v144, v5, 2);
    v146 = *(_DWORD *)(v5 + 12);
    v23 = *(_DWORD *)(v5 + 8);
    v145 = *(void (__fastcall **)(int *))(v5 + 8);
  v147 = 0;
  v148 = 0;
  v149 = v4;
  v151 = 0;
  v32 = j_operator new(0x24u);
  *v32 = *(_QWORD *)&v142;
  v32[1] = *(_QWORD *)&v144;
  v33 = v146;
  *((_DWORD *)v32 + 4) = v23;
  *((_DWORD *)v32 + 5) = v33;
  *((_DWORD *)v32 + 6) = 0;
  *((_DWORD *)v32 + 7) = 0;
  *((_DWORD *)v32 + 8) = v4;
  v150 = v32;
  v151 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v152 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
    (int)&v153,
    v30,
    5000,
    (int)&v150);
  *(_QWORD *)&v34 = v153;
  v153 = 0LL;
  if ( v151 )
    v151(&v150);
  v36 = v148;
  v123 = v4;
  if ( v148 )
    v37 = (unsigned int *)(v148 + 4);
    __dmb();
    do
      v38 = __ldrex(v37);
    while ( __strex(v38 - 1, v37) );
    if ( v38 == 1 )
      v39 = (unsigned int *)(v36 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v36 + 8))(v36);
        v40 = __ldrex(v39);
      while ( __strex(v40 - 1, v39) );
      if ( v40 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v36 + 12))(v36);
  if ( v145 )
    v145(&v144);
  v41 = *(int **)(v4 + 80);
  v42 = *(_QWORD *)(*(_DWORD *)v7 + 116);
  if ( HIDWORD(v42) )
    v43 = (unsigned int *)(HIDWORD(v42) + 4);
      v44 = __ldrex(v43);
    while ( __strex(v44 + 1, v43) );
  v125 = 0;
  v45 = *(void (__fastcall **)(__int64 *, int, signed int))(v5 + 8);
  if ( v45 )
    v45(&v124, v5, 2);
    v126 = *(_DWORD *)(v5 + 12);
    v125 = *(void (**)(void))(v5 + 8);
  v127 = v34;
  v46 = v35;
  v128 = v35;
  if ( v35 )
    v47 = (unsigned int *)(v35 + 4);
      v48 = __ldrex(v47);
    while ( __strex(v48 + 1, v47) );
  v49 = *(_DWORD *)v7;
  v129 = *(_DWORD *)v7;
  v50 = *(_DWORD *)(v7 + 4);
  v130 = v50;
  if ( v50 )
    v51 = (unsigned int *)(v50 + 4);
      v52 = __ldrex(v51);
    while ( __strex(v52 + 1, v51) );
    v50 = v130;
    v49 = v129;
  v131 = v123;
  v132 = *(_QWORD *)v42;
  v133 = (unsigned int)websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::handle_resolve;
  v53 = v124;
  v124 = v134;
  v134 = v53;
  v135 = v125;
  LODWORD(v53) = v126;
  v126 = v136;
  v136 = v53;
  v137 = v127;
  LODWORD(v53) = v128;
  v127 = 0;
  v128 = 0;
  v138 = v53;
  v139 = v49;
  v129 = 0;
  v130 = 0;
  v140 = v50;
  v141 = v123;
  j_boost::asio::ip::resolver_service<boost::asio::ip::tcp>::async_resolve<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::*)(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&,boost::asio::ip::basic_resolver_iterator<boost::asio::ip::tcp>)> ()(websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>*,std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>,std::_Placeholder<2>)>,boost::asio::detail::is_continuation_if_running>>(
    *v41,
    (int)(v41 + 1),
    (int)&v157,
    (int)&v132);
  v54 = v140;
  if ( v140 )
    v55 = (unsigned int *)(v140 + 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 == 1 )
      v57 = (unsigned int *)(v54 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 8))(v54);
        v58 = __ldrex(v57);
      while ( __strex(v58 - 1, v57) );
      if ( v58 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 12))(v54);
  v59 = v138;
  if ( v138 )
    v60 = (unsigned int *)(v138 + 4);
      v61 = __ldrex(v60);
    while ( __strex(v61 - 1, v60) );
    if ( v61 == 1 )
      v62 = (unsigned int *)(v59 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v59 + 8))(v59);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v59 + 12))(v59);
  if ( v135 )
    v135();
  v64 = v130;
  if ( v130 )
    v65 = (unsigned int *)(v130 + 4);
      v66 = __ldrex(v65);
    while ( __strex(v66 - 1, v65) );
    if ( v66 == 1 )
      v67 = (unsigned int *)(v64 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 8))(v64);
        v68 = __ldrex(v67);
      while ( __strex(v68 - 1, v67) );
      if ( v68 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v64 + 12))(v64);
  v69 = v128;
  if ( v128 )
    v70 = (unsigned int *)(v128 + 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 == 1 )
      v72 = (unsigned int *)(v69 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 8))(v69);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v69 + 12))(v69);
  if ( v125 )
    v125();
    v74 = (unsigned int *)(HIDWORD(v42) + 4);
      v75 = __ldrex(v74);
    while ( __strex(v75 - 1, v74) );
    if ( v75 == 1 )
      v76 = (unsigned int *)(HIDWORD(v42) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v42) + 8))(HIDWORD(v42));
        v77 = __ldrex(v76);
      while ( __strex(v77 - 1, v76) );
      if ( v77 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v42) + 12))(HIDWORD(v42));
  if ( v46 )
    v78 = (unsigned int *)(v46 + 4);
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 == 1 )
      v80 = (unsigned int *)(v46 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 8))(v46);
        v81 = __ldrex(v80);
      while ( __strex(v81 - 1, v80) );
      if ( v81 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v46 + 12))(v46);
  v82 = (void *)(v166 - 12);
  if ( (int *)(v166 - 12) != &dword_28898C0 )
    v109 = (unsigned int *)(v166 - 4);
      v110 = __ldrex(v109);
    while ( __strex(v110 - 1, v109) );
    if ( v110 <= 0 )
      j_j_j_j__ZdlPv_9(v82);
  v83 = (void *)(v165 - 12);
  if ( (int *)(v165 - 12) != &dword_28898C0 )
    v84 = (unsigned int *)(v165 - 4);
      v85 = __ldrex(v84);
    while ( __strex(v85 - 1, v84) );
    if ( v85 <= 0 )
      j_j_j_j__ZdlPv_9(v83);
LABEL_136:
  v94 = v177 - 12;
  if ( v177 - 12 != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v103 = (unsigned int *)(v177 - 4);
      v104 = __ldrex(v103);
    while ( __strex(v104 - 1, v103) );
    if ( v104 <= 0 )
      j_j_j_j__ZdlPv_9(v94);
  v95 = (char *)(v178 - 3);
  if ( (char *)(v178 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v105 = v178 - 1;
      v106 = __ldrex(v105);
    while ( __strex(v106 - 1, v105) );
    if ( v106 <= 0 )
      j_j_j_j__ZdlPv_9(v95);
  v96 = (void *)(v179 - 12);
  if ( (int (__fastcall *)(_DWORD))(v179 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v20) )
    v107 = (unsigned int *)(v179 - 4);
      v108 = __ldrex(v107);
    while ( __strex(v108 - 1, v107) );
    if ( v108 <= 0 )
      j_j_j_j__ZdlPv_9(v96);
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_write_frame(int a1, unsigned __int64 *a2)
{
  int v2; // r11@1
  pthread_mutex_t *v3; // r0@1
  unsigned __int64 *v4; // r9@1
  int v5; // r7@3
  int v6; // r4@3
  int v7; // r5@4
  int v8; // r8@5
  unsigned int *v9; // r0@6
  unsigned int v10; // r1@7
  unsigned int *v11; // r6@9
  unsigned int v12; // r0@10
  void *result; // r0@15
  int v14; // r0@18
  int v15; // r4@19
  int v16; // r6@19
  int v17; // r5@20
  unsigned int v18; // r0@21
  unsigned int *v19; // r6@21
  unsigned int v20; // r1@22
  int v21; // r7@25
  unsigned int v22; // r0@26
  unsigned int v23; // r0@28
  unsigned int *v24; // r4@30
  unsigned int v25; // r0@31
  unsigned int v26; // r0@35
  unsigned int v27; // r0@37
  unsigned int *v28; // r4@39
  unsigned int v29; // r0@40
  _DWORD *v30; // r0@43
  __int64 v31; // r0@43
  int v32; // [sp+0h] [bp-48h]@3
  char v33; // [sp+4h] [bp-44h]@43
  _DWORD *v34; // [sp+Ch] [bp-3Ch]@43
  int (*v35)(void); // [sp+14h] [bp-34h]@43
  int (__fastcall *v36)(int *); // [sp+18h] [bp-30h]@43
  int v37; // [sp+1Ch] [bp-2Ch]@17
  int v38; // [sp+20h] [bp-28h]@17

  v2 = a1;
  v3 = *(pthread_mutex_t **)(a1 + 19196);
  v4 = a2;
  if ( *((_BYTE *)&v3->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v3,
      1024,
      "connection handle_write_frame");
  v5 = *(_DWORD *)(v2 + 19016);
  v32 = *(_BYTE *)(*(_DWORD *)(v5 - 8) + 26);
  *(_DWORD *)(v2 + 19004) = *(_DWORD *)(v2 + 19000);
  v6 = *(_DWORD *)(v2 + 19012);
  if ( v5 != v6 )
  {
    v7 = *(_DWORD *)(v2 + 19012);
    do
    {
      v8 = *(_DWORD *)(v7 + 4);
      if ( v8 )
      {
        v9 = (unsigned int *)(v8 + 4);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
        {
          v11 = (unsigned int *)(v8 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
          __dmb();
          do
            v12 = __ldrex(v11);
          while ( __strex(v12 - 1, v11) );
          if ( v12 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
        }
      }
      v7 += 8;
    }
    while ( v7 != v5 );
  }
  *(_DWORD *)(v2 + 19016) = v6;
  if ( *(_DWORD *)v4 )
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
      v2,
      32,
      "handle_write_frame",
      v4);
    result = j_j_j__ZN11websocketpp10connectionINS_6config11asio_clientEE9terminateERKSt10error_code_0(v2, v4);
  else if ( v32 )
    v37 = 0;
    v38 = ((int (*)(void))byte_21E9640)();
    result = j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v2, (unsigned __int64 *)&v37);
  else
    v14 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v2 + 2512));
    if ( v14 )
      sub_21E5E14(v14);
    *(_BYTE *)(v2 + 19024) = 0;
    v15 = *(_DWORD *)(v2 + 18964);
    v16 = *(_DWORD *)(v2 + 18980);
    result = (void *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v2 + 2512));
    if ( v16 != v15 )
      v17 = *(_DWORD *)(v2 + 4);
      if ( !v17 )
LABEL_46:
        j_std::__throw_bad_weak_ptr();
      v18 = *(_DWORD *)(v17 + 4);
      v19 = (unsigned int *)(v17 + 4);
      do
        v20 = v18;
        if ( !v18 )
          goto LABEL_46;
        v18 = __ldrex(v19);
      while ( v18 != v20 || __strex(v20 + 1, v19) );
      __dmb();
      v21 = *(_DWORD *)v2;
        v22 = __ldrex(v19);
      while ( __strex(v22 + 1, v19) );
        v23 = __ldrex(v19);
      while ( __strex(v23 - 1, v19) );
      if ( v23 == 1 )
        v24 = (unsigned int *)(v17 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
        v26 = __ldrex(v19);
      while ( __strex(v26 + 1, v19) );
        v27 = __ldrex(v19);
      while ( __strex(v27 - 1, v19) );
      if ( v27 == 1 )
        v28 = (unsigned int *)(v17 + 8);
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 == 1 )
      v30 = j_operator new(0x10u);
      *v30 = websocketpp::connection<websocketpp::config::asio_client>::write_frame;
      v30[1] = 0;
      v30[2] = v21;
      v30[3] = v17;
      v34 = v30;
      v35 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_manager;
      v36 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>)>>::_M_invoke;
      LODWORD(v31) = &v33;
      result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::dispatch(
                         v31,
                         (int)&v34);
      if ( v35 )
        result = (void *)v35();
  return result;
}


signed int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::ready(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 92);
  result = 0;
  if ( v1 == 4 )
    result = 1;
  return result;
}


void __fastcall websocketpp::processor::error::processor_category::~processor_category(websocketpp::processor::error::processor_category *this)
{
  void *v1; // r0@1

  v1 = (void *)nullsub_3(this);
  j_j_j__ZdlPv_8(v1);
}


signed int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::ready(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 16);
  result = 0;
  if ( v1 == 2 )
    result = 1;
  return result;
}


int *__fastcall websocketpp::connection<websocketpp::config::asio_client>::write_pop(int a1, int a2)
{
  int v2; // r11@1
  int v3; // r5@1
  int *result; // r0@1
  int **v5; // r10@2
  int v6; // r1@2
  int v7; // r4@2
  unsigned int *v8; // r0@3
  unsigned int v9; // r1@4
  int v10; // r7@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  unsigned int *v13; // r6@9
  unsigned int v14; // r0@10
  _DWORD *v15; // r9@14
  int v16; // r6@15
  unsigned int *v17; // r0@16
  unsigned int v18; // r1@17
  unsigned int *v19; // r4@19
  unsigned int v20; // r0@20
  int v21; // r6@24
  unsigned int *v22; // r0@25
  unsigned int v23; // r1@26
  unsigned int *v24; // r7@28
  unsigned int v25; // r0@29
  int v26; // r1@32
  int v27; // r0@32
  int v28; // r1@34
  char *v29; // r7@34
  int v30; // r1@34
  pthread_mutex_t *v31; // r5@34
  void *v32; // r0@34
  void *v33; // r0@35
  unsigned int *v34; // r1@38
  signed int v35; // r2@39
  unsigned int *v36; // r1@42
  signed int v37; // r2@43
  int v38; // [sp+0h] [bp-E8h]@34
  void **v39; // [sp+4h] [bp-E4h]@34
  int v40; // [sp+8h] [bp-E0h]@36
  void **v41; // [sp+Ch] [bp-DCh]@34
  void **v42; // [sp+10h] [bp-D8h]@34
  int v43; // [sp+2Ch] [bp-BCh]@36
  int v44; // [sp+34h] [bp-B4h]@35
  void **v45; // [sp+38h] [bp-B0h]@35

  v2 = a1;
  v3 = a2;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  result = *(int **)(a2 + 18964);
  if ( *(int **)(a2 + 18980) != result )
  {
    v5 = (int **)(a2 + 18964);
    v6 = *result;
    *(_DWORD *)v2 = *result;
    v7 = result[1];
    if ( v7 )
    {
      v8 = (unsigned int *)(v7 + 4);
      __dmb();
      do
        v9 = __ldrex(v8);
      while ( __strex(v9 + 1, v8) );
      v10 = *(_DWORD *)(v2 + 4);
      if ( v10 )
      {
        v11 = (unsigned int *)(v10 + 4);
        __dmb();
        do
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 == 1 )
        {
          v13 = (unsigned int *)(v10 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
          __dmb();
          do
            v14 = __ldrex(v13);
          while ( __strex(v14 - 1, v13) );
          if ( v14 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
        }
      }
      *(_DWORD *)(v2 + 4) = v7;
      result = *v5;
      v6 = *(_DWORD *)v2;
    }
    *(_DWORD *)(v3 + 18996) -= *(_DWORD *)(*(_DWORD *)(v6 + 16) - 12);
    v15 = (_DWORD *)(v3 + 18972);
    if ( result == (int *)(*(_DWORD *)(v3 + 18972) - 8) )
      v21 = result[1];
      if ( v21 )
        v22 = (unsigned int *)(v21 + 4);
          v23 = __ldrex(v22);
        while ( __strex(v23 - 1, v22) );
        if ( v23 == 1 )
          v24 = (unsigned int *)(v21 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 8))(v21);
            v25 = __ldrex(v24);
          while ( __strex(v25 - 1, v24) );
          if ( v25 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 12))(v21);
      j_operator delete(*(void **)(v3 + 18968));
      v26 = *(_DWORD *)(v3 + 18976);
      *(_DWORD *)(v3 + 18976) = v26 + 4;
      v27 = *(_DWORD *)(v26 + 4);
      *(_DWORD *)(v3 + 18968) = v27;
      *v15 = v27 + 512;
      *(_DWORD *)(v3 + 18964) = v27;
    else
      v16 = result[1];
      if ( v16 )
        v17 = (unsigned int *)(v16 + 4);
          v18 = __ldrex(v17);
        while ( __strex(v18 - 1, v17) );
        if ( v18 == 1 )
          v19 = (unsigned int *)(v16 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
            v20 = __ldrex(v19);
          while ( __strex(v20 - 1, v19) );
          if ( v20 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
      *v5 += 2;
    result = (int *)*(_BYTE *)(*(_DWORD *)(v3 + 19196) + 5);
    if ( (unsigned __int8)result & 4 )
      sub_21D103C((int)&v39, 24);
      sub_21CBF38((char *)&v41, (int)"write_pop: message count: ", 26);
      v28 = 16 * (*(_DWORD *)(v3 + 18992) - *(_DWORD *)(v3 + 18976))
          + ((*(_DWORD *)(v3 + 18980) - *(_DWORD *)(v3 + 18984)) >> 3)
          + ((*v15 - *(_DWORD *)(v3 + 18964)) >> 3)
          - 64;
      v29 = sub_21CC440((char *)&v41);
      sub_21CBF38(v29, (int)" buffer size: ", 14);
      v30 = *(_DWORD *)(v3 + 18996);
      sub_21CC440(v29);
      v31 = *(pthread_mutex_t **)(v3 + 19196);
      sub_21CFED8(&v38, (int)&v42);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v31, 1024, &v38);
      v32 = (void *)(v38 - 12);
      if ( (int *)(v38 - 12) != &dword_28898C0 )
        v34 = (unsigned int *)(v38 - 4);
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      v39 = &off_26D3F94;
      v45 = &off_26D3FBC;
      v41 = &off_26D3FA8;
      v42 = &off_27734E8;
      v33 = (void *)(v44 - 12);
      if ( (int *)(v44 - 12) != &dword_28898C0 )
        v36 = (unsigned int *)(v44 - 4);
          v37 = __ldrex(v36);
        while ( __strex(v37 - 1, v36) );
        if ( v37 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v42 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v43);
      v39 = &off_276D0DC;
      v45 = &off_276D0F0;
      v40 = 0;
      result = sub_21B6560(&v45);
  }
  return result;
}


int __fastcall websocketpp::processor::processor<websocketpp::config::asio_tls_client>::negotiate_extensions(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  unsigned __int64 v2; // r0@1

  v1 = a1;
  *a1 = 0;
  v2 = __PAIR__(&unk_28898CC, ((int (*)(void))byte_21E9640)());
  *(_QWORD *)(v1 + 1) = v2;
  return v2;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::append_header(int a1, _DWORD *a2, const void **a3)
{
  int v3; // r3@1
  signed int v4; // r3@3
  char *v5; // r4@5
  char v6; // r0@5
  int *v7; // r0@8
  char *v8; // r4@10
  char v9; // r0@10
  int *v10; // r0@13
  int v11; // [sp+8h] [bp-28h]@5
  int v12; // [sp+10h] [bp-20h]@10

  v3 = *(_DWORD *)(a1 + 2544);
  if ( *(_BYTE *)(a1 + 19232) )
  {
    if ( v3 != 6 )
    {
      v8 = j_j___cxa_allocate_exception_0(16);
      sub_21E94B4((void **)&v12, "Call to append_header from invalid state");
      v9 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v9 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      {
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      }
      *(_DWORD *)v8 = &off_276CEA4;
      v10 = (int *)(v8 + 4);
      if ( *(_DWORD *)(v12 - 12) )
        sub_21E8AF4(v10, &v12);
      else
        (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v10);
      *((_DWORD *)v8 + 2) = 9;
      *((_DWORD *)v8 + 3) = &websocketpp::error::get_category(void)::instance;
      j_j___cxa_throw_0(
        (int)v8,
        (int)&`typeinfo for'websocketpp::exception,
        (int)websocketpp::exception::~exception,
        -3068);
    }
    v4 = 19136;
  }
  else
    if ( v3 )
      v5 = j_j___cxa_allocate_exception_0(16);
      sub_21E94B4((void **)&v11, "Call to append_header from invalid state");
      v6 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v6 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      *(_DWORD *)v5 = &off_276CEA4;
      v7 = (int *)(v5 + 4);
      if ( *(_DWORD *)(v11 - 12) )
        sub_21E8AF4(v7, &v11);
        (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v7);
      *((_DWORD *)v5 + 2) = 9;
      *((_DWORD *)v5 + 3) = &websocketpp::error::get_category(void)::instance;
        (int)v5,
    v4 = 19068;
  j_j_j__ZN11websocketpp4http6parser6parser13append_headerERKSsS4__0(a1 + v4, a2, a3);
}


int __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::~connection(int a1)
{
  int v1; // r11@1
  int v2; // r1@1
  void *v3; // r0@1
  int v4; // r1@2
  void *v5; // r0@2
  void *v6; // r7@3
  void *v7; // r5@3
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int *v10; // r0@9
  int v11; // r1@14
  void *v12; // r0@14
  int v13; // r5@15
  unsigned int *v14; // r0@16
  unsigned int v15; // r1@17
  unsigned int *v16; // r6@19
  unsigned int v17; // r0@20
  int v18; // r7@23
  int v19; // r5@23
  int v20; // r4@24
  unsigned int *v21; // r0@25
  unsigned int v22; // r1@26
  unsigned int *v23; // r6@28
  unsigned int v24; // r0@29
  void *v25; // r0@36
  int v26; // r1@38
  int v27; // r7@38
  int v28; // r6@38
  int v29; // r0@38
  int *v30; // r2@38
  int v31; // r3@38
  void *v32; // r0@38
  unsigned int v33; // r6@39
  unsigned int v34; // r1@39
  unsigned int v35; // r4@40
  void *v36; // t1@41
  int v37; // r5@44
  unsigned int *v38; // r0@45
  unsigned int v39; // r1@46
  unsigned int *v40; // r4@48
  unsigned int v41; // r0@49
  int v42; // r1@52
  void *v43; // r0@52
  int v44; // r5@53
  unsigned int *v45; // r0@54
  unsigned int v46; // r1@55
  unsigned int *v47; // r4@57
  unsigned int v48; // r0@58
  int v49; // r5@61
  unsigned int *v50; // r0@62
  unsigned int v51; // r1@63
  unsigned int *v52; // r4@65
  unsigned int v53; // r0@66
  int v54; // r5@69
  unsigned int *v55; // r0@70
  unsigned int v56; // r1@71
  unsigned int *v57; // r4@73
  unsigned int v58; // r0@74
  void (*v59)(void); // r3@77
  void (__fastcall *v60)(SemVersion *); // r3@79
  void (__fastcall *v61)(int, __int16, __int16, __int16, int *, int *, char); // r3@81
  void (__fastcall *v62)(int, int, int, int); // r3@83
  void (__fastcall *v63)(int, int, const wchar_t *); // r3@85
  void (__fastcall *v64)(void *); // r3@87
  void (__fastcall *v65)(int, const BlockPos *); // r3@89
  void (__fastcall *v66)(BaseCircuitComponent *); // r3@91
  void (__fastcall *v67)(BaseCircuitComponent *); // r3@93
  void (__fastcall *v68)(int, const BlockPos *, int, int *); // r3@95
  void (__fastcall *v69)(int, const BlockPos *, int, int); // r3@97
  int v70; // r0@99
  unsigned int *v71; // r1@100
  unsigned int v72; // r2@101
  int v73; // r1@104
  void *v74; // r0@104
  void (__fastcall *v75)(int, const BlockPos *, int, int); // r3@105
  unsigned __int64 v76; // r2@107
  unsigned int *v78; // r1@110
  signed int v79; // r2@111
  unsigned int *v80; // r1@114
  signed int v81; // r2@115
  unsigned int *v82; // r1@118
  signed int v83; // r2@119
  unsigned int *v84; // r1@122
  signed int v85; // r2@123
  unsigned int *v86; // r1@126
  signed int v87; // r2@127
  int *v88; // [sp+0h] [bp-48h]@0
  int *v89; // [sp+4h] [bp-44h]@38
  int v90; // [sp+8h] [bp-40h]@38
  int v91; // [sp+Ch] [bp-3Ch]@38
  int v92; // [sp+10h] [bp-38h]@38
  __int64 v93; // [sp+14h] [bp-34h]@38
  int v94; // [sp+1Ch] [bp-2Ch]@38
  int v95; // [sp+20h] [bp-28h]@38

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 19260);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v78 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v79 = __ldrex(v78);
    while ( __strex(v79 - 1, v78) );
    if ( v79 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  v4 = *(_DWORD *)(v1 + 19252);
  v5 = (void *)(v4 - 12);
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v80 = (unsigned int *)(v4 - 4);
      v81 = __ldrex(v80);
    while ( __strex(v81 - 1, v80) );
    if ( v81 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  v6 = *(void **)(v1 + 19224);
  v7 = *(void **)(v1 + 19220);
  if ( v7 != v6 )
    {
      v10 = (int *)(*(_DWORD *)v7 - 12);
      if ( v10 != &dword_28898C0 )
      {
        v8 = (unsigned int *)(*(_DWORD *)v7 - 4);
        __dmb();
        do
          v9 = __ldrex(v8);
        while ( __strex(v9 - 1, v8) );
        if ( v9 <= 0 )
          j_j_j_j__ZdlPv_9(v10);
      }
      v7 = (char *)v7 + 4;
    }
    while ( v7 != v6 );
    v7 = *(void **)(v1 + 19220);
  if ( v7 )
    j_operator delete(v7);
  v11 = *(_DWORD *)(v1 + 19216);
  v12 = (void *)(v11 - 12);
  if ( (int *)(v11 - 12) != &dword_28898C0 )
    v82 = (unsigned int *)(v11 - 4);
      v83 = __ldrex(v82);
    while ( __strex(v83 - 1, v82) );
    if ( v83 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v13 = *(_DWORD *)(v1 + 19212);
  if ( v13 )
    v14 = (unsigned int *)(v13 + 4);
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 == 1 )
      v16 = (unsigned int *)(v13 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
      __dmb();
      do
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
  j_websocketpp::http::parser::response::~response((websocketpp::http::parser::response *)(v1 + 19136));
  j_websocketpp::http::parser::request::~request((websocketpp::http::parser::request *)(v1 + 19068));
  v18 = *(_DWORD *)(v1 + 19056);
  v19 = *(_DWORD *)(v1 + 19052);
  if ( v19 != v18 )
      v20 = *(_DWORD *)(v19 + 4);
      if ( v20 )
        v21 = (unsigned int *)(v20 + 4);
          v22 = __ldrex(v21);
        while ( __strex(v22 - 1, v21) );
        if ( v22 == 1 )
        {
          v23 = (unsigned int *)(v20 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 8))(v20);
          __dmb();
          do
            v24 = __ldrex(v23);
          while ( __strex(v24 - 1, v23) );
          if ( v24 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 12))(v20);
        }
      v19 += 8;
    while ( v19 != v18 );
    v19 = *(_DWORD *)(v1 + 19052);
  if ( v19 )
    j_operator delete((void *)v19);
  v25 = *(void **)(v1 + 19040);
  if ( v25 )
    j_operator delete(v25);
  v26 = *(_DWORD *)(v1 + 19024);
  v27 = *(_DWORD *)(v1 + 0x4A48);
  v28 = *(_DWORD *)(v1 + 0x4A58);
  v29 = *(_DWORD *)(v1 + 19028);
  v30 = *(int **)(v1 + 19020);
  v31 = *(_DWORD *)(v1 + 19012);
  v93 = *(_QWORD *)(v1 + 19004);
  v94 = v31;
  v95 = v27;
  v89 = v30;
  v90 = v26;
  v91 = v29;
  v92 = v28;
  j_std::deque<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>,std::allocator<std::shared_ptr<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>>>::_M_destroy_data_aux(
    v1 + 0x4A34,
    (int)&v93,
    (int)&v89);
  v32 = *(void **)(v1 + 0x4A34);
  if ( v32 )
    v33 = *(_DWORD *)(v1 + 0x4A58);
    v34 = *(_DWORD *)(v1 + 0x4A48);
    if ( v34 < v33 + 4 )
      v35 = v34 - 4;
        v36 = *(void **)(v35 + 4);
        v35 += 4;
        j_operator delete(v36);
      while ( v35 < v33 );
      v32 = *(void **)(v1 + 0x4A34);
    j_operator delete(v32);
  v37 = *(_DWORD *)(v1 + 18992);
  if ( v37 )
    v38 = (unsigned int *)(v37 + 4);
      v39 = __ldrex(v38);
    while ( __strex(v39 - 1, v38) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v37 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 8))(v37);
        v41 = __ldrex(v40);
      while ( __strex(v41 - 1, v40) );
      if ( v41 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v37 + 12))(v37);
  v42 = *(_DWORD *)(v1 + 18984);
  v43 = (void *)(v42 - 12);
  if ( (int *)(v42 - 12) != &dword_28898C0 )
    v84 = (unsigned int *)(v42 - 4);
      v85 = __ldrex(v84);
    while ( __strex(v85 - 1, v84) );
    if ( v85 <= 0 )
      j_j_j_j__ZdlPv_9(v43);
  v44 = *(_DWORD *)(v1 + 18980);
  if ( v44 )
    v45 = (unsigned int *)(v44 + 4);
      v46 = __ldrex(v45);
    while ( __strex(v46 - 1, v45) );
    if ( v46 == 1 )
      v47 = (unsigned int *)(v44 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 8))(v44);
        v48 = __ldrex(v47);
      while ( __strex(v48 - 1, v47) );
      if ( v48 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v44 + 12))(v44);
  v49 = *(_DWORD *)(v1 + 18972);
  if ( v49 )
    v50 = (unsigned int *)(v49 + 4);
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 == 1 )
      v52 = (unsigned int *)(v49 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 8))(v49);
        v53 = __ldrex(v52);
      while ( __strex(v53 - 1, v52) );
      if ( v53 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v49 + 12))(v49);
  v54 = *(_DWORD *)(v1 + 18964);
  if ( v54 )
    v55 = (unsigned int *)(v54 + 4);
      v56 = __ldrex(v55);
    while ( __strex(v56 - 1, v55) );
    if ( v56 == 1 )
      v57 = (unsigned int *)(v54 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 8))(v54);
        v58 = __ldrex(v57);
      while ( __strex(v58 - 1, v57) );
      if ( v58 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v54 + 12))(v54);
  v59 = *(void (**)(void))(v1 + 18952);
  if ( v59 )
    v59();
  v60 = *(void (__fastcall **)(SemVersion *))(v1 + 2516);
  if ( v60 )
    v60((SemVersion *)(v1 + 2508));
  v61 = *(void (__fastcall **)(int, __int16, __int16, __int16, int *, int *, char))(v1 + 2500);
  if ( v61 )
    v61(v1 + 2492, v1 + 2492, 3, (__int16)v61, v88, v89, v90);
  v62 = *(void (__fastcall **)(int, int, int, int))(v1 + 2484);
  if ( v62 )
    v62(v1 + 2476, v1 + 2476, 3, (int)v62);
  v63 = *(void (__fastcall **)(int, int, const wchar_t *))(v1 + 2468);
  if ( v63 )
    v63(v1 + 2460, v1 + 2460, (const wchar_t *)3);
  v64 = *(void (__fastcall **)(void *))(v1 + 2452);
  if ( v64 )
    v64((void *)(v1 + 2444));
  v65 = *(void (__fastcall **)(int, const BlockPos *))(v1 + 2436);
  if ( v65 )
    v65(v1 + 2428, (const BlockPos *)(v1 + 2428));
  v66 = *(void (__fastcall **)(BaseCircuitComponent *))(v1 + 2420);
  if ( v66 )
    v66((BaseCircuitComponent *)(v1 + 2412));
  v67 = *(void (__fastcall **)(BaseCircuitComponent *))(v1 + 2404);
  if ( v67 )
    v67((BaseCircuitComponent *)(v1 + 2396));
  v68 = *(void (__fastcall **)(int, const BlockPos *, int, int *))(v1 + 2388);
  if ( v68 )
    v68(v1 + 2380, (const BlockPos *)(v1 + 2380), 3, (int *)v68);
  v69 = *(void (__fastcall **)(int, const BlockPos *, int, int))(v1 + 2372);
  if ( v69 )
    v69(v1 + 2364, (const BlockPos *)(v1 + 2364), 3, (int)v69);
  v70 = *(_DWORD *)(v1 + 2360);
  if ( v70 )
    v71 = (unsigned int *)(v70 + 8);
      v72 = __ldrex(v71);
    while ( __strex(v72 - 1, v71) );
    if ( v72 == 1 )
      (*(void (**)(void))(*(_DWORD *)v70 + 12))();
  v73 = *(_DWORD *)(v1 + 2352);
  v74 = (void *)(v73 - 12);
  if ( (int *)(v73 - 12) != &dword_28898C0 )
    v86 = (unsigned int *)(v73 - 4);
      v87 = __ldrex(v86);
    while ( __strex(v87 - 1, v86) );
    if ( v87 <= 0 )
      j_j_j_j__ZdlPv_9(v74);
  v75 = *(void (__fastcall **)(int, const BlockPos *, int, int))(v1 + 2344);
  if ( v75 )
    v75(v1 + 2336, (const BlockPos *)(v1 + 2336), 3, (int)v75);
  HIDWORD(v76) = *(_DWORD *)(v1 + 2328);
  if ( HIDWORD(v76) )
    LODWORD(v76) = 3;
    ((void (__fastcall *)(CircuitSceneGraph *, const BlockPos *, unsigned __int64))HIDWORD(v76))(
      (CircuitSceneGraph *)(v1 + 2320),
      (const BlockPos *)(v1 + 2320),
      v76);
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::~connection(v1);
  return v1;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(int a1, unsigned __int64 *a2, __int64 a3)
{
  int v3; // r4@1
  int v4; // r8@1
  unsigned __int64 *v5; // r6@1
  __int64 *v6; // r5@2
  __int64 v7; // r0@3
  int v8; // r0@7
  int v9; // r1@8
  char v10; // r0@9
  __int64 v11; // kr08_8@15
  void (*v12)(void); // r3@15
  int v13; // r5@17
  void (__fastcall *v14)(char *, int, signed int); // r3@17
  char v15; // [sp+4h] [bp-64h]@18
  void (*v16)(void); // [sp+Ch] [bp-5Ch]@17
  int v17; // [sp+10h] [bp-58h]@18
  char v18; // [sp+14h] [bp-54h]@19
  void (*v19)(void); // [sp+20h] [bp-48h]@19
  __int64 v20; // [sp+28h] [bp-40h]@3
  int v21; // [sp+30h] [bp-38h]@12
  void *v22; // [sp+34h] [bp-34h]@12
  char v23; // [sp+38h] [bp-30h]@8
  int v24; // [sp+3Ch] [bp-2Ch]@15
  void (*v25)(void); // [sp+40h] [bp-28h]@7
  int v26; // [sp+44h] [bp-24h]@8

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( *(_DWORD *)(a1 + 2312) )
  {
    v6 = (__int64 *)*a2;
    if ( v6 != (__int64 *)(*a2 >> 32) )
    {
      do
      {
        v20 = *v6;
        v7 = *(_QWORD *)(v3 + 136);
        if ( (_DWORD)v7 == HIDWORD(v7) )
        {
          LODWORD(v7) = v3 + 132;
          j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v7);
        }
        else
          LODWORD(a3) = HIDWORD(v20);
          *(_QWORD *)v7 = v20;
          *(_DWORD *)(v3 + 136) += 8;
        ++v6;
      }
      while ( v6 != *((__int64 **)v5 + 1) );
    }
    v8 = 0;
    v25 = 0;
    HIDWORD(a3) = *(_DWORD *)(v4 + 8);
    if ( HIDWORD(a3) )
      ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v23, v4, 2);
      v8 = *(_DWORD *)(v4 + 12);
      v26 = *(_DWORD *)(v4 + 12);
      v9 = *(_DWORD *)(v4 + 8);
      v25 = *(void (**)(void))(v4 + 8);
      a3 = *(_QWORD *)&v23;
    else
      v9 = 0;
    v11 = *(_QWORD *)(v3 + 2256);
    *(_DWORD *)&v23 = *(_QWORD *)(v3 + 2256);
    v24 = HIDWORD(v11);
    *(_QWORD *)(v3 + 2256) = a3;
    v25 = *(void (**)(void))(v3 + 2264);
    v12 = v25;
    *(_DWORD *)(v3 + 2264) = v9;
    v26 = *(_DWORD *)(v3 + 2268);
    *(_DWORD *)(v3 + 2268) = v8;
    if ( v12 )
      v12();
    v13 = *(_DWORD *)(v3 + 28);
    v16 = 0;
    v14 = *(void (__fastcall **)(char *, int, signed int))(v3 + 2312);
    if ( v14 )
      v14(&v15, v3 + 2304, 2);
      v17 = *(_DWORD *)(v3 + 2316);
      v16 = *(void (**)(void))(v3 + 2312);
    j_websocketpp::transport::asio::make_custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>(
      (int)&v18,
      v3 + 1208,
      (int)&v15);
    j_boost::asio::async_write<boost::asio::ssl::stream<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,websocketpp::transport::asio::custom_alloc_handler<std::function<void ()(boost::system::error_code const&,unsigned int)>>>(
      v13,
      (__int64 *)(v3 + 132),
      (int)&v18);
    if ( v19 )
      v19();
    if ( v16 )
      v16();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 92),
      1024,
      "async_write (vector) called after async_shutdown");
    v10 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    __dmb();
    if ( !(v10 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    v21 = 10;
    v22 = &websocketpp::transport::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v4 + 8) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v4 + 12))(v4, &v21);
}


websocketpp::http::parser::request *__fastcall websocketpp::http::parser::request::~request(websocketpp::http::parser::request *this)
{
  websocketpp::http::parser::request *v1; // r4@1
  int v2; // r1@1
  void *v3; // r0@1
  int v4; // r1@2
  void *v5; // r0@2
  int v6; // r5@3
  unsigned int *v7; // r0@4
  unsigned int v8; // r1@5
  unsigned int *v9; // r7@7
  unsigned int v10; // r0@8
  int v11; // r1@11
  void *v12; // r0@11
  int *v13; // r0@12
  unsigned int *v15; // r1@14
  signed int v16; // r2@15
  unsigned int *v17; // r1@18
  signed int v18; // r2@19
  unsigned int *v19; // r1@22
  signed int v20; // r2@23
  unsigned int *v21; // r1@26
  signed int v22; // r2@27

  v1 = this;
  v2 = *((_DWORD *)this + 15);
  v3 = (void *)(v2 - 12);
  if ( (int *)(v2 - 12) != &dword_28898C0 )
  {
    v15 = (unsigned int *)(v2 - 4);
    __dmb();
    do
      v16 = __ldrex(v15);
    while ( __strex(v16 - 1, v15) );
    if ( v16 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
  }
  v4 = *((_DWORD *)v1 + 14);
  v5 = (void *)(v4 - 12);
  if ( (int *)(v4 - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(v4 - 4);
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v5);
  v6 = *((_DWORD *)v1 + 13);
  if ( v6 )
    v7 = (unsigned int *)(v6 + 4);
      v8 = __ldrex(v7);
    while ( __strex(v8 - 1, v7) );
    if ( v8 == 1 )
    {
      v9 = (unsigned int *)(v6 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 8))(v6);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 - 1, v9) );
      if ( v10 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v6 + 12))(v6);
    }
  v11 = *((_DWORD *)v1 + 8);
  v12 = (void *)(v11 - 12);
  if ( (int *)(v11 - 12) != &dword_28898C0 )
    v19 = (unsigned int *)(v11 - 4);
      v20 = __ldrex(v19);
    while ( __strex(v20 - 1, v19) );
    if ( v20 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase(
    (int)v1 + 4,
    *((_DWORD *)v1 + 3));
  v13 = (int *)(*(_DWORD *)v1 - 12);
  if ( v13 != &dword_28898C0 )
    v21 = (unsigned int *)(*(_DWORD *)v1 - 4);
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  return v1;
}


int *__fastcall websocketpp::http::parser::strip_lws(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v2; // r8@1
  _BYTE *v3; // r0@1
  _BYTE *v4; // r2@1
  int v5; // r1@1
  int v6; // r7@2
  int v7; // r3@5
  int v8; // r3@9
  int v9; // r6@10
  int v10; // r3@11
  _BYTE *v11; // r3@12
  int v12; // r5@14
  bool v13; // zf@14
  int v14; // r5@18
  bool v15; // zf@18
  int v16; // r5@22
  bool v17; // zf@22
  int v18; // r3@27
  _BYTE *v19; // r5@31
  int v20; // r3@32
  int v21; // r7@36
  bool v22; // zf@36
  int v23; // r7@41
  int v24; // r4@49
  int v25; // r3@52
  int v26; // r2@56
  int v27; // r3@57
  int v28; // r2@58
  bool v29; // zf@58
  int v30; // r7@62
  bool v31; // zf@62
  int v32; // r6@66
  int v33; // r7@66
  bool v34; // zf@66
  int v35; // r2@70
  int v36; // t1@70
  bool v37; // zf@70
  int v38; // r2@75
  int v39; // r2@78
  bool v40; // zf@78
  int v41; // r2@83
  int v42; // r3@83
  bool v43; // zf@83
  int v44; // r2@88
  int v45; // r6@96
  _DWORD *v46; // r0@96
  int *v47; // r4@96
  _BYTE *v48; // r7@96
  int *result; // r0@98

  v2 = a1;
  v3 = (_BYTE *)*a2;
  v4 = (_BYTE *)*a2;
  v5 = *(_DWORD *)(*a2 - 12) + *a2;
  while ( 1 )
  {
    v6 = (int)v4;
    if ( v5 - (signed int)v4 >= 3 )
    {
      v6 = (int)v4;
      if ( *v4 == 13 )
      {
        v6 = (int)v4;
        if ( v4[1] == 10 )
        {
          v7 = v4[2];
          if ( v7 == 32 )
          {
            v6 = (int)(v4 + 3);
          }
          else
            v6 = (int)v4;
            if ( v7 == 9 )
              v6 = (int)(v4 + 3);
        }
      }
    }
    v8 = (v5 - v6) >> 2;
    if ( v8 >= 1 )
      v9 = v8 + 1;
      do
        v10 = *(_BYTE *)v6;
        if ( v10 != 32 )
          v13 = v10 == 9;
          v11 = (_BYTE *)v6;
          if ( !v13 )
            goto LABEL_43;
        v11 = (_BYTE *)(v6 + 1);
        v12 = *(_BYTE *)(v6 + 1);
        v13 = v12 == 32;
        if ( v12 != 32 )
          v13 = v12 == 9;
        if ( !v13 )
          goto LABEL_43;
        v11 = (_BYTE *)(v6 + 2);
        v14 = *(_BYTE *)(v6 + 2);
        v15 = v14 == 32;
        if ( v14 != 32 )
          v15 = v14 == 9;
        if ( !v15 )
        v11 = (_BYTE *)(v6 + 3);
        v16 = *(_BYTE *)(v6 + 3);
        v17 = v16 == 32;
        if ( v16 != 32 )
          v17 = v16 == 9;
        if ( !v17 )
        --v9;
        v6 += 4;
      while ( v9 > 1 );
    v18 = v5 - v6;
    if ( v5 - v6 == 1 )
      v11 = (_BYTE *)v6;
    else
      if ( v18 == 2 )
        v11 = (_BYTE *)v6;
      else
        v19 = (_BYTE *)v5;
        if ( v18 != 3 )
          goto LABEL_48;
        v20 = *(_BYTE *)v6;
        if ( v20 != 32 )
          v13 = v20 == 9;
      v21 = *v11;
      v22 = v21 == 32;
      if ( v21 != 32 )
        v22 = v21 == 9;
      if ( !v22 )
        goto LABEL_43;
      ++v11;
    v23 = *v11;
    if ( v23 == 9 )
      v19 = (_BYTE *)v5;
      goto LABEL_48;
    v19 = (_BYTE *)v5;
    if ( v23 == 32 )
LABEL_43:
    if ( v11 == (_BYTE *)v5 )
      break;
    v13 = v4 == v11;
    v4 = v11;
    v19 = v11;
    if ( v13 )
  }
  v19 = v11;
LABEL_48:
  if ( v19 == (_BYTE *)v5 )
    result = (int *)&unk_28898CC;
    *v2 = &unk_28898CC;
    return result;
  while ( 2 )
    v24 = v5;
    if ( v5 - (signed int)v3 >= 3 )
      v24 = v5;
      if ( *(_BYTE *)(v5 - 1) == 13 )
        v24 = v5;
        if ( *(_BYTE *)(v5 - 2) == 10 )
          v25 = *(_BYTE *)(v5 - 3);
          if ( v25 == 32 )
            v24 = v5 - 3;
            v24 = v5;
            if ( v25 == 9 )
              v24 = v5 - 3;
    v26 = (v24 - (signed int)v3) >> 2;
    if ( v26 < 1 )
LABEL_75:
      v38 = v24 - (_DWORD)v3;
      if ( v24 - (_DWORD)v3 == 1 )
        v42 = v24;
        if ( v38 != 2 )
          if ( v38 != 3 )
            goto LABEL_89;
          v39 = *(_BYTE *)(v24 - 1);
          v40 = v39 == 32;
          if ( v39 != 32 )
            v40 = v39 == 9;
          if ( !v40 )
            goto LABEL_92;
          --v24;
        v42 = v24 - 1;
        v41 = *(_BYTE *)(v24 - 1);
        v43 = v41 == 32;
        if ( v41 != 32 )
          v43 = v41 == 9;
        if ( !v43 )
          goto LABEL_92;
      v44 = *(_BYTE *)(v42 - 1);
      if ( v44 != 32 )
        v24 = v42;
        if ( v44 == 9 )
          v24 = (int)v3;
        goto LABEL_92;
LABEL_89:
      v24 = (int)v3;
      goto LABEL_92;
    v27 = v26 + 1;
    while ( 1 )
      v28 = *(_BYTE *)(v24 - 1);
      v29 = v28 == 32;
      if ( v28 != 32 )
        v29 = v28 == 9;
      if ( !v29 )
        break;
      v30 = *(_BYTE *)(v24 - 2);
      v31 = v30 == 9;
      if ( v30 != 9 )
        v31 = v30 == 32;
      if ( !v31 )
        --v24;
      v33 = v24 - 3;
      v32 = *(_BYTE *)(v24 - 3);
      v34 = v32 == 9;
      if ( v32 != 9 )
        v34 = v32 == 32;
      if ( !v34 )
        v24 -= 2;
      v36 = *(_BYTE *)(v24 - 4);
      v24 -= 4;
      v35 = v36;
      v37 = v36 == 9;
      if ( v36 != 9 )
        v37 = v35 == 32;
      if ( !v37 )
        v24 = v33;
      if ( --v27 <= 1 )
        goto LABEL_75;
LABEL_92:
    if ( (_BYTE *)v24 != v3 )
      v13 = v5 == v24;
      v5 = v24;
      if ( !v13 )
        continue;
    break;
  if ( v19 == (_BYTE *)v24 )
    result = &dword_28898C0;
    v48 = &unk_28898CC;
  else
    v45 = v24 - (_DWORD)v19;
    v46 = sub_21E7E80(v24 - (_DWORD)v19, 0);
    v47 = v46;
    v48 = v46 + 3;
    if ( v45 == 1 )
      *v48 = *v19;
      j___aeabi_memcpy_1((int)(v46 + 3), (int)v19, v45);
    if ( v47 != &dword_28898C0 )
      v47[2] = 0;
      *v47 = v45;
      result = (int *)byte_26C67B8[0];
      v48[v45] = byte_26C67B8[0];
  *v2 = v48;
  return result;
}


websocketpp::http::parser::request *__fastcall websocketpp::http::parser::request::request(websocketpp::http::parser::request *this)
{
  websocketpp::http::parser::request *v1; // r4@1
  char *v2; // r1@1
  _DWORD *v3; // r0@1
  int v4; // r2@1
  websocketpp::http::parser::request *result; // r0@3

  v1 = this;
  *(_DWORD *)this = &unk_28898CC;
  *((_DWORD *)this + 2) = 0;
  v2 = (char *)this + 8;
  *((_DWORD *)v2 + 1) = 0;
  *((_DWORD *)v2 + 2) = 0;
  *((_DWORD *)v2 + 3) = 0;
  *((_DWORD *)v2 + 4) = 0;
  *((_DWORD *)v2 + 2) = v2;
  *((_DWORD *)v2 + 3) = v2;
  *((_DWORD *)v2 + 5) = 0;
  *((_DWORD *)v2 + 6) = &unk_28898CC;
  *((_DWORD *)v2 + 7) = 0;
  *((_DWORD *)v2 + 8) = 32000000;
  *((_DWORD *)v2 + 9) = 0;
  v3 = j_operator new(0x10u);
  *v3 = &off_276D210;
  v3[1] = 1;
  v3[2] = 1;
  v3[3] = &unk_28898CC;
  v4 = (int)(v3 + 3);
  if ( !v3 )
    v4 = 0;
  *((_DWORD *)v1 + 12) = v4;
  *((_DWORD *)v1 + 13) = v3;
  result = v1;
  *((_DWORD *)v1 + 14) = &unk_28898CC;
  *((_DWORD *)v1 + 15) = &unk_28898CC;
  *((_BYTE *)v1 + 64) = 0;
  return result;
}


int *__fastcall websocketpp::processor::hybi08<websocketpp::config::asio_tls_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Sec-WebSocket-Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::negotiate_extensions(int a1, int a2, int a3)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::negotiate_extensions(a1, a2, a3);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::init(int a1, int a2, __int64 a3)
{
  int v3; // r4@1
  int v4; // r5@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r0@3
  int v7; // r1@4
  __int64 v8; // kr00_8@6
  void (*v9)(void); // r3@6
  int v10; // r5@8
  unsigned int v11; // r0@9
  unsigned int *v12; // r6@9
  unsigned int v13; // r1@10
  int v14; // r8@13
  unsigned int v15; // r0@14
  unsigned int v16; // r0@16
  unsigned int *v17; // r7@18
  unsigned int v18; // r0@19
  _DWORD *v19; // r0@22
  int result; // r0@22
  _DWORD *v28; // [sp+0h] [bp-38h]@22
  int (__fastcall *v29)(void ***, void ***, int); // [sp+8h] [bp-30h]@22
  int (__fastcall *v30)(int *); // [sp+Ch] [bp-2Ch]@22
  __int64 v31; // [sp+10h] [bp-28h]@4
  void (*v32)(void); // [sp+18h] [bp-20h]@3
  int v33; // [sp+1Ch] [bp-1Ch]@4

  v3 = a1;
  v4 = a2;
  v5 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "asio connection init");
  v6 = 0;
  v32 = 0;
  HIDWORD(a3) = *(_DWORD *)(v4 + 8);
  if ( HIDWORD(a3) )
  {
    ((void (__fastcall *)(_DWORD, _DWORD, _DWORD))HIDWORD(a3))(&v31, v4, 2);
    v6 = *(_DWORD *)(v4 + 12);
    v33 = *(_DWORD *)(v4 + 12);
    v7 = *(_DWORD *)(v4 + 8);
    v32 = *(void (**)(void))(v4 + 8);
    a3 = v31;
  }
  else
    v7 = 0;
  v8 = *(_QWORD *)(v3 + 2232);
  v31 = *(_QWORD *)(v3 + 2232);
  *(_QWORD *)(v3 + 2232) = a3;
  v32 = *(void (**)(void))(v3 + 2240);
  v9 = v32;
  *(_DWORD *)(v3 + 2240) = v7;
  v33 = *(_DWORD *)(v3 + 2244);
  *(_DWORD *)(v3 + 2244) = v6;
  if ( v9 )
    v9();
  v10 = *(_DWORD *)(v3 + 4);
  if ( !v10 )
LABEL_25:
    j_std::__throw_bad_weak_ptr();
  v11 = *(_DWORD *)(v10 + 4);
  v12 = (unsigned int *)(v10 + 4);
  do
    v13 = v11;
    if ( !v11 )
      goto LABEL_25;
    __dmb();
    v11 = __ldrex(v12);
  while ( v11 != v13 || __strex(v13 + 1, v12) );
  __dmb();
  v14 = *(_DWORD *)v3;
    v15 = __ldrex(v12);
  while ( __strex(v15 + 1, v12) );
    v16 = __ldrex(v12);
  while ( __strex(v16 - 1, v12) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v10 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  v19 = j_operator new(0x10u);
  *v19 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_pre_init;
  v19[1] = 0;
  v19[2] = v14;
  v19[3] = v10;
  v28 = v19;
  v29 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::_Placeholder<1>)>>::_M_manager;
  v30 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::_Placeholder<1>)>>::_M_invoke;
  result = j_websocketpp::transport::asio::basic_socket::connection::pre_init(v3, (int)&v28);
  if ( v29 )
    result = ((int (__cdecl *)(_DWORD **))v29)(&v28);
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_transport_init(int a1, __int64 *a2)
{
  __int64 *v2; // r5@1
  int v3; // r9@1
  __int64 v4; // r6@1
  char v5; // r0@5
  void *v6; // r0@9
  pthread_mutex_t *v7; // r5@10
  void *v8; // r0@10
  void *v9; // r0@11
  __int64 v10; // r0@13
  int v11; // r5@13
  unsigned int *v12; // r0@14
  unsigned int v13; // r1@15
  unsigned int *v14; // r4@17
  unsigned int v15; // r0@18
  int v16; // r5@21
  unsigned int *v17; // r0@22
  unsigned int v18; // r1@23
  unsigned int *v19; // r4@25
  unsigned int v20; // r0@26
  unsigned int *v21; // r1@30
  signed int v22; // r2@31
  unsigned int *v23; // r1@34
  signed int v24; // r2@35
  unsigned int *v25; // r1@38
  signed int v26; // r2@39
  char v27; // [sp+4h] [bp-F4h]@13
  int v28; // [sp+8h] [bp-F0h]@13
  int v29; // [sp+Ch] [bp-ECh]@10
  int v30; // [sp+10h] [bp-E8h]@9
  void **v31; // [sp+14h] [bp-E4h]@9
  int v32; // [sp+18h] [bp-E0h]@12
  void **v33; // [sp+1Ch] [bp-DCh]@9
  void **v34; // [sp+20h] [bp-D8h]@10
  int v35; // [sp+3Ch] [bp-BCh]@12
  int v36; // [sp+44h] [bp-B4h]@11
  void **v37; // [sp+48h] [bp-B0h]@11
  __int64 v38; // [sp+D0h] [bp-28h]@1

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection handle_transport_init");
  v4 = *v2;
  v38 = *v2;
  if ( *(_DWORD *)(v3 + 2504) == 1 )
  {
    if ( !(_DWORD)v4 )
    {
      if ( *(_BYTE *)(v3 + 19192) )
      {
        *(_DWORD *)(v3 + 2504) = 2;
        j_websocketpp::connection<websocketpp::config::asio_client>::read_handshake(v3, 1u);
      }
      else
        *(_DWORD *)(v3 + 2504) = 3;
        j_websocketpp::connection<websocketpp::config::asio_client>::get_processor((int)&v27, v3, 13);
        v10 = *(_QWORD *)&v27;
        *(_DWORD *)&v27 = 0;
        v28 = 0;
        *(_DWORD *)(v3 + 18948) = v10;
        v11 = *(_DWORD *)(v3 + 18952);
        *(_DWORD *)(v3 + 18952) = HIDWORD(v10);
        if ( v11 )
        {
          v12 = (unsigned int *)(v11 + 4);
          __dmb();
          do
            v13 = __ldrex(v12);
          while ( __strex(v13 - 1, v12) );
          if ( v13 == 1 )
          {
            v14 = (unsigned int *)(v11 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
            __dmb();
            do
              v15 = __ldrex(v14);
            while ( __strex(v15 - 1, v14) );
            if ( v15 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
          }
        }
        v16 = v28;
        if ( v28 )
          v17 = (unsigned int *)(v28 + 4);
            v18 = __ldrex(v17);
          while ( __strex(v18 - 1, v17) );
          if ( v18 == 1 )
            v19 = (unsigned int *)(v16 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
              v20 = __ldrex(v19);
            while ( __strex(v20 - 1, v19) );
            if ( v20 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
        j_websocketpp::connection<websocketpp::config::asio_client>::send_http_request(v3);
      return;
    }
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(v3 + 19196),
      1024,
      "handle_transport_init must be called from transport init state");
    v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    LODWORD(v4) = 9;
    HIDWORD(v4) = &websocketpp::error::get_category(void)::instance;
    v38 = v4;
  sub_21D103C((int)&v31, 24);
  sub_21CBF38((char *)&v33, (int)"handle_transport_init received error: ", 38);
  (*(void (__fastcall **)(int *))(*(_DWORD *)HIDWORD(v4) + 12))(&v30);
  sub_21CBF38((char *)&v33, v30, *(_DWORD *)(v30 - 12));
  v6 = (void *)(v30 - 12);
  if ( (int *)(v30 - 12) != &dword_28898C0 )
    v21 = (unsigned int *)(v30 - 4);
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  v7 = *(pthread_mutex_t **)(v3 + 19200);
  sub_21CFED8(&v29, (int)&v34);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v7, 16, &v29);
  v8 = (void *)(v29 - 12);
  if ( (int *)(v29 - 12) != &dword_28898C0 )
    v23 = (unsigned int *)(v29 - 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v3, (unsigned __int64 *)&v38);
  v31 = &off_26D3F94;
  v37 = &off_26D3FBC;
  v33 = &off_26D3FA8;
  v34 = &off_27734E8;
  v9 = (void *)(v36 - 12);
  if ( (int *)(v36 - 12) != &dword_28898C0 )
    v25 = (unsigned int *)(v36 - 4);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v34 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v35);
  v31 = &off_276D0DC;
  v37 = &off_276D0F0;
  v32 = 0;
  sub_21B6560(&v37);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::extract_subprotocols(int a1, int a2, int a3, int a4)
{
  websocketpp::processor::hybi13<websocketpp::config::asio_client>::extract_subprotocols(a1, a2, a3, a4);
}


void __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // r4@1
  int v6; // r6@1
  int *v7; // r5@1
  int v8; // r7@1
  int v9; // r0@1
  int *v10; // r1@1
  void *v11; // r0@3
  int *v12; // r0@6
  void *v13; // r0@6
  void *v14; // r0@7
  void *v15; // r0@8
  void *v16; // r0@9
  void *v17; // r0@10
  int *v18; // r0@12
  void *v19; // r0@12
  void *v20; // r0@14
  unsigned int *v21; // r1@16
  signed int v22; // r2@17
  unsigned int *v23; // r1@20
  signed int v24; // r2@21
  unsigned int *v25; // r1@24
  signed int v26; // r2@25
  unsigned int *v27; // r1@28
  signed int v28; // r2@29
  unsigned int *v29; // r1@32
  signed int v30; // r2@33
  unsigned int *v31; // r1@36
  signed int v32; // r2@37
  unsigned int *v33; // r1@40
  signed int v34; // r2@41
  unsigned int *v35; // r1@44
  signed int v36; // r2@45
  int v37; // [sp+4h] [bp-64h]@12
  int v38; // [sp+Ch] [bp-5Ch]@9
  int v39; // [sp+14h] [bp-54h]@9
  int v40; // [sp+1Ch] [bp-4Ch]@7
  int v41; // [sp+24h] [bp-44h]@7
  int v42; // [sp+2Ch] [bp-3Ch]@6
  int v43; // [sp+30h] [bp-38h]@4
  int v44; // [sp+40h] [bp-28h]@1
  int v45; // [sp+44h] [bp-24h]@3

  v5 = a1;
  v6 = a2;
  v7 = a4;
  v8 = a3;
  sub_21E94B4((void **)&v44, "Sec-WebSocket-Key");
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v8 + 4,
         &v44);
  v10 = (int *)(v9 + 20);
  if ( v9 == v8 + 8 )
    v10 = &dword_2880E54;
  sub_21E8AF4(&v45, v10);
  v11 = (void *)(v44 - 12);
  if ( (int *)(v44 - 12) != &dword_28898C0 )
  {
    v21 = (unsigned int *)(v44 - 4);
    __dmb();
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  }
  j_websocketpp::processor::hybi13<websocketpp::config::asio_client>::process_handshake_key(
    (int)&v43,
    v6,
    (const void **)&v45);
  if ( v43 )
    *(_QWORD *)v5 = *(_QWORD *)&v43;
  else
    sub_21E94B4((void **)&v42, "Sec-WebSocket-Accept");
    v12 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   a5 + 4,
                   &v42);
    EntityInteraction::setInteractText(v12, &v45);
    v13 = (void *)(v42 - 12);
    if ( (int *)(v42 - 12) != &dword_28898C0 )
    {
      v25 = (unsigned int *)(v42 - 4);
      __dmb();
      do
        v26 = __ldrex(v25);
      while ( __strex(v26 - 1, v25) );
      if ( v26 <= 0 )
        j_j_j_j__ZdlPv_9(v13);
    }
    sub_21E94B4((void **)&v41, "Upgrade");
    sub_21E94B4((void **)&v40, "websocket");
    j_websocketpp::http::parser::parser::append_header(a5, &v41, (const void **)&v40);
    v14 = (void *)(v40 - 12);
    if ( (int *)(v40 - 12) != &dword_28898C0 )
      v27 = (unsigned int *)(v40 - 4);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    v15 = (void *)(v41 - 12);
    if ( (int *)(v41 - 12) != &dword_28898C0 )
      v29 = (unsigned int *)(v41 - 4);
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 <= 0 )
        j_j_j_j__ZdlPv_9(v15);
    sub_21E94B4((void **)&v39, "Connection");
    sub_21E94B4((void **)&v38, "upgrade");
    j_websocketpp::http::parser::parser::append_header(a5, &v39, (const void **)&v38);
    v16 = (void *)(v38 - 12);
    if ( (int *)(v38 - 12) != &dword_28898C0 )
      v31 = (unsigned int *)(v38 - 4);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 <= 0 )
        j_j_j_j__ZdlPv_9(v16);
    v17 = (void *)(v39 - 12);
    if ( (int *)(v39 - 12) != &dword_28898C0 )
      v33 = (unsigned int *)(v39 - 4);
        v34 = __ldrex(v33);
      while ( __strex(v34 - 1, v33) );
      if ( v34 <= 0 )
        j_j_j_j__ZdlPv_9(v17);
    if ( *(_DWORD *)(*v7 - 12) )
      sub_21E94B4((void **)&v37, "Sec-WebSocket-Protocol");
      v18 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     a5 + 4,
                     &v37);
      EntityInteraction::setInteractText(v18, v7);
      v19 = (void *)(v37 - 12);
      if ( (int *)(v37 - 12) != &dword_28898C0 )
      {
        v35 = (unsigned int *)(v37 - 4);
        __dmb();
        do
          v36 = __ldrex(v35);
        while ( __strex(v36 - 1, v35) );
        if ( v36 <= 0 )
          j_j_j_j__ZdlPv_9(v19);
      }
    *(_DWORD *)v5 = 0;
    *(_DWORD *)(v5 + 4) = ((int (*)(void))byte_21E9640)();
  v20 = (void *)(v45 - 12);
  if ( (int *)(v45 - 12) != &dword_28898C0 )
    v23 = (unsigned int *)(v45 - 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 - 1, v23) );
    if ( v24 <= 0 )
      j_j_j_j__ZdlPv_9(v20);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::send_http_request(int a1)
{
  int v1; // r4@1
  int v2; // r6@1
  void (__fastcall *v3)(char *, int, int, int *); // r7@2
  int v4; // r0@2
  unsigned int *v5; // r0@3
  unsigned int v6; // r1@4
  int v7; // r6@6
  unsigned int *v8; // r0@7
  unsigned int v9; // r1@8
  unsigned int *v10; // r7@10
  unsigned int v11; // r0@11
  int v12; // r0@17
  const void **v13; // r2@17
  int v14; // r7@19
  void *v15; // r0@19
  int *v16; // r0@22
  void *v17; // r0@22
  unsigned int *v18; // r1@23
  signed int v19; // r2@24
  int *v20; // r11@27
  int v21; // r5@27
  void *v22; // r0@27
  pthread_mutex_t *v23; // r6@28
  char *v24; // r0@29
  int v25; // r7@30
  int v26; // r9@31
  int *v27; // r10@31
  unsigned int v28; // r0@32
  unsigned int *v29; // r5@32
  unsigned int v30; // r1@33
  int v31; // r11@36
  unsigned int v32; // r0@37
  unsigned int v33; // r0@39
  unsigned int *v34; // r6@41
  unsigned int v35; // r0@42
  unsigned int v36; // r0@46
  unsigned int v37; // r0@48
  unsigned int *v38; // r6@50
  unsigned int v39; // r0@51
  _DWORD *v40; // r0@54
  __int64 v41; // r0@54
  int v42; // r6@54
  unsigned int *v43; // r0@55
  unsigned int v44; // r1@56
  unsigned int *v45; // r5@58
  unsigned int v46; // r0@59
  int v47; // r6@62
  unsigned int *v48; // r0@63
  unsigned int v49; // r1@64
  unsigned int *v50; // r5@66
  unsigned int v51; // r0@67
  int v52; // r6@73
  int v53; // r10@74
  unsigned int *v54; // r7@74
  int v55; // r8@74
  unsigned int v56; // r0@74
  unsigned int v57; // r1@75
  int v58; // r9@78
  unsigned int v59; // r0@79
  unsigned int v60; // r0@81
  unsigned int *v61; // r5@83
  unsigned int v62; // r0@84
  unsigned int v63; // r0@88
  unsigned int v64; // r0@90
  unsigned int *v65; // r5@92
  unsigned int v66; // r0@93
  _DWORD *v67; // r0@96
  unsigned int *v68; // r1@99
  signed int v69; // r2@100
  unsigned int *v70; // r1@103
  signed int v71; // r2@104
  unsigned int *v72; // r1@107
  signed int v73; // r2@108
  unsigned int *v74; // r1@111
  _DWORD *v82; // [sp+10h] [bp-90h]@96
  int (__fastcall *v83)(void ***, void ***, int); // [sp+18h] [bp-88h]@96
  int (__fastcall *v84)(int *); // [sp+1Ch] [bp-84h]@96
  _DWORD *v85; // [sp+20h] [bp-80h]@54
  int (__fastcall *v86)(void ***, void ***, int); // [sp+28h] [bp-78h]@54
  int (__fastcall *v87)(int *); // [sp+2Ch] [bp-74h]@54
  char v88; // [sp+30h] [bp-70h]@54
  int v89; // [sp+34h] [bp-6Ch]@54
  char *v90; // [sp+38h] [bp-68h]@29
  int v91; // [sp+3Ch] [bp-64h]@27
  int v92; // [sp+44h] [bp-5Ch]@26
  int v93; // [sp+4Ch] [bp-54h]@22
  int v94; // [sp+54h] [bp-4Ch]@17
  int v95; // [sp+58h] [bp-48h]@2
  int v96; // [sp+5Ch] [bp-44h]@2
  char v97; // [sp+60h] [bp-40h]@6
  int v98; // [sp+68h] [bp-38h]@2
  int v99; // [sp+6Ch] [bp-34h]@2
  int v100; // [sp+74h] [bp-2Ch]@26
  int v101; // [sp+78h] [bp-28h]@26

  v1 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19236),
    1024,
    "connection send_http_request");
  v2 = *(_DWORD *)(v1 + 18988);
  if ( !v2 )
  {
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v1 + 19240),
      32,
      "Internal library error: missing processor");
    return;
  }
  v98 = 0;
  v99 = ((int (*)(void))byte_21E9640)();
  v3 = *(void (__fastcall **)(char *, int, int, int *))(*(_DWORD *)v2 + 28);
  v95 = *(_DWORD *)(v1 + 19208);
  v4 = *(_DWORD *)(v1 + 19212);
  v96 = v4;
  if ( v4 )
    v5 = (unsigned int *)(v4 + 4);
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 + 1, v5) );
  v3(&v97, v2, v1 + 19068, &v95);
  *(_QWORD *)&v98 = *(_QWORD *)&v97;
  v7 = v96;
  if ( v96 )
    v8 = (unsigned int *)(v96 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
    {
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      __dmb();
      do
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
  if ( v98 )
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      v1,
      "Internal library error: Processor",
      &v98);
  sub_21E94B4((void **)&v94, "User-Agent");
  v12 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v1 + 19072,
          &v94);
  v13 = (const void **)(v12 + 20);
  if ( v12 == v1 + 19076 )
    v13 = (const void **)&dword_2880E54;
  v14 = sub_21E7D6C(v13, (const char *)&unk_257BC67);
  v15 = (void *)(v94 - 12);
  if ( (int *)(v94 - 12) != &dword_28898C0 )
    v68 = (unsigned int *)(v94 - 4);
      v69 = __ldrex(v68);
    while ( __strex(v69 - 1, v68) );
    if ( v69 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
  if ( !v14 )
    if ( *(_DWORD *)(*(_DWORD *)(v1 + 2352) - 12) )
      sub_21E94B4((void **)&v93, "User-Agent");
      v16 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v1 + 19072,
                     &v93);
      EntityInteraction::setInteractText(v16, (int *)(v1 + 2352));
      v17 = (void *)(v93 - 12);
      if ( (int *)(v93 - 12) == &dword_28898C0 )
        goto LABEL_27;
      v18 = (unsigned int *)(v93 - 4);
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
    else
      sub_21E94B4((void **)&v92, "User-Agent");
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
        (int)&v100,
        v1 + 19072,
        &v92);
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
        v100,
        v101);
      v17 = (void *)(v92 - 12);
      if ( (int *)(v92 - 12) == &dword_28898C0 )
      v74 = (unsigned int *)(v92 - 4);
        v19 = __ldrex(v74);
      while ( __strex(v19 - 1, v74) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v17);
LABEL_27:
  j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v91, v1 + 19068);
  v20 = (int *)(v1 + 18984);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v1 + 18984),
    &v91);
  v21 = v1 + 19236;
  v22 = (void *)(v91 - 12);
  if ( (int *)(v91 - 12) != &dword_28898C0 )
    v70 = (unsigned int *)(v91 - 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v23 = *(pthread_mutex_t **)v21;
  if ( *(_BYTE *)(*(_DWORD *)v21 + 5) & 4 )
    v90 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v90, *(_DWORD *)(*v20 - 12) + 23);
    sub_21E7408((const void **)&v90, "Raw Handshake request:\n", 0x17u);
    sub_21E72F0((const void **)&v90, (const void **)(v1 + 18984));
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, (int *)&v90);
    v24 = v90 - 12;
    if ( (int *)(v90 - 12) != &dword_28898C0 )
      v72 = (unsigned int *)(v90 - 4);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
  v25 = *(_DWORD *)(v1 + 2524);
  if ( v25 <= 0 )
    v27 = (int *)(v1 + 4);
  else
    v26 = *(_DWORD *)(v1 + 4);
    if ( !v26 )
      goto LABEL_115;
    v28 = *(_DWORD *)(v26 + 4);
    v29 = (unsigned int *)(v26 + 4);
      v30 = v28;
      if ( !v28 )
        goto LABEL_115;
      v28 = __ldrex(v29);
    while ( v28 != v30 || __strex(v30 + 1, v29) );
    v31 = *(_DWORD *)v1;
      v32 = __ldrex(v29);
    while ( __strex(v32 + 1, v29) );
      v33 = __ldrex(v29);
    while ( __strex(v33 - 1, v29) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v26 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
        v35 = __ldrex(v34);
      while ( __strex(v35 - 1, v34) );
      if ( v35 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      v36 = __ldrex(v29);
    while ( __strex(v36 + 1, v29) );
      v37 = __ldrex(v29);
    while ( __strex(v37 - 1, v29) );
    if ( v37 == 1 )
      v38 = (unsigned int *)(v26 + 8);
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 == 1 )
    v40 = j_operator new(0x10u);
    *v40 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_open_handshake_timeout;
    v40[1] = 0;
    v40[2] = v31;
    v40[3] = v26;
    v85 = v40;
    v86 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
    v87 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_timer(
      (int)&v88,
      v25,
      (int)&v85);
    v41 = *(_QWORD *)&v88;
    *(_DWORD *)&v88 = 0;
    v89 = 0;
    *(_DWORD *)(v1 + 18968) = v41;
    v42 = *(_DWORD *)(v1 + 18972);
    *(_DWORD *)(v1 + 18972) = HIDWORD(v41);
    v20 = (int *)(v1 + 18984);
    if ( v42 )
      v43 = (unsigned int *)(v42 + 4);
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 == 1 )
      {
        v45 = (unsigned int *)(v42 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v42 + 8))(v42);
        __dmb();
        do
          v46 = __ldrex(v45);
        while ( __strex(v46 - 1, v45) );
        if ( v46 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v42 + 12))(v42);
      }
    v47 = v89;
    if ( v89 )
      v48 = (unsigned int *)(v89 + 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 == 1 )
        v50 = (unsigned int *)(v47 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v47 + 8))(v47);
          v51 = __ldrex(v50);
        while ( __strex(v51 - 1, v50) );
        if ( v51 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v47 + 12))(v47);
    if ( v86 )
      ((void (__cdecl *)(_DWORD **))v86)(&v85);
  v52 = *v27;
  if ( !*v27 )
LABEL_115:
    j_std::__throw_bad_weak_ptr();
  v53 = *v20;
  v54 = (unsigned int *)(v52 + 4);
  v55 = *(_DWORD *)(*v20 - 12);
  v56 = *(_DWORD *)(v52 + 4);
  do
    v57 = v56;
    if ( !v56 )
    v56 = __ldrex(v54);
  while ( v56 != v57 || __strex(v57 + 1, v54) );
  __dmb();
  v58 = *(_DWORD *)v1;
    v59 = __ldrex(v54);
  while ( __strex(v59 + 1, v54) );
    v60 = __ldrex(v54);
  while ( __strex(v60 - 1, v54) );
  if ( v60 == 1 )
    v61 = (unsigned int *)(v52 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 8))(v52);
      v62 = __ldrex(v61);
    while ( __strex(v62 - 1, v61) );
    if ( v62 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 12))(v52);
    v63 = __ldrex(v54);
  while ( __strex(v63 + 1, v54) );
    v64 = __ldrex(v54);
  while ( __strex(v64 - 1, v54) );
  if ( v64 == 1 )
    v65 = (unsigned int *)(v52 + 8);
      v66 = __ldrex(v65);
    while ( __strex(v66 - 1, v65) );
    if ( v66 == 1 )
  v67 = j_operator new(0x10u);
  *v67 = websocketpp::connection<websocketpp::config::asio_tls_client>::handle_send_http_request;
  v67[1] = 0;
  v67[2] = v58;
  v67[3] = v52;
  v82 = v67;
  v83 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_manager;
  v84 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::async_write(
    v1,
    v53,
    v55,
    (int)&v82);
  if ( v83 )
    ((void (__cdecl *)(_DWORD **))v83)(&v82);
}


int __fastcall websocketpp::connection<websocketpp::config::asio_client>::get_processor(int a1, int a2, signed int a3)
{
  int v3; // r5@1
  int v4; // r9@1
  int result; // r0@1
  _DWORD *v6; // r0@3
  _DWORD *v7; // r6@3
  int v8; // r4@3
  int v9; // r0@3
  char v10; // r1@3
  unsigned int *v11; // r2@4
  unsigned int v12; // r3@5
  unsigned int *v13; // r0@8
  unsigned int v14; // r1@9
  unsigned int v15; // r1@11
  unsigned int *v16; // r7@13
  unsigned int v17; // r0@14
  int v18; // r0@18
  int v19; // r1@19
  int v20; // r8@24
  _DWORD *v21; // r6@24
  int v22; // r7@24
  int v23; // r1@24
  char v24; // r2@24
  unsigned int *v25; // r0@25
  unsigned int v26; // r3@26
  unsigned int *v27; // r1@29
  unsigned int v28; // r2@30
  unsigned int *v29; // r0@33
  unsigned int v30; // r1@34
  unsigned int *v31; // r4@36
  unsigned int v32; // r0@37
  int v33; // r7@40
  unsigned int *v34; // r0@41
  unsigned int v35; // r1@42
  unsigned int *v36; // r4@44
  unsigned int v37; // r0@45
  unsigned int *v38; // r0@49
  unsigned int v39; // r1@50
  unsigned int *v40; // r4@52
  int v41; // [sp+10h] [bp-40h]@18
  char v42; // [sp+17h] [bp-39h]@18
  int v43; // [sp+18h] [bp-38h]@18
  int v44; // [sp+1Ch] [bp-34h]@18
  int v45; // [sp+20h] [bp-30h]@21
  char v46; // [sp+27h] [bp-29h]@21
  int v47; // [sp+28h] [bp-28h]@21
  int v48; // [sp+2Ch] [bp-24h]@21
  char v49; // [sp+30h] [bp-20h]@18

  v3 = a1;
  v4 = a2;
  result = 0;
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = 0;
  if ( a3 <= 7 )
  {
    if ( !a3 )
    {
      v6 = j_operator new(0x38u);
      v7 = v6;
      *v6 = &off_276D9D8;
      v6[1] = 1;
      v6[2] = 1;
      v8 = *(_DWORD *)(v4 + 18924);
      v9 = *(_DWORD *)(v4 + 18920);
      v10 = *(_BYTE *)(v4 + 19192);
      if ( v8 )
      {
        v11 = (unsigned int *)(v8 + 4);
        __dmb();
        do
          v12 = __ldrex(v11);
        while ( __strex(v12 + 1, v11) );
      }
      *((_BYTE *)v7 + 16) = 0;
      *((_BYTE *)v7 + 17) = v10;
      v7[5] = 32000000;
      v7[3] = &off_276DA00;
      *((_BYTE *)v7 + 24) = 0;
      *((_BYTE *)v7 + 25) = -1;
      v7[7] = 0;
      v7[8] = v9;
      v7[9] = v8;
        v13 = (unsigned int *)(v8 + 4);
          v14 = __ldrex(v13);
        while ( __strex(v14 + 1, v13) );
        v7[10] = 0;
        v7[11] = 0;
        v7[12] = 0;
        v7[13] = 0;
          v15 = __ldrex(v13);
        while ( __strex(v15 - 1, v13) );
        if ( v15 == 1 )
        {
          v16 = (unsigned int *)(v8 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
          __dmb();
          do
            v17 = __ldrex(v16);
          while ( __strex(v17 - 1, v16) );
          if ( v17 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
        }
      else
      *(_DWORD *)v3 = (*(int (__fastcall **)(_DWORD *, void **))(*v7 + 16))(v7, &`typeinfo for'std::_Sp_make_shared_tag);
      v33 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v3 + 4) = v7;
      if ( !v33 )
        goto LABEL_61;
      v38 = (unsigned int *)(v33 + 4);
      __dmb();
      do
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 != 1 )
      v40 = (unsigned int *)(v33 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
        v37 = __ldrex(v40);
      while ( __strex(v37 - 1, v40) );
      goto LABEL_54;
    }
    if ( a3 != 7 )
      return result;
    v46 = 0;
    v45 = *(_DWORD *)(a2 + 19204);
    v47 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9processor6hybi07INS4_6config11asio_clientEEESaIS9_EJbRKbRKSt10shared_ptrINS4_14message_buffer5alloc15con_msg_managerINSE_7messageISG_EEEEESt17reference_wrapperINS4_6random13random_device13int_generatorIjNS4_11concurrency5basicEEEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v48,
      0,
      (int)&v49,
      &v46,
      (char *)(a2 + 19192),
      (unsigned __int64 *)(a2 + 18920),
      &v45);
    v18 = v48;
    if ( v48 )
      v19 = (*(int (**)(void))(*(_DWORD *)v48 + 16))();
      v18 = v48;
    else
      v19 = 0;
    v48 = 0;
    goto LABEL_60;
  }
  if ( a3 == 8 )
    v42 = 0;
    v41 = *(_DWORD *)(a2 + 19204);
    v43 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9processor6hybi08INS4_6config11asio_clientEEESaIS9_EJbRKbRKSt10shared_ptrINS4_14message_buffer5alloc15con_msg_managerINSE_7messageISG_EEEEESt17reference_wrapperINS4_6random13random_device13int_generatorIjNS4_11concurrency5basicEEEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v44,
      &v42,
      &v41);
    v18 = v44;
    if ( v44 )
      v19 = (*(int (**)(void))(*(_DWORD *)v44 + 16))();
      v18 = v44;
    v44 = 0;
LABEL_60:
    *(_DWORD *)v3 = v19;
    *(_DWORD *)(v3 + 4) = v18;
    goto LABEL_61;
  if ( a3 != 13 )
    return result;
  v20 = *(_DWORD *)(a2 + 19204);
  v21 = j_operator new(0x70u);
  *v21 = &off_276DC08;
  v21[1] = 1;
  v21[2] = 1;
  v22 = *(_DWORD *)(v4 + 18924);
  v23 = *(_DWORD *)(v4 + 18920);
  v24 = *(_BYTE *)(v4 + 19192);
  if ( v22 )
    v25 = (unsigned int *)(v22 + 4);
    __dmb();
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 + 1, v25) );
  *((_BYTE *)v21 + 16) = 0u;
  *((_BYTE *)v21 + 17) = v24;
  v21[5] = 32000000;
  v21[3] = &off_276DB80;
  *((_BYTE *)v21 + 24) = 0u;
  *((_BYTE *)v21 + 25) = 0u;
  v21[7] = v23;
  v21[8] = v22;
    v27 = (unsigned int *)(v22 + 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 + 1, v27) );
  v21[11] = 0u;
  v21[12] = 0u;
  v21[19] = 0u;
  v21[20] = 0u;
  v21[16] = 0u;
  v21[17] = 0u;
  v21[14] = 0u;
  v21[15] = 0u;
  v21[25] = v20;
  v21[26] = 0u;
  v21[9] = 2;
  *((_WORD *)v21 + 12) = 0u;
  v21[24] = 0u;
  v21[23] = 0u;
  v21[22] = 0u;
    v29 = (unsigned int *)(v22 + 4);
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 == 1 )
      v31 = (unsigned int *)(v22 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 8))(v22);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  *(_DWORD *)v3 = (*(int (__fastcall **)(_DWORD *, void **))(*v21 + 16))(v21, &`typeinfo for'std::_Sp_make_shared_tag);
  v33 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = v21;
  if ( v33 )
    v34 = (unsigned int *)(v33 + 4);
      v35 = __ldrex(v34);
    while ( __strex(v35 - 1, v34) );
    if ( v35 == 1 )
      v36 = (unsigned int *)(v33 + 8);
        v37 = __ldrex(v36);
      while ( __strex(v37 - 1, v36) );
LABEL_54:
      if ( v37 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
      goto LABEL_61;
LABEL_61:
  result = *(_DWORD *)v3;
  *(_DWORD *)(*(_DWORD *)v3 + 8) = *(_DWORD *)(v4 + 2496);
  return result;
}


int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::extract_subprotocols(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  int result; // r0@1

  v1 = a1;
  *a1 = 0;
  result = ((int (*)(void))byte_21E9640)();
  v1[1] = result;
  return result;
}


void __fastcall websocketpp::client<websocketpp::config::asio_client>::handle_connect(int a1, int *a2, unsigned __int64 *a3)
{
  unsigned __int64 *v3; // r6@1
  int v4; // r4@1
  int *v5; // r5@1
  const void **v6; // r0@2
  int v7; // r6@2
  void *v8; // r0@3
  unsigned int *v9; // r1@6
  signed int v10; // r2@7
  unsigned int *v11; // r1@10
  signed int v12; // r2@11
  int v13; // [sp+0h] [bp-28h]@2
  const void *v14; // [sp+4h] [bp-24h]@2

  v3 = a3;
  v4 = a1;
  v5 = a2;
  if ( *(_DWORD *)a3 )
  {
    j_websocketpp::connection<websocketpp::config::asio_client>::terminate(*a2, a3);
    (*(void (__fastcall **)(int *))(*(_DWORD *)(*v3 >> 32) + 12))(&v13);
    v6 = sub_21E82D8((const void **)&v13, 0, (unsigned int)"handle_connect error: ", (_BYTE *)0x16);
    v14 = *v6;
    v7 = (int)v14;
    *v6 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      (pthread_mutex_t *)(v4 + 116),
      16,
      (int *)&v14);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
    {
      v9 = (unsigned int *)(v7 - 4);
      __dmb();
      do
        v10 = __ldrex(v9);
      while ( __strex(v10 - 1, v9) );
      if ( v10 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v7 - 12));
    }
    v8 = (void *)(v13 - 12);
    if ( (int *)(v13 - 12) != &dword_28898C0 )
      v11 = (unsigned int *)(v13 - 4);
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      (pthread_mutex_t *)(a1 + 100),
      1,
      "Successful connection");
    j_j_j__ZN11websocketpp10connectionINS_6config11asio_clientEE5startEv(*v5);
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::validate_server_handshake_response(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(int a1, int a2, int a3, int a4)
{
  int v4; // r8@1
  int v5; // r4@1
  int *v6; // r5@1
  int v7; // r11@1
  int v8; // r0@1
  int v9; // r6@3
  __int64 *v10; // r9@4
  unsigned int *v11; // r7@4
  unsigned int v12; // r0@4
  unsigned int v13; // r1@5
  int v14; // r10@8
  unsigned int v15; // r0@11
  unsigned int v16; // r0@13
  unsigned int *v17; // r4@15
  unsigned int v18; // r0@16
  int (*v19)(void); // r0@19
  void (__fastcall *v20)(__int64 *, int, signed int); // r3@19
  int v21; // r12@21
  int v22; // r1@21
  unsigned int *v23; // r0@22
  unsigned int v24; // r1@23
  __int64 v25; // kr08_8@25
  __int64 v26; // kr10_8@25
  int v27; // r3@25
  unsigned int *result; // r0@25
  int v29; // r4@25
  unsigned int v30; // r1@27
  unsigned int *v31; // r5@29
  int v32; // r4@33
  unsigned int v33; // r1@35
  unsigned int *v34; // r5@37
  int v35; // r4@43
  unsigned int v36; // r1@45
  unsigned int *v37; // r5@47
  int v38; // r4@51
  unsigned int v39; // r1@53
  unsigned int *v40; // r5@55
  __int64 v41; // [sp+10h] [bp-88h]@20
  int (*v42)(void); // [sp+18h] [bp-80h]@19
  int v43; // [sp+1Ch] [bp-7Ch]@20
  int v44; // [sp+20h] [bp-78h]@21
  int v45; // [sp+24h] [bp-74h]@21
  int v46; // [sp+28h] [bp-70h]@25
  int v47; // [sp+2Ch] [bp-6Ch]@25
  int v48; // [sp+30h] [bp-68h]@25
  int v49; // [sp+34h] [bp-64h]@25
  int (__fastcall *v50)(int, int, int, _DWORD *); // [sp+38h] [bp-60h]@25
  int v51; // [sp+3Ch] [bp-5Ch]@25
  __int64 v52; // [sp+40h] [bp-58h]@25
  int (*v53)(void); // [sp+48h] [bp-50h]@25
  int v54; // [sp+4Ch] [bp-4Ch]@25
  int v55; // [sp+50h] [bp-48h]@25
  int v56; // [sp+54h] [bp-44h]@25
  int v57; // [sp+58h] [bp-40h]@25
  int v58; // [sp+5Ch] [bp-3Ch]@25
  __int64 v59; // [sp+60h] [bp-38h]@1
  int v60; // [sp+6Ch] [bp-2Ch]@1
  char v61; // [sp+70h] [bp-28h]@1

  v4 = a1;
  v5 = a2;
  v60 = *(_DWORD *)(a2 + 68);
  v6 = 0;
  v7 = a4;
  v59 = 1000LL * a3;
  *(_DWORD *)a1 = 0;
  v8 = *j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio20basic_deadline_timerINS4_10posix_time5ptimeENS5_11time_traitsIS8_EENS5_22deadline_timer_serviceIS8_SA_EEEESaISD_EJSt17reference_wrapperINS5_10io_serviceEENS4_9date_time18subsecond_durationINS7_13time_durationELx1000EEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
          (_DWORD *)(a1 + 4),
          0,
          (int)&v61,
          (int **)&v60,
          (unsigned __int64 *)&v59);
  if ( v8 )
    v6 = (int *)(*(int (**)(void))(*(_DWORD *)v8 + 16))();
  *(_DWORD *)v4 = v6;
  v9 = *(_DWORD *)(v5 + 4);
  if ( !v9 )
    j_std::__throw_bad_weak_ptr();
  v10 = *(__int64 **)(v5 + 72);
  v11 = (unsigned int *)(v9 + 4);
  v12 = *(_DWORD *)(v9 + 4);
  do
  {
    v13 = v12;
    if ( !v12 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v12 = __ldrex(v11);
  }
  while ( v12 != v13 || __strex(v13 + 1, v11) );
  __dmb();
  v14 = *(_DWORD *)v5;
    v15 = __ldrex(v11);
  while ( __strex(v15 + 1, v11) );
    v16 = __ldrex(v11);
  while ( __strex(v16 - 1, v11) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v9 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
  v19 = 0;
  v42 = 0;
  v20 = *(void (__fastcall **)(__int64 *, int, signed int))(v7 + 8);
  if ( v20 )
    v20(&v41, v7, 2);
    v43 = *(_DWORD *)(v7 + 12);
    v19 = *(int (**)(void))(v7 + 8);
    v42 = *(int (**)(void))(v7 + 8);
  v21 = *(_DWORD *)v4;
  v22 = *(_DWORD *)(v4 + 4);
  v44 = *(_DWORD *)v4;
  v45 = v22;
  if ( v22 )
    v23 = (unsigned int *)(v22 + 4);
      v24 = __ldrex(v23);
    while ( __strex(v24 + 1, v23) );
    v19 = v42;
    v22 = v45;
    v21 = v44;
  v46 = v14;
  v47 = v9;
  v25 = *v10;
  v48 = *v10;
  v49 = HIDWORD(v25);
  v50 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_timer;
  v51 = 0;
  v26 = v41;
  v41 = v52;
  v52 = v26;
  v53 = v19;
  v27 = v54;
  v54 = v43;
  v55 = v21;
  v43 = v27;
  v44 = 0;
  v56 = v22;
  v57 = v14;
  v47 = 0;
  v58 = v9;
  v45 = 0;
  v46 = 0;
  result = j_boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>::async_wait<boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
             *v6,
             (int)(v6 + 2),
             (int)&v48);
  v29 = v58;
  if ( v58 )
    result = (unsigned int *)(v58 + 4);
      v30 = __ldrex(result);
    while ( __strex(v30 - 1, result) );
    if ( v30 == 1 )
    {
      v31 = (unsigned int *)(v29 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
      __dmb();
      do
        result = (unsigned int *)__ldrex(v31);
      while ( __strex((unsigned int)result - 1, v31) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
    }
  v32 = v56;
  if ( v56 )
    result = (unsigned int *)(v56 + 4);
      v33 = __ldrex(result);
    while ( __strex(v33 - 1, result) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v32 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        result = (unsigned int *)__ldrex(v34);
      while ( __strex((unsigned int)result - 1, v34) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v32 + 12))(v32);
  if ( v53 )
    result = (unsigned int *)v53();
  v35 = v47;
  if ( v47 )
    result = (unsigned int *)(v47 + 4);
      v36 = __ldrex(result);
    while ( __strex(v36 - 1, result) );
    if ( v36 == 1 )
      v37 = (unsigned int *)(v35 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 8))(v35);
        result = (unsigned int *)__ldrex(v37);
      while ( __strex((unsigned int)result - 1, v37) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v35 + 12))(v35);
  v38 = v45;
  if ( v45 )
    result = (unsigned int *)(v45 + 4);
      v39 = __ldrex(result);
    while ( __strex(v39 - 1, result) );
    if ( v39 == 1 )
      v40 = (unsigned int *)(v38 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v38 + 8))(v38);
        result = (unsigned int *)__ldrex(v40);
      while ( __strex((unsigned int)result - 1, v40) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v38 + 12))(v38);
  if ( v42 )
    result = (unsigned int *)v42();
  return result;
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy_basic_auth(int a1, int *a2, const void **a3, int a4)
{
  websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy_basic_auth(
    a1,
    a2,
    a3,
    a4);
}


unsigned int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::consume(int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // r5@1
  int v5; // r4@1
  int v6; // r8@1
  int v7; // r7@1
  int v8; // r0@1
  unsigned int v9; // r1@1
  signed int v10; // r0@3
  char *v11; // r5@3
  int v12; // r6@3
  char v13; // r0@7
  __int64 v14; // r0@10
  int v15; // r5@10
  unsigned int *v16; // r0@11
  unsigned int v17; // r1@12
  unsigned int *v18; // r6@14
  unsigned int v19; // r0@15
  int v20; // r5@18
  unsigned int *v21; // r0@19
  unsigned int v22; // r1@20
  int v23; // r10@22
  unsigned int *v24; // r6@22
  unsigned int v25; // r0@23
  signed int v26; // r0@27
  int v27; // r2@29
  char *v28; // r0@29
  int v29; // r1@30
  int v30; // r2@30
  int v31; // r6@31
  char *v32; // r8@32
  int v33; // r3@33
  bool v34; // zf@33
  int v35; // r1@37
  int v36; // r1@39
  char v37; // r0@41
  const void **v38; // ST04_4@57
  char *v39; // r1@57
  unsigned int v40; // r5@57
  int v42; // [sp+18h] [bp-40h]@2
  unsigned int v43; // [sp+1Ch] [bp-3Ch]@1
  int (__fastcall *v44)(_DWORD); // [sp+20h] [bp-38h]@2
  unsigned int v45; // [sp+24h] [bp-34h]@3
  int v46; // [sp+24h] [bp-34h]@18
  char v47; // [sp+2Ch] [bp-2Ch]@10
  int v48; // [sp+30h] [bp-28h]@10

  v4 = a3;
  v5 = a4;
  v43 = a3;
  v6 = a2;
  v7 = a1;
  v8 = ((int (*)(void))byte_21E9640)();
  v9 = 0;
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = v8;
  if ( !v4 )
    return v9;
  v42 = v43 + v6;
  v44 = nullsub_3;
  while ( 2 )
  {
    v10 = *(_DWORD *)(v7 + 16);
    v11 = (char *)(v6 + v9);
    v12 = (int)v44;
    v45 = v9;
    while ( !v10 )
    {
      if ( (unsigned __int8)*v11 == *(_BYTE *)(v7 + 12) )
      {
        j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
          (int)&v47,
          *(_DWORD *)(v7 + 20),
          1,
          1);
        v14 = *(_QWORD *)&v47;
        *(_DWORD *)&v47 = 0;
        v48 = 0;
        *(_DWORD *)(v7 + 28) = v14;
        v15 = *(_DWORD *)(v7 + 32);
        *(_DWORD *)(v7 + 32) = HIDWORD(v14);
        if ( v15 )
        {
          v16 = (unsigned int *)(v15 + 4);
          __dmb();
          do
            v17 = __ldrex(v16);
          while ( __strex(v17 - 1, v16) );
          if ( v17 == 1 )
          {
            v18 = (unsigned int *)(v15 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
            __dmb();
            do
              v19 = __ldrex(v18);
            while ( __strex(v19 - 1, v18) );
            v12 = (int)v44;
            if ( v19 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
          }
        }
        v20 = v48;
        v46 = v45 + 1;
        if ( v48 )
          v21 = (unsigned int *)(v48 + 4);
            v22 = __ldrex(v21);
          while ( __strex(v22 - 1, v21) );
          if ( v22 == 1 )
            v23 = v12;
            v24 = (unsigned int *)(v20 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 8))(v20);
              v25 = __ldrex(v24);
            while ( __strex(v25 - 1, v24) );
            v12 = v23;
            if ( v25 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 12))(v20);
        if ( *(_DWORD *)(v7 + 28) )
          v26 = 1;
          v44 = (int (__fastcall *)(_DWORD))v12;
        else
          v37 = `guard variable for'websocketpp::error::get_category(void)::instance;
          if ( !(v37 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
            websocketpp::error::get_category(void)::instance = &off_276CE14;
            j___cxa_atexit_1(v12);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
          *(_DWORD *)v5 = 8;
          *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
          v26 = 3;
        *(_DWORD *)(v7 + 16) = v26;
        v9 = v46;
        goto LABEL_59;
      }
      v13 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v13 & 1) )
        if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)v44);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      v10 = 3;
      *(_DWORD *)v5 = 3;
      *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
      *(_DWORD *)(v7 + 16) = 3;
    }
    if ( v10 != 1 )
      return v45;
    v27 = (v42 - (signed int)v11) >> 2;
    v28 = v11;
    if ( v27 < 1 )
LABEL_37:
      v31 = v6;
      v35 = v42 - (_DWORD)v28;
      if ( v42 - (_DWORD)v28 == 1 )
        v36 = *(_BYTE *)(v7 + 13);
        v32 = v28;
      else
        if ( v35 == 3 )
          v36 = *(_BYTE *)(v7 + 13);
          if ( (unsigned __int8)*v28 == v36 )
            v32 = v28;
            goto LABEL_57;
          ++v28;
          if ( v35 != 2 )
            v32 = (char *)v42;
        if ( (unsigned __int8)*v28 == v36 )
          v32 = v28;
          goto LABEL_57;
        v32 = v28 + 1;
      if ( (unsigned __int8)*v32 != v36 )
        v32 = (char *)v42;
    else
      v29 = *(_BYTE *)(v7 + 13);
      v30 = v27 + 1;
      v28 = v11;
      while ( 1 )
        v31 = v6;
        if ( (unsigned __int8)*v28 == v29 )
          break;
        if ( (unsigned __int8)v28[1] == v29 )
        v32 = v28 + 2;
        v33 = (unsigned __int8)v28[2];
        v34 = v33 == v29;
        if ( v33 != v29 )
          v32 = v28 + 3;
          v34 = (unsigned __int8)v28[3] == v29;
        if ( v34 )
        --v30;
        v28 += 4;
        v6 = v31;
        if ( v30 <= 1 )
          goto LABEL_37;
      v32 = v28;
LABEL_57:
    v38 = (const void **)(*(_DWORD *)(v7 + 28) + 16);
    sub_21E6FCC(v38, *((_DWORD *)*v38 - 3) + v32 - v11);
    v39 = v11;
    v40 = v32 - v11;
    sub_21E7408(v38, v39, v40);
    v9 = v45 + v40;
    v34 = v32 == (char *)v42;
    v6 = v31;
    if ( !v34 )
      *(_DWORD *)(v7 + 16) = 2;
      ++v9;
LABEL_59:
    if ( v9 < v43 )
      continue;
  }
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::set_status(int a1, signed int a2)
{
  int v2; // r4@1
  void *v3; // r0@2
  char *v4; // r4@4
  char v5; // r0@4
  int *v6; // r0@7
  unsigned int *v7; // r1@11
  signed int v8; // r2@12
  int v9; // [sp+8h] [bp-28h]@4
  int v10; // [sp+Ch] [bp-24h]@2

  v2 = a1;
  if ( *(_DWORD *)(a1 + 2504) != 6 )
  {
    v4 = j_j___cxa_allocate_exception_0(16);
    sub_21E94B4((void **)&v9, "Call to set_status from invalid state");
    v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v4 = &off_276CEA4;
    v6 = (int *)(v4 + 4);
    if ( *(_DWORD *)(v9 - 12) )
      sub_21E8AF4(v6, &v9);
    else
      (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v6);
    *((_DWORD *)v4 + 2) = 9;
    *((_DWORD *)v4 + 3) = &websocketpp::error::get_category(void)::instance;
    j_j___cxa_throw_0(
      (int)v4,
      (int)&`typeinfo for'websocketpp::exception,
      (int)websocketpp::exception::~exception,
      -3068);
  }
  *(_DWORD *)(a1 + 19160) = a2;
  j_websocketpp::http::status_code::get_string((void **)&v10, a2);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v2 + 19144),
    &v10);
  v3 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
    v7 = (unsigned int *)(v10 - 4);
    do
      v8 = __ldrex(v7);
    while ( __strex(v8 - 1, v7) );
    if ( v8 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
}


websocketpp::http::parser::request *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_data::proxy_data(websocketpp::http::parser::request *a1)
{
  websocketpp::http::parser::request *v1; // r4@1
  int v2; // r2@1
  __int64 v3; // r6@1
  __int64 v4; // kr00_8@1

  v1 = a1;
  j_websocketpp::http::parser::request::request(a1);
  j_websocketpp::http::parser::response::response((websocketpp::http::parser::request *)((char *)v1 + 68));
  v2 = (int)v1 + 140;
  *(_DWORD *)v2 = &unk_28898CC;
  *(_DWORD *)(v2 + 4) = &off_26D40A8;
  *(_DWORD *)(v2 + 8) = 0;
  *((_DWORD *)v1 + 38) = 0;
  *((_DWORD *)v1 + 39) = 0;
  *((_DWORD *)v1 + 40) = 0;
  *((_DWORD *)v1 + 41) = 0;
  *((_DWORD *)v1 + 42) = 0;
  sub_21C9520((unsigned int **)v1 + 43);
  *((_DWORD *)v1 + 36) = &off_276C278;
  *((_DWORD *)v1 + 44) = -1;
  *((_DWORD *)v1 + 45) = 0;
  *((_DWORD *)v1 + 46) = 0;
  *((_DWORD *)v1 + 47) = 0;
  LODWORD(v3) = j_operator new(0x80u);
  v4 = *(_QWORD *)((char *)v1 + 180);
  if ( HIDWORD(v4) != (_DWORD)v4 )
    j___aeabi_memmove_1(v3, v4);
  HIDWORD(v3) = HIDWORD(v4) - v4 + v3;
  j___aeabi_memclr_1(SHIDWORD(v3), 128);
  HIDWORD(v3) += 128;
  if ( (_DWORD)v4 )
    j_operator delete((void *)v4);
  *(_QWORD *)((char *)v1 + 180) = v3;
  *((_DWORD *)v1 + 47) = v3 + 128;
  *((_DWORD *)v1 + 37) = v3;
  *((_DWORD *)v1 + 38) = v3;
  *((_DWORD *)v1 + 39) = v3;
  *((_DWORD *)v1 + 40) = v3;
  *((_DWORD *)v1 + 41) = v3;
  *((_DWORD *)v1 + 42) = v3 + 128;
  *((_DWORD *)v1 + 48) = 5000;
  *((_DWORD *)v1 + 49) = 0;
  *((_DWORD *)v1 + 50) = 0;
  return v1;
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_async_read(int a1, int a2, int a3)
{
  int v3; // r6@1
  int v4; // r5@1
  int v5; // r4@1
  int v6; // r2@1
  char v7; // r0@3
  char v8; // r0@8
  bool v9; // zf@11
  RakNet *result; // r0@17
  int v11; // [sp+0h] [bp-28h]@7
  int v12; // [sp+8h] [bp-20h]@1
  void *v13; // [sp+Ch] [bp-1Ch]@1

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 92),
    1024,
    "asio con handle_async_read");
  v12 = 0;
  v13 = (void *)((int (*)(void))byte_21E9640)();
  v6 = *(_DWORD *)v3;
  if ( *(_DWORD *)v3 )
  {
    if ( v6 == 2 )
    {
      v7 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      __dmb();
      if ( !(v7 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      {
        websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
      }
      v12 = 7;
      v13 = &websocketpp::transport::error::get_category(void)::instance;
    }
    else
      j_websocketpp::transport::asio::tls_socket::connection::translate_ec((int)&v11, v4, v6, *(void **)(v3 + 4));
      *(_QWORD *)&v12 = *(_QWORD *)&v11;
      if ( v11 == 11 )
        goto LABEL_21;
      v8 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
      if ( !(v8 & 1)
      v9 = v13 == &websocketpp::transport::error::get_category(void)::instance;
      if ( v13 == &websocketpp::transport::error::get_category(void)::instance )
        v9 = v12 == 2;
      if ( v9 )
LABEL_21:
        j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<boost::system::error_code>(
          v4,
          4,
          "asio async_read_at_least",
          (_DWORD *)v3);
  }
  if ( *(_DWORD *)(v4 + 2248) )
    result = (RakNet *)(*(int (__fastcall **)(int, int *, int))(v4 + 2252))(v4 + 2240, &v12, v5);
  else
    result = j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
               *(pthread_mutex_t **)(v4 + 92),
               1024,
               "handle_async_read called with null read handler");
  return result;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_shutdown(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r11@1
  pthread_mutex_t *v4; // r0@1
  void (*v5)(void); // r3@3
  void (*v6)(void); // r3@5
  void (*v7)(void); // r3@7
  void (*v8)(void); // r3@9
  void (*v9)(void); // r3@11
  int v10; // r4@13
  unsigned int v11; // r0@14
  unsigned int *v12; // r6@14
  unsigned int v13; // r1@15
  int v14; // r8@18
  unsigned int v15; // r0@21
  unsigned int v16; // r0@23
  unsigned int *v17; // r7@25
  unsigned int v18; // r0@26
  int v19; // r7@29
  void (__fastcall *v20)(int *, int, signed int); // r3@29
  _QWORD *v21; // r0@31
  int v22; // r1@31
  __int64 v23; // kr00_8@31
  int v24; // r7@33
  unsigned int *v25; // r0@34
  unsigned int v26; // r1@35
  unsigned int *v27; // r6@37
  unsigned int v28; // r0@38
  int v29; // r7@41
  unsigned int *v30; // r0@42
  unsigned int v31; // r1@43
  unsigned int *v32; // r6@45
  unsigned int v33; // r0@46
  int v34; // r10@51
  unsigned int v35; // r0@52
  unsigned int *v36; // r6@52
  unsigned int v37; // r1@53
  int v38; // r8@56
  unsigned int v39; // r0@59
  unsigned int v40; // r0@61
  unsigned int *v41; // r7@63
  unsigned int v42; // r0@64
  void (__fastcall *v43)(int *, int, signed int); // r3@67
  unsigned int *v44; // r0@70
  unsigned int v45; // r1@71
  _QWORD *v46; // r0@73
  int (*v47)(void); // r1@73
  __int64 v48; // r2@73
  int v49; // r1@73
  int *v50; // r0@73
  int v51; // r5@73
  int v52; // r5@74
  int v53; // r6@74
  void *v54; // r0@74
  void *v55; // r0@75
  signed int v56; // r1@75
  unsigned int *result; // r0@80
  int v58; // r5@82
  unsigned int v59; // r1@84
  unsigned int *v60; // r6@86
  int v61; // r5@90
  unsigned int v62; // r1@92
  unsigned int *v63; // r6@94
  unsigned int v64; // r1@102
  unsigned int *v65; // r5@104
  int v66; // [sp+8h] [bp-A0h]@68
  int (*v67)(void); // [sp+10h] [bp-98h]@67
  int v68; // [sp+14h] [bp-94h]@68
  __int64 v69; // [sp+18h] [bp-90h]@69
  int v70; // [sp+20h] [bp-88h]@73
  int v71; // [sp+24h] [bp-84h]@73
  _QWORD *v72; // [sp+28h] [bp-80h]@73
  int (*v73)(void); // [sp+30h] [bp-78h]@73
  int (__fastcall *v74)(_DWORD); // [sp+34h] [bp-74h]@80
  RakNet *(__fastcall *v75)(int, int, int, signed int *); // [sp+38h] [bp-70h]@29
  int v76; // [sp+3Ch] [bp-6Ch]@29
  int v77; // [sp+40h] [bp-68h]@30
  void (__fastcall *v78)(int *); // [sp+48h] [bp-60h]@29
  int v79; // [sp+4Ch] [bp-5Ch]@30
  int v80; // [sp+50h] [bp-58h]@31
  int v81; // [sp+54h] [bp-54h]@31
  int v82; // [sp+58h] [bp-50h]@31
  int v83; // [sp+5Ch] [bp-4Ch]@31
  _QWORD *v84; // [sp+64h] [bp-44h]@31
  void (__fastcall *v85)(_DWORD); // [sp+6Ch] [bp-3Ch]@31
  unsigned int *(__fastcall *v86)(unsigned __int64 **, int); // [sp+70h] [bp-38h]@31
  __int64 v87; // [sp+74h] [bp-34h]@31
  int v88; // [sp+7Ch] [bp-2Ch]@73
  void *v89; // [sp+80h] [bp-28h]@73

  v2 = a1;
  v3 = a2;
  v4 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "asio connection async_shutdown");
  v5 = *(void (**)(void))(v2 + 2256);
  if ( v5 )
  {
    v5();
    *(_DWORD *)(v2 + 2256) = 0;
    *(_DWORD *)(v2 + 2260) = 0;
  }
  v6 = *(void (**)(void))(v2 + 2272);
  if ( v6 )
    v6();
    *(_DWORD *)(v2 + 2272) = 0;
    *(_DWORD *)(v2 + 2276) = 0;
  v7 = *(void (**)(void))(v2 + 2240);
  if ( v7 )
    v7();
    *(_DWORD *)(v2 + 2240) = 0;
    *(_DWORD *)(v2 + 2244) = 0;
  v8 = *(void (**)(void))(v2 + 2208);
  if ( v8 )
    v8();
    *(_DWORD *)(v2 + 2208) = 0;
    *(_DWORD *)(v2 + 2212) = 0;
  v9 = *(void (**)(void))(v2 + 2224);
  if ( v9 )
    v9();
    *(_DWORD *)(v2 + 2224) = 0;
    *(_DWORD *)(v2 + 2228) = 0;
  v10 = *(_DWORD *)(v2 + 4);
  if ( !v10 )
    j_std::__throw_bad_weak_ptr();
  v11 = *(_DWORD *)(v10 + 4);
  v12 = (unsigned int *)(v10 + 4);
  do
    v13 = v11;
    if ( !v11 )
      j_std::__throw_bad_weak_ptr();
    __dmb();
    v11 = __ldrex(v12);
  while ( v11 != v13 || __strex(v13 + 1, v12) );
  __dmb();
  v14 = *(_DWORD *)v2;
    v15 = __ldrex(v12);
  while ( __strex(v15 + 1, v12) );
    v16 = __ldrex(v12);
  while ( __strex(v16 - 1, v12) );
  if ( v16 == 1 )
    v17 = (unsigned int *)(v10 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  v19 = 0;
  v75 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_shutdown_timeout;
  v76 = 0;
  v78 = 0;
  v20 = *(void (__fastcall **)(int *, int, signed int))(v3 + 8);
  if ( v20 )
    v20(&v77, v3, 2);
    v79 = *(_DWORD *)(v3 + 12);
    v19 = *(_DWORD *)(v3 + 8);
    v78 = *(void (__fastcall **)(int *))(v3 + 8);
  v80 = 0;
  v81 = 0;
  v82 = v14;
  v83 = v10;
  v85 = 0;
  v21 = j_operator new(0x28u);
  *v21 = *(_QWORD *)&v75;
  v21[1] = *(_QWORD *)&v77;
  v22 = v79;
  *((_DWORD *)v21 + 4) = v19;
  *((_DWORD *)v21 + 5) = v22;
  *((_DWORD *)v21 + 6) = 0;
  *((_DWORD *)v21 + 7) = 0;
  *((_DWORD *)v21 + 8) = v14;
  v83 = 0;
  *((_DWORD *)v21 + 9) = v10;
  v82 = 0;
  v84 = v21;
  v85 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  v86 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
    (int)&v87,
    v2,
    5000,
    (int)&v84);
  v23 = v87;
  v87 = 0LL;
  if ( v85 )
    v85(&v84);
  v24 = v83;
  if ( v83 )
    v25 = (unsigned int *)(v83 + 4);
      v26 = __ldrex(v25);
    while ( __strex(v26 - 1, v25) );
    if ( v26 == 1 )
    {
      v27 = (unsigned int *)(v24 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
      __dmb();
      do
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
    }
  v29 = v81;
  if ( v81 )
    v30 = (unsigned int *)(v81 + 4);
      v31 = __ldrex(v30);
    while ( __strex(v31 - 1, v30) );
    if ( v31 == 1 )
      v32 = (unsigned int *)(v29 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
        v33 = __ldrex(v32);
      while ( __strex(v33 - 1, v32) );
      if ( v33 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
  if ( v78 )
    v78(&v77);
  v34 = *(_DWORD *)(v2 + 4);
  if ( !v34 )
  v35 = *(_DWORD *)(v34 + 4);
  v36 = (unsigned int *)(v34 + 4);
    v37 = v35;
    if ( !v35 )
    v35 = __ldrex(v36);
  while ( v35 != v37 || __strex(v37 + 1, v36) );
  v38 = *(_DWORD *)v2;
    v39 = __ldrex(v36);
  while ( __strex(v39 + 1, v36) );
    v40 = __ldrex(v36);
  while ( __strex(v40 - 1, v36) );
  if ( v40 == 1 )
    v41 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v42 = __ldrex(v41);
    while ( __strex(v42 - 1, v41) );
    if ( v42 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
  v67 = 0;
  v43 = *(void (__fastcall **)(int *, int, signed int))(v3 + 8);
  if ( v43 )
    v43(&v66, v3, 2);
    v68 = *(_DWORD *)(v3 + 12);
    v67 = *(int (**)(void))(v3 + 8);
  v69 = v23;
  if ( HIDWORD(v23) )
    v44 = (unsigned int *)(HIDWORD(v23) + 4);
      v45 = __ldrex(v44);
    while ( __strex(v45 + 1, v44) );
  v70 = v38;
  v71 = v34;
  v73 = 0;
  v46 = j_operator new(0x28u);
  *v46 = (unsigned int)websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_async_shutdown;
  v46[1] = *(_QWORD *)&v66;
  v47 = v67;
  *((_DWORD *)v46 + 4) = v47;
  HIDWORD(v48) = std::_Function_handler<void ()(boost::system::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
  *((_DWORD *)v46 + 5) = v68;
  *((_DWORD *)v46 + 6) = v69;
  v49 = HIDWORD(v69);
  LODWORD(v48) = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::shared_ptr<boost::asio::basic_deadline_timer<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>,boost::asio::deadline_timer_service<boost::posix_time::ptime,boost::asio::time_traits<boost::posix_time::ptime>>>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
  HIDWORD(v69) = 0;
  *((_DWORD *)v46 + 7) = v49;
  LODWORD(v69) = 0;
  *((_DWORD *)v46 + 8) = v38;
  v71 = 0;
  *((_DWORD *)v46 + 9) = v34;
  v70 = 0;
  v72 = v46;
  *(_QWORD *)&v73 = v48;
  v88 = 0;
  v89 = sub_21B09F0();
  v50 = *(int **)(v2 + 8);
  v51 = *v50;
  if ( *v50 == -1 )
    v55 = sub_21B09F0();
    v56 = 9;
  else
    *(_DWORD *)j___errno_0((int)v50) = 0;
    v52 = j_shutdown_0(v51, 2);
    v53 = *(_DWORD *)j___errno_0(v52);
    v54 = sub_21B09F0();
    v88 = v53;
    v89 = v54;
    if ( v52 )
      goto LABEL_78;
    v56 = 0;
  v88 = v56;
  v89 = v55;
LABEL_78:
  if ( !v73 )
    sub_21E5F48();
  result = (unsigned int *)v74(&v72);
  if ( v73 )
    result = (unsigned int *)v73();
  v58 = v71;
  if ( v71 )
    result = (unsigned int *)(v71 + 4);
      v59 = __ldrex(result);
    while ( __strex(v59 - 1, result) );
    if ( v59 == 1 )
      v60 = (unsigned int *)(v58 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 8))(v58);
        result = (unsigned int *)__ldrex(v60);
      while ( __strex((unsigned int)result - 1, v60) );
      if ( result == (unsigned int *)1 )
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v58 + 12))(v58);
  v61 = HIDWORD(v69);
  if ( HIDWORD(v69) )
    result = (unsigned int *)(HIDWORD(v69) + 4);
      v62 = __ldrex(result);
    while ( __strex(v62 - 1, result) );
    if ( v62 == 1 )
      v63 = (unsigned int *)(v61 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v61 + 8))(v61);
        result = (unsigned int *)__ldrex(v63);
      while ( __strex((unsigned int)result - 1, v63) );
        result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v61 + 12))(v61);
  if ( v67 )
    result = (unsigned int *)v67();
    result = (unsigned int *)(HIDWORD(v23) + 4);
      v64 = __ldrex(result);
    while ( __strex(v64 - 1, result) );
    if ( v64 == 1 )
      v65 = (unsigned int *)(HIDWORD(v23) + 8);
      (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v23) + 8))(HIDWORD(v23));
        result = (unsigned int *)__ldrex(v65);
      while ( __strex((unsigned int)result - 1, v65) );
        result = (unsigned int *)(*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v23) + 12))(HIDWORD(v23));
  return result;
}


unsigned int *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::pong(int a1, int a2, int a3)
{
  int v3; // r5@1
  pthread_mutex_t *v4; // r0@1
  int v5; // r10@1
  pthread_mutex_t *v6; // r6@3
  int v7; // r0@3
  void (__fastcall *v8)(char *); // r4@6
  unsigned int *v9; // r0@7
  unsigned int v10; // r2@8
  int *v11; // r8@10
  int v12; // r6@10
  unsigned int *v13; // r0@11
  unsigned int v14; // r1@12
  unsigned int *v15; // r4@14
  unsigned int v16; // r0@15
  unsigned int *result; // r0@18
  int v18; // r0@19
  pthread_mutex_t *v19; // r5@21
  void *v20; // r0@21
  char v21; // r0@22
  void *v22; // r0@25
  char v23; // r0@27
  int v24; // r4@31
  unsigned int v25; // r1@33
  unsigned int *v26; // r5@35
  unsigned int *v27; // r0@41
  unsigned int v28; // r1@42
  int v29; // r7@44
  unsigned int *v30; // r0@45
  unsigned int v31; // r1@46
  unsigned int *v32; // r4@48
  unsigned int v33; // r0@49
  int v34; // r0@53
  unsigned int *v35; // r1@54
  signed int v36; // r2@55
  unsigned int *v37; // r1@58
  signed int v38; // r2@59
  int v39; // r4@62
  int v40; // r7@62
  int v41; // r6@63
  unsigned int v42; // r0@64
  unsigned int *v43; // r7@64
  unsigned int v44; // r1@65
  int v45; // r9@68
  unsigned int v46; // r0@71
  unsigned int v47; // r0@73
  unsigned int *v48; // r4@75
  unsigned int v49; // r0@76
  unsigned int v50; // r0@80
  unsigned int v51; // r0@82
  unsigned int *v52; // r4@84
  unsigned int v53; // r0@85
  _DWORD *v54; // r0@88
  __int64 v55; // r0@88
  int v56; // [sp+0h] [bp-120h]@88
  _DWORD *v57; // [sp+8h] [bp-118h]@88
  int (*v58)(void); // [sp+10h] [bp-110h]@88
  int (__fastcall *v59)(int *); // [sp+14h] [bp-10Ch]@88
  int v60; // [sp+18h] [bp-108h]@40
  int v61; // [sp+1Ch] [bp-104h]@40
  int v62; // [sp+20h] [bp-100h]@6
  int v63; // [sp+24h] [bp-FCh]@6
  char v64; // [sp+28h] [bp-F8h]@10
  int v65; // [sp+34h] [bp-ECh]@5
  int v66; // [sp+38h] [bp-E8h]@6
  int v67; // [sp+3Ch] [bp-E4h]@21
  void **v68; // [sp+40h] [bp-E0h]@21
  int v69; // [sp+44h] [bp-DCh]@26
  void **v70; // [sp+48h] [bp-D8h]@21
  void **v71; // [sp+4Ch] [bp-D4h]@21
  int v72; // [sp+68h] [bp-B8h]@26
  int v73; // [sp+70h] [bp-B0h]@25
  void **v74; // [sp+74h] [bp-ACh]@25

  v3 = a1;
  v4 = *(pthread_mutex_t **)(a1 + 19236);
  v5 = a3;
  if ( *((_BYTE *)&v4->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v4,
      1024,
      "connection pong");
  v6 = (pthread_mutex_t *)(v3 + 2548);
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2548));
  if ( v7 )
    sub_21E5E14(v7);
  if ( *(_DWORD *)(v3 + 2540) == 1 )
  {
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2548));
    j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
      (int)&v65,
      *(_DWORD *)(v3 + 18960));
    if ( v65 )
    {
      v8 = *(void (__fastcall **)(char *))(**(_DWORD **)(v3 + 18988) + 80);
      v62 = v65;
      v63 = v66;
      if ( v66 )
      {
        v9 = (unsigned int *)(v66 + 4);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 + 1, v9) );
      }
      v8(&v64);
      v11 = &v66;
      *(_QWORD *)v5 = *(_QWORD *)&v64;
      v12 = v63;
      if ( v63 )
        v13 = (unsigned int *)(v63 + 4);
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
        {
          v15 = (unsigned int *)(v12 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 8))(v12);
          __dmb();
          do
            v16 = __ldrex(v15);
          while ( __strex(v16 - 1, v15) );
          if ( v16 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v12 + 12))(v12);
        }
      result = *(unsigned int **)v5;
      if ( !*(_DWORD *)v5 )
        v18 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v3 + 2552));
        if ( v18 )
          sub_21E5E14(v18);
        v60 = v65;
        v61 = v66;
        if ( v66 )
          v27 = (unsigned int *)(v66 + 4);
            v28 = __ldrex(v27);
          while ( __strex(v28 + 1, v27) );
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::write_push(v3, &v60);
        v29 = v61;
        if ( v61 )
          v30 = (unsigned int *)(v61 + 4);
            v31 = __ldrex(v30);
          while ( __strex(v31 - 1, v30) );
          if ( v31 == 1 )
          {
            v32 = (unsigned int *)(v29 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 8))(v29);
            __dmb();
            do
              v33 = __ldrex(v32);
            while ( __strex(v33 - 1, v32) );
            if ( v33 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v29 + 12))(v29);
          }
        if ( *(_BYTE *)(v3 + 19064) )
          v34 = j_pthread_mutex_unlock_1((pthread_mutex_t *)(v3 + 2552));
        else
          v39 = *(_DWORD *)(v3 + 19004);
          v40 = *(_DWORD *)(v3 + 19020);
          if ( v40 != v39 )
            v41 = *(_DWORD *)(v3 + 4);
            if ( !v41 )
              j_std::__throw_bad_weak_ptr();
            v42 = *(_DWORD *)(v41 + 4);
            v43 = (unsigned int *)(v41 + 4);
            {
              v44 = v42;
              if ( !v42 )
                j_std::__throw_bad_weak_ptr();
              __dmb();
              v42 = __ldrex(v43);
            }
            while ( v42 != v44 || __strex(v44 + 1, v43) );
            v45 = *(_DWORD *)v3;
              v46 = __ldrex(v43);
            while ( __strex(v46 + 1, v43) );
              v47 = __ldrex(v43);
            while ( __strex(v47 - 1, v43) );
            if ( v47 == 1 )
              v48 = (unsigned int *)(v41 + 8);
              (*(void (__fastcall **)(int))(*(_DWORD *)v41 + 8))(v41);
              do
                v49 = __ldrex(v48);
              while ( __strex(v49 - 1, v48) );
              if ( v49 == 1 )
                (*(void (__fastcall **)(int))(*(_DWORD *)v41 + 12))(v41);
              v50 = __ldrex(v43);
            while ( __strex(v50 + 1, v43) );
              v51 = __ldrex(v43);
            while ( __strex(v51 - 1, v43) );
            if ( v51 == 1 )
              v52 = (unsigned int *)(v41 + 8);
                v53 = __ldrex(v52);
              while ( __strex(v53 - 1, v52) );
              if ( v53 == 1 )
            v54 = j_operator new(0x10u);
            *v54 = websocketpp::connection<websocketpp::config::asio_tls_client>::write_frame;
            v54[1] = 0;
            v54[2] = v45;
            v54[3] = v41;
            v57 = v54;
            v58 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_manager;
            v59 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_invoke;
            LODWORD(v55) = &v56;
            v34 = j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(
                    v55,
                    (int)&v57);
            if ( v58 )
              v34 = v58();
        result = (unsigned int *)((int (__fastcall *)(int))byte_21E9640)(v34);
        *(_DWORD *)v5 = 0;
        *(_DWORD *)(v5 + 4) = result;
    }
    else
      v23 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v23 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      result = (unsigned int *)&websocketpp::error::get_category(void)::instance;
      *(_DWORD *)v5 = 7;
      *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    v24 = *v11;
    if ( *v11 )
      result = (unsigned int *)(v24 + 4);
      do
        v25 = __ldrex(result);
      while ( __strex(v25 - 1, result) );
      if ( v25 == 1 )
        v26 = (unsigned int *)(v24 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v24 + 8))(v24);
          result = (unsigned int *)__ldrex(v26);
        while ( __strex((unsigned int)result - 1, v26) );
        if ( result == (unsigned int *)1 )
          result = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v24 + 12))(v24);
  }
  else
    sub_21D103C((int)&v68, 24);
    sub_21CBF38((char *)&v70, (int)"connection::pong called from invalid state ", 43);
    sub_21CC43C(&v70, *(_DWORD *)(v3 + 2540));
    v19 = *(pthread_mutex_t **)(v3 + 19236);
    sub_21CFED8(&v67, (int)&v71);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v19, 1024, &v67);
    v20 = (void *)(v67 - 12);
    if ( (int *)(v67 - 12) != &dword_28898C0 )
      v35 = (unsigned int *)(v67 - 4);
        v36 = __ldrex(v35);
      while ( __strex(v36 - 1, v35) );
      if ( v36 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
    v21 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v21 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v5 = 9;
    *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
    v68 = &off_26D3F94;
    v74 = &off_26D3FBC;
    v70 = &off_26D3FA8;
    v71 = &off_27734E8;
    v22 = (void *)(v73 - 12);
    if ( (int *)(v73 - 12) != &dword_28898C0 )
      v37 = (unsigned int *)(v73 - 4);
        v38 = __ldrex(v37);
      while ( __strex(v38 - 1, v37) );
      if ( v38 <= 0 )
        j_j_j_j__ZdlPv_9(v22);
    v71 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v72);
    v68 = &off_276D0DC;
    v74 = &off_276D0F0;
    v69 = 0;
    sub_21B6560(&v74);
    result = (unsigned int *)j_pthread_mutex_unlock_1(v6);
  return result;
}


signed int __fastcall websocketpp::http::parser::parser::prepare_body(websocketpp::http::parser::parser *this)
{
  websocketpp::http::parser::parser *v1; // r4@1
  int v2; // r0@1
  int v3; // r8@1
  const void **v4; // r2@1
  int v5; // r6@3
  unsigned int v6; // r7@3
  void *v7; // r0@3
  int v8; // r0@5
  const char **v9; // r5@5
  bool v10; // zf@5
  int (__fastcall *v11)(_DWORD); // r0@5
  unsigned __int32 v12; // r0@8
  char *v13; // r5@9
  int *v14; // r0@9
  int v15; // r3@9
  int v16; // r0@11
  const void **v17; // r2@11
  void *v18; // r0@13
  signed int result; // r0@14
  unsigned int *v20; // r1@16
  signed int v21; // r2@17
  unsigned int *v22; // r1@20
  signed int v23; // r2@21
  unsigned int *v24; // r1@24
  signed int v25; // r2@25
  int v26; // [sp+8h] [bp-58h]@11
  int v27; // [sp+10h] [bp-50h]@9
  int v28; // [sp+18h] [bp-48h]@9
  int v29; // [sp+20h] [bp-40h]@9
  char *endptr; // [sp+24h] [bp-3Ch]@8
  int v31; // [sp+2Ch] [bp-34h]@5
  int v32; // [sp+34h] [bp-2Ch]@1

  v1 = this;
  sub_21E94B4((void **)&v32, "Content-Length");
  v2 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         (int)v1 + 4,
         &v32);
  v3 = (int)v1 + 8;
  v4 = (const void **)(v2 + 20);
  if ( (websocketpp::http::parser::parser *)v2 == (websocketpp::http::parser::parser *)((char *)v1 + 8) )
    v4 = (const void **)&dword_2880E54;
  v5 = sub_21E7D6C(v4, (const char *)&unk_257BC67);
  v6 = 0xFFFF4420;
  v7 = (void *)(v32 - 12);
  if ( (int *)(v32 - 12) != &dword_28898C0 )
  {
    v20 = (unsigned int *)(v32 - 4);
    __dmb();
    do
      v21 = __ldrex(v20);
    while ( __strex(v21 - 1, v20) );
    v6 = 0xFFFF4420;
    if ( v21 <= 0 )
      j_j_j_j__ZdlPv_9(v7);
  }
  if ( v5 )
    sub_21E94B4((void **)&v31, "Content-Length");
    v8 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
           (int)v1 + 4,
           &v31);
    v9 = (const char **)(v8 + 20);
    v10 = v8 == v3;
    v11 = (int (__fastcall *)(_DWORD))(v31 - 12);
    if ( v10 )
      v9 = (const char **)&dword_2880E54;
    if ( v11 != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v6) )
    {
      v22 = (unsigned int *)(v31 - 4);
      __dmb();
      do
        v23 = __ldrex(v22);
      while ( __strex(v23 - 1, v22) );
      if ( v23 <= 0 )
        j_j_j_j__ZdlPv_9(v11);
    }
    v12 = j_strtoul_0(*v9, &endptr, 10);
    *((_DWORD *)v1 + 9) = v12;
    if ( v12 > *((_DWORD *)v1 + 10) )
      v13 = j_j___cxa_allocate_exception_0(20);
      sub_21E94B4((void **)&v29, "HTTP message body too large");
      sub_21E94B4((void **)&v28, (const char *)&unk_257BC67);
      v14 = (int *)sub_21E94B4((void **)&v27, (const char *)&unk_257BC67);
      j_websocketpp::http::exception::exception((int)v13, &v29, 413, &v28, v14);
      j_j___cxa_throw_0(
        (int)v13,
        (int)&`typeinfo for'websocketpp::http::exception,
        (int)websocketpp::http::exception::~exception,
        v15);
    result = 1;
    *((_DWORD *)v1 + 11) = 1;
  else
    sub_21E94B4((void **)&v26, "Transfer-Encoding");
    v16 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            (int)v1 + 4,
            &v26);
    v17 = (const void **)(v16 + 20);
    if ( v16 == v3 )
      v17 = (const void **)&dword_2880E54;
    sub_21E7D6C(v17, "chunked");
    v18 = (void *)(v26 - 12);
    if ( (int (__fastcall *)(_DWORD))(v26 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v6) )
      v24 = (unsigned int *)(v26 - 4);
        v25 = __ldrex(v24);
      while ( __strex(v25 - 1, v24) );
      if ( v25 <= 0 )
        j_j_j_j__ZdlPv_9(v18);
    result = 0;
  return result;
}


void __fastcall websocketpp::http::parser::parser::append_header(int a1, _DWORD *a2, const void **a3)
{
  websocketpp::http::parser::parser::append_header(a1, a2, a3);
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::validate_incoming_extended_header(int a1, int a2, unsigned int a3, unsigned int a4, unsigned int a5))(_DWORD)
{
  int v5; // r4@1
  unsigned int v6; // r0@1
  char v7; // r0@4
  int (__fastcall **v8)(_DWORD); // r0@7
  signed int v9; // r2@8
  unsigned int v10; // r2@10
  bool v11; // zf@12
  char v12; // r0@16
  unsigned int v13; // r1@20
  signed int v14; // r2@20
  int (__fastcall *result)(_DWORD); // r0@21
  char v16; // r0@23

  v5 = a1;
  v6 = (a3 >> 8) & 0x7F;
  if ( v6 >= 0x7E )
  {
    v6 = (unsigned __int8)v6;
    if ( (unsigned __int8)v6 == 126 )
    {
      if ( __rev(a4) >> 16 <= 0x7D )
      {
        v7 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v7 & 1) )
        {
          if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          {
            websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
            j___cxa_atexit_1((int)nullsub_3);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
          }
        }
        v8 = &GLOBAL_OFFSET_TABLE_;
LABEL_20:
        v13 = 0x3FFFFD21u;
        v14 = 14;
LABEL_21:
        result = v8[v13];
        *(_DWORD *)v5 = v14;
        *(_DWORD *)(v5 + 4) = result;
        return result;
      }
    }
    else
      v9 = websocketpp::lib::net::_htonll(unsigned long long)::typ;
      if ( !websocketpp::lib::net::_htonll(unsigned long long)::typ )
        v9 = 1;
        websocketpp::lib::net::_htonll(unsigned long long)::typ = 1;
      v11 = v9 == 2;
      v10 = a5;
      if ( !v11 )
        v10 = __rev(a4);
        a4 = __rev(a5);
      v11 = v6 == 127;
      if ( v6 == 127 )
        v11 = ((a4 >> 16) | (v10 << 16) | (v10 >> 16)) == 0;
      if ( v11 )
        v12 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v12 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        goto LABEL_20;
      if ( v10 )
        v16 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        if ( !(v16 & 1)
        v14 = 15;
        goto LABEL_21;
  }
  *(_DWORD *)v5 = 0;
  result = (int (__fastcall *)(_DWORD))((int (*)(void))byte_21E9640)();
  *(_DWORD *)(v5 + 4) = result;
  return result;
}


int *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::write_pop(int a1, int a2)
{
  int v2; // r11@1
  int v3; // r5@1
  int *result; // r0@1
  int **v5; // r10@2
  int v6; // r1@2
  int v7; // r4@2
  unsigned int *v8; // r0@3
  unsigned int v9; // r1@4
  int v10; // r7@5
  unsigned int *v11; // r0@6
  unsigned int v12; // r1@7
  unsigned int *v13; // r6@9
  unsigned int v14; // r0@10
  _DWORD *v15; // r9@14
  int v16; // r6@15
  unsigned int *v17; // r0@16
  unsigned int v18; // r1@17
  unsigned int *v19; // r4@19
  unsigned int v20; // r0@20
  int v21; // r6@24
  unsigned int *v22; // r0@25
  unsigned int v23; // r1@26
  unsigned int *v24; // r7@28
  unsigned int v25; // r0@29
  int v26; // r1@32
  int v27; // r0@32
  int v28; // r1@34
  char *v29; // r7@34
  int v30; // r1@34
  pthread_mutex_t *v31; // r5@34
  void *v32; // r0@34
  void *v33; // r0@35
  unsigned int *v34; // r1@38
  signed int v35; // r2@39
  unsigned int *v36; // r1@42
  signed int v37; // r2@43
  int v38; // [sp+0h] [bp-E8h]@34
  void **v39; // [sp+4h] [bp-E4h]@34
  int v40; // [sp+8h] [bp-E0h]@36
  void **v41; // [sp+Ch] [bp-DCh]@34
  void **v42; // [sp+10h] [bp-D8h]@34
  int v43; // [sp+2Ch] [bp-BCh]@36
  int v44; // [sp+34h] [bp-B4h]@35
  void **v45; // [sp+38h] [bp-B0h]@35

  v2 = a1;
  v3 = a2;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  result = *(int **)(a2 + 19004);
  if ( *(int **)(a2 + 19020) != result )
  {
    v5 = (int **)(a2 + 19004);
    v6 = *result;
    *(_DWORD *)v2 = *result;
    v7 = result[1];
    if ( v7 )
    {
      v8 = (unsigned int *)(v7 + 4);
      __dmb();
      do
        v9 = __ldrex(v8);
      while ( __strex(v9 + 1, v8) );
      v10 = *(_DWORD *)(v2 + 4);
      if ( v10 )
      {
        v11 = (unsigned int *)(v10 + 4);
        __dmb();
        do
          v12 = __ldrex(v11);
        while ( __strex(v12 - 1, v11) );
        if ( v12 == 1 )
        {
          v13 = (unsigned int *)(v10 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
          __dmb();
          do
            v14 = __ldrex(v13);
          while ( __strex(v14 - 1, v13) );
          if ( v14 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
        }
      }
      *(_DWORD *)(v2 + 4) = v7;
      result = *v5;
      v6 = *(_DWORD *)v2;
    }
    *(_DWORD *)(v3 + 19036) -= *(_DWORD *)(*(_DWORD *)(v6 + 16) - 12);
    v15 = (_DWORD *)(v3 + 19012);
    if ( result == (int *)(*(_DWORD *)(v3 + 19012) - 8) )
      v21 = result[1];
      if ( v21 )
        v22 = (unsigned int *)(v21 + 4);
          v23 = __ldrex(v22);
        while ( __strex(v23 - 1, v22) );
        if ( v23 == 1 )
          v24 = (unsigned int *)(v21 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 8))(v21);
            v25 = __ldrex(v24);
          while ( __strex(v25 - 1, v24) );
          if ( v25 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v21 + 12))(v21);
      j_operator delete(*(void **)(v3 + 19008));
      v26 = *(_DWORD *)(v3 + 19016);
      *(_DWORD *)(v3 + 19016) = v26 + 4;
      v27 = *(_DWORD *)(v26 + 4);
      *(_DWORD *)(v3 + 19008) = v27;
      *v15 = v27 + 512;
      *(_DWORD *)(v3 + 19004) = v27;
    else
      v16 = result[1];
      if ( v16 )
        v17 = (unsigned int *)(v16 + 4);
          v18 = __ldrex(v17);
        while ( __strex(v18 - 1, v17) );
        if ( v18 == 1 )
          v19 = (unsigned int *)(v16 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
            v20 = __ldrex(v19);
          while ( __strex(v20 - 1, v19) );
          if ( v20 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
      *v5 += 2;
    result = (int *)*(_BYTE *)(*(_DWORD *)(v3 + 19236) + 5);
    if ( (unsigned __int8)result & 4 )
      sub_21D103C((int)&v39, 24);
      sub_21CBF38((char *)&v41, (int)"write_pop: message count: ", 26);
      v28 = 16 * (*(_DWORD *)(v3 + 19032) - *(_DWORD *)(v3 + 19016))
          + ((*(_DWORD *)(v3 + 19020) - *(_DWORD *)(v3 + 19024)) >> 3)
          + ((*v15 - *(_DWORD *)(v3 + 19004)) >> 3)
          - 64;
      v29 = sub_21CC440((char *)&v41);
      sub_21CBF38(v29, (int)" buffer size: ", 14);
      v30 = *(_DWORD *)(v3 + 19036);
      sub_21CC440(v29);
      v31 = *(pthread_mutex_t **)(v3 + 19236);
      sub_21CFED8(&v38, (int)&v42);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v31, 1024, &v38);
      v32 = (void *)(v38 - 12);
      if ( (int *)(v38 - 12) != &dword_28898C0 )
        v34 = (unsigned int *)(v38 - 4);
          v35 = __ldrex(v34);
        while ( __strex(v35 - 1, v34) );
        if ( v35 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      v39 = &off_26D3F94;
      v45 = &off_26D3FBC;
      v41 = &off_26D3FA8;
      v42 = &off_27734E8;
      v33 = (void *)(v44 - 12);
      if ( (int *)(v44 - 12) != &dword_28898C0 )
        v36 = (unsigned int *)(v44 - 4);
          v37 = __ldrex(v36);
        while ( __strex(v37 - 1, v36) );
        if ( v37 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
      v42 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v43);
      v39 = &off_276D0DC;
      v45 = &off_276D0F0;
      v40 = 0;
      result = sub_21B6560(&v45);
  }
  return result;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_request(int a1)
{
  int v1; // r4@1
  int v2; // r6@1
  void (__fastcall *v3)(char *, int, int, int *); // r7@2
  int v4; // r0@2
  unsigned int *v5; // r0@3
  unsigned int v6; // r1@4
  int v7; // r6@6
  unsigned int *v8; // r0@7
  unsigned int v9; // r1@8
  unsigned int *v10; // r7@10
  unsigned int v11; // r0@11
  int v12; // r0@17
  const void **v13; // r2@17
  int v14; // r7@19
  void *v15; // r0@19
  int *v16; // r0@22
  void *v17; // r0@22
  unsigned int *v18; // r1@23
  signed int v19; // r2@24
  int *v20; // r11@27
  int v21; // r5@27
  void *v22; // r0@27
  pthread_mutex_t *v23; // r6@28
  char *v24; // r0@29
  int v25; // r7@30
  int v26; // r9@31
  int *v27; // r10@31
  unsigned int v28; // r0@32
  unsigned int *v29; // r5@32
  unsigned int v30; // r1@33
  int v31; // r11@36
  unsigned int v32; // r0@37
  unsigned int v33; // r0@39
  unsigned int *v34; // r6@41
  unsigned int v35; // r0@42
  unsigned int v36; // r0@46
  unsigned int v37; // r0@48
  unsigned int *v38; // r6@50
  unsigned int v39; // r0@51
  _DWORD *v40; // r0@54
  __int64 v41; // r0@54
  int v42; // r6@54
  unsigned int *v43; // r0@55
  unsigned int v44; // r1@56
  unsigned int *v45; // r5@58
  unsigned int v46; // r0@59
  int v47; // r6@62
  unsigned int *v48; // r0@63
  unsigned int v49; // r1@64
  unsigned int *v50; // r5@66
  unsigned int v51; // r0@67
  int v52; // r6@73
  int v53; // r10@74
  unsigned int *v54; // r7@74
  int v55; // r8@74
  unsigned int v56; // r0@74
  unsigned int v57; // r1@75
  int v58; // r9@78
  unsigned int v59; // r0@79
  unsigned int v60; // r0@81
  unsigned int *v61; // r5@83
  unsigned int v62; // r0@84
  unsigned int v63; // r0@88
  unsigned int v64; // r0@90
  unsigned int *v65; // r5@92
  unsigned int v66; // r0@93
  _DWORD *v67; // r0@96
  unsigned int *v68; // r1@99
  signed int v69; // r2@100
  unsigned int *v70; // r1@103
  signed int v71; // r2@104
  unsigned int *v72; // r1@107
  signed int v73; // r2@108
  unsigned int *v74; // r1@111
  _DWORD *v82; // [sp+10h] [bp-90h]@96
  int (__fastcall *v83)(void ***, void ***, int); // [sp+18h] [bp-88h]@96
  int (__fastcall *v84)(int *); // [sp+1Ch] [bp-84h]@96
  _DWORD *v85; // [sp+20h] [bp-80h]@54
  int (__fastcall *v86)(void ***, void ***, int); // [sp+28h] [bp-78h]@54
  int (__fastcall *v87)(int *); // [sp+2Ch] [bp-74h]@54
  char v88; // [sp+30h] [bp-70h]@54
  int v89; // [sp+34h] [bp-6Ch]@54
  char *v90; // [sp+38h] [bp-68h]@29
  int v91; // [sp+3Ch] [bp-64h]@27
  int v92; // [sp+44h] [bp-5Ch]@26
  int v93; // [sp+4Ch] [bp-54h]@22
  int v94; // [sp+54h] [bp-4Ch]@17
  int v95; // [sp+58h] [bp-48h]@2
  int v96; // [sp+5Ch] [bp-44h]@2
  char v97; // [sp+60h] [bp-40h]@6
  int v98; // [sp+68h] [bp-38h]@2
  int v99; // [sp+6Ch] [bp-34h]@2
  int v100; // [sp+74h] [bp-2Ch]@26
  int v101; // [sp+78h] [bp-28h]@26

  v1 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection send_http_request");
  v2 = *(_DWORD *)(v1 + 18948);
  if ( !v2 )
  {
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6elevelEE5writeEjPKc_0(
      *(pthread_mutex_t **)(v1 + 19200),
      32,
      "Internal library error: missing processor");
    return;
  }
  v98 = 0;
  v99 = ((int (*)(void))byte_21E9640)();
  v3 = *(void (__fastcall **)(char *, int, int, int *))(*(_DWORD *)v2 + 28);
  v95 = *(_DWORD *)(v1 + 19168);
  v4 = *(_DWORD *)(v1 + 19172);
  v96 = v4;
  if ( v4 )
    v5 = (unsigned int *)(v4 + 4);
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 + 1, v5) );
  v3(&v97, v2, v1 + 19028, &v95);
  *(_QWORD *)&v98 = *(_QWORD *)&v97;
  v7 = v96;
  if ( v96 )
    v8 = (unsigned int *)(v96 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
    {
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      __dmb();
      do
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
  if ( v98 )
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
      v1,
      "Internal library error: Processor",
      &v98);
  sub_21E94B4((void **)&v94, "User-Agent");
  v12 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
          v1 + 19032,
          &v94);
  v13 = (const void **)(v12 + 20);
  if ( v12 == v1 + 19036 )
    v13 = (const void **)&dword_2880E54;
  v14 = sub_21E7D6C(v13, (const char *)&unk_257BC67);
  v15 = (void *)(v94 - 12);
  if ( (int *)(v94 - 12) != &dword_28898C0 )
    v68 = (unsigned int *)(v94 - 4);
      v69 = __ldrex(v68);
    while ( __strex(v69 - 1, v68) );
    if ( v69 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
  if ( !v14 )
    if ( *(_DWORD *)(*(_DWORD *)(v1 + 2312) - 12) )
      sub_21E94B4((void **)&v93, "User-Agent");
      v16 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v1 + 19032,
                     &v93);
      EntityInteraction::setInteractText(v16, (int *)(v1 + 2312));
      v17 = (void *)(v93 - 12);
      if ( (int *)(v93 - 12) == &dword_28898C0 )
        goto LABEL_27;
      v18 = (unsigned int *)(v93 - 4);
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
    else
      sub_21E94B4((void **)&v92, "User-Agent");
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
        (int)&v100,
        v1 + 19032,
        &v92);
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
        v100,
        v101);
      v17 = (void *)(v92 - 12);
      if ( (int *)(v92 - 12) == &dword_28898C0 )
      v74 = (unsigned int *)(v92 - 4);
        v19 = __ldrex(v74);
      while ( __strex(v19 - 1, v74) );
    if ( v19 <= 0 )
      j_j_j_j__ZdlPv_9(v17);
LABEL_27:
  j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v91, v1 + 19028);
  v20 = (int *)(v1 + 18944);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v1 + 18944),
    &v91);
  v21 = v1 + 19196;
  v22 = (void *)(v91 - 12);
  if ( (int *)(v91 - 12) != &dword_28898C0 )
    v70 = (unsigned int *)(v91 - 4);
      v71 = __ldrex(v70);
    while ( __strex(v71 - 1, v70) );
    if ( v71 <= 0 )
      j_j_j_j__ZdlPv_9(v22);
  v23 = *(pthread_mutex_t **)v21;
  if ( *(_BYTE *)(*(_DWORD *)v21 + 5) & 4 )
    v90 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v90, *(_DWORD *)(*v20 - 12) + 23);
    sub_21E7408((const void **)&v90, "Raw Handshake request:\n", 0x17u);
    sub_21E72F0((const void **)&v90, (const void **)(v1 + 18944));
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, (int *)&v90);
    v24 = v90 - 12;
    if ( (int *)(v90 - 12) != &dword_28898C0 )
      v72 = (unsigned int *)(v90 - 4);
        v73 = __ldrex(v72);
      while ( __strex(v73 - 1, v72) );
      if ( v73 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
  v25 = *(_DWORD *)(v1 + 2484);
  if ( v25 <= 0 )
    v27 = (int *)(v1 + 4);
  else
    v26 = *(_DWORD *)(v1 + 4);
    if ( !v26 )
      goto LABEL_115;
    v28 = *(_DWORD *)(v26 + 4);
    v29 = (unsigned int *)(v26 + 4);
      v30 = v28;
      if ( !v28 )
        goto LABEL_115;
      v28 = __ldrex(v29);
    while ( v28 != v30 || __strex(v30 + 1, v29) );
    v31 = *(_DWORD *)v1;
      v32 = __ldrex(v29);
    while ( __strex(v32 + 1, v29) );
      v33 = __ldrex(v29);
    while ( __strex(v33 - 1, v29) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v26 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 8))(v26);
        v35 = __ldrex(v34);
      while ( __strex(v35 - 1, v34) );
      if ( v35 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      v36 = __ldrex(v29);
    while ( __strex(v36 + 1, v29) );
      v37 = __ldrex(v29);
    while ( __strex(v37 - 1, v29) );
    if ( v37 == 1 )
      v38 = (unsigned int *)(v26 + 8);
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 == 1 )
    v40 = j_operator new(0x10u);
    *v40 = websocketpp::connection<websocketpp::config::asio_client>::handle_open_handshake_timeout;
    v40[1] = 0;
    v40[2] = v31;
    v40[3] = v26;
    v85 = v40;
    v86 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
    v87 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
      (int)&v88,
      v25,
      (int)&v85);
    v41 = *(_QWORD *)&v88;
    *(_DWORD *)&v88 = 0;
    v89 = 0;
    *(_DWORD *)(v1 + 18928) = v41;
    v42 = *(_DWORD *)(v1 + 18932);
    *(_DWORD *)(v1 + 18932) = HIDWORD(v41);
    v20 = (int *)(v1 + 18944);
    if ( v42 )
      v43 = (unsigned int *)(v42 + 4);
        v44 = __ldrex(v43);
      while ( __strex(v44 - 1, v43) );
      if ( v44 == 1 )
      {
        v45 = (unsigned int *)(v42 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v42 + 8))(v42);
        __dmb();
        do
          v46 = __ldrex(v45);
        while ( __strex(v46 - 1, v45) );
        if ( v46 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v42 + 12))(v42);
      }
    v47 = v89;
    if ( v89 )
      v48 = (unsigned int *)(v89 + 4);
        v49 = __ldrex(v48);
      while ( __strex(v49 - 1, v48) );
      if ( v49 == 1 )
        v50 = (unsigned int *)(v47 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v47 + 8))(v47);
          v51 = __ldrex(v50);
        while ( __strex(v51 - 1, v50) );
        if ( v51 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v47 + 12))(v47);
    if ( v86 )
      ((void (__cdecl *)(_DWORD **))v86)(&v85);
  v52 = *v27;
  if ( !*v27 )
LABEL_115:
    j_std::__throw_bad_weak_ptr();
  v53 = *v20;
  v54 = (unsigned int *)(v52 + 4);
  v55 = *(_DWORD *)(*v20 - 12);
  v56 = *(_DWORD *)(v52 + 4);
  do
    v57 = v56;
    if ( !v56 )
    v56 = __ldrex(v54);
  while ( v56 != v57 || __strex(v57 + 1, v54) );
  __dmb();
  v58 = *(_DWORD *)v1;
    v59 = __ldrex(v54);
  while ( __strex(v59 + 1, v54) );
    v60 = __ldrex(v54);
  while ( __strex(v60 - 1, v54) );
  if ( v60 == 1 )
    v61 = (unsigned int *)(v52 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 8))(v52);
      v62 = __ldrex(v61);
    while ( __strex(v62 - 1, v61) );
    if ( v62 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 12))(v52);
    v63 = __ldrex(v54);
  while ( __strex(v63 + 1, v54) );
    v64 = __ldrex(v54);
  while ( __strex(v64 - 1, v54) );
  if ( v64 == 1 )
    v65 = (unsigned int *)(v52 + 8);
      v66 = __ldrex(v65);
    while ( __strex(v66 - 1, v65) );
    if ( v66 == 1 )
  v67 = j_operator new(0x10u);
  *v67 = websocketpp::connection<websocketpp::config::asio_client>::handle_send_http_request;
  v67[1] = 0;
  v67[2] = v58;
  v67[3] = v52;
  v82 = v67;
  v83 = std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
  v84 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(
    v1,
    v53,
    v55,
    (int)&v82);
  if ( v83 )
    ((void (__cdecl *)(_DWORD **))v83)(&v82);
}


void *__fastcall websocketpp::processor::hybi07<websocketpp::config::asio_client>::client_handshake_request(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::get_processor(int a1, int a2, signed int a3)
{
  int v3; // r5@1
  int v4; // r9@1
  int result; // r0@1
  _DWORD *v6; // r6@3
  __int64 v7; // r0@3
  int v8; // r4@3
  int v9; // r12@3
  char v10; // r2@3
  unsigned int *v11; // r3@4
  unsigned int v12; // r7@5
  unsigned int *v13; // r0@8
  unsigned int v14; // r1@9
  unsigned int v15; // r1@11
  unsigned int *v16; // r7@13
  unsigned int v17; // r0@14
  int v18; // r0@18
  int v19; // r1@19
  int v20; // r8@24
  _DWORD *v21; // r6@24
  int v22; // r7@24
  int v23; // r12@24
  char v24; // r2@24
  unsigned int *v25; // r3@25
  unsigned int v26; // r4@26
  unsigned int *v27; // r1@29
  unsigned int v28; // r2@30
  unsigned int *v29; // r0@33
  unsigned int v30; // r1@34
  unsigned int *v31; // r4@36
  unsigned int v32; // r0@37
  int v33; // r7@40
  unsigned int *v34; // r0@41
  unsigned int v35; // r1@42
  unsigned int *v36; // r4@44
  unsigned int v37; // r0@45
  unsigned int *v38; // r0@49
  unsigned int v39; // r1@50
  unsigned int *v40; // r4@52
  int v41; // [sp+10h] [bp-40h]@18
  char v42; // [sp+17h] [bp-39h]@18
  int v43; // [sp+18h] [bp-38h]@18
  int v44; // [sp+1Ch] [bp-34h]@18
  int v45; // [sp+20h] [bp-30h]@21
  char v46; // [sp+27h] [bp-29h]@21
  int v47; // [sp+28h] [bp-28h]@21
  int v48; // [sp+2Ch] [bp-24h]@21
  char v49; // [sp+30h] [bp-20h]@18

  v3 = a1;
  v4 = a2;
  result = 0;
  *(_DWORD *)v3 = 0;
  *(_DWORD *)(v3 + 4) = 0;
  if ( a3 <= 7 )
  {
    if ( !a3 )
    {
      v6 = j_operator new(0x38u);
      HIDWORD(v7) = 1;
      LODWORD(v7) = &off_276D424;
      *(_QWORD *)v6 = v7;
      v6[2] = 1;
      v8 = *(_DWORD *)(v4 + 18964);
      v9 = *(_DWORD *)(v4 + 18960);
      v10 = *(_BYTE *)(v4 + 19232);
      if ( v8 )
      {
        v11 = (unsigned int *)(v8 + 4);
        __dmb();
        do
          v12 = __ldrex(v11);
        while ( __strex(v12 + 1, v11) );
      }
      *((_BYTE *)v6 + 16) = 1;
      *((_BYTE *)v6 + 17) = v10;
      v6[5] = 32000000;
      v6[3] = &off_276D44C;
      *((_BYTE *)v6 + 24) = 0;
      *((_BYTE *)v6 + 25) = -1;
      v6[7] = 0;
      v6[8] = v9;
      v6[9] = v8;
        v13 = (unsigned int *)(v8 + 4);
          v14 = __ldrex(v13);
        while ( __strex(v14 + 1, v13) );
        v6[10] = 0;
        v6[11] = 0;
        v6[12] = 0;
        v6[13] = 0;
          v15 = __ldrex(v13);
        while ( __strex(v15 - 1, v13) );
        if ( v15 == 1 )
        {
          v16 = (unsigned int *)(v8 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
          __dmb();
          do
            v17 = __ldrex(v16);
          while ( __strex(v17 - 1, v16) );
          if ( v17 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
        }
      else
      *(_DWORD *)v3 = (*(int (__fastcall **)(_DWORD *, void **))(*v6 + 16))(v6, &`typeinfo for'std::_Sp_make_shared_tag);
      v33 = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v3 + 4) = v6;
      if ( !v33 )
        goto LABEL_61;
      v38 = (unsigned int *)(v33 + 4);
      __dmb();
      do
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 != 1 )
      v40 = (unsigned int *)(v33 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 8))(v33);
        v37 = __ldrex(v40);
      while ( __strex(v37 - 1, v40) );
      goto LABEL_54;
    }
    if ( a3 != 7 )
      return result;
    v46 = 1;
    v45 = *(_DWORD *)(a2 + 19244);
    v47 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9processor6hybi07INS4_6config15asio_tls_clientEEESaIS9_EJbRKbRKSt10shared_ptrINS4_14message_buffer5alloc15con_msg_managerINSE_7messageISG_EEEEESt17reference_wrapperINS4_6random13random_device13int_generatorIjNS4_11concurrency5basicEEEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v48,
      0,
      (int)&v49,
      &v46,
      (char *)(a2 + 19232),
      (unsigned __int64 *)(a2 + 18960),
      &v45);
    v18 = v48;
    if ( v48 )
      v19 = (*(int (**)(void))(*(_DWORD *)v48 + 16))();
      v18 = v48;
    else
      v19 = 0;
    v48 = 0;
    goto LABEL_60;
  }
  if ( a3 == 8 )
    v42 = 1;
    v41 = *(_DWORD *)(a2 + 19244);
    v43 = 0;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9processor6hybi08INS4_6config15asio_tls_clientEEESaIS9_EJbRKbRKSt10shared_ptrINS4_14message_buffer5alloc15con_msg_managerINSE_7messageISG_EEEEESt17reference_wrapperINS4_6random13random_device13int_generatorIjNS4_11concurrency5basicEEEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v44,
      &v42,
      &v41);
    v18 = v44;
    if ( v44 )
      v19 = (*(int (**)(void))(*(_DWORD *)v44 + 16))();
      v18 = v44;
    v44 = 0;
LABEL_60:
    *(_DWORD *)v3 = v19;
    *(_DWORD *)(v3 + 4) = v18;
    goto LABEL_61;
  if ( a3 != 13 )
    return result;
  v20 = *(_DWORD *)(a2 + 19244);
  v21 = j_operator new(0x70u);
  *v21 = &off_276D654;
  v21[1] = 1;
  v21[2] = 1;
  v22 = *(_DWORD *)(v4 + 18964);
  v23 = *(_DWORD *)(v4 + 18960);
  v24 = *(_BYTE *)(v4 + 19232);
  if ( v22 )
    v25 = (unsigned int *)(v22 + 4);
    __dmb();
    do
      v26 = __ldrex(v25);
    while ( __strex(v26 + 1, v25) );
  *((_BYTE *)v21 + 16) = 1;
  *((_BYTE *)v21 + 17) = v24;
  v21[5] = 32000000;
  v21[3] = &off_276D5CC;
  *((_BYTE *)v21 + 24) = 0;
  *((_BYTE *)v21 + 25) = 0;
  v21[7] = v23;
  v21[8] = v22;
    v27 = (unsigned int *)(v22 + 4);
      v28 = __ldrex(v27);
    while ( __strex(v28 + 1, v27) );
  v21[11] = 0;
  v21[12] = 0;
  v21[19] = 0;
  v21[20] = 0;
  v21[16] = 0;
  v21[17] = 0;
  v21[14] = 0;
  v21[15] = 0;
  v21[25] = v20;
  v21[26] = 0;
  v21[9] = 2;
  *((_WORD *)v21 + 12) = 0;
  v21[24] = 0;
  v21[23] = 0;
  v21[22] = 0;
    v29 = (unsigned int *)(v22 + 4);
      v30 = __ldrex(v29);
    while ( __strex(v30 - 1, v29) );
    if ( v30 == 1 )
      v31 = (unsigned int *)(v22 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 8))(v22);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
  *(_DWORD *)v3 = (*(int (__fastcall **)(_DWORD *, void **))(*v21 + 16))(v21, &`typeinfo for'std::_Sp_make_shared_tag);
  v33 = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 4) = v21;
  if ( v33 )
    v34 = (unsigned int *)(v33 + 4);
      v35 = __ldrex(v34);
    while ( __strex(v35 - 1, v34) );
    if ( v35 == 1 )
      v36 = (unsigned int *)(v33 + 8);
        v37 = __ldrex(v36);
      while ( __strex(v37 - 1, v36) );
LABEL_54:
      if ( v37 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v33 + 12))(v33);
      goto LABEL_61;
LABEL_61:
  result = *(_DWORD *)v3;
  *(_DWORD *)(*(_DWORD *)v3 + 8) = *(_DWORD *)(v4 + 2536);
  return result;
}


void *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::validate_server_handshake_response(int a1)
{
  int v1; // r4@1
  char v2; // r0@1
  void *result; // r0@4

  v1 = a1;
  v2 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
  __dmb();
  if ( !(v2 & 1)
    && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
  {
    websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
  }
  result = &websocketpp::processor::error::get_processor_category(void)::instance;
  *(_DWORD *)v1 = 23;
  *(_DWORD *)(v1 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return result;
}


unsigned int __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::consume(int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // r5@1
  int v5; // r4@1
  int v6; // r8@1
  int v7; // r7@1
  int v8; // r0@1
  unsigned int v9; // r1@1
  signed int v10; // r0@3
  char *v11; // r5@3
  int v12; // r6@3
  char v13; // r0@7
  __int64 v14; // r0@10
  int v15; // r5@10
  unsigned int *v16; // r0@11
  unsigned int v17; // r1@12
  unsigned int *v18; // r6@14
  unsigned int v19; // r0@15
  int v20; // r5@18
  unsigned int *v21; // r0@19
  unsigned int v22; // r1@20
  int v23; // r10@22
  unsigned int *v24; // r6@22
  unsigned int v25; // r0@23
  signed int v26; // r0@27
  int v27; // r2@29
  char *v28; // r0@29
  int v29; // r1@30
  int v30; // r2@30
  int v31; // r6@31
  char *v32; // r8@32
  int v33; // r3@33
  bool v34; // zf@33
  int v35; // r1@37
  int v36; // r1@39
  char v37; // r0@41
  const void **v38; // ST04_4@57
  char *v39; // r1@57
  unsigned int v40; // r5@57
  int v42; // [sp+18h] [bp-40h]@2
  unsigned int v43; // [sp+1Ch] [bp-3Ch]@1
  int (__fastcall *v44)(_DWORD); // [sp+20h] [bp-38h]@2
  unsigned int v45; // [sp+24h] [bp-34h]@3
  int v46; // [sp+24h] [bp-34h]@18
  char v47; // [sp+2Ch] [bp-2Ch]@10
  int v48; // [sp+30h] [bp-28h]@10

  v4 = a3;
  v5 = a4;
  v43 = a3;
  v6 = a2;
  v7 = a1;
  v8 = ((int (*)(void))byte_21E9640)();
  v9 = 0;
  *(_DWORD *)v5 = 0;
  *(_DWORD *)(v5 + 4) = v8;
  if ( !v4 )
    return v9;
  v42 = v43 + v6;
  v44 = nullsub_3;
  while ( 2 )
  {
    v10 = *(_DWORD *)(v7 + 16);
    v11 = (char *)(v6 + v9);
    v12 = (int)v44;
    v45 = v9;
    while ( !v10 )
    {
      if ( (unsigned __int8)*v11 == *(_BYTE *)(v7 + 12) )
      {
        j_websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
          (int)&v47,
          *(_DWORD *)(v7 + 20),
          1,
          1);
        v14 = *(_QWORD *)&v47;
        *(_DWORD *)&v47 = 0;
        v48 = 0;
        *(_DWORD *)(v7 + 28) = v14;
        v15 = *(_DWORD *)(v7 + 32);
        *(_DWORD *)(v7 + 32) = HIDWORD(v14);
        if ( v15 )
        {
          v16 = (unsigned int *)(v15 + 4);
          __dmb();
          do
            v17 = __ldrex(v16);
          while ( __strex(v17 - 1, v16) );
          if ( v17 == 1 )
          {
            v18 = (unsigned int *)(v15 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
            __dmb();
            do
              v19 = __ldrex(v18);
            while ( __strex(v19 - 1, v18) );
            v12 = (int)v44;
            if ( v19 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
          }
        }
        v20 = v48;
        v46 = v45 + 1;
        if ( v48 )
          v21 = (unsigned int *)(v48 + 4);
            v22 = __ldrex(v21);
          while ( __strex(v22 - 1, v21) );
          if ( v22 == 1 )
            v23 = v12;
            v24 = (unsigned int *)(v20 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 8))(v20);
              v25 = __ldrex(v24);
            while ( __strex(v25 - 1, v24) );
            v12 = v23;
            if ( v25 == 1 )
              (*(void (__fastcall **)(int))(*(_DWORD *)v20 + 12))(v20);
        if ( *(_DWORD *)(v7 + 28) )
          v26 = 1;
          v44 = (int (__fastcall *)(_DWORD))v12;
        else
          v37 = `guard variable for'websocketpp::error::get_category(void)::instance;
          if ( !(v37 & 1)
            && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
            websocketpp::error::get_category(void)::instance = &off_276CE14;
            j___cxa_atexit_1(v12);
            j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
          *(_DWORD *)v5 = 8;
          *(_DWORD *)(v5 + 4) = &websocketpp::error::get_category(void)::instance;
          v26 = 3;
        *(_DWORD *)(v7 + 16) = v26;
        v9 = v46;
        goto LABEL_59;
      }
      v13 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
      __dmb();
      if ( !(v13 & 1) )
        if ( j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)v44);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
      v10 = 3;
      *(_DWORD *)v5 = 3;
      *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
      *(_DWORD *)(v7 + 16) = 3;
    }
    if ( v10 != 1 )
      return v45;
    v27 = (v42 - (signed int)v11) >> 2;
    v28 = v11;
    if ( v27 < 1 )
LABEL_37:
      v31 = v6;
      v35 = v42 - (_DWORD)v28;
      if ( v42 - (_DWORD)v28 == 1 )
        v36 = *(_BYTE *)(v7 + 13);
        v32 = v28;
      else
        if ( v35 == 3 )
          v36 = *(_BYTE *)(v7 + 13);
          if ( (unsigned __int8)*v28 == v36 )
            v32 = v28;
            goto LABEL_57;
          ++v28;
          if ( v35 != 2 )
            v32 = (char *)v42;
        if ( (unsigned __int8)*v28 == v36 )
          v32 = v28;
          goto LABEL_57;
        v32 = v28 + 1;
      if ( (unsigned __int8)*v32 != v36 )
        v32 = (char *)v42;
    else
      v29 = *(_BYTE *)(v7 + 13);
      v30 = v27 + 1;
      v28 = v11;
      while ( 1 )
        v31 = v6;
        if ( (unsigned __int8)*v28 == v29 )
          break;
        if ( (unsigned __int8)v28[1] == v29 )
        v32 = v28 + 2;
        v33 = (unsigned __int8)v28[2];
        v34 = v33 == v29;
        if ( v33 != v29 )
          v32 = v28 + 3;
          v34 = (unsigned __int8)v28[3] == v29;
        if ( v34 )
        --v30;
        v28 += 4;
        v6 = v31;
        if ( v30 <= 1 )
          goto LABEL_37;
      v32 = v28;
LABEL_57:
    v38 = (const void **)(*(_DWORD *)(v7 + 28) + 16);
    sub_21E6FCC(v38, *((_DWORD *)*v38 - 3) + v32 - v11);
    v39 = v11;
    v40 = v32 - v11;
    sub_21E7408(v38, v39, v40);
    v9 = v45 + v40;
    v34 = v32 == (char *)v42;
    v6 = v31;
    if ( !v34 )
      *(_DWORD *)(v7 + 16) = 2;
      ++v9;
LABEL_59:
    if ( v9 < v43 )
      continue;
  }
}


unsigned int *__fastcall websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(int a1, int a2, int a3, int a4)
{
  return websocketpp::message_buffer::alloc::con_msg_manager<websocketpp::message_buffer::message<websocketpp::message_buffer::alloc::con_msg_manager>>::get_message(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::close(int a1, int a2, int *a3, int a4)
{
  int v4; // r7@1
  pthread_mutex_t *v5; // r0@1
  int v6; // r6@1
  int v7; // r4@1
  int *v8; // r5@1
  unsigned int v9; // r3@3
  int v10; // r0@5
  unsigned int v11; // r2@8
  bool v12; // cf@8
  bool v13; // zf@8
  int v14; // r2@8
  char v15; // r0@11
  void *v16; // r0@15
  unsigned int *v17; // r1@17
  signed int v18; // r2@18
  char v19; // [sp+8h] [bp-28h]@10
  int v20; // [sp+10h] [bp-20h]@5

  v4 = a1;
  v5 = *(pthread_mutex_t **)(a1 + 19196);
  v6 = a2;
  v7 = a4;
  v8 = a3;
  if ( *((_BYTE *)&v5->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v5,
      1024,
      "connection close");
  v9 = *(_DWORD *)(*v8 - 12);
  if ( v9 > 0x7B )
    v9 = 123;
  sub_21E9040((void **)&v20, v8, 0, v9);
  v10 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v10 )
    sub_21E5E14(v10);
  if ( *(_DWORD *)(v4 + 2500) == 1 )
  {
    v11 = (unsigned __int16)(v6 - 1002);
    v12 = v11 >= 9;
    v13 = v11 == 9;
    v14 = 0;
    if ( v13 || !v12 )
      v14 = (0x2E1u >> (v6 + 22)) & 1;
    j_websocketpp::connection<websocketpp::config::asio_client>::send_close_frame((int)&v19, v4, v6, &v20, 0, v14);
    *(_QWORD *)v7 = *(_QWORD *)&v19;
  }
  else
    v15 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v15 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v7 = 9;
    *(_DWORD *)(v7 + 4) = &websocketpp::error::get_category(void)::instance;
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
  v16 = (void *)(v20 - 12);
  if ( (int *)(v20 - 12) != &dword_28898C0 )
    v17 = (unsigned int *)(v20 - 4);
    do
      v18 = __ldrex(v17);
    while ( __strex(v18 - 1, v17) );
    if ( v18 <= 0 )
      j_j_j_j__ZdlPv_9(v16);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::set_status(int a1, signed int a2)
{
  int v2; // r4@1
  void *v3; // r0@2
  char *v4; // r4@4
  char v5; // r0@4
  int *v6; // r0@7
  unsigned int *v7; // r1@11
  signed int v8; // r2@12
  int v9; // [sp+8h] [bp-28h]@4
  int v10; // [sp+Ch] [bp-24h]@2

  v2 = a1;
  if ( *(_DWORD *)(a1 + 2544) != 6 )
  {
    v4 = j_j___cxa_allocate_exception_0(16);
    sub_21E94B4((void **)&v9, "Call to set_status from invalid state");
    v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v4 = &off_276CEA4;
    v6 = (int *)(v4 + 4);
    if ( *(_DWORD *)(v9 - 12) )
      sub_21E8AF4(v6, &v9);
    else
      (*(void (__fastcall **)(int *))(websocketpp::error::get_category(void)::instance + 12))(v6);
    *((_DWORD *)v4 + 2) = 9;
    *((_DWORD *)v4 + 3) = &websocketpp::error::get_category(void)::instance;
    j_j___cxa_throw_0(
      (int)v4,
      (int)&`typeinfo for'websocketpp::exception,
      (int)websocketpp::exception::~exception,
      -3068);
  }
  *(_DWORD *)(a1 + 19200) = a2;
  j_websocketpp::http::status_code::get_string((void **)&v10, a2);
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)(v2 + 19184),
    &v10);
  v3 = (void *)(v10 - 12);
  if ( (int *)(v10 - 12) != &dword_28898C0 )
    v7 = (unsigned int *)(v10 - 4);
    do
      v8 = __ldrex(v7);
    while ( __strex(v8 - 1, v7) );
    if ( v8 <= 0 )
      j_j_j_j__ZdlPv_9(v3);
}


int __fastcall websocketpp::client<websocketpp::config::asio_client>::get_connection(int a1, int a2, unsigned __int64 *a3, int a4)
{
  unsigned __int64 *v4; // r6@1
  int v5; // r9@1
  int v6; // r5@1
  char v7; // r0@2
  __int64 v8; // r0@5
  int v9; // r0@6
  unsigned __int64 v10; // kr00_8@7
  unsigned int *v11; // r2@8
  unsigned int v12; // r3@9
  int v13; // r4@11
  int *v14; // r8@12
  unsigned int v15; // r1@14
  unsigned int v16; // r1@18
  unsigned int *v17; // r7@20
  unsigned int v18; // r1@27
  unsigned int *v19; // r4@29
  char v20; // r0@34
  int v22; // [sp+4h] [bp-24h]@6
  unsigned int v23; // [sp+8h] [bp-20h]@33

  v4 = a3;
  v5 = a1;
  v6 = a4;
  if ( *(_BYTE *)(*(_DWORD *)a3 + 14) )
  {
    v7 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v6 = 4;
    *(_DWORD *)(v6 + 4) = &websocketpp::error::get_category(void)::instance;
    LODWORD(v8) = 0;
    *(_DWORD *)v5 = 0;
  }
  else
    j_websocketpp::endpoint<websocketpp::connection<websocketpp::config::asio_client>,websocketpp::config::asio_client>::create_connection(
      (int)&v22,
      a2);
    v9 = v22;
    if ( v22 )
      v10 = *v4;
      if ( *v4 >> 32 )
      {
        v11 = (unsigned int *)(HIDWORD(v10) + 4);
        __dmb();
        do
          v12 = __ldrex(v11);
        while ( __strex(v12 + 1, v11) );
      }
      *(_DWORD *)(v9 + 0x4AE0) = v10;
      v13 = *(_DWORD *)(v9 + 0x4AE4);
      if ( HIDWORD(v10) != v13 )
        v14 = (int *)(v9 + 0x4AE4);
        if ( HIDWORD(v10) )
        {
          v9 = HIDWORD(v10) + 4;
          __dmb();
          do
            v15 = __ldrex((unsigned int *)v9);
          while ( __strex(v15 + 1, (unsigned int *)v9) );
          v13 = *v14;
        }
        if ( v13 )
          v9 = v13 + 4;
            v16 = __ldrex((unsigned int *)v9);
          while ( __strex(v16 - 1, (unsigned int *)v9) );
          if ( v16 == 1 )
          {
            v17 = (unsigned int *)(v13 + 8);
            (*(void (__fastcall **)(int))(*(_DWORD *)v13 + 8))(v13);
            __dmb();
            do
              v9 = __ldrex(v17);
            while ( __strex(v9 - 1, v17) );
            if ( v9 == 1 )
              v9 = (*(int (__fastcall **)(int))(*(_DWORD *)v13 + 12))(v13);
          }
        *v14 = HIDWORD(v10);
      if ( HIDWORD(v10) )
        v9 = HIDWORD(v10) + 4;
          v18 = __ldrex((unsigned int *)v9);
        while ( __strex(v18 - 1, (unsigned int *)v9) );
        if ( v18 == 1 )
          v19 = (unsigned int *)(HIDWORD(v10) + 8);
          (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v10) + 8))(HIDWORD(v10));
            v9 = __ldrex(v19);
          while ( __strex(v9 - 1, v19) );
          if ( v9 == 1 )
            v9 = (*(int (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v10) + 12))(HIDWORD(v10));
      v8 = (unsigned int)((int (__fastcall *)(int))byte_21E9640)(v9);
      *(_DWORD *)v6 = 0;
      *(_DWORD *)(v6 + 4) = v8;
      *(_DWORD *)v5 = v22;
      LODWORD(v8) = v23;
    else
      v20 = `guard variable for'websocketpp::error::get_category(void)::instance;
      __dmb();
      if ( !(v20 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      *(_DWORD *)v6 = 17;
      *(_DWORD *)(v6 + 4) = &websocketpp::error::get_category(void)::instance;
      v8 = v23;
    v23 = HIDWORD(v8);
  *(_DWORD *)(v5 + 4) = v8;
  return v8;
}


void *__fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::handle_write_frame(int a1, unsigned __int64 *a2)
{
  int v2; // r11@1
  pthread_mutex_t *v3; // r0@1
  unsigned __int64 *v4; // r9@1
  int v5; // r7@3
  int v6; // r4@3
  int v7; // r5@4
  int v8; // r8@5
  unsigned int *v9; // r0@6
  unsigned int v10; // r1@7
  unsigned int *v11; // r6@9
  unsigned int v12; // r0@10
  void *result; // r0@15
  int v14; // r0@18
  int v15; // r4@19
  int v16; // r6@19
  int v17; // r5@20
  unsigned int v18; // r0@21
  unsigned int *v19; // r6@21
  unsigned int v20; // r1@22
  int v21; // r7@25
  unsigned int v22; // r0@26
  unsigned int v23; // r0@28
  unsigned int *v24; // r4@30
  unsigned int v25; // r0@31
  unsigned int v26; // r0@35
  unsigned int v27; // r0@37
  unsigned int *v28; // r4@39
  unsigned int v29; // r0@40
  _DWORD *v30; // r0@43
  __int64 v31; // r0@43
  int v32; // [sp+0h] [bp-48h]@3
  char v33; // [sp+4h] [bp-44h]@43
  _DWORD *v34; // [sp+Ch] [bp-3Ch]@43
  int (*v35)(void); // [sp+14h] [bp-34h]@43
  int (__fastcall *v36)(int *); // [sp+18h] [bp-30h]@43
  int v37; // [sp+1Ch] [bp-2Ch]@17
  int v38; // [sp+20h] [bp-28h]@17

  v2 = a1;
  v3 = *(pthread_mutex_t **)(a1 + 19236);
  v4 = a2;
  if ( *((_BYTE *)&v3->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v3,
      1024,
      "connection handle_write_frame");
  v5 = *(_DWORD *)(v2 + 19056);
  v32 = *(_BYTE *)(*(_DWORD *)(v5 - 8) + 26);
  *(_DWORD *)(v2 + 19044) = *(_DWORD *)(v2 + 19040);
  v6 = *(_DWORD *)(v2 + 19052);
  if ( v5 != v6 )
  {
    v7 = *(_DWORD *)(v2 + 19052);
    do
    {
      v8 = *(_DWORD *)(v7 + 4);
      if ( v8 )
      {
        v9 = (unsigned int *)(v8 + 4);
        __dmb();
        do
          v10 = __ldrex(v9);
        while ( __strex(v10 - 1, v9) );
        if ( v10 == 1 )
        {
          v11 = (unsigned int *)(v8 + 8);
          (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 8))(v8);
          __dmb();
          do
            v12 = __ldrex(v11);
          while ( __strex(v12 - 1, v11) );
          if ( v12 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v8 + 12))(v8);
        }
      }
      v7 += 8;
    }
    while ( v7 != v5 );
  }
  *(_DWORD *)(v2 + 19056) = v6;
  if ( *(_DWORD *)v4 )
    j_websocketpp::connection<websocketpp::config::asio_tls_client>::log_err<std::error_code>(
      v2,
      32,
      "handle_write_frame",
      v4);
    result = j_j_j__ZN11websocketpp10connectionINS_6config15asio_tls_clientEE9terminateERKSt10error_code_0(v2, v4);
  else if ( v32 )
    v37 = 0;
    v38 = ((int (*)(void))byte_21E9640)();
    result = j_websocketpp::connection<websocketpp::config::asio_tls_client>::terminate(v2, (unsigned __int64 *)&v37);
  else
    v14 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v2 + 2552));
    if ( v14 )
      sub_21E5E14(v14);
    *(_BYTE *)(v2 + 19064) = 0;
    v15 = *(_DWORD *)(v2 + 19004);
    v16 = *(_DWORD *)(v2 + 19020);
    result = (void *)j_pthread_mutex_unlock_1((pthread_mutex_t *)(v2 + 2552));
    if ( v16 != v15 )
      v17 = *(_DWORD *)(v2 + 4);
      if ( !v17 )
LABEL_46:
        j_std::__throw_bad_weak_ptr();
      v18 = *(_DWORD *)(v17 + 4);
      v19 = (unsigned int *)(v17 + 4);
      do
        v20 = v18;
        if ( !v18 )
          goto LABEL_46;
        v18 = __ldrex(v19);
      while ( v18 != v20 || __strex(v20 + 1, v19) );
      __dmb();
      v21 = *(_DWORD *)v2;
        v22 = __ldrex(v19);
      while ( __strex(v22 + 1, v19) );
        v23 = __ldrex(v19);
      while ( __strex(v23 - 1, v19) );
      if ( v23 == 1 )
        v24 = (unsigned int *)(v17 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 8))(v17);
          v25 = __ldrex(v24);
        while ( __strex(v25 - 1, v24) );
        if ( v25 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v17 + 12))(v17);
        v26 = __ldrex(v19);
      while ( __strex(v26 + 1, v19) );
        v27 = __ldrex(v19);
      while ( __strex(v27 - 1, v19) );
      if ( v27 == 1 )
        v28 = (unsigned int *)(v17 + 8);
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 == 1 )
      v30 = j_operator new(0x10u);
      *v30 = websocketpp::connection<websocketpp::config::asio_tls_client>::write_frame;
      v30[1] = 0;
      v30[2] = v21;
      v30[3] = v17;
      v34 = v30;
      v35 = (int (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_manager;
      v36 = std::_Function_handler<void ()(void),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_tls_client>::*)(void)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_tls_client>>)>>::_M_invoke;
      LODWORD(v31) = &v33;
      result = (void *)j_websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::dispatch(
                         v31,
                         (int)&v34);
      if ( v35 )
        result = (void *)v35();
  return result;
}


void **__fastcall websocketpp::transport::error::category::message(websocketpp::transport::error::category *this, int a2, int a3)
{
  void **result; // r0@2

  switch ( a3 )
  {
    case 1:
      result = sub_21E94B4((void **)this, "Generic transport policy error");
      break;
    default:
      result = sub_21E94B4((void **)this, "Unknown");
    case 2:
      result = sub_21E94B4((void **)this, "Underlying Transport Error");
    case 3:
      result = sub_21E94B4((void **)this, "async_read_at_least call requested more bytes than buffer can store");
    case 5:
      result = sub_21E94B4((void **)this, "The operation was aborted");
    case 6:
      result = sub_21E94B4((void **)this, "The operation is not supported by this transport");
    case 7:
      result = sub_21E94B4((void **)this, "End of File");
    case 8:
      result = sub_21E94B4((void **)this, "TLS Short Read");
    case 9:
      result = sub_21E94B4((void **)this, "Timer Expired");
    case 10:
      result = sub_21E94B4((void **)this, "A transport action was requested after shutdown");
    case 11:
      result = sub_21E94B4((void **)this, "Generic TLS related error");
  }
  return result;
}


RakNet *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::handle_post_init(int a1, int *a2, int a3, _DWORD *a4)
{
  _DWORD *v4; // r9@1
  int v5; // r6@1
  int v6; // r8@1
  int *v7; // r10@1
  __int64 v8; // r4@3
  signed int v9; // r1@3
  signed __int64 v10; // r0@8
  bool v11; // zf@8
  bool v12; // zf@11
  signed int v13; // r1@16
  bool v14; // cf@23
  signed int v15; // r5@23
  bool v16; // zf@30
  unsigned __int64 v17; // r0@35
  int v19; // r4@51
  pthread_mutex_t *v20; // r0@55
  __int64 v21; // kr20_8@58
  unsigned int *v22; // r0@59
  unsigned int v23; // r2@60
  void (__fastcall *v24)(int, __int64 *); // r2@63
  unsigned int v25; // r1@64
  int v26; // r0@67
  unsigned int *v27; // r1@68
  unsigned int v28; // r2@69
  unsigned int *v29; // r0@73
  unsigned int v30; // r1@74
  __int64 v31; // [sp+0h] [bp-28h]@3

  v4 = a4;
  v5 = a1;
  v6 = a3;
  v7 = a2;
  if ( *a4 == 5 )
    return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
             *(pthread_mutex_t **)(v5 + 92),
             1024,
             "post_init cancelled");
  if ( *a2 )
  {
    LODWORD(v8) = *(_QWORD *)(*a2 + 8) >> 32;
    HIDWORD(v8) = *(_QWORD *)(*a2 + 8);
    j_boost::date_time::microsec_clock<boost::posix_time::ptime>::create_time(
      (int)&v31,
      (int (__fastcall *)(__time_t *, char *))boost::date_time::c_time::gmtime);
    v9 = 0;
    if ( (unsigned int)(HIDWORD(v8) + 2) < 3 )
      v9 = 1;
    if ( (__PAIR__((unsigned int)v8, HIDWORD(v8)) - 9223372036854775806LL) >> 32 )
      v9 = 0;
    if ( v9 )
    {
      v10 = -6442450945LL;
      v11 = v8 == -6442450945LL;
      if ( v8 != -6442450945LL )
        v11 = -6442450945LL == __PAIR__(v31, HIDWORD(v31));
      if ( v11 )
        goto LABEL_49;
      LODWORD(v10) = 0x7FFFFFFF;
      HIDWORD(v10) = v8 ^ 0x7FFFFFFF | ~HIDWORD(v8);
      v12 = HIDWORD(v10) == 0;
      if ( !HIDWORD(v10) )
        v12 = (HIDWORD(v31) ^ 0x7FFFFFFF | ~(_DWORD)v31) == 0;
      if ( v12 )
      {
        HIDWORD(v10) = -2;
      }
      v16 = v8 == 0x80000000LL;
      if ( v8 == 0x80000000LL )
        v16 = (HIDWORD(v31) ^ 0x80000000 | (unsigned int)v31) == 0;
      if ( v16 )
        v10 = -6442450945LL;
    }
    else
      v13 = 0;
      if ( (unsigned int)(v31 + 2) < 3 )
        v13 = 1;
      if ( (unsigned __int64)(v31 - 9223372036854775806LL) >> 32 )
        v13 = 0;
      if ( !v13 )
        v14 = HIDWORD(v8) >= (unsigned int)v31;
        HIDWORD(v10) = HIDWORD(v8) - v31;
        HIDWORD(v8) = 0;
        LODWORD(v10) = v8 - (HIDWORD(v31) + !v14);
        if ( (unsigned int)(HIDWORD(v10) + 2) > 2 )
          v15 = 1;
        if ( __CFADD__(HIDWORD(v10), 2) + (_DWORD)v10 != 0x80000000 )
          v15 = __CFADD__(HIDWORD(v10), 2) + (_DWORD)v10 != 2147483648;
        if ( v15 )
        {
          if ( (signed int)v10 <= -1 )
            return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
                     *(pthread_mutex_t **)(v5 + 92),
                     1024,
                     "post_init cancelled");
LABEL_51:
          v19 = *v7;
          if ( *v7 )
          {
            sub_21B09F0();
            if ( *(_BYTE *)(v19 + 16) )
            {
              j_boost::asio::detail::epoll_reactor::cancel_timer<boost::asio::time_traits<boost::posix_time::ptime>>(
                *(_DWORD *)(*(_DWORD *)v19 + 52),
                *(_DWORD *)v19 + 20,
                v19 + 20,
                -1);
              *(_BYTE *)(v19 + 16) = 0;
            }
          }
          goto LABEL_55;
        }
      if ( v31 == 9223372036854775806LL )
    v17 = __PAIR__(v8, HIDWORD(v8)) - 0x7FFFFFFFFFFFFFFFLL;
    LODWORD(v17) = 0;
    if ( (unsigned int)(HIDWORD(v8) + 1) < 2 )
      LODWORD(v17) = 1;
    if ( HIDWORD(v17) )
      LODWORD(v17) = 0;
    if ( (_DWORD)v17 )
      goto LABEL_82;
    if ( !(HIDWORD(v31) ^ 0x80000000 | (unsigned int)v31) )
      v10 = -2147483649LL;
      goto LABEL_49;
    LODWORD(v10) = 0x7FFFFFFF;
    if ( !(HIDWORD(v31) ^ 0x7FFFFFFF | ~(_DWORD)v31) )
      v10 = 0x80000000LL;
    HIDWORD(v10) = -2;
    LODWORD(v8) = (__PAIR__((unsigned int)v8, HIDWORD(v8)) - v31) >> 32;
    HIDWORD(v8) -= v31;
    if ( __PAIR__(v8, HIDWORD(v8)) != 9223372036854775806LL )
LABEL_82:
      if ( !((unsigned int)v8 ^ 0x7FFFFFFF | ~HIDWORD(v8)) )
        HIDWORD(v10) = -1;
        HIDWORD(v10) = HIDWORD(v8) | v8 ^ 0x80000000;
        LODWORD(v10) = 2147483648;
LABEL_49:
    if ( v10 == 0x80000000LL )
      return j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
               *(pthread_mutex_t **)(v5 + 92),
               1024,
               "post_init cancelled");
    goto LABEL_51;
  }
LABEL_55:
  v20 = *(pthread_mutex_t **)(v5 + 92);
  if ( *((_BYTE *)&v20->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v20,
      1024,
      "asio connection handle_post_init");
  if ( *(_DWORD *)(v5 + 168) )
    v21 = *(_QWORD *)(v5 + 124);
    if ( HIDWORD(v21) )
      v22 = (unsigned int *)(HIDWORD(v21) + 8);
      __dmb();
      do
        v23 = __ldrex(v22);
      while ( __strex(v23 + 1, v22) );
      if ( !*(_DWORD *)(v5 + 168) )
        sub_21E5F48();
      v24 = *(void (__fastcall **)(int, __int64 *))(v5 + 172);
      v31 = v21;
        v25 = __ldrex(v22);
      while ( __strex(v25 + 1, v22) );
      v31 = (unsigned int)v21;
    v24(v5 + 160, &v31);
    v26 = HIDWORD(v31);
    if ( HIDWORD(v31) )
      v27 = (unsigned int *)(HIDWORD(v31) + 8);
        v28 = __ldrex(v27);
      while ( __strex(v28 - 1, v27) );
      if ( v28 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v26 + 12))(v26);
      v29 = (unsigned int *)(HIDWORD(v21) + 8);
        v30 = __ldrex(v29);
      while ( __strex(v30 - 1, v29) );
      if ( v30 == 1 )
        (*(void (__fastcall **)(_DWORD))(*(_DWORD *)HIDWORD(v21) + 12))(HIDWORD(v21));
  if ( !*(_DWORD *)(v6 + 8) )
    sub_21E5F48();
  return (RakNet *)(*(int (__fastcall **)(int, _DWORD *))(v6 + 12))(v6, v4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_tls_client>::process_handshake_request(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r8@1
  pthread_mutex_t **v4; // r11@1
  pthread_mutex_t *v5; // r6@3
  const void **v6; // r0@3
  int v7; // r4@3
  void *v8; // r0@4
  void *v9; // r0@5
  __int64 v10; // r0@7
  int v11; // r6@7
  unsigned int *v12; // r0@8
  unsigned int v13; // r1@9
  unsigned int *v14; // r7@11
  unsigned int v15; // r0@12
  int v16; // r6@15
  unsigned int *v17; // r0@16
  unsigned int v18; // r1@17
  unsigned int *v19; // r7@19
  unsigned int v20; // r0@20
  void *v21; // r0@23
  int v22; // r6@26
  int v23; // r1@26
  unsigned int *v24; // r0@27
  unsigned int v25; // r2@28
  unsigned int v26; // r9@31
  int v27; // r0@31
  void *v28; // r0@31
  pthread_mutex_t *v29; // r6@33
  const void **v30; // r0@33
  int v31; // r4@33
  void *v32; // r0@34
  void *v33; // r0@35
  void *v34; // r0@37
  char v35; // r0@38
  signed int v36; // r2@41
  unsigned int v37; // r1@41
  int (__fastcall **v38)(_DWORD); // r0@41
  char v39; // r0@42
  void (__fastcall *v40)(int, int *); // r2@46
  unsigned int v41; // r1@47
  int v42; // r0@50
  unsigned int *v43; // r1@51
  unsigned int v44; // r2@52
  unsigned int *v45; // r0@56
  unsigned int v46; // r1@57
  char v47; // r0@61
  int v48; // r0@65
  int *v49; // r0@69
  void *v50; // r0@69
  __int64 v51; // r0@70
  int v52; // r9@70
  unsigned int *v53; // r0@71
  unsigned int v54; // r1@72
  unsigned int *v55; // r7@74
  unsigned int v56; // r0@75
  int v57; // r4@78
  unsigned int *v58; // r0@79
  unsigned int v59; // r1@80
  unsigned int *v60; // r7@82
  unsigned int v61; // r0@83
  int v62; // r7@88
  int v63; // r1@88
  unsigned int *v64; // r0@89
  unsigned int v65; // r2@90
  unsigned int *v66; // r1@93
  signed int v67; // r2@94
  void *v68; // r0@97
  char v69; // r0@98
  signed int v70; // r2@101
  unsigned int v71; // r1@101
  int (__fastcall **v72)(_DWORD); // r0@101
  unsigned int *v73; // r1@102
  signed int v74; // r2@103
  unsigned int *v75; // r1@106
  signed int v76; // r2@107
  unsigned int *v77; // r1@110
  signed int v78; // r2@111
  unsigned int *v79; // r1@114
  signed int v80; // r2@115
  unsigned int *v81; // r1@118
  signed int v82; // r2@119
  int (__fastcall *v83)(int, int *); // r2@122
  unsigned int v84; // r1@123
  int v85; // r8@126
  int v86; // r0@126
  unsigned int *v87; // r1@127
  unsigned int v88; // r2@128
  unsigned int *v89; // r0@132
  unsigned int v90; // r1@133
  void *v91; // r0@138
  char *v92; // r0@140
  pthread_mutex_t *v93; // r4@140
  void *v94; // r0@140
  void *v95; // r0@141
  int v96; // r7@142
  void *v97; // r0@142
  void *v98; // r0@145
  char v99; // r0@146
  int (__fastcall *v100)(_DWORD); // r0@150
  char *v101; // r0@153
  unsigned int *v102; // r1@155
  signed int v103; // r2@156
  unsigned int *v104; // r1@159
  signed int v105; // r2@160
  unsigned int *v106; // r1@163
  signed int v107; // r2@164
  unsigned int *v108; // r1@167
  signed int v109; // r2@168
  unsigned int *v110; // r1@171
  signed int v111; // r2@172
  unsigned int *v112; // r1@175
  signed int v113; // r2@176
  unsigned int *v114; // r1@179
  signed int v115; // r2@180
  unsigned int *v116; // r1@183
  signed int v117; // r2@184
  unsigned int *v118; // r1@187
  signed int v119; // r2@188
  unsigned int *v120; // r1@191
  signed int v121; // r2@192
  unsigned int *v122; // r1@195
  signed int v123; // r2@196
  int v124; // [sp+4h] [bp-19Ch]@70
  int v125; // [sp+8h] [bp-198h]@31
  const Vec3 **v126; // [sp+Ch] [bp-194h]@31
  int v127; // [sp+10h] [bp-190h]@140
  void **v128; // [sp+14h] [bp-18Ch]@140
  int v129; // [sp+18h] [bp-188h]@143
  void **v130; // [sp+1Ch] [bp-184h]@140
  void **v131; // [sp+20h] [bp-180h]@140
  int v132; // [sp+3Ch] [bp-164h]@143
  int v133; // [sp+44h] [bp-15Ch]@142
  void **v134; // [sp+48h] [bp-158h]@142
  int ptr; // [sp+D0h] [bp-D0h]@139
  char v136; // [sp+D8h] [bp-C8h]@87
  char v137; // [sp+E0h] [bp-C0h]@70
  int v138; // [sp+E4h] [bp-BCh]@70
  int v139; // [sp+ECh] [bp-B4h]@69
  int v140; // [sp+F0h] [bp-B0h]@33
  const void *v141; // [sp+F4h] [bp-ACh]@33
  char v142; // [sp+F8h] [bp-A8h]@31
  int v143; // [sp+100h] [bp-A0h]@31
  int v144; // [sp+108h] [bp-98h]@31
  int v145; // [sp+10Ch] [bp-94h]@31
  _DWORD *v146; // [sp+110h] [bp-90h]@31
  int v147; // [sp+118h] [bp-88h]@3
  const void *v148; // [sp+11Ch] [bp-84h]@3
  int v149; // [sp+120h] [bp-80h]@2
  int v150; // [sp+124h] [bp-7Ch]@3
  int v151; // [sp+12Ch] [bp-74h]@7
  char v152; // [sp+130h] [bp-70h]@7
  int v153; // [sp+134h] [bp-6Ch]@7
  int v154; // [sp+138h] [bp-68h]@37
  int v155; // [sp+13Ch] [bp-64h]@46
  int v156; // [sp+140h] [bp-60h]@46
  int v157; // [sp+144h] [bp-5Ch]@5
  int v158; // [sp+148h] [bp-58h]@35
  int v159; // [sp+150h] [bp-50h]@97
  int v160; // [sp+154h] [bp-4Ch]@122
  int v161; // [sp+158h] [bp-48h]@122
  int v162; // [sp+15Ch] [bp-44h]@138
  int v163; // [sp+164h] [bp-3Ch]@141
  int v164; // [sp+168h] [bp-38h]@145

  v2 = a2;
  v3 = a1;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a2 + 0x4B24),
    1024,
    "process handshake request");
  v4 = (pthread_mutex_t **)(v2 + 0x4B24);
  if ( !j_websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(v2 + 0x4A7C) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v4,
      1024,
      "HTTP REQUEST");
    sub_21E94B4((void **)&v151, "https");
    j_websocketpp::processor::get_uri_from_host<websocketpp::http::parser::request>((int)&v152, v2 + 0x4A7C, &v151);
    v10 = *(_QWORD *)&v152;
    *(_DWORD *)&v152 = 0;
    v153 = 0;
    *(_DWORD *)(v2 + 0x4B08) = v10;
    v11 = *(_DWORD *)(v2 + 19212);
    *(_DWORD *)(v2 + 19212) = HIDWORD(v10);
    if ( v11 )
    {
      v12 = (unsigned int *)(v11 + 4);
      __dmb();
      do
        v13 = __ldrex(v12);
      while ( __strex(v13 - 1, v12) );
      if ( v13 == 1 )
      {
        v14 = (unsigned int *)(v11 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 8))(v11);
        __dmb();
        do
          v15 = __ldrex(v14);
        while ( __strex(v15 - 1, v14) );
        if ( v15 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v11 + 12))(v11);
      }
    }
    v16 = v153;
    if ( v153 )
      v17 = (unsigned int *)(v153 + 4);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 == 1 )
        v19 = (unsigned int *)(v16 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 8))(v16);
          v20 = __ldrex(v19);
        while ( __strex(v20 - 1, v19) );
        if ( v20 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v16 + 12))(v16);
    v21 = (void *)(v151 - 12);
    if ( (int *)(v151 - 12) != &dword_28898C0 )
      v66 = (unsigned int *)(v151 - 4);
        v67 = __ldrex(v66);
      while ( __strex(v67 - 1, v66) );
      if ( v67 <= 0 )
        j_j_j_j__ZdlPv_9(v21);
    if ( *(_BYTE *)(*(_DWORD *)(v2 + 0x4B08) + 15) )
      if ( *(_DWORD *)(v2 + 2484) )
        *(_BYTE *)(v2 + 19272) = 1;
        v22 = *(_DWORD *)(v2 + 2360);
        v23 = *(_DWORD *)(v2 + 2356);
        if ( v22 )
        {
          v24 = (unsigned int *)(v22 + 8);
          __dmb();
          do
            v25 = __ldrex(v24);
          while ( __strex(v25 + 1, v24) );
          if ( !*(_DWORD *)(v2 + 2484) )
            sub_21E5F48();
          v40 = *(void (__fastcall **)(int, int *))(v2 + 2488);
          v155 = v23;
          v156 = v22;
            v41 = __ldrex(v24);
          while ( __strex(v41 + 1, v24) );
        }
        else
          v155 = *(_DWORD *)(v2 + 2356);
          v156 = 0;
        v40(v2 + 2476, &v155);
        v42 = v156;
        if ( v156 )
          v43 = (unsigned int *)(v156 + 8);
            v44 = __ldrex(v43);
          while ( __strex(v44 - 1, v43) );
          if ( v44 == 1 )
            (*(void (**)(void))(*(_DWORD *)v42 + 12))();
          v45 = (unsigned int *)(v22 + 8);
            v46 = __ldrex(v45);
          while ( __strex(v46 - 1, v45) );
          if ( v46 == 1 )
            (*(void (__fastcall **)(int))(*(_DWORD *)v22 + 12))(v22);
        if ( *(_DWORD *)(v2 + 2540) != 3 )
          *(_DWORD *)v3 = 0;
          v48 = ((int (*)(void))byte_21E9640)();
          goto LABEL_66;
        v47 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v47 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
          websocketpp::error::get_category(void)::instance = &off_276CE14;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
        v36 = 21;
        v37 = 0x3FFFFD01u;
        v38 = &GLOBAL_OFFSET_TABLE_;
      else
        j_websocketpp::connection<websocketpp::config::asio_tls_client>::set_status(v2, 426);
        v39 = `guard variable for'websocketpp::error::get_category(void)::instance;
        if ( !(v39 & 1)
        v36 = 28;
    else
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
        *v4,
        1024,
        "Bad request: failed to parse uri");
      *(_DWORD *)(v2 + 19200) = 400;
      sub_21E94B4((void **)&v154, "Bad Request");
      xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
        (int *)(0x4AF0 + v2),
        &v154);
      v34 = (void *)(v154 - 12);
      if ( (int *)(v154 - 12) != &dword_28898C0 )
        v81 = (unsigned int *)(v154 - 4);
          v82 = __ldrex(v81);
        while ( __strex(v82 - 1, v81) );
        if ( v82 <= 0 )
          j_j_j_j__ZdlPv_9(v34);
      v35 = `guard variable for'websocketpp::error::get_category(void)::instance;
      if ( !(v35 & 1)
        && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
        websocketpp::error::get_category(void)::instance = &off_276CE14;
        j___cxa_atexit_1((int)nullsub_3);
        j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
      v36 = 6;
      v37 = 0x3FFFFD01u;
      v38 = &GLOBAL_OFFSET_TABLE_;
    v48 = (int)v38[v37];
    *(_DWORD *)v3 = v36;
LABEL_66:
    *(_DWORD *)(v3 + 4) = v48;
    return;
  }
  (*(void (__fastcall **)(int *))(**(_DWORD **)(v2 + 0x4A2C) + 20))(&v149);
  if ( v149 )
    v5 = *v4;
    (*(void (__fastcall **)(int *))(*(_DWORD *)v150 + 12))(&v147);
    v6 = sub_21E82D8((const void **)&v147, 0, (unsigned int)"Bad request ", (_BYTE *)0xC);
    v148 = *v6;
    v7 = (int)v148;
    *v6 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v5, 1024, (int *)&v148);
    if ( (int *)(v7 - 12) != &dword_28898C0 )
      v73 = (unsigned int *)(v7 - 4);
        v74 = __ldrex(v73);
      while ( __strex(v74 - 1, v73) );
      if ( v74 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v7 - 12));
    v8 = (void *)(v147 - 12);
    if ( (int *)(v147 - 12) != &dword_28898C0 )
      v75 = (unsigned int *)(v147 - 4);
        v76 = __ldrex(v75);
      while ( __strex(v76 - 1, v75) );
      if ( v76 <= 0 )
        j_j_j_j__ZdlPv_9(v8);
    *(_DWORD *)(v2 + 19200) = 400;
    sub_21E94B4((void **)&v157, "Bad Request");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19184),
      &v157);
    v9 = (void *)(v157 - 12);
    if ( (int *)(v157 - 12) != &dword_28898C0 )
      v77 = (unsigned int *)(v157 - 4);
        v78 = __ldrex(v77);
      while ( __strex(v78 - 1, v77) );
      if ( v78 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    *(_QWORD *)v3 = *(_QWORD *)&v149;
  v26 = 0xFFFF4420;
  v126 = (const Vec3 **)(v2 + 0x4A2C);
  v144 = 0;
  v27 = ((int (*)(void))byte_21E9640)();
  v125 = v27;
  v145 = v27;
  v146 = &unk_28898CC;
  (*(void (__fastcall **)(char *))(**(_DWORD **)(v2 + 0x4A2C) + 16))(&v142);
  *(_QWORD *)&v144 = *(_QWORD *)&v142;
  xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
    (int *)&v146,
    &v143);
  v28 = (void *)(v143 - 12);
  if ( (int *)(v143 - 12) != &dword_28898C0 )
    v79 = (unsigned int *)(v143 - 4);
    __dmb();
    do
      v80 = __ldrex(v79);
    while ( __strex(v80 - 1, v79) );
    if ( v80 <= 0 )
      j_j_j_j__ZdlPv_9(v28);
  if ( v144 )
    v29 = *v4;
    (*(void (__fastcall **)(int *))(*(_DWORD *)v145 + 12))(&v140);
    v30 = sub_21E82D8((const void **)&v140, 0, (unsigned int)"Bad request: ", (_BYTE *)0xD);
    v141 = *v30;
    v31 = (int)v141;
    *v30 = &unk_28898CC;
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v29, 1024, (int *)&v141);
    if ( (int *)(v31 - 12) != &dword_28898C0 )
      v104 = (unsigned int *)(v31 - 4);
        v105 = __ldrex(v104);
      while ( __strex(v105 - 1, v104) );
      if ( v105 <= 0 )
        j_j_j_j__ZdlPv_9((void *)(v31 - 12));
    v32 = (void *)(v140 - 12);
    if ( (int *)(v140 - 12) != &dword_28898C0 )
      v106 = (unsigned int *)(v140 - 4);
        v107 = __ldrex(v106);
      while ( __strex(v107 - 1, v106) );
      if ( v107 <= 0 )
        j_j_j_j__ZdlPv_9(v32);
    sub_21E94B4((void **)&v158, "Bad Request");
      &v158);
    v33 = (void *)(v158 - 12);
    if ( (int *)(v158 - 12) != &dword_28898C0 )
      v108 = (unsigned int *)(v158 - 4);
        v109 = __ldrex(v108);
      while ( __strex(v109 - 1, v108) );
      if ( v109 <= 0 )
        j_j_j_j__ZdlPv_9(v33);
    *(_QWORD *)v3 = *(_QWORD *)&v144;
    goto LABEL_153;
  if ( *(v146 - 3) )
    sub_21E94B4((void **)&v139, "Sec-WebSocket-Extensions");
    v49 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v2 + 19140,
                   &v139);
    EntityInteraction::setInteractText(v49, (int *)&v146);
    v50 = (void *)(v139 - 12);
    if ( (int *)(v139 - 12) != &dword_28898C0 )
      v110 = (unsigned int *)(v139 - 4);
        v111 = __ldrex(v110);
      while ( __strex(v111 - 1, v110) );
      if ( v111 <= 0 )
        j_j_j_j__ZdlPv_9(v50);
  (*(void (__fastcall **)(int, const Vec3 *))(*(_DWORD *)*v126 + 48))((int)&v137, *v126);
  v124 = v3;
  v51 = *(_QWORD *)&v137;
  *(_DWORD *)&v137 = 0;
  v138 = 0;
  *(_DWORD *)(v2 + 19208) = v51;
  v52 = *(_DWORD *)(v2 + 19212);
  *(_DWORD *)(v2 + 19212) = HIDWORD(v51);
  if ( v52 )
    v53 = (unsigned int *)(v52 + 4);
      v54 = __ldrex(v53);
    while ( __strex(v54 - 1, v53) );
    if ( v54 == 1 )
      v55 = (unsigned int *)(v52 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 8))(v52);
        v56 = __ldrex(v55);
      while ( __strex(v56 - 1, v55) );
      if ( v56 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v52 + 12))(v52);
  v57 = v138;
  if ( v138 )
    v58 = (unsigned int *)(v138 + 4);
      v59 = __ldrex(v58);
    while ( __strex(v59 - 1, v58) );
    if ( v59 == 1 )
      v60 = (unsigned int *)(v57 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v57 + 8))(v57);
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v57 + 12))(v57);
  if ( !*(_BYTE *)(*(_DWORD *)(v2 + 19208) + 15) )
      "Bad request: failed to parse uri");
    sub_21E94B4((void **)&v159, "Bad Request");
      &v159);
    v68 = (void *)(v159 - 12);
    if ( (int *)(v159 - 12) != &dword_28898C0 )
      v114 = (unsigned int *)(v159 - 4);
        v115 = __ldrex(v114);
      while ( __strex(v115 - 1, v114) );
      if ( v115 <= 0 )
        j_j_j_j__ZdlPv_9(v68);
    v69 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v69 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    v70 = 6;
    v71 = 0x3FFFFD01u;
    v72 = &GLOBAL_OFFSET_TABLE_;
    goto LABEL_150;
  (*(void (__fastcall **)(MinecraftUnitTest::Assert *, int, const wchar_t *, void *))(*(_DWORD *)*v126 + 44))(
    (MinecraftUnitTest::Assert *)&v136,
    (int)*v126,
    (const wchar_t *)(v2 + 0x4A7C),
    (void *)(v2 + 19220));
  if ( !*(_DWORD *)(v2 + 2500) )
    goto LABEL_138;
  v62 = *(_DWORD *)(v2 + 2360);
  v63 = *(_DWORD *)(v2 + 2356);
  if ( v62 )
    v64 = (unsigned int *)(v62 + 8);
      v65 = __ldrex(v64);
    while ( __strex(v65 + 1, v64) );
    if ( !*(_DWORD *)(v2 + 2500) )
      sub_21E5F48();
    v83 = *(int (__fastcall **)(int, int *))(v2 + 2504);
    v160 = v63;
    v161 = v62;
      v84 = __ldrex(v64);
    while ( __strex(v84 + 1, v64) );
  else
    v160 = *(_DWORD *)(v2 + 2356);
    v161 = 0;
  v85 = v83(v2 + 2492, &v160);
  v86 = v161;
  if ( v161 )
    v87 = (unsigned int *)(v161 + 8);
      v88 = __ldrex(v87);
    while ( __strex(v88 - 1, v87) );
    if ( v88 == 1 )
      (*(void (**)(void))(*(_DWORD *)v86 + 12))();
  if ( !v62 )
    goto LABEL_201;
  v89 = (unsigned int *)(v62 + 8);
  __dmb();
  do
    v90 = __ldrex(v89);
  while ( __strex(v90 - 1, v89) );
  if ( v90 != 1 )
LABEL_201:
    if ( v85 != 1 )
      goto LABEL_144;
LABEL_138:
    *(_DWORD *)(v2 + 19200) = 101;
    sub_21E94B4((void **)&v162, "Switching Protocols");
      &v162);
    v91 = (void *)(v162 - 12);
    if ( (int *)(v162 - 12) != &dword_28898C0 )
      v112 = (unsigned int *)(v162 - 4);
        v113 = __ldrex(v112);
      while ( __strex(v113 - 1, v112) );
      if ( v113 <= 0 )
        j_j_j_j__ZdlPv_9(v91);
    (*(void (__cdecl **)(void *))(*(_DWORD *)*v126 + 24))(&ptr);
    *(_QWORD *)&v149 = *(_QWORD *)&ptr;
    if ( ptr )
      sub_21D103C((int)&v128, 24);
      sub_21CBF38((char *)&v130, (int)"Processing error: ", 18);
      v92 = (char *)sub_21CC43C(&v130, v149);
      sub_21CBF38(v92, (int)" ([message removed because boost causes crashes here])", 54);
      v93 = *v4;
      sub_21CFED8(&v127, (int)&v131);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v93, 1024, &v127);
      v94 = (void *)(v127 - 12);
      if ( (int *)(v127 - 12) != &dword_28898C0 )
        v116 = (unsigned int *)(v127 - 4);
          v117 = __ldrex(v116);
        while ( __strex(v117 - 1, v116) );
        if ( v117 <= 0 )
          j_j_j_j__ZdlPv_9(v94);
      *(_DWORD *)(v2 + 19200) = 500;
      sub_21E94B4((void **)&v163, "Internal Server Error");
        (int *)(v2 + 19184),
        &v163);
      v95 = (void *)(v163 - 12);
      if ( (int *)(v163 - 12) != &dword_28898C0 )
        v118 = (unsigned int *)(v163 - 4);
          v119 = __ldrex(v118);
        while ( __strex(v119 - 1, v118) );
        if ( v119 <= 0 )
          j_j_j_j__ZdlPv_9(v95);
      v96 = v150;
      *(_DWORD *)v124 = v149;
      *(_DWORD *)(v124 + 4) = v96;
      v128 = &off_26D3F94;
      v134 = &off_26D3FBC;
      v130 = &off_26D3FA8;
      v131 = &off_27734E8;
      v97 = (void *)(v133 - 12);
      if ( (int *)(v133 - 12) != &dword_28898C0 )
        v120 = (unsigned int *)(v133 - 4);
          v121 = __ldrex(v120);
        while ( __strex(v121 - 1, v120) );
        if ( v121 <= 0 )
          j_j_j_j__ZdlPv_9(v97);
      v131 = &off_26D40A8;
      sub_21C802C((unsigned int **)&v132);
      v128 = &off_276D0DC;
      v134 = &off_276D0F0;
      v129 = 0;
      sub_21B6560(&v134);
      goto LABEL_153;
    *(_DWORD *)v124 = 0;
    v100 = (int (__fastcall *)(_DWORD))v125;
    goto LABEL_152;
  (*(void (__fastcall **)(int))(*(_DWORD *)v62 + 12))(v62);
  if ( v85 )
LABEL_144:
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(*v4, 1024, "USER REJECT");
  if ( !*(_DWORD *)(v2 + 19200) )
    sub_21E94B4((void **)&v164, "Bad Request");
      &v164);
    v98 = (void *)(v164 - 12);
    if ( (int *)(v164 - 12) != &dword_28898C0 )
      v122 = (unsigned int *)(v164 - 4);
        v123 = __ldrex(v122);
      while ( __strex(v123 - 1, v122) );
      if ( v123 <= 0 )
        j_j_j_j__ZdlPv_9(v98);
  v99 = `guard variable for'websocketpp::error::get_category(void)::instance;
  if ( !(v99 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  v70 = 27;
  v71 = 0x3FFFFD01u;
  v72 = &GLOBAL_OFFSET_TABLE_;
LABEL_150:
  v100 = v72[v71];
  *(_DWORD *)v124 = v70;
LABEL_152:
  *(_DWORD *)(v124 + 4) = v100;
LABEL_153:
  v101 = (char *)(v146 - 3);
  if ( (char *)(v146 - 3) != (char *)*(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v26) )
    v102 = v146 - 1;
      v103 = __ldrex(v102);
    while ( __strex(v103 - 1, v102) );
    if ( v103 <= 0 )
      j_j_j_j__ZdlPv_9(v101);
}


void *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_client::transport_config>::init_asio(int a1, int a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  int v5; // r6@1
  char v6; // r0@2
  void *result; // r0@5
  int v8; // r0@6
  int v9; // r1@7
  int v10; // r6@9
  unsigned int *v11; // r0@10
  unsigned int v12; // r1@11
  unsigned int *v13; // r7@13
  unsigned int v14; // r0@14
  int v15; // r6@17
  unsigned int *v16; // r0@18
  unsigned int v17; // r1@19
  unsigned int *v18; // r7@21
  unsigned int v19; // r0@22
  int v20; // [sp+4h] [bp-24h]@6
  int v21; // [sp+8h] [bp-20h]@6
  int v22; // [sp+Ch] [bp-1Ch]@6
  char v23; // [sp+10h] [bp-18h]@6

  v3 = a1;
  v4 = a3;
  v5 = a2;
  if ( *(_DWORD *)(a1 + 96) )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(a1 + 88),
      2,
      "asio::init_asio called from the wrong state");
    v6 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v6 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    *(_DWORD *)v4 = 9;
    result = &websocketpp::error::get_category(void)::instance;
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *(pthread_mutex_t **)(a1 + 92),
      1024,
      "asio::init_asio");
    *(_DWORD *)(v3 + 48) = v5;
    *(_BYTE *)(v3 + 52) = 1;
    v21 = 0;
    v20 = v5;
    j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN5boost4asio21basic_socket_acceptorINS5_2ip3tcpENS5_23socket_acceptor_serviceIS8_EEEESaISB_EJSt17reference_wrapperINS5_10io_serviceEEEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(
      &v22,
      0,
      (int)&v23,
      (int **)&v20);
    v8 = v22;
    if ( v22 )
      v9 = (*(int (**)(void))(*(_DWORD *)v22 + 16))();
      v8 = v22;
    else
      v9 = 0;
    v22 = 0;
    *(_DWORD *)(v3 + 56) = v9;
    v10 = *(_DWORD *)(v3 + 60);
    *(_DWORD *)(v3 + 60) = v8;
    if ( v10 )
      v11 = (unsigned int *)(v10 + 4);
      __dmb();
      do
        v12 = __ldrex(v11);
      while ( __strex(v12 - 1, v11) );
      if ( v12 == 1 )
      {
        v13 = (unsigned int *)(v10 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        __dmb();
        do
          v14 = __ldrex(v13);
        while ( __strex(v14 - 1, v13) );
        if ( v14 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
      }
    v15 = v22;
      v16 = (unsigned int *)(v22 + 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
      if ( v17 == 1 )
        v18 = (unsigned int *)(v15 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 8))(v15);
          v19 = __ldrex(v18);
        while ( __strex(v19 - 1, v18) );
        if ( v19 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v15 + 12))(v15);
    *(_DWORD *)(v3 + 96) = 1;
    result = (void *)((int (*)(void))byte_21E9640)();
    *(_DWORD *)v4 = 0;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


_DWORD *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed because boost causes crashes here])", 54);
  v10 = *(pthread_mutex_t **)(v5 + 96);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


unsigned int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::process_payload_bytes(int a1, char *a2, unsigned int a3, int a4)
{
  int v4; // r10@1
  int v5; // r8@1
  unsigned int v6; // r9@1
  unsigned int v7; // r5@2
  unsigned int v8; // r3@2
  unsigned int v9; // r0@2
  char *v10; // r7@3
  unsigned int v11; // r2@3
  unsigned int v12; // r12@5
  unsigned int v13; // r3@7
  char *v14; // r5@7
  char *v15; // r7@7
  char v16; // t1@8
  int v17; // r7@10
  const void **v18; // r7@10
  int v19; // t1@10
  int v20; // r5@10
  int v21; // r4@10
  char *v22; // r0@11
  char *v23; // r5@12
  int v24; // r0@15
  int v25; // r1@16
  int v26; // r3@17
  int v27; // r7@17
  int v28; // r3@18
  char v30; // r0@24
  int v31; // [sp+4h] [bp-24h]@2

  v4 = a1;
  v5 = a4;
  v6 = a3;
  if ( (signed int)*(_BYTE *)(a1 + 13) <= -1 )
  {
    v7 = a3 >> 2;
    v8 = 4 * (a3 >> 2);
    v9 = *(_DWORD *)(*(_DWORD *)(a1 + 72) + 8);
    v31 = *(_DWORD *)(*(_DWORD *)(v4 + 72) + 8);
    if ( a3 >> 2 )
    {
      v10 = a2;
      v11 = a3 >> 2;
      do
      {
        --v11;
        *(_DWORD *)v10 ^= v9;
        v10 += 4;
      }
      while ( v11 );
    }
    v12 = v6 - 4 * v7;
    if ( v8 != v6 )
      a2[v8] ^= v9;
      if ( v12 >= 2 )
        v13 = v6 - 1 - (v6 & 0xFFFFFFFC);
        v14 = (char *)((unsigned int)&v31 | 1);
        v15 = &a2[(v6 & 0xFFFFFFFC) + 1];
        do
        {
          v16 = *v14++;
          --v13;
          *v15 ^= v16;
          ++v15;
        }
        while ( v13 );
    *(_DWORD *)(*(_DWORD *)(v4 + 72) + 8) = (v9 << 8 * (4 - v12)) | (v9 >> 8 * v12);
  }
  v17 = **(_DWORD **)(v4 + 72);
  v19 = *(_DWORD *)(v17 + 16);
  v18 = (const void **)(v17 + 16);
  v20 = *(_DWORD *)(v19 - 12);
  sub_21E7408(v18, a2, v6);
  v21 = *(_DWORD *)(v4 + 72);
  if ( *(_DWORD *)(*(_DWORD *)v21 + 20) != 1 )
    goto LABEL_22;
  v22 = (char *)*v18;
  if ( *((_DWORD *)*v18 - 1) <= -1 )
    v23 = &v22[v20];
  else
    sub_21E8010(v18);
    v22 = (char *)*v18;
    v23 = (char *)*v18 + v20;
    if ( *((_DWORD *)*v18 - 1) >= 0 )
      sub_21E8010(v18);
      v22 = (char *)*v18;
  v24 = (int)&v22[*((_DWORD *)v22 - 3)];
  if ( v23 == (char *)v24 )
LABEL_22:
    *(_DWORD *)(v4 + 24) -= v6;
    v25 = *(_DWORD *)(v21 + 12);
    while ( 1 )
      v26 = (unsigned __int8)*v23;
      v27 = byte_26A8C54[v26];
      v28 = v25 ? v26 & 0x3F | (*(_DWORD *)(v21 + 16) << 6) : v26 & (0xFFu >> v27);
      v25 = *(&byte_26A8C54[16 * v25] + (v27 | 0x100));
      *(_DWORD *)(v21 + 12) = v25;
      *(_DWORD *)(v21 + 16) = v28;
      if ( v25 == 1 )
        break;
      if ( (char *)v24 == ++v23 )
        goto LABEL_22;
    v30 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
    __dmb();
    if ( !(v30 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
      websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
    v6 = 0;
    *(_DWORD *)v5 = 16;
    *(_DWORD *)(v5 + 4) = &websocketpp::processor::error::get_processor_category(void)::instance;
  return v6;
}


unsigned int *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(int a1, int a2, int a3, int a4)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
           a1,
           a2,
           a3,
           a4);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::handle_read_handshake(int a1, __int64 *a2, unsigned int a3)
{
  __int64 *v3; // r5@1
  int v4; // r11@1
  unsigned int v5; // r9@1
  pthread_mutex_t **v6; // r10@1
  int v7; // r0@2
  int v8; // r0@3
  signed int v9; // r5@7
  char v10; // r0@8
  int (__fastcall **v11)(_DWORD); // r0@11
  char v12; // r0@12
  char v13; // r0@18
  bool v14; // zf@22
  int v15; // r0@27
  int *v16; // r1@27
  char v17; // r0@31
  int v18; // r8@35
  unsigned int v19; // r4@35
  char v20; // r0@36
  char *v21; // r7@41
  char *v22; // r0@41
  pthread_mutex_t *v23; // r7@41
  void *v24; // r0@41
  void *v25; // r0@42
  int *v26; // r1@46
  int v27; // r6@48
  unsigned int v28; // r0@49
  unsigned int *v29; // r7@49
  unsigned int v30; // r1@50
  int v31; // r9@53
  unsigned int v32; // r0@54
  unsigned int v33; // r0@56
  unsigned int *v34; // r5@58
  unsigned int v35; // r0@59
  unsigned int v36; // r0@63
  unsigned int v37; // r0@65
  unsigned int *v38; // r5@67
  unsigned int v39; // r0@68
  _DWORD *v40; // r0@71
  int v41; // r0@73
  int *v42; // r0@76
  int v43; // r3@76
  int *v44; // r0@78
  _DWORD *v45; // r0@78
  void *v46; // r0@79
  pthread_mutex_t *v47; // r7@81
  unsigned int v48; // r7@82
  void *v49; // r0@82
  int v50; // r0@83
  const void **v51; // r2@83
  int v52; // r5@85
  void *v53; // r0@85
  pthread_mutex_t *v54; // r5@87
  int v55; // r0@87
  int *v56; // r1@87
  void *v57; // r0@89
  void *v58; // r0@90
  int v59; // r5@92
  unsigned int *v60; // r1@95
  signed int v61; // r2@96
  unsigned int *v62; // r1@99
  signed int v63; // r2@100
  void *v64; // r0@103
  char v65; // r0@104
  unsigned int *v66; // r1@108
  signed int v67; // r2@109
  unsigned int *v68; // r1@112
  signed int v69; // r2@113
  unsigned int *v70; // r1@116
  signed int v71; // r2@117
  unsigned int *v72; // r1@120
  signed int v73; // r2@121
  unsigned int *v74; // r1@124
  signed int v75; // r2@125
  unsigned int *v76; // r1@128
  signed int v77; // r2@129
  unsigned int *v78; // r1@132
  signed int v79; // r2@133
  _DWORD *v80; // [sp+8h] [bp-158h]@71
  void (*v81)(void); // [sp+10h] [bp-150h]@71
  int (__fastcall *v82)(int *); // [sp+14h] [bp-14Ch]@71
  char v83; // [sp+18h] [bp-148h]@94
  int v84; // [sp+24h] [bp-13Ch]@87
  int v85; // [sp+28h] [bp-138h]@89
  int v86; // [sp+30h] [bp-130h]@83
  int v87; // [sp+34h] [bp-12Ch]@82
  int v88; // [sp+38h] [bp-128h]@107
  void *v89; // [sp+3Ch] [bp-124h]@107
  _DWORD *v90; // [sp+44h] [bp-11Ch]@78
  int v91; // [sp+4Ch] [bp-114h]@76
  int v92; // [sp+50h] [bp-110h]@45
  int v93; // [sp+58h] [bp-108h]@41
  void **v94; // [sp+5Ch] [bp-104h]@41
  int v95; // [sp+60h] [bp-100h]@43
  void **v96; // [sp+64h] [bp-FCh]@41
  void **v97; // [sp+68h] [bp-F8h]@41
  int v98; // [sp+84h] [bp-DCh]@43
  int v99; // [sp+8Ch] [bp-D4h]@42
  void **v100; // [sp+90h] [bp-D0h]@42
  int v101; // [sp+118h] [bp-48h]@39
  void *v102; // [sp+11Ch] [bp-44h]@39
  int v103; // [sp+128h] [bp-38h]@34
  void *v104; // [sp+12Ch] [bp-34h]@34
  __int64 v105; // [sp+130h] [bp-30h]@1
  int v106; // [sp+138h] [bp-28h]@103

  v3 = a2;
  v4 = a1;
  v5 = a3;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection handle_read_handshake");
  v6 = (pthread_mutex_t **)(v4 + 19196);
  v105 = *v3;
  if ( (_DWORD)v105 )
    goto LABEL_18;
  v7 = j_pthread_mutex_lock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v7 )
    sub_21E5E14(v7);
  v8 = *(_DWORD *)(v4 + 2500);
  if ( v8 == 3 )
  {
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      *v6,
      1024,
      "handle_read_handshake invoked after connection was closed");
    j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
    return;
  }
  if ( v8 )
    v10 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v10 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    {
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    }
    v11 = &GLOBAL_OFFSET_TABLE_;
  else
    if ( *(_DWORD *)(v4 + 2504) == 2 )
      v9 = 0;
      goto LABEL_17;
    v12 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v12 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  v9 = 9;
  LODWORD(v105) = 9;
  HIDWORD(v105) = *(int (__fastcall **)(_DWORD))((char *)v11 + 0xFFFFF404);
LABEL_17:
  j_pthread_mutex_unlock_1((pthread_mutex_t *)(v4 + 2508));
  if ( v9 )
LABEL_18:
    v13 = `guard variable for'websocketpp::transport::error::get_category(void)::instance;
    if ( !(v13 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance) )
      websocketpp::transport::error::get_category(void)::instance = &off_276CF98;
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::error::get_category(void)::instance);
    if ( (_UNKNOWN *)HIDWORD(v105) == &websocketpp::transport::error::get_category(void)::instance )
      v14 = (_DWORD)v105 == 7;
      if ( (_DWORD)v105 == 7 )
        v14 = *(_DWORD *)(v4 + 2500) == 3;
      if ( v14 )
      {
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
          *v6,
          1024,
          "got (expected) eof/state error from closed con");
        return;
      }
    j_websocketpp::connection<websocketpp::config::asio_client>::log_err<std::error_code>(
      v4,
      16,
      "handle_read_handshake",
      &v105);
    v15 = v4;
    v16 = (int *)&v105;
    goto LABEL_28;
  if ( v5 > 0x4000 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v4 + 19200),
      32,
      "Fatal boundaries checking error.");
    v17 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v17 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    v103 = 1;
    v104 = &websocketpp::error::get_category(void)::instance;
    v16 = &v103;
LABEL_28:
    j_websocketpp::connection<websocketpp::config::asio_client>::terminate(v15, (unsigned __int64 *)v16);
  v18 = v4 + 2516;
  v19 = j_websocketpp::http::parser::request::consume(
          (websocketpp::http::parser::request *)(v4 + 19028),
          (const char *)(v4 + 2516),
          v5);
  if ( v19 > v5 )
    v20 = `guard variable for'websocketpp::error::get_category(void)::instance;
    if ( !(v20 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
    v101 = 1;
    v102 = &websocketpp::error::get_category(void)::instance;
    v16 = &v101;
  if ( *((_BYTE *)&(*v6)->__align + 5) & 4 )
    sub_21D103C((int)&v94, 24);
    sub_21CBF38((char *)&v96, (int)"bytes_transferred: ", 19);
    v21 = sub_21CC440((char *)&v96);
    sub_21CBF38(v21, (int)" bytes, bytes processed: ", 25);
    v22 = sub_21CC440(v21);
    sub_21CBF38(v22, (int)" bytes", 6);
    v23 = *v6;
    sub_21CFED8(&v93, (int)&v97);
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, &v93);
    v24 = (void *)(v93 - 12);
    if ( (int *)(v93 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v93 - 4);
      __dmb();
      do
        v61 = __ldrex(v60);
      while ( __strex(v61 - 1, v60) );
      if ( v61 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    v94 = &off_26D3F94;
    v100 = &off_26D3FBC;
    v96 = &off_26D3FA8;
    v97 = &off_27734E8;
    v25 = (void *)(v99 - 12);
    if ( (int *)(v99 - 12) != &dword_28898C0 )
      v62 = (unsigned int *)(v99 - 4);
        v63 = __ldrex(v62);
      while ( __strex(v63 - 1, v62) );
      if ( v63 <= 0 )
        j_j_j_j__ZdlPv_9(v25);
    v97 = &off_26D40A8;
    sub_21C802C((unsigned int **)&v98);
    v94 = &off_276D0DC;
    v100 = &off_276D0F0;
    v95 = 0u;
    sub_21B6560(&v100);
    v18 = v4 + 2516;
  if ( *(_BYTE *)(v4 + 19092) )
    j_websocketpp::connection<websocketpp::config::asio_client>::initialize_processor((int)&v92, v4);
    if ( v92 )
      v26 = &v92;
LABEL_47:
      j_websocketpp::connection<websocketpp::config::asio_client>::send_http_response_error(v4, (int)v26);
      return;
    v41 = *(_DWORD *)(v4 + 18948);
    if ( v41 && !(*(int (__fastcall **)(int))(*(_DWORD *)v41 + 8))(v41) )
      if ( v5 - v19 < 8 )
          "short key3 read");
        *(_DWORD *)(v4 + 19160) = 500;
        sub_21E94B4((void **)&v106, "Internal Server Error");
        xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
          (int *)(v4 + 19144),
          &v106);
        v64 = (void *)(v106 - 12);
        if ( (int *)(v106 - 12) != &dword_28898C0 )
        {
          v74 = (unsigned int *)(v106 - 4);
          __dmb();
          do
            v75 = __ldrex(v74);
          while ( __strex(v75 - 1, v74) );
          if ( v75 <= 0 )
            j_j_j_j__ZdlPv_9(v64);
        }
        v65 = `guard variable for'websocketpp::processor::error::get_processor_category(void)::instance;
        __dmb();
        if ( !(v65 & 1)
          && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance) )
          websocketpp::processor::error::get_processor_category(void)::instance = &off_276D180;
          j___cxa_atexit_1((int)nullsub_3);
          j_j___cxa_guard_release_1(&`guard variable for'websocketpp::processor::error::get_processor_category(void)::instance);
        v88 = 30;
        v89 = &websocketpp::processor::error::get_processor_category(void)::instance;
        v26 = &v88;
        goto LABEL_47;
      sub_21E94B4((void **)&v91, "Sec-WebSocket-Key3");
      v42 = sub_21E7E80(8u, 0);
      v43 = *(_DWORD *)(v4 + v19 + 2516);
      v42[4] = *(_DWORD *)(v4 + v19 + 2520);
      v42[3] = v43;
      if ( v42 != &dword_28898C0 )
        v42[2] = 0;
        *v42 = 8;
        *((_BYTE *)v42 + 20) = byte_26C67B8[0];
      v90 = v42 + 3;
      v44 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v4 + 19032,
                     &v91);
      EntityInteraction::setInteractText(v44, (int *)&v90);
      v45 = v90 - 3;
      if ( v90 - 3 != &dword_28898C0 )
        v76 = v90 - 1;
        do
          v77 = __ldrex(v76);
        while ( __strex(v77 - 1, v76) );
        if ( v77 <= 0 )
          j_j_j_j__ZdlPv_9(v45);
      v46 = (void *)(v91 - 12);
      if ( (int *)(v91 - 12) != &dword_28898C0 )
        v78 = (unsigned int *)(v91 - 4);
          v79 = __ldrex(v78);
        while ( __strex(v79 - 1, v78) );
        if ( v79 <= 0 )
          j_j_j_j__ZdlPv_9(v46);
      v19 += 8;
    v47 = *v6;
    if ( *((_BYTE *)&(*v6)->__align + 5) & 4 )
      j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v87, v4 + 19028);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v47, 1024, &v87);
      v48 = 0xFFFF4420;
      v49 = (void *)(v87 - 12);
      if ( (int *)(v87 - 12) != &dword_28898C0 )
        v66 = (unsigned int *)(v87 - 4);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        v48 = 0xFFFF4420;
        if ( v67 <= 0 )
          j_j_j_j__ZdlPv_9(v49);
      sub_21E94B4((void **)&v86, "Sec-WebSocket-Key3");
      v50 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v4 + 19032,
              &v86);
      v51 = (const void **)(v50 + 20);
      if ( v50 == v4 + 19036 )
        v51 = (const void **)&dword_2880E54;
      v52 = sub_21E7D6C(v51, (const char *)&unk_257BC67);
      v53 = (void *)(v86 - 12);
      if ( (int (__fastcall *)(_DWORD))(v86 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
        v68 = (unsigned int *)(v86 - 4);
          v69 = __ldrex(v68);
        while ( __strex(v69 - 1, v68) );
        if ( v69 <= 0 )
          j_j_j_j__ZdlPv_9(v53);
      if ( v52 )
        v54 = *v6;
        sub_21E94B4((void **)&v84, "Sec-WebSocket-Key3");
        v55 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
                v4 + 19032,
                &v84);
        v56 = (int *)(v55 + 20);
        if ( v55 == v4 + 19036 )
          v56 = &dword_2880E54;
        j_websocketpp::utility::to_hex((const void **)&v85, v56);
        j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v54, 1024, &v85);
        v57 = (void *)(v85 - 12);
        if ( (int (__fastcall *)(_DWORD))(v85 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
          v70 = (unsigned int *)(v85 - 4);
            v71 = __ldrex(v70);
          while ( __strex(v71 - 1, v70) );
          if ( v71 <= 0 )
            j_j_j_j__ZdlPv_9(v57);
        v58 = (void *)(v84 - 12);
        if ( (int (__fastcall *)(_DWORD))(v84 - 12) != *(int (__fastcall **)(_DWORD))((char *)&GLOBAL_OFFSET_TABLE_ + v48) )
          v72 = (unsigned int *)(v84 - 4);
            v73 = __ldrex(v72);
          while ( __strex(v73 - 1, v72) );
          if ( v73 <= 0 )
            j_j_j_j__ZdlPv_9(v58);
    if ( v19 == v5 )
      v59 = v5 - v19;
    else
      j___aeabi_memmove_1(v18, v4 + v19 + 2516);
    *(_DWORD *)(v4 + 18900) = v59;
    *(_DWORD *)(v4 + 2504) = 6;
    j_websocketpp::connection<websocketpp::config::asio_client>::process_handshake_request((int)&v83, v4);
    j_websocketpp::connection<websocketpp::config::asio_client>::send_http_response(v4, (int)&v83);
    v27 = *(_DWORD *)(v4 + 4);
    if ( !v27 )
LABEL_136:
      j_std::__throw_bad_weak_ptr();
    v28 = *(_DWORD *)(v27 + 4);
    v29 = (unsigned int *)(v27 + 4);
    do
      v30 = v28;
      if ( !v28 )
        goto LABEL_136;
      v28 = __ldrex(v29);
    while ( v28 != v30 || __strex(v30 + 1, v29) );
    v31 = *(_DWORD *)v4;
      v32 = __ldrex(v29);
    while ( __strex(v32 + 1, v29) );
      v33 = __ldrex(v29);
    while ( __strex(v33 - 1, v29) );
    if ( v33 == 1 )
      v34 = (unsigned int *)(v27 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 8))(v27);
        v35 = __ldrex(v34);
      while ( __strex(v35 - 1, v34) );
      if ( v35 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v27 + 12))(v27);
      v36 = __ldrex(v29);
    while ( __strex(v36 + 1, v29) );
      v37 = __ldrex(v29);
    while ( __strex(v37 - 1, v29) );
    if ( v37 == 1 )
      v38 = (unsigned int *)(v27 + 8);
        v39 = __ldrex(v38);
      while ( __strex(v39 - 1, v38) );
      if ( v39 == 1 )
    v40 = j_operator new(0x10u);
    *v40 = websocketpp::connection<websocketpp::config::asio_client>::handle_read_handshake;
    v40[1] = 0;
    v40[2] = v31;
    v40[3] = v27;
    v80 = v40;
    v81 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_manager;
    v82 = std::_Function_handler<void ()(std::error_code const&,unsigned int),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&,unsigned int)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>,std::_Placeholder<2>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
      1u,
      __PAIR__(0x4000, v18),
      (int)&v80);
    if ( v81 )
      v81();
}


signed int __fastcall websocketpp::processor::is_websocket_handshake<websocketpp::http::parser::request>(int a1)
{
  int v1; // r5@1
  int v2; // r10@1
  int v3; // r0@1
  int v4; // r6@1
  int *v5; // r7@1
  void *v6; // r0@3
  unsigned int **v7; // r0@4
  _BYTE *v8; // r5@4
  int v9; // r7@4
  int v10; // r4@4
  int v11; // r0@5
  int *v12; // r7@5
  bool v13; // zf@5
  int *v14; // r0@5
  unsigned int **v15; // r0@8
  _BYTE *v16; // r4@8
  int v17; // r5@8
  int v18; // r6@8
  signed int v19; // r2@8
  unsigned int *v21; // r1@13
  signed int v22; // r2@14
  unsigned int *v23; // r1@17
  signed int v24; // r2@18
  char v25; // [sp+4h] [bp-3Ch]@8
  int v26; // [sp+Ch] [bp-34h]@5
  char v27; // [sp+10h] [bp-30h]@4
  int v28; // [sp+18h] [bp-28h]@1

  v1 = a1;
  sub_21E94B4((void **)&v28, "Upgrade");
  v2 = v1 + 4;
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v1 + 4,
         &v28);
  v4 = v1 + 8;
  v5 = (int *)(v3 + 20);
  if ( v3 == v1 + 8 )
    v5 = &dword_2880E54;
  v6 = (void *)(v28 - 12);
  if ( (int *)(v28 - 12) != &dword_28898C0 )
  {
    v21 = (unsigned int *)(v28 - 4);
    __dmb();
    do
      v22 = __ldrex(v21);
    while ( __strex(v22 - 1, v21) );
    if ( v22 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  v7 = sub_21C9520((unsigned int **)&v27);
  v8 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
         *v5,
         (_BYTE *)(*(_DWORD *)(*v5 - 12) + *v5),
         "websocket",
         "",
         (int)v7);
  v9 = *v5;
  v10 = *(_DWORD *)(v9 - 12);
  sub_21C802C((unsigned int **)&v27);
  if ( v8 == (_BYTE *)(v9 + v10) )
    v19 = 0;
  else
    sub_21E94B4((void **)&v26, "Connection");
    v11 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v2,
            &v26);
    v12 = (int *)(v11 + 20);
    v13 = v11 == v4;
    v14 = (int *)(v26 - 12);
    if ( v13 )
      v12 = &dword_2880E54;
    if ( v14 != &dword_28898C0 )
    {
      v23 = (unsigned int *)(v26 - 4);
      __dmb();
      do
        v24 = __ldrex(v23);
      while ( __strex(v24 - 1, v23) );
      if ( v24 <= 0 )
        j_j_j_j__ZdlPv_9(v14);
    }
    v15 = sub_21C9520((unsigned int **)&v25);
    v16 = j_std::__search<__gnu_cxx::__normal_iterator<char const*,std::string>,char const*,__gnu_cxx::__ops::_Iter_comp_iter<websocketpp::utility::my_equal<char>>>(
            *v12,
            (_BYTE *)(*(_DWORD *)(*v12 - 12) + *v12),
            "upgrade",
            "",
            (int)v15);
    v17 = *v12;
    v18 = *(_DWORD *)(*v12 - 12);
    sub_21C802C((unsigned int **)&v25);
    if ( v16 != (_BYTE *)(v17 + v18) )
      v19 = 1;
  return v19;
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::send_http_response(int a1, int a2)
{
  int v2; // r10@1
  int v3; // r5@1
  pthread_mutex_t **v4; // r4@1
  char v5; // r0@1
  void *v6; // r0@9
  char v7; // r0@10
  void *v8; // r0@14
  int v9; // r0@15
  int v10; // r11@15
  const void **v11; // r2@15
  int v12; // r6@17
  void *v13; // r0@17
  int *v14; // r0@20
  void *v15; // r0@20
  unsigned int *v16; // r1@21
  signed int v17; // r2@22
  int *v18; // r6@25
  int v19; // r1@25
  void *v20; // r0@26
  unsigned int *v21; // r1@27
  signed int v22; // r2@28
  pthread_mutex_t *v23; // r7@31
  char *v24; // r0@32
  int v25; // r0@33
  const void **v26; // r2@33
  int v27; // r7@35
  void *v28; // r0@35
  pthread_mutex_t *v29; // r7@37
  int v30; // r0@37
  int *v31; // r1@37
  void *v32; // r0@39
  void *v33; // r0@40
  int v34; // r5@41
  int v35; // r6@42
  unsigned int *v36; // r7@42
  int v37; // r8@42
  unsigned int v38; // r0@42
  unsigned int v39; // r1@43
  int v40; // r9@46
  unsigned int v41; // r0@47
  unsigned int v42; // r0@49
  unsigned int *v43; // r4@51
  unsigned int v44; // r0@52
  unsigned int v45; // r0@56
  unsigned int v46; // r0@58
  unsigned int *v47; // r4@60
  unsigned int v48; // r0@61
  _DWORD *v49; // r0@64
  unsigned int *v50; // r1@67
  signed int v51; // r2@68
  unsigned int *v52; // r1@71
  signed int v53; // r2@72
  unsigned int *v54; // r1@75
  signed int v55; // r2@76
  unsigned int *v56; // r1@79
  signed int v57; // r2@80
  unsigned int *v58; // r1@83
  signed int v59; // r2@84
  unsigned int *v60; // r1@87
  unsigned int *v61; // r1@91
  signed int v62; // r2@92
  unsigned int *v63; // r1@95
  signed int v64; // r2@96
  unsigned int *v65; // r1@99
  _DWORD *v71; // [sp+0h] [bp-80h]@64
  void (*v72)(void); // [sp+8h] [bp-78h]@64
  int (__fastcall *v73)(int *); // [sp+Ch] [bp-74h]@64
  int v74; // [sp+14h] [bp-6Ch]@37
  int v75; // [sp+18h] [bp-68h]@39
  int v76; // [sp+20h] [bp-60h]@33
  char *v77; // [sp+24h] [bp-5Ch]@32
  int v78; // [sp+28h] [bp-58h]@30
  int v79; // [sp+2Ch] [bp-54h]@26
  int v80; // [sp+34h] [bp-4Ch]@24
  int v81; // [sp+3Ch] [bp-44h]@20
  int v82; // [sp+44h] [bp-3Ch]@15
  int v83; // [sp+4Ch] [bp-34h]@14
  int v84; // [sp+50h] [bp-30h]@9
  int v85; // [sp+54h] [bp-2Ch]@24
  int v86; // [sp+58h] [bp-28h]@24

  v2 = a1;
  v3 = a2;
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
    *(pthread_mutex_t **)(a1 + 19196),
    1024,
    "connection send_http_response");
  v4 = (pthread_mutex_t **)(v2 + 19196);
  v5 = `guard variable for'websocketpp::error::get_category(void)::instance;
  __dmb();
  if ( !(v5 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
  {
    websocketpp::error::get_category(void)::instance = &off_276CE14;
    j___cxa_atexit_1((int)nullsub_3);
    v4 = (pthread_mutex_t **)(v2 + 19196);
    j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
  }
  if ( *(_UNKNOWN **)(v3 + 4) == &websocketpp::error::get_category(void)::instance && *(_DWORD *)v3 == 21 )
    j_j_j__ZN11websocketpp3log5basicINS_11concurrency5basicENS0_6alevelEE5writeEjPKc_0(
      *v4,
      4096,
      "An HTTP handler took over the connection.");
    return;
  if ( *(_DWORD *)(v2 + 19160) )
    *(_QWORD *)(v2 + 19224) = *(_QWORD *)v3;
  else
    *(_DWORD *)(v2 + 19160) = 500;
    sub_21E94B4((void **)&v84, "Internal Server Error");
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v2 + 19144),
      &v84);
    v6 = (void *)(v84 - 12);
    if ( (int *)(v84 - 12) != &dword_28898C0 )
    {
      v58 = (unsigned int *)(v84 - 4);
      __dmb();
      do
        v59 = __ldrex(v58);
      while ( __strex(v59 - 1, v58) );
      if ( v59 <= 0 )
        j_j_j_j__ZdlPv_9(v6);
    }
    v7 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v7 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)(v2 + 19224) = 1;
    *(_DWORD *)(v2 + 19228) = &websocketpp::error::get_category(void)::instance;
  sub_21E94B4((void **)&v83, "HTTP/1.1");
  EntityInteraction::setInteractText((int *)(v2 + 19096), &v83);
  v8 = (void *)(v83 - 12);
  if ( (int *)(v83 - 12) != &dword_28898C0 )
    v50 = (unsigned int *)(v83 - 4);
    do
      v51 = __ldrex(v50);
    while ( __strex(v51 - 1, v50) );
    if ( v51 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  sub_21E94B4((void **)&v82, "Server");
  v9 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 19100,
         &v82);
  v10 = v2 + 19104;
  v11 = (const void **)(v9 + 20);
  if ( v9 == v2 + 19104 )
    v11 = (const void **)&dword_2880E54;
  v12 = sub_21E7D6C(v11, (const char *)&unk_257BC67);
  v13 = (void *)(v82 - 12);
  if ( (int *)(v82 - 12) != &dword_28898C0 )
    v52 = (unsigned int *)(v82 - 4);
      v53 = __ldrex(v52);
    while ( __strex(v53 - 1, v52) );
    if ( v53 <= 0 )
      j_j_j_j__ZdlPv_9(v13);
  if ( !v12 )
    if ( *(_DWORD *)(*(_DWORD *)(v2 + 2312) - 12) )
      sub_21E94B4((void **)&v81, "Server");
      v14 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                     v2 + 19100,
                     &v81);
      EntityInteraction::setInteractText(v14, (int *)(v2 + 2312));
      v15 = (void *)(v81 - 12);
      if ( (int *)(v81 - 12) == &dword_28898C0 )
        goto LABEL_25;
      v16 = (unsigned int *)(v81 - 4);
        v17 = __ldrex(v16);
      while ( __strex(v17 - 1, v16) );
    else
      sub_21E94B4((void **)&v80, "Server");
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::equal_range(
        (int)&v85,
        v2 + 19100,
        &v80);
      j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_erase_aux(
        v85,
        v86);
      v15 = (void *)(v80 - 12);
      if ( (int *)(v80 - 12) == &dword_28898C0 )
      v65 = (unsigned int *)(v80 - 4);
        v17 = __ldrex(v65);
      while ( __strex(v17 - 1, v65) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v15);
LABEL_25:
  v18 = (int *)(v2 + 18944);
  v19 = *(_DWORD *)(v2 + 18948);
  if ( v19 )
    (*(void (__fastcall **)(int, int, int))(*(_DWORD *)v19 + 36))((int)&v79, v19, v2 + 19096);
      (int *)(v2 + 18944),
      &v79);
    v20 = (void *)(v79 - 12);
    if ( (int *)(v79 - 12) != &dword_28898C0 )
      v21 = (unsigned int *)(v79 - 4);
        v22 = __ldrex(v21);
      while ( __strex(v22 - 1, v21) );
      goto LABEL_89;
    j_websocketpp::http::parser::response::raw((websocketpp::http::parser::response *)&v78, v2 + 19096);
      &v78);
    v20 = (void *)(v78 - 12);
    if ( (int *)(v78 - 12) != &dword_28898C0 )
      v60 = (unsigned int *)(v78 - 4);
        v22 = __ldrex(v60);
      while ( __strex(v22 - 1, v60) );
LABEL_89:
      if ( v22 <= 0 )
        j_j_j_j__ZdlPv_9(v20);
      goto LABEL_31;
LABEL_31:
  v23 = *v4;
  if ( *((_BYTE *)&(*v4)->__align + 5) & 4 )
    v77 = (char *)&unk_28898CC;
    sub_21E6FCC((const void **)&v77, *(_DWORD *)(*v18 - 12) + 24);
    sub_21E7408((const void **)&v77, "Raw Handshake response:\n", 0x18u);
    sub_21E72F0((const void **)&v77, (const void **)(v2 + 18944));
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v23, 1024, (int *)&v77);
    v24 = v77 - 12;
    if ( (int *)(v77 - 12) != &dword_28898C0 )
      v54 = (unsigned int *)(v77 - 4);
        v55 = __ldrex(v54);
      while ( __strex(v55 - 1, v54) );
      if ( v55 <= 0 )
        j_j_j_j__ZdlPv_9(v24);
    sub_21E94B4((void **)&v76, "Sec-WebSocket-Key3");
    v25 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
            v2 + 19100,
            &v76);
    v26 = (const void **)(v25 + 20);
    if ( v25 == v10 )
      v26 = (const void **)&dword_2880E54;
    v27 = sub_21E7D6C(v26, (const char *)&unk_257BC67);
    v28 = (void *)(v76 - 12);
    if ( (int *)(v76 - 12) != &dword_28898C0 )
      v56 = (unsigned int *)(v76 - 4);
        v57 = __ldrex(v56);
      while ( __strex(v57 - 1, v56) );
      if ( v57 <= 0 )
        j_j_j_j__ZdlPv_9(v28);
    if ( v27 )
      v29 = *v4;
      sub_21E94B4((void **)&v74, "Sec-WebSocket-Key3");
      v30 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
              v2 + 19100,
              &v74);
      v31 = (int *)(v30 + 20);
      if ( v30 == v10 )
        v31 = &dword_2880E54;
      j_websocketpp::utility::to_hex((const void **)&v75, v31);
      j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(v29, 1024, &v75);
      v32 = (void *)(v75 - 12);
      if ( (int *)(v75 - 12) != &dword_28898C0 )
      {
        v61 = (unsigned int *)(v75 - 4);
        __dmb();
        do
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 <= 0 )
          j_j_j_j__ZdlPv_9(v32);
      }
      v33 = (void *)(v74 - 12);
      if ( (int *)(v74 - 12) != &dword_28898C0 )
        v63 = (unsigned int *)(v74 - 4);
          v64 = __ldrex(v63);
        while ( __strex(v64 - 1, v63) );
        if ( v64 <= 0 )
          j_j_j_j__ZdlPv_9(v33);
  v34 = *(_DWORD *)(v2 + 4);
  if ( !v34 )
LABEL_103:
    j_std::__throw_bad_weak_ptr();
  v35 = *v18;
  v36 = (unsigned int *)(v34 + 4);
  v37 = *(_DWORD *)(v35 - 12);
  v38 = *(_DWORD *)(v34 + 4);
  do
    v39 = v38;
    if ( !v38 )
      goto LABEL_103;
    v38 = __ldrex(v36);
  while ( v38 != v39 || __strex(v39 + 1, v36) );
  v40 = *(_DWORD *)v2;
    v41 = __ldrex(v36);
  while ( __strex(v41 + 1, v36) );
    v42 = __ldrex(v36);
  while ( __strex(v42 - 1, v36) );
  if ( v42 == 1 )
    v43 = (unsigned int *)(v34 + 8);
    (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 8))(v34);
      v44 = __ldrex(v43);
    while ( __strex(v44 - 1, v43) );
    if ( v44 == 1 )
      (*(void (__fastcall **)(int))(*(_DWORD *)v34 + 12))(v34);
    v45 = __ldrex(v36);
  while ( __strex(v45 + 1, v36) );
    v46 = __ldrex(v36);
  while ( __strex(v46 - 1, v36) );
  if ( v46 == 1 )
    v47 = (unsigned int *)(v34 + 8);
      v48 = __ldrex(v47);
    while ( __strex(v48 - 1, v47) );
    if ( v48 == 1 )
  v49 = j_operator new(0x10u);
  *v49 = websocketpp::connection<websocketpp::config::asio_client>::handle_send_http_response;
  v49[1] = 0;
  v49[2] = v40;
  v49[3] = v34;
  v71 = v49;
  v72 = (void (*)(void))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_manager;
  v73 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::connection<websocketpp::config::asio_client>::*)(std::error_code const&)> ()(std::shared_ptr<websocketpp::connection<websocketpp::config::asio_client>>,std::_Placeholder<1>)>>::_M_invoke;
  j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_write(
    v2,
    v35,
    v37,
    (int)&v71);
  if ( v72 )
    v72();
}


int *__fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::get_origin(int a1, int a2)
{
  int v2; // r5@1
  int v3; // r0@1
  int *v4; // r4@1
  bool v5; // zf@1
  int *v6; // r0@1
  unsigned int *v8; // r1@5
  signed int v9; // r2@6
  int v10; // [sp+8h] [bp-18h]@1

  v2 = a2;
  sub_21E94B4((void **)&v10, "Origin");
  v3 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::find(
         v2 + 4,
         &v10);
  v4 = (int *)(v3 + 20);
  v5 = v3 == v2 + 8;
  v6 = (int *)(v10 - 12);
  if ( v5 )
    v4 = &dword_2880E54;
  if ( v6 != &dword_28898C0 )
  {
    v8 = (unsigned int *)(v10 - 4);
    __dmb();
    do
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 <= 0 )
      j_j_j_j__ZdlPv_9(v6);
  }
  return v4;
}


void **__fastcall websocketpp::error::category::message(websocketpp::error::category *this, int a2, int a3)
{
  void **result; // r0@2

  switch ( a3 )
  {
    case 1:
      result = sub_21E94B4((void **)this, "Generic error");
      break;
    case 2:
      result = sub_21E94B4((void **)this, "send queue full");
    case 3:
      result = sub_21E94B4((void **)this, "payload violation");
    case 4:
      result = sub_21E94B4((void **)this, "endpoint not secure");
    case 5:
      result = sub_21E94B4((void **)this, "endpoint not available");
    case 6:
      result = sub_21E94B4((void **)this, "invalid uri");
    case 7:
      result = sub_21E94B4((void **)this, "no outgoing message buffers");
    case 8:
      result = sub_21E94B4((void **)this, "no incoming message buffers");
    case 9:
      result = sub_21E94B4((void **)this, "invalid state");
    case 10:
      result = sub_21E94B4((void **)this, "Unable to extract close code");
    case 11:
      result = sub_21E94B4((void **)this, "Extracted close code is in a reserved range");
    case 12:
      result = sub_21E94B4((void **)this, "Extracted close code is in an invalid range");
    case 13:
      result = sub_21E94B4((void **)this, "Invalid UTF-8");
    case 14:
      result = sub_21E94B4((void **)this, "Invalid subprotocol");
    case 15:
      result = sub_21E94B4((void **)this, "Bad Connection");
    case 16:
      result = sub_21E94B4((void **)this, "Test Error");
    case 17:
      result = sub_21E94B4((void **)this, "Connection creation attempt failed");
    case 18:
      result = sub_21E94B4((void **)this, "Selected subprotocol was not requested by the client");
    case 19:
      result = sub_21E94B4((void **)this, "Feature not available on server endpoints");
    case 20:
      result = sub_21E94B4((void **)this, "Feature not available on client endpoints");
    case 21:
      result = sub_21E94B4((void **)this, "HTTP connection ended");
    case 22:
      result = sub_21E94B4((void **)this, "The opening handshake timed out");
    case 23:
      result = sub_21E94B4((void **)this, "The closing handshake timed out");
    case 24:
      result = sub_21E94B4((void **)this, "Invalid URI port");
    case 25:
      result = sub_21E94B4((void **)this, "Async Accept not listening");
    case 26:
      result = sub_21E94B4((void **)this, "Operation canceled");
    case 27:
      result = sub_21E94B4((void **)this, "Connection rejected");
    case 28:
      result = sub_21E94B4((void **)this, "Upgrade required");
    case 29:
      result = sub_21E94B4((void **)this, "Invalid version");
    case 30:
      result = sub_21E94B4((void **)this, "Unsupported version");
    case 31:
      result = sub_21E94B4((void **)this, "HTTP parse error");
    default:
      result = sub_21E94B4((void **)this, "Unknown");
  }
  return result;
}


signed int __fastcall websocketpp::processor::hybi13<websocketpp::config::asio_tls_client>::ready(int a1)
{
  int v1; // r1@1
  signed int result; // r0@1

  v1 = *(_DWORD *)(a1 + 92);
  result = 0;
  if ( v1 == 4 )
    result = 1;
  return result;
}


int __fastcall websocketpp::processor::processor<websocketpp::config::asio_client>::negotiate_extensions(_DWORD *a1)
{
  _DWORD *v1; // r4@1
  unsigned __int64 v2; // r0@1

  v1 = a1;
  *a1 = 0;
  v2 = __PAIR__(&unk_28898CC, ((int (*)(void))byte_21E9640)());
  *(_QWORD *)(v1 + 1) = v2;
  return v2;
}


websocketpp::http::parser::parser *__fastcall websocketpp::http::parser::parser::parser(websocketpp::http::parser::parser *this, const websocketpp::http::parser::parser *a2)
{
  const websocketpp::http::parser::parser *v2; // r5@1
  websocketpp::http::parser::parser *v3; // r4@1
  int v4; // r2@1
  int v5; // r1@1
  _DWORD *v6; // r0@2
  _DWORD *v7; // r2@2
  _DWORD *v8; // r1@3
  _DWORD *v9; // r1@5
  int v10; // r3@7
  int v11; // r1@7
  int v12; // r2@7

  v2 = a2;
  v3 = this;
  sub_21E8AF4((int *)this, (int *)a2);
  *((_DWORD *)v3 + 2) = 0;
  v4 = (int)v3 + 8;
  *(_DWORD *)(v4 + 4) = 0;
  *(_DWORD *)(v4 + 8) = 0;
  *(_DWORD *)(v4 + 12) = 0;
  *(_DWORD *)(v4 + 16) = 0;
  *(_DWORD *)(v4 + 8) = v4;
  *(_DWORD *)(v4 + 12) = v4;
  v5 = *((_DWORD *)v2 + 3);
  if ( v5 )
  {
    v6 = j_std::_Rb_tree<std::string,std::pair<std::string const,std::string>,std::_Select1st<std::pair<std::string const,std::string>>,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::_M_copy(
           (int)v3 + 4,
           v5,
           v4);
    v7 = v6;
    *((_DWORD *)v3 + 3) = v6;
    do
    {
      v8 = v7;
      v7 = (_DWORD *)v7[2];
    }
    while ( v7 );
    *((_DWORD *)v3 + 4) = v8;
      v9 = v6;
      v6 = (_DWORD *)v6[3];
    while ( v6 );
    *((_DWORD *)v3 + 5) = v9;
    *((_DWORD *)v3 + 6) = *((_DWORD *)v2 + 6);
  }
  *((_DWORD *)v3 + 7) = *((_DWORD *)v2 + 7);
  sub_21E8AF4((int *)v3 + 8, (int *)v2 + 8);
  v10 = (int)v3 + 36;
  v11 = *((_DWORD *)v2 + 10);
  v12 = *((_DWORD *)v2 + 11);
  *(_DWORD *)v10 = *((_DWORD *)v2 + 9);
  *(_DWORD *)(v10 + 4) = v11;
  *(_DWORD *)(v10 + 8) = v12;
  return v3;
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::~hybi00(void *ptr)
{
  websocketpp::processor::hybi00<websocketpp::config::asio_tls_client>::~hybi00(ptr);
}


void __fastcall websocketpp::connection<websocketpp::config::asio_client>::append_header(int a1, _DWORD *a2, const void **a3)
{
  websocketpp::connection<websocketpp::config::asio_client>::append_header(a1, a2, a3);
}


websocketpp::http::parser::response *__fastcall websocketpp::http::parser::response::response(websocketpp::http::parser::response *this, const websocketpp::http::parser::response *a2)
{
  const websocketpp::http::parser::response *v2; // r5@1
  websocketpp::http::parser::response *v3; // r4@1
  int v4; // r0@1
  unsigned int *v5; // r0@2
  unsigned int v6; // r1@3

  v2 = a2;
  v3 = this;
  j_websocketpp::http::parser::parser::parser(this, a2);
  sub_21E8AF4((int *)v3 + 12, (int *)v2 + 12);
  *((_DWORD *)v3 + 13) = *((_DWORD *)v2 + 13);
  *((_DWORD *)v3 + 14) = *((_DWORD *)v2 + 14);
  v4 = *((_DWORD *)v2 + 15);
  *((_DWORD *)v3 + 15) = v4;
  if ( v4 )
  {
    v5 = (unsigned int *)(v4 + 4);
    __dmb();
    do
      v6 = __ldrex(v5);
    while ( __strex(v6 + 1, v5) );
  }
  *((_QWORD *)v3 + 8) = *((_QWORD *)v2 + 8);
  return v3;
}


_DWORD *__fastcall websocketpp::http::parser::request::raw(websocketpp::http::parser::request *this, int a2)
{
  int v2; // r6@1
  int *v3; // r9@1
  char *v4; // r4@1
  char *v5; // r4@1
  char *v6; // r0@1
  char *v7; // r4@1
  void *v8; // r0@1
  void *v9; // r0@2
  unsigned int *v11; // r1@4
  signed int v12; // r2@5
  unsigned int *v13; // r1@8
  signed int v14; // r2@9
  int v15; // [sp+0h] [bp-E0h]@1
  void **v16; // [sp+4h] [bp-DCh]@1
  int v17; // [sp+8h] [bp-D8h]@3
  void **v18; // [sp+Ch] [bp-D4h]@1
  void **v19; // [sp+10h] [bp-D0h]@2
  int v20; // [sp+2Ch] [bp-B4h]@3
  int v21; // [sp+34h] [bp-ACh]@2
  void **v22; // [sp+38h] [bp-A8h]@2

  v2 = a2;
  v3 = (int *)this;
  sub_21D103C((int)&v16, 24);
  v4 = sub_21CBF38((char *)&v18, *(_DWORD *)(v2 + 56), *(_DWORD *)(*(_DWORD *)(v2 + 56) - 12));
  sub_21CBF38(v4, (int)" ", 1);
  v5 = sub_21CBF38(v4, *(_DWORD *)(v2 + 60), *(_DWORD *)(*(_DWORD *)(v2 + 60) - 12));
  sub_21CBF38(v5, (int)" ", 1);
  v6 = sub_21CBF38(v5, *(_DWORD *)v2, *(_DWORD *)(*(_DWORD *)v2 - 12));
  sub_21CBF38(v6, (int)"\r\n", 2);
  j_websocketpp::http::parser::parser::raw_headers((websocketpp::http::parser::parser *)&v15, v2);
  v7 = sub_21CBF38((char *)&v18, v15, *(_DWORD *)(v15 - 12));
  sub_21CBF38(v7, (int)"\r\n", 2);
  sub_21CBF38(v7, *(_DWORD *)(v2 + 32), *(_DWORD *)(*(_DWORD *)(v2 + 32) - 12));
  v8 = (void *)(v15 - 12);
  if ( (int *)(v15 - 12) != &dword_28898C0 )
  {
    v11 = (unsigned int *)(v15 - 4);
    __dmb();
    do
      v12 = __ldrex(v11);
    while ( __strex(v12 - 1, v11) );
    if ( v12 <= 0 )
      j_j_j_j__ZdlPv_9(v8);
  }
  sub_21CFED8(v3, (int)&v19);
  v16 = &off_26D3F94;
  v22 = &off_26D3FBC;
  v18 = &off_26D3FA8;
  v19 = &off_27734E8;
  v9 = (void *)(v21 - 12);
  if ( (int *)(v21 - 12) != &dword_28898C0 )
    v13 = (unsigned int *)(v21 - 4);
      v14 = __ldrex(v13);
    while ( __strex(v14 - 1, v13) );
    if ( v14 <= 0 )
      j_j_j_j__ZdlPv_9(v9);
  v19 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v20);
  v16 = &off_276D0DC;
  v22 = &off_276D0F0;
  v17 = 0;
  return sub_21B6560(&v22);
}


void *__fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_init(int a1, int a2, int *a3)
{
  int v3; // r6@1
  int *v4; // r5@1
  int *v5; // r7@1
  int v6; // r4@1
  void *v7; // r0@2
  int v8; // r7@3
  void *v9; // r0@3
  int v10; // r6@4
  int *v11; // r0@4
  void *v12; // r0@4
  void *result; // r0@5
  char v14; // r0@6
  unsigned int *v15; // r1@11
  signed int v16; // r2@12
  unsigned int *v17; // r1@15
  signed int v18; // r2@16
  unsigned int *v19; // r1@19
  signed int v20; // r2@20
  int v21; // [sp+8h] [bp-30h]@4
  int v22; // [sp+10h] [bp-28h]@3
  int v23; // [sp+18h] [bp-20h]@2

  v3 = a2;
  v4 = a3;
  v5 = *(int **)(a2 + 60);
  v6 = a1;
  if ( v5 )
  {
    sub_21E94B4((void **)&v23, "HTTP/1.1");
    EntityInteraction::setInteractText(v5, &v23);
    v7 = (void *)(v23 - 12);
    if ( (int *)(v23 - 12) != &dword_28898C0 )
    {
      v15 = (unsigned int *)(v23 - 4);
      __dmb();
      do
        v16 = __ldrex(v15);
      while ( __strex(v16 - 1, v15) );
      if ( v16 <= 0 )
        j_j_j_j__ZdlPv_9(v7);
    }
    v8 = *(_DWORD *)(v3 + 60);
    sub_21E94B4((void **)&v22, "CONNECT");
    j_websocketpp::http::parser::request::set_method(v8, &v22);
    v9 = (void *)(v22 - 12);
    if ( (int *)(v22 - 12) != &dword_28898C0 )
      v17 = (unsigned int *)(v22 - 4);
        v18 = __ldrex(v17);
      while ( __strex(v18 - 1, v17) );
      if ( v18 <= 0 )
        j_j_j_j__ZdlPv_9(v9);
    EntityInteraction::setInteractText((int *)(*(_DWORD *)(v3 + 60) + 60), v4);
    v10 = *(_DWORD *)(v3 + 60);
    sub_21E94B4((void **)&v21, "Host");
    v11 = (int *)j_std::map<std::string,std::string,websocketpp::utility::ci_less,std::allocator<std::pair<std::string const,std::string>>>::operator[](
                   v10 + 4,
                   &v21);
    EntityInteraction::setInteractText(v11, v4);
    v12 = (void *)(v21 - 12);
    if ( (int *)(v21 - 12) != &dword_28898C0 )
      v19 = (unsigned int *)(v21 - 4);
        v20 = __ldrex(v19);
      while ( __strex(v20 - 1, v19) );
      if ( v20 <= 0 )
        j_j_j_j__ZdlPv_9(v12);
    *(_DWORD *)v6 = 0;
    result = (void *)((int (*)(void))byte_21E9640)();
  }
  else
    v14 = `guard variable for'websocketpp::error::get_category(void)::instance;
    __dmb();
    if ( !(v14 & 1) && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::error::get_category(void)::instance) )
      websocketpp::error::get_category(void)::instance = &off_276CE14;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::error::get_category(void)::instance);
    *(_DWORD *)v6 = 9;
    result = &websocketpp::error::get_category(void)::instance;
  *(_DWORD *)(v6 + 4) = result;
  return result;
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_proxy(int a1, int *a2, int a3)
{
  int v3; // r5@1
  int v4; // r4@1
  unsigned int *v5; // r0@1
  int v6; // r1@2
  int v7; // r6@4
  unsigned int v8; // r1@6
  unsigned int *v9; // r5@8
  int v10; // r5@12
  unsigned int v11; // r1@14
  unsigned int *v12; // r6@16
  int result; // r0@20
  int v14; // [sp+8h] [bp-18h]@1

  v3 = a1;
  v4 = a3;
  EntityInteraction::setInteractText((int *)(a1 + 56), a2);
  j_j__ZNSt14__shared_countILN9__gnu_cxx12_Lock_policyE2EEC2IN11websocketpp9transport4asio10connectionINS4_6config11asio_client16transport_configEE10proxy_dataESaISC_EJEEESt19_Sp_make_shared_tagPT_RKT0_DpOT1_(&v14);
  v5 = (unsigned int *)v14;
  if ( v14 )
  {
    v6 = (*(int (**)(void))(*(_DWORD *)v14 + 16))();
    v5 = (unsigned int *)v14;
  }
  else
    v6 = 0;
  v14 = 0;
  *(_DWORD *)(v3 + 60) = v6;
  v7 = *(_DWORD *)(v3 + 64);
  *(_DWORD *)(v3 + 64) = v5;
  if ( v7 )
    v5 = (unsigned int *)(v7 + 4);
    __dmb();
    do
      v8 = __ldrex(v5);
    while ( __strex(v8 - 1, v5) );
    if ( v8 == 1 )
    {
      v9 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
      __dmb();
      do
        v5 = (unsigned int *)__ldrex(v9);
      while ( __strex((unsigned int)v5 - 1, v9) );
      if ( v5 == (unsigned int *)1 )
        v5 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
    }
  v10 = v14;
    v5 = (unsigned int *)(v14 + 4);
      v11 = __ldrex(v5);
    while ( __strex(v11 - 1, v5) );
    if ( v11 == 1 )
      v12 = (unsigned int *)(v10 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v10 + 8))(v10);
        v5 = (unsigned int *)__ldrex(v12);
      while ( __strex((unsigned int)v5 - 1, v12) );
        v5 = (unsigned int *)(*(int (__fastcall **)(int))(*(_DWORD *)v10 + 12))(v10);
  result = ((int (__fastcall *)(unsigned int *))byte_21E9640)(v5);
  *(_DWORD *)v4 = 0;
  *(_DWORD *)(v4 + 4) = result;
  return result;
}


int __fastcall websocketpp::connection<websocketpp::config::asio_client>::read_frame(int a1)
{
  int v1; // r4@1
  int result; // r0@1
  void (__fastcall *v3)(char *, int, signed int); // r3@2
  __int64 v4; // r2@4
  char v5; // [sp+8h] [bp-18h]@3
  int (*v6)(void); // [sp+10h] [bp-10h]@2
  int v7; // [sp+14h] [bp-Ch]@3

  v1 = a1;
  result = *(_BYTE *)(a1 + 19025);
  if ( result )
  {
    v6 = 0;
    v3 = *(void (__fastcall **)(char *, int, signed int))(v1 + 2288);
    if ( v3 )
    {
      v3(&v5, v1 + 2280, 2);
      v7 = *(_DWORD *)(v1 + 2292);
      v6 = *(int (**)(void))(v1 + 2288);
    }
    LODWORD(v4) = v1 + 2516;
    HIDWORD(v4) = 0x4000;
    result = j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::async_read_at_least(
               v1,
               1u,
               v4,
               (int)&v5);
    if ( v6 )
      result = v6();
  }
  return result;
}


int (__fastcall *__fastcall websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_basic_header(int a1, int a2, int a3, int a4, int a5))(_DWORD)
{
  return websocketpp::processor::hybi13<websocketpp::config::asio_client>::validate_incoming_basic_header(
           a1,
           a2,
           a3,
           a4,
           a5);
}


void *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init_asio(int a1, int a2, int a3)
{
  return websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::init_asio(
           a1,
           a2,
           a3);
}


void __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::proxy_write(int a1)
{
  int v1; // r4@1
  pthread_mutex_t *v2; // r0@1
  int v3; // r5@3
  void *v4; // r0@4
  __int64 v5; // r0@5
  __int64 v6; // r0@5
  char v7; // r0@7
  __int64 v8; // r0@12
  int v9; // r7@13
  int v10; // r10@14
  unsigned int *v11; // r5@14
  int v12; // r11@14
  unsigned int v13; // r0@14
  unsigned int v14; // r1@15
  int v15; // r8@18
  unsigned int v16; // r0@19
  unsigned int v17; // r0@21
  unsigned int *v18; // r6@23
  unsigned int v19; // r0@24
  int v20; // r6@27
  void (__fastcall *v21)(int *, int, signed int); // r3@27
  _QWORD *v22; // r0@29
  int v23; // r1@29
  __int64 v24; // r0@29
  int v25; // r5@29
  unsigned int *v26; // r0@30
  unsigned int v27; // r1@31
  unsigned int *v28; // r6@33
  unsigned int v29; // r0@34
  int v30; // r5@37
  unsigned int *v31; // r0@38
  unsigned int v32; // r1@39
  unsigned int *v33; // r6@41
  unsigned int v34; // r0@42
  int v35; // r5@47
  unsigned int *v36; // r0@48
  unsigned int v37; // r1@49
  unsigned int *v38; // r6@51
  unsigned int v39; // r0@52
  int v40; // r7@57
  int v41; // r10@58
  unsigned int *v42; // r5@58
  __int64 *v43; // r11@58
  unsigned int v44; // r0@58
  unsigned int v45; // r1@59
  int v46; // r8@62
  unsigned int v47; // r0@63
  unsigned int v48; // r0@65
  unsigned int *v49; // r6@67
  unsigned int v50; // r0@68
  void (__fastcall *v51)(int *, int, signed int); // r3@71
  int v52; // r0@72
  void (*v53)(void); // r1@72
  __int64 v54; // r2@72
  __int64 v55; // kr00_8@74
  __int64 v56; // r2@74
  int v57; // r1@74
  int v58; // r4@74
  unsigned int *v59; // r0@75
  unsigned int v60; // r1@76
  unsigned int *v61; // r5@78
  unsigned int v62; // r0@79
  int v63; // r4@84
  unsigned int *v64; // r0@85
  unsigned int v65; // r1@86
  unsigned int *v66; // r5@88
  unsigned int v67; // r0@89
  unsigned int *v68; // r1@95
  signed int v69; // r2@96
  int v75; // [sp+4h] [bp-C4h]@27
  __int64 v76; // [sp+8h] [bp-C0h]@71
  int v77; // [sp+10h] [bp-B8h]@72
  int v78; // [sp+14h] [bp-B4h]@74
  void (*v79)(void); // [sp+18h] [bp-B0h]@71
  int v80; // [sp+1Ch] [bp-ACh]@72
  int v81; // [sp+20h] [bp-A8h]@74
  int v82; // [sp+24h] [bp-A4h]@74
  int v83; // [sp+28h] [bp-A0h]@74
  int v84; // [sp+2Ch] [bp-9Ch]@74
  __int64 v85; // [sp+30h] [bp-98h]@74
  int v86; // [sp+38h] [bp-90h]@74
  int v87; // [sp+3Ch] [bp-8Ch]@74
  void (*v88)(void); // [sp+40h] [bp-88h]@74
  int v89; // [sp+44h] [bp-84h]@74
  int v90; // [sp+48h] [bp-80h]@74
  int v91; // [sp+4Ch] [bp-7Ch]@74
  RakNet *(__fastcall *v92)(int, int, _DWORD *); // [sp+50h] [bp-78h]@27
  int v93; // [sp+54h] [bp-74h]@27
  int v94; // [sp+58h] [bp-70h]@28
  void (__fastcall *v95)(int *); // [sp+60h] [bp-68h]@27
  int v96; // [sp+64h] [bp-64h]@28
  int v97; // [sp+68h] [bp-60h]@29
  int v98; // [sp+6Ch] [bp-5Ch]@29
  _QWORD *v99; // [sp+70h] [bp-58h]@29
  void (__fastcall *v100)(_DWORD); // [sp+78h] [bp-50h]@29
  int (__fastcall *v101)(unsigned __int64 **, int); // [sp+7Ch] [bp-4Ch]@29
  char v102; // [sp+80h] [bp-48h]@29
  int v103; // [sp+84h] [bp-44h]@29
  __int64 v104; // [sp+88h] [bp-40h]@5
  int v105; // [sp+94h] [bp-34h]@4
  int v106; // [sp+98h] [bp-30h]@10
  void *v107; // [sp+9Ch] [bp-2Ch]@10

  v1 = a1;
  v2 = *(pthread_mutex_t **)(a1 + 48);
  if ( *((_BYTE *)&v2->__align + 5) & 4 )
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::alevel>::write(
      v2,
      1024,
      "asio connection proxy_write");
  v3 = *(_DWORD *)(v1 + 60);
  if ( v3 )
  {
    j_websocketpp::http::parser::request::raw((websocketpp::http::parser::request *)&v105, *(_DWORD *)(v1 + 60));
    xbox::services::user_statistics::service_configuration_statistic::_Set_input_service_configuration_id(
      (int *)(v3 + 140),
      &v105);
    v4 = (void *)(v105 - 12);
    if ( (int *)(v105 - 12) != &dword_28898C0 )
    {
      v68 = (unsigned int *)(v105 - 4);
      __dmb();
      do
        v69 = __ldrex(v68);
      while ( __strex(v69 - 1, v68) );
      if ( v69 <= 0 )
        j_j_j_j__ZdlPv_9(v4);
    }
    LODWORD(v5) = *(_DWORD *)(*(_DWORD *)(v1 + 60) + 140);
    HIDWORD(v5) = *(_DWORD *)(v5 - 12);
    v104 = v5;
    v6 = *(_QWORD *)(v1 + 92);
    if ( (_DWORD)v6 == HIDWORD(v6) )
      HIDWORD(v8) = &v104;
      LODWORD(v8) = v1 + 88;
      j_std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>::_M_emplace_back_aux<boost::asio::const_buffer>(v8);
    else
      *(_QWORD *)v6 = v104;
      *(_DWORD *)(v1 + 92) += 8;
      *(pthread_mutex_t **)(v1 + 48),
      (int *)(*(_DWORD *)(v1 + 60) + 140));
    v9 = *(_DWORD *)(v1 + 4);
    if ( !v9 )
LABEL_99:
      j_std::__throw_bad_weak_ptr();
    v10 = *(_DWORD *)(v1 + 60);
    v11 = (unsigned int *)(v9 + 4);
    v12 = *(_DWORD *)(v10 + 192);
    v13 = *(_DWORD *)(v9 + 4);
    do
      v14 = v13;
      if ( !v13 )
        goto LABEL_99;
      v13 = __ldrex(v11);
    while ( v13 != v14 || __strex(v14 + 1, v11) );
    __dmb();
    v15 = *(_DWORD *)v1;
      v16 = __ldrex(v11);
    while ( __strex(v16 + 1, v11) );
      v17 = __ldrex(v11);
    while ( __strex(v17 - 1, v11) );
    if ( v17 == 1 )
      v18 = (unsigned int *)(v9 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 8))(v9);
        v19 = __ldrex(v18);
      while ( __strex(v19 - 1, v18) );
      if ( v19 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v9 + 12))(v9);
    v20 = 0;
    v92 = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_timeout;
    v93 = 0;
    v95 = 0;
    v21 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2240);
    v75 = v1 + 2232;
    if ( v21 )
      v21(&v94, v75, 2);
      v96 = *(_DWORD *)(v1 + 2244);
      v20 = *(_DWORD *)(v1 + 2240);
      v95 = *(void (__fastcall **)(int *))(v1 + 2240);
    v97 = v15;
    v98 = v9;
    v100 = 0;
    v22 = j_operator new(0x20u);
    *v22 = *(_QWORD *)&v92;
    v22[1] = *(_QWORD *)&v94;
    v23 = v96;
    *((_DWORD *)v22 + 4) = v20;
    *((_DWORD *)v22 + 5) = v23;
    *((_DWORD *)v22 + 6) = v15;
    v98 = 0;
    *((_DWORD *)v22 + 7) = v9;
    v97 = 0;
    v99 = v22;
    v100 = (void (__fastcall *)(_DWORD))std::_Function_base::_Base_manager<std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_manager;
    v101 = std::_Function_handler<void ()(std::error_code const&),std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,std::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>>::_M_invoke;
    j_websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::set_timer(
      (int)&v102,
      v1,
      v12,
      (int)&v99);
    v24 = *(_QWORD *)&v102;
    *(_DWORD *)&v102 = 0;
    v103 = 0;
    *(_DWORD *)(v10 + 196) = v24;
    v25 = *(_DWORD *)(v10 + 200);
    *(_DWORD *)(v10 + 200) = HIDWORD(v24);
    if ( v25 )
      v26 = (unsigned int *)(v25 + 4);
        v27 = __ldrex(v26);
      while ( __strex(v27 - 1, v26) );
      if ( v27 == 1 )
      {
        v28 = (unsigned int *)(v25 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 8))(v25);
        __dmb();
        do
          v29 = __ldrex(v28);
        while ( __strex(v29 - 1, v28) );
        if ( v29 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v25 + 12))(v25);
      }
    v30 = v103;
    if ( v103 )
      v31 = (unsigned int *)(v103 + 4);
        v32 = __ldrex(v31);
      while ( __strex(v32 - 1, v31) );
      if ( v32 == 1 )
        v33 = (unsigned int *)(v30 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v30 + 8))(v30);
          v34 = __ldrex(v33);
        while ( __strex(v34 - 1, v33) );
        if ( v34 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v30 + 12))(v30);
    if ( v100 )
      v100(&v99);
    v35 = v98;
    if ( v98 )
      v36 = (unsigned int *)(v98 + 4);
        v37 = __ldrex(v36);
      while ( __strex(v37 - 1, v36) );
      if ( v37 == 1 )
        v38 = (unsigned int *)(v35 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 8))(v35);
          v39 = __ldrex(v38);
        while ( __strex(v39 - 1, v38) );
        if ( v39 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v35 + 12))(v35);
    if ( v95 )
      v95(&v94);
    v40 = *(_DWORD *)(v1 + 4);
    if ( !v40 )
LABEL_100:
    v41 = *(_DWORD *)(v1 + 8);
    v42 = (unsigned int *)(v40 + 4);
    v43 = *(__int64 **)(v1 + 72);
    v44 = *(_DWORD *)(v40 + 4);
      v45 = v44;
      if ( !v44 )
        goto LABEL_100;
      v44 = __ldrex(v42);
    while ( v44 != v45 || __strex(v45 + 1, v42) );
    v46 = *(_DWORD *)v1;
      v47 = __ldrex(v42);
    while ( __strex(v47 + 1, v42) );
      v48 = __ldrex(v42);
    while ( __strex(v48 - 1, v42) );
    if ( v48 == 1 )
      v49 = (unsigned int *)(v40 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        v50 = __ldrex(v49);
      while ( __strex(v50 - 1, v49) );
      if ( v50 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v40 + 12))(v40);
    LODWORD(v76) = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_write;
    HIDWORD(v76) = 0;
    v79 = 0;
    v51 = *(void (__fastcall **)(int *, int, signed int))(v1 + 2240);
    if ( v51 )
      v51(&v77, v75, 2);
      v52 = *(_DWORD *)(v1 + 2244);
      v80 = *(_DWORD *)(v1 + 2244);
      v53 = *(void (**)(void))(v1 + 2240);
      v79 = *(void (**)(void))(v1 + 2240);
      v54 = v76;
      HIDWORD(v54) = 0;
      v52 = v80;
      LODWORD(v54) = websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::handle_proxy_write;
      v53 = 0;
    v81 = v46;
    v82 = v40;
    v55 = *v43;
    v83 = *v43;
    v84 = HIDWORD(v55);
    v85 = v54;
    v56 = *(_QWORD *)&v77;
    v77 = v86;
    v78 = v87;
    *(_QWORD *)&v86 = v56;
    v88 = v53;
    v57 = v89;
    v89 = v52;
    v90 = v46;
    v82 = 0;
    v91 = v40;
    *(_QWORD *)&v80 = (unsigned int)v57;
    j_boost::asio::async_write<boost::asio::basic_stream_socket<boost::asio::ip::tcp,boost::asio::stream_socket_service<boost::asio::ip::tcp>>,std::vector<boost::asio::const_buffer,std::allocator<boost::asio::const_buffer>>,boost::asio::detail::wrapped_handler<boost::asio::io_service::strand,std::_Bind<std::_Mem_fn<void (websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>::*)(std::function<void ()(std::error_code const&)>,boost::system::error_code const&)> ()(std::shared_ptr<websocketpp::transport::asio::connection<websocketpp::config::asio_client::transport_config>>,std::function<void ()(std::error_code const&)>,std::_Placeholder<1>)>,boost::asio::detail::is_continuation_if_running>>(
      v41,
      (_QWORD *)(v1 + 88),
      (int)&v83);
    v58 = v91;
    if ( v91 )
      v59 = (unsigned int *)(v91 + 4);
        v60 = __ldrex(v59);
      while ( __strex(v60 - 1, v59) );
      if ( v60 == 1 )
        v61 = (unsigned int *)(v58 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 8))(v58);
          v62 = __ldrex(v61);
        while ( __strex(v62 - 1, v61) );
        if ( v62 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v58 + 12))(v58);
    if ( v88 )
      v88();
    v63 = v82;
    if ( v82 )
      v64 = (unsigned int *)(v82 + 4);
        v65 = __ldrex(v64);
      while ( __strex(v65 - 1, v64) );
      if ( v65 == 1 )
        v66 = (unsigned int *)(v63 + 8);
        (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 8))(v63);
          v67 = __ldrex(v66);
        while ( __strex(v67 - 1, v66) );
        if ( v67 == 1 )
          (*(void (__fastcall **)(int))(*(_DWORD *)v63 + 12))(v63);
    if ( v79 )
      v79();
  }
  else
    j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(
      *(pthread_mutex_t **)(v1 + 52),
      2,
      "assertion failed: !m_proxy_data in asio::connection::proxy_write");
    v7 = `guard variable for'websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !(v7 & 1)
      && j_j___cxa_guard_acquire_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance) )
      websocketpp::transport::asio::error::get_category(void)::instance = &off_276CFF0;
      j___cxa_atexit_1((int)nullsub_3);
      j_j___cxa_guard_release_1(&`guard variable for'websocketpp::transport::asio::error::get_category(void)::instance);
    v106 = 1;
    v107 = &websocketpp::transport::asio::error::get_category(void)::instance;
    if ( !*(_DWORD *)(v1 + 2240) )
      sub_21E5F48();
    (*(void (__fastcall **)(int, int *))(v1 + 2244))(v1 + 2232, &v106);
}


_DWORD *__fastcall websocketpp::transport::asio::endpoint<websocketpp::config::asio_tls_client::transport_config>::log_err<std::error_code>(int a1, int a2, const char *a3, _DWORD *a4)
{
  int v4; // r9@1
  int v5; // r6@1
  _DWORD *v6; // r7@1
  const char *v7; // r5@1
  int v8; // r0@2
  char *v9; // r0@4
  pthread_mutex_t *v10; // r4@4
  void *v11; // r0@4
  void *v12; // r0@5
  unsigned int *v14; // r1@7
  signed int v15; // r2@8
  unsigned int *v16; // r1@11
  signed int v17; // r2@12
  int v18; // [sp+0h] [bp-E0h]@4
  void **v19; // [sp+4h] [bp-DCh]@1
  int v20; // [sp+8h] [bp-D8h]@6
  void **v21; // [sp+Ch] [bp-D4h]@2
  void **v22; // [sp+10h] [bp-D0h]@4
  int v23; // [sp+2Ch] [bp-B4h]@6
  int v24; // [sp+34h] [bp-ACh]@5
  void **v25; // [sp+38h] [bp-A8h]@5

  v4 = a2;
  v5 = a1;
  v6 = a4;
  v7 = a3;
  sub_21D103C((int)&v19, 24);
  if ( v7 )
  {
    v8 = j_strlen_1(v7);
    sub_21CBF38((char *)&v21, (int)v7, v8);
  }
  else
    sub_21B583C((int)*(v21 - 3) + (_DWORD)&v21, *(_DWORD *)((char *)*(v21 - 3) + (_DWORD)&v21 + 20) | 1);
  sub_21CBF38((char *)&v21, (int)" error: ", 8);
  v9 = (char *)sub_21CC43C(&v21, *v6);
  sub_21CBF38(v9, (int)" ([message removed])", 20);
  v10 = *(pthread_mutex_t **)(v5 + 104);
  sub_21CFED8(&v18, (int)&v22);
  j_websocketpp::log::basic<websocketpp::concurrency::basic,websocketpp::log::elevel>::write(v10, v4, &v18);
  v11 = (void *)(v18 - 12);
  if ( (int *)(v18 - 12) != &dword_28898C0 )
    v14 = (unsigned int *)(v18 - 4);
    __dmb();
    do
      v15 = __ldrex(v14);
    while ( __strex(v15 - 1, v14) );
    if ( v15 <= 0 )
      j_j_j_j__ZdlPv_9(v11);
  v19 = &off_26D3F94;
  v25 = &off_26D3FBC;
  v21 = &off_26D3FA8;
  v22 = &off_27734E8;
  v12 = (void *)(v24 - 12);
  if ( (int *)(v24 - 12) != &dword_28898C0 )
    v16 = (unsigned int *)(v24 - 4);
      v17 = __ldrex(v16);
    while ( __strex(v17 - 1, v16) );
    if ( v17 <= 0 )
      j_j_j_j__ZdlPv_9(v12);
  v22 = &off_26D40A8;
  sub_21C802C((unsigned int **)&v23);
  v19 = &off_276D0DC;
  v25 = &off_276D0F0;
  v20 = 0;
  return sub_21B6560(&v25);
}


void __fastcall websocketpp::processor::hybi00<websocketpp::config::asio_client>::~hybi00(void *ptr)
{
  _DWORD *v1; // r4@1
  int v2; // r5@1
  unsigned int *v3; // r0@2
  unsigned int v4; // r1@3
  unsigned int *v5; // r6@5
  unsigned int v6; // r0@6
  int v7; // r5@9
  unsigned int *v8; // r0@10
  unsigned int v9; // r1@11
  unsigned int *v10; // r6@13
  unsigned int v11; // r0@14

  v1 = ptr;
  *(_DWORD *)ptr = &off_276DA00;
  v2 = *((_DWORD *)ptr + 8);
  if ( v2 )
  {
    v3 = (unsigned int *)(v2 + 4);
    __dmb();
    do
      v4 = __ldrex(v3);
    while ( __strex(v4 - 1, v3) );
    if ( v4 == 1 )
    {
      v5 = (unsigned int *)(v2 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 8))(v2);
      __dmb();
      do
        v6 = __ldrex(v5);
      while ( __strex(v6 - 1, v5) );
      if ( v6 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v2 + 12))(v2);
    }
  }
  v7 = v1[6];
  if ( v7 )
    v8 = (unsigned int *)(v7 + 4);
      v9 = __ldrex(v8);
    while ( __strex(v9 - 1, v8) );
    if ( v9 == 1 )
      v10 = (unsigned int *)(v7 + 8);
      (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 8))(v7);
        v11 = __ldrex(v10);
      while ( __strex(v11 - 1, v10) );
      if ( v11 == 1 )
        (*(void (__fastcall **)(int))(*(_DWORD *)v7 + 12))(v7);
  j_j_j__ZdlPv_8(v1);
}


unsigned int __fastcall websocketpp::http::parser::parser::process_body(websocketpp::http::parser::parser *this, const char *a2, unsigned int a3)
{
  websocketpp::http::parser::parser *v3; // r4@1
  int v4; // r5@1
  char *v5; // r4@2
  int *v6; // r0@3
  int v7; // r3@3
  int *v8; // r0@5
  int v9; // r3@5
  unsigned int v10; // r5@7
  const void **v11; // r0@7
  int v13; // [sp+Ch] [bp-44h]@5
  int v14; // [sp+14h] [bp-3Ch]@5
  int v15; // [sp+1Ch] [bp-34h]@5
  int v16; // [sp+24h] [bp-2Ch]@3
  int v17; // [sp+2Ch] [bp-24h]@3
  int v18; // [sp+34h] [bp-1Ch]@3

  v3 = this;
  v4 = *((_DWORD *)this + 11);
  if ( v4 != 1 )
  {
    v5 = j_j___cxa_allocate_exception_0(20);
    if ( v4 == 2 )
    {
      sub_21E94B4((void **)&v18, "Unexpected body encoding");
      sub_21E94B4((void **)&v17, (const char *)&unk_257BC67);
      v6 = (int *)sub_21E94B4((void **)&v16, (const char *)&unk_257BC67);
      j_websocketpp::http::exception::exception((int)v5, &v18, 500, &v17, v6);
      j_j___cxa_throw_0(
        (int)v5,
        (int)&`typeinfo for'websocketpp::http::exception,
        (int)websocketpp::http::exception::~exception,
        v7);
    }
    sub_21E94B4((void **)&v15, "Unexpected body encoding");
    sub_21E94B4((void **)&v14, (const char *)&unk_257BC67);
    v8 = (int *)sub_21E94B4((void **)&v13, (const char *)&unk_257BC67);
    j_websocketpp::http::exception::exception((int)v5, &v15, 500, &v14, v8);
    j_j___cxa_throw_0(
      (int)v5,
      (int)&`typeinfo for'websocketpp::http::exception,
      (int)websocketpp::http::exception::~exception,
      v9);
  }
  v10 = *((_DWORD *)this + 9);
  v11 = (const void **)((char *)this + 32);
  if ( v10 > a3 )
    v10 = a3;
  sub_21E7408(v11, (char *)a2, v10);
  *((_DWORD *)v3 + 9) -= v10;
  return v10;
}


void __fastcall websocketpp::transport::asio::socket::socket_category::~socket_category(websocketpp::transport::asio::socket::socket_category *this)
{
  websocketpp::transport::asio::socket::socket_category::~socket_category(this);
}


int __fastcall websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy(int a1, int *a2, int a3)
{
  return websocketpp::transport::asio::connection<websocketpp::config::asio_tls_client::transport_config>::set_proxy(
           a1,
           a2,
           a3);
}
